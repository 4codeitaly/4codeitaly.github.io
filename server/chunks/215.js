exports.id=215,exports.ids=[215],exports.modules={10571:($,ee)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.addAdminServicesToServer=ee.registerAdminService=void 0;let er=[];function registerAdminService($,ee){er.push({getServiceDefinition:$,getHandlers:ee})}function addAdminServicesToServer($){for(let{getServiceDefinition:ee,getHandlers:ei}of er)$.addService(ee(),ei())}ee.registerAdminService=registerAdminService,ee.addAdminServicesToServer=addAdminServicesToServer},36548:($,ee)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.BackoffTimeout=void 0;let er=1e3,ei=1.6,en=12e4,es=.2;function uniformRandom($,ee){return Math.random()*(ee-$)+$}let BackoffTimeout=class BackoffTimeout{constructor($,ee){this.callback=$,this.initialDelay=er,this.multiplier=ei,this.maxDelay=en,this.jitter=es,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,ee&&(ee.initialDelay&&(this.initialDelay=ee.initialDelay),ee.multiplier&&(this.multiplier=ee.multiplier),ee.jitter&&(this.jitter=ee.jitter),ee.maxDelay&&(this.maxDelay=ee.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer($){var ee,er;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},$),this.hasRef||null===(er=(ee=this.timerId).unref)||void 0===er||er.call(ee)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let $=Math.min(this.nextDelay*this.multiplier,this.maxDelay),ee=$*this.jitter;this.nextDelay=$+uniformRandom(-ee,ee)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let $=new Date,ee=this.startTime;ee.setMilliseconds(ee.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),$<ee?this.runTimer(ee.getTime()-$.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var $,ee;this.hasRef=!0,null===(ee=($=this.timerId).ref)||void 0===ee||ee.call($)}unref(){var $,ee;this.hasRef=!1,null===(ee=($=this.timerId).unref)||void 0===ee||ee.call($)}getEndTime(){return this.endTime}};ee.BackoffTimeout=BackoffTimeout},9128:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.CallCredentials=void 0;let ei=er(82063);function isCurrentOauth2Client($){return"getRequestHeaders"in $&&"function"==typeof $.getRequestHeaders}let CallCredentials=class CallCredentials{static createFromMetadataGenerator($){return new SingleCallCredentials($)}static createFromGoogleCredential($){return CallCredentials.createFromMetadataGenerator((ee,er)=>{let en;(en=isCurrentOauth2Client($)?$.getRequestHeaders(ee.service_url):new Promise((er,ei)=>{$.getRequestMetadata(ee.service_url,($,ee)=>{if($){ei($);return}if(!ee){ei(Error("Headers not set by metadata plugin"));return}er(ee)})})).then($=>{let ee=new ei.Metadata;for(let er of Object.keys($))ee.add(er,$[er]);er(null,ee)},$=>{er($)})})}static createEmpty(){return new EmptyCallCredentials}};ee.CallCredentials=CallCredentials;let ComposedCallCredentials=class ComposedCallCredentials extends CallCredentials{constructor($){super(),this.creds=$}async generateMetadata($){let ee=new ei.Metadata,er=await Promise.all(this.creds.map(ee=>ee.generateMetadata($)));for(let $ of er)ee.merge($);return ee}compose($){return new ComposedCallCredentials(this.creds.concat([$]))}_equals($){return this===$||$ instanceof ComposedCallCredentials&&this.creds.every((ee,er)=>ee._equals($.creds[er]))}};let SingleCallCredentials=class SingleCallCredentials extends CallCredentials{constructor($){super(),this.metadataGenerator=$}generateMetadata($){return new Promise((ee,er)=>{this.metadataGenerator($,($,ei)=>{void 0!==ei?ee(ei):er($)})})}compose($){return new ComposedCallCredentials([this,$])}_equals($){return this===$||$ instanceof SingleCallCredentials&&this.metadataGenerator===$.metadataGenerator}};let EmptyCallCredentials=class EmptyCallCredentials extends CallCredentials{generateMetadata($){return Promise.resolve(new ei.Metadata)}compose($){return $}_equals($){return $ instanceof EmptyCallCredentials}}},21875:($,ee)=>{"use strict";function isInterceptingListener($){return void 0!==$.onReceiveMetadata&&1===$.onReceiveMetadata.length}Object.defineProperty(ee,"__esModule",{value:!0}),ee.InterceptingListenerImpl=ee.isInterceptingListener=void 0,ee.isInterceptingListener=isInterceptingListener;let InterceptingListenerImpl=class InterceptingListenerImpl{constructor($,ee){this.listener=$,this.nextListener=ee,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata($){this.processingMetadata=!0,this.listener.onReceiveMetadata($,$=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata($),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage($){this.processingMessage=!0,this.listener.onReceiveMessage($,$=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=$,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage($),this.processPendingStatus())})}onReceiveStatus($){this.listener.onReceiveStatus($,$=>{this.processingMetadata||this.processingMessage?this.pendingStatus=$:this.nextListener.onReceiveStatus($)})}};ee.InterceptingListenerImpl=InterceptingListenerImpl},11541:($,ee)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.getNextCallNumber=void 0;let er=0;function getNextCallNumber(){return er++}ee.getNextCallNumber=getNextCallNumber},73940:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.ClientDuplexStreamImpl=ee.ClientWritableStreamImpl=ee.ClientReadableStreamImpl=ee.ClientUnaryCallImpl=ee.callErrorFromStatus=void 0;let ei=er(82361),en=er(12781),es=er(83932);function callErrorFromStatus($,ee){let er=`${$.code} ${es.Status[$.code]}: ${$.details}`,ei=Error(er),en=`${ei.stack}
for call at
${ee}`;return Object.assign(Error(er),$,{stack:en})}ee.callErrorFromStatus=callErrorFromStatus;let ClientUnaryCallImpl=class ClientUnaryCallImpl extends ei.EventEmitter{constructor(){super()}cancel(){var $;null===($=this.call)||void 0===$||$.cancelWithStatus(es.Status.CANCELLED,"Cancelled on client")}getPeer(){var $,ee;return null!==(ee=null===($=this.call)||void 0===$?void 0:$.getPeer())&&void 0!==ee?ee:"unknown"}};ee.ClientUnaryCallImpl=ClientUnaryCallImpl;let ClientReadableStreamImpl=class ClientReadableStreamImpl extends en.Readable{constructor($){super({objectMode:!0}),this.deserialize=$}cancel(){var $;null===($=this.call)||void 0===$||$.cancelWithStatus(es.Status.CANCELLED,"Cancelled on client")}getPeer(){var $,ee;return null!==(ee=null===($=this.call)||void 0===$?void 0:$.getPeer())&&void 0!==ee?ee:"unknown"}_read($){var ee;null===(ee=this.call)||void 0===ee||ee.startRead()}};ee.ClientReadableStreamImpl=ClientReadableStreamImpl;let ClientWritableStreamImpl=class ClientWritableStreamImpl extends en.Writable{constructor($){super({objectMode:!0}),this.serialize=$}cancel(){var $;null===($=this.call)||void 0===$||$.cancelWithStatus(es.Status.CANCELLED,"Cancelled on client")}getPeer(){var $,ee;return null!==(ee=null===($=this.call)||void 0===$?void 0:$.getPeer())&&void 0!==ee?ee:"unknown"}_write($,ee,er){var ei;let en={callback:er},es=Number(ee);Number.isNaN(es)||(en.flags=es),null===(ei=this.call)||void 0===ei||ei.sendMessageWithContext(en,$)}_final($){var ee;null===(ee=this.call)||void 0===ee||ee.halfClose(),$()}};ee.ClientWritableStreamImpl=ClientWritableStreamImpl;let ClientDuplexStreamImpl=class ClientDuplexStreamImpl extends en.Duplex{constructor($,ee){super({objectMode:!0}),this.serialize=$,this.deserialize=ee}cancel(){var $;null===($=this.call)||void 0===$||$.cancelWithStatus(es.Status.CANCELLED,"Cancelled on client")}getPeer(){var $,ee;return null!==(ee=null===($=this.call)||void 0===$?void 0:$.getPeer())&&void 0!==ee?ee:"unknown"}_read($){var ee;null===(ee=this.call)||void 0===ee||ee.startRead()}_write($,ee,er){var ei;let en={callback:er},es=Number(ee);Number.isNaN(es)||(en.flags=es),null===(ei=this.call)||void 0===ei||ei.sendMessageWithContext(en,$)}_final($){var ee;null===(ee=this.call)||void 0===ee||ee.halfClose(),$()}};ee.ClientDuplexStreamImpl=ClientDuplexStreamImpl},39051:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.ChannelCredentials=void 0;let ei=er(24404),en=er(9128),es=er(64248);function verifyIsBufferOrNull($,ee){if($&&!($ instanceof Buffer))throw TypeError(`${ee}, if provided, must be a Buffer.`)}let ChannelCredentials=class ChannelCredentials{constructor($){this.callCredentials=$||en.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl($,ee,er,en){var eo;if(verifyIsBufferOrNull($,"Root certificate"),verifyIsBufferOrNull(ee,"Private key"),verifyIsBufferOrNull(er,"Certificate chain"),ee&&!er)throw Error("Private key must be given with accompanying certificate chain");if(!ee&&er)throw Error("Certificate chain must be given with accompanying private key");let ep=(0,ei.createSecureContext)({ca:null!==(eo=null!=$?$:(0,es.getDefaultRootsData)())&&void 0!==eo?eo:void 0,key:null!=ee?ee:void 0,cert:null!=er?er:void 0,ciphers:es.CIPHER_SUITES});return new SecureChannelCredentialsImpl(ep,null!=en?en:{})}static createFromSecureContext($,ee){return new SecureChannelCredentialsImpl($,null!=ee?ee:{})}static createInsecure(){return new InsecureChannelCredentialsImpl}};ee.ChannelCredentials=ChannelCredentials;let InsecureChannelCredentialsImpl=class InsecureChannelCredentialsImpl extends ChannelCredentials{constructor($){super($)}compose($){throw Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals($){return $ instanceof InsecureChannelCredentialsImpl}};let SecureChannelCredentialsImpl=class SecureChannelCredentialsImpl extends ChannelCredentials{constructor($,ee){super(),this.secureContext=$,this.verifyOptions=ee,this.connectionOptions={secureContext:$},(null==ee?void 0:ee.checkServerIdentity)&&(this.connectionOptions.checkServerIdentity=ee.checkServerIdentity)}compose($){let ee=this.callCredentials.compose($);return new ComposedChannelCredentialsImpl(this,ee)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals($){return this===$||$ instanceof SecureChannelCredentialsImpl&&this.secureContext===$.secureContext&&this.verifyOptions.checkServerIdentity===$.verifyOptions.checkServerIdentity}};let ComposedChannelCredentialsImpl=class ComposedChannelCredentialsImpl extends ChannelCredentials{constructor($,ee){super(ee),this.channelCredentials=$}compose($){let ee=this.callCredentials.compose($);return new ComposedChannelCredentialsImpl(this.channelCredentials,ee)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals($){return this===$||$ instanceof ComposedChannelCredentialsImpl&&this.channelCredentials._equals($.channelCredentials)&&this.callCredentials._equals($.callCredentials)}}},46542:($,ee)=>{"use strict";function channelOptionsEqual($,ee){let er=Object.keys($).sort(),ei=Object.keys(ee).sort();if(er.length!==ei.length)return!1;for(let en=0;en<er.length;en+=1)if(er[en]!==ei[en]||$[er[en]]!==ee[ei[en]])return!1;return!0}Object.defineProperty(ee,"__esModule",{value:!0}),ee.channelOptionsEqual=ee.recognizedOptions=void 0,ee.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0},ee.channelOptionsEqual=channelOptionsEqual},70401:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.ChannelImplementation=void 0;let ei=er(39051),en=er(63477);let ChannelImplementation=class ChannelImplementation{constructor($,ee,er){if("string"!=typeof $)throw TypeError("Channel target must be a string");if(!(ee instanceof ei.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(er&&"object"!=typeof er)throw TypeError("Channel options must be an object");this.internalChannel=new en.InternalChannel($,ee,er)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState($){return this.internalChannel.getConnectivityState($)}watchConnectivityState($,ee,er){this.internalChannel.watchConnectivityState($,ee,er)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall($,ee,er,ei,en){if("string"!=typeof $)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof ee||ee instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall($,ee,er,ei,en)}};ee.ChannelImplementation=ChannelImplementation},27184:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.setup=ee.getChannelzServiceDefinition=ee.getChannelzHandlers=ee.unregisterChannelzRef=ee.registerChannelzSocket=ee.registerChannelzServer=ee.registerChannelzSubchannel=ee.registerChannelzChannel=ee.ChannelzCallTracker=ee.ChannelzChildrenTracker=ee.ChannelzTrace=void 0;let ei=er(41808),en=er(67740),es=er(83932),eo=er(83677),ep=er(10571),eu=er(43275);function channelRefToMessage($){return{channel_id:$.id,name:$.name}}function subchannelRefToMessage($){return{subchannel_id:$.id,name:$.name}}function serverRefToMessage($){return{server_id:$.id}}function socketRefToMessage($){return{socket_id:$.id,name:$.name}}let eh=32;let ChannelzTrace=class ChannelzTrace{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace($,ee,er){let ei=new Date;this.events.push({description:ee,severity:$,timestamp:ei,childChannel:(null==er?void 0:er.kind)==="channel"?er:void 0,childSubchannel:(null==er?void 0:er.kind)==="subchannel"?er:void 0}),this.events.length>=2*eh&&(this.events=this.events.slice(eh)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:dateToProtoTimestamp(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map($=>({description:$.description,severity:$.severity,timestamp:dateToProtoTimestamp($.timestamp),channel_ref:$.childChannel?channelRefToMessage($.childChannel):null,subchannel_ref:$.childSubchannel?subchannelRefToMessage($.childSubchannel):null}))}}};ee.ChannelzTrace=ChannelzTrace;let ChannelzChildrenTracker=class ChannelzChildrenTracker{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild($){var ee,er,ei;switch($.kind){case"channel":{let er=null!==(ee=this.channelChildren.get($.id))&&void 0!==ee?ee:{ref:$,count:0};er.count+=1,this.channelChildren.set($.id,er);break}case"subchannel":{let ee=null!==(er=this.subchannelChildren.get($.id))&&void 0!==er?er:{ref:$,count:0};ee.count+=1,this.subchannelChildren.set($.id,ee);break}case"socket":{let ee=null!==(ei=this.socketChildren.get($.id))&&void 0!==ei?ei:{ref:$,count:0};ee.count+=1,this.socketChildren.set($.id,ee)}}}unrefChild($){switch($.kind){case"channel":{let ee=this.channelChildren.get($.id);void 0!==ee&&(ee.count-=1,0===ee.count?this.channelChildren.delete($.id):this.channelChildren.set($.id,ee));break}case"subchannel":{let ee=this.subchannelChildren.get($.id);void 0!==ee&&(ee.count-=1,0===ee.count?this.subchannelChildren.delete($.id):this.subchannelChildren.set($.id,ee));break}case"socket":{let ee=this.socketChildren.get($.id);void 0!==ee&&(ee.count-=1,0===ee.count?this.socketChildren.delete($.id):this.socketChildren.set($.id,ee))}}}getChildLists(){let $=[];for(let{ref:ee}of this.channelChildren.values())$.push(ee);let ee=[];for(let{ref:$}of this.subchannelChildren.values())ee.push($);let er=[];for(let{ref:$}of this.socketChildren.values())er.push($);return{channels:$,subchannels:ee,sockets:er}}};ee.ChannelzChildrenTracker=ChannelzChildrenTracker;let ChannelzCallTracker=class ChannelzCallTracker{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}};ee.ChannelzCallTracker=ChannelzCallTracker;let em=1;function getNextId(){return em++}let ef=[],eg=[],ey=[],ev=[];function registerChannelzChannel($,ee,er){let ei=getNextId(),en={id:ei,name:$,kind:"channel"};return er&&(ef[ei]={ref:en,getInfo:ee}),en}function registerChannelzSubchannel($,ee,er){let ei=getNextId(),en={id:ei,name:$,kind:"subchannel"};return er&&(eg[ei]={ref:en,getInfo:ee}),en}function registerChannelzServer($,ee){let er=getNextId(),ei={id:er,kind:"server"};return ee&&(ey[er]={ref:ei,getInfo:$}),ei}function registerChannelzSocket($,ee,er){let ei=getNextId(),en={id:ei,name:$,kind:"socket"};return er&&(ev[ei]={ref:en,getInfo:ee}),en}function unregisterChannelzRef($){switch($.kind){case"channel":delete ef[$.id];return;case"subchannel":delete eg[$.id];return;case"server":delete ey[$.id];return;case"socket":delete ev[$.id];return}}function parseIPv6Section($){let ee=Number.parseInt($,16);return[ee/256|0,ee%256]}function parseIPv6Chunk($){if(""===$)return[];let ee=$.split(":").map($=>parseIPv6Section($)),er=[];return er.concat(...ee)}function ipAddressStringToBuffer($){if((0,ei.isIPv4)($))return Buffer.from(Uint8Array.from($.split(".").map($=>Number.parseInt($))));if(!(0,ei.isIPv6)($))return null;{let ee,er;let ei=$.indexOf("::");-1===ei?(ee=$,er=""):(ee=$.substring(0,ei),er=$.substring(ei+2));let en=Buffer.from(parseIPv6Chunk(ee)),es=Buffer.from(parseIPv6Chunk(er)),eo=Buffer.alloc(16-en.length-es.length,0);return Buffer.concat([en,eo,es])}}function connectivityStateToMessage($){switch($){case en.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case en.ConnectivityState.IDLE:return{state:"IDLE"};case en.ConnectivityState.READY:return{state:"READY"};case en.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case en.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function dateToProtoTimestamp($){if(!$)return null;let ee=$.getTime();return{seconds:ee/1e3|0,nanos:ee%1e3*1e6}}function getChannelMessage($){let ee=$.getInfo();return{ref:channelRefToMessage($.ref),data:{target:ee.target,state:connectivityStateToMessage(ee.state),calls_started:ee.callTracker.callsStarted,calls_succeeded:ee.callTracker.callsSucceeded,calls_failed:ee.callTracker.callsFailed,last_call_started_timestamp:dateToProtoTimestamp(ee.callTracker.lastCallStartedTimestamp),trace:ee.trace.getTraceMessage()},channel_ref:ee.children.channels.map($=>channelRefToMessage($)),subchannel_ref:ee.children.subchannels.map($=>subchannelRefToMessage($))}}function GetChannel($,ee){let er=Number.parseInt($.request.channel_id),ei=ef[er];if(void 0===ei){ee({code:es.Status.NOT_FOUND,details:"No channel data found for id "+er});return}ee(null,{channel:getChannelMessage(ei)})}function GetTopChannels($,ee){let er=Number.parseInt($.request.max_results),ei=[],en=Number.parseInt($.request.start_channel_id);for(;en<ef.length;en++){let $=ef[en];if(void 0!==$&&(ei.push(getChannelMessage($)),ei.length>=er))break}ee(null,{channel:ei,end:en>=ey.length})}function getServerMessage($){let ee=$.getInfo();return{ref:serverRefToMessage($.ref),data:{calls_started:ee.callTracker.callsStarted,calls_succeeded:ee.callTracker.callsSucceeded,calls_failed:ee.callTracker.callsFailed,last_call_started_timestamp:dateToProtoTimestamp(ee.callTracker.lastCallStartedTimestamp),trace:ee.trace.getTraceMessage()},listen_socket:ee.listenerChildren.sockets.map($=>socketRefToMessage($))}}function GetServer($,ee){let er=Number.parseInt($.request.server_id),ei=ey[er];if(void 0===ei){ee({code:es.Status.NOT_FOUND,details:"No server data found for id "+er});return}ee(null,{server:getServerMessage(ei)})}function GetServers($,ee){let er=Number.parseInt($.request.max_results),ei=[],en=Number.parseInt($.request.start_server_id);for(;en<ey.length;en++){let $=ey[en];if(void 0!==$&&(ei.push(getServerMessage($)),ei.length>=er))break}ee(null,{server:ei,end:en>=ey.length})}function GetSubchannel($,ee){let er=Number.parseInt($.request.subchannel_id),ei=eg[er];if(void 0===ei){ee({code:es.Status.NOT_FOUND,details:"No subchannel data found for id "+er});return}let en=ei.getInfo(),eo={ref:subchannelRefToMessage(ei.ref),data:{target:en.target,state:connectivityStateToMessage(en.state),calls_started:en.callTracker.callsStarted,calls_succeeded:en.callTracker.callsSucceeded,calls_failed:en.callTracker.callsFailed,last_call_started_timestamp:dateToProtoTimestamp(en.callTracker.lastCallStartedTimestamp),trace:en.trace.getTraceMessage()},socket_ref:en.children.sockets.map($=>socketRefToMessage($))};ee(null,{subchannel:eo})}function subchannelAddressToAddressMessage($){var ee;return(0,eo.isTcpSubchannelAddress)($)?{address:"tcpip_address",tcpip_address:{ip_address:null!==(ee=ipAddressStringToBuffer($.host))&&void 0!==ee?ee:void 0,port:$.port}}:{address:"uds_address",uds_address:{filename:$.path}}}function GetSocket($,ee){var er,ei,en,eo,ep;let eu=Number.parseInt($.request.socket_id),eh=ev[eu];if(void 0===eh){ee({code:es.Status.NOT_FOUND,details:"No socket data found for id "+eu});return}let em=eh.getInfo(),ef=em.security?{model:"tls",tls:{cipher_suite:em.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:null!==(er=em.security.cipherSuiteStandardName)&&void 0!==er?er:void 0,other_name:null!==(ei=em.security.cipherSuiteOtherName)&&void 0!==ei?ei:void 0,local_certificate:null!==(en=em.security.localCertificate)&&void 0!==en?en:void 0,remote_certificate:null!==(eo=em.security.remoteCertificate)&&void 0!==eo?eo:void 0}}:null,eg={ref:socketRefToMessage(eh.ref),local:em.localAddress?subchannelAddressToAddressMessage(em.localAddress):null,remote:em.remoteAddress?subchannelAddressToAddressMessage(em.remoteAddress):null,remote_name:null!==(ep=em.remoteName)&&void 0!==ep?ep:void 0,security:ef,data:{keep_alives_sent:em.keepAlivesSent,streams_started:em.streamsStarted,streams_succeeded:em.streamsSucceeded,streams_failed:em.streamsFailed,last_local_stream_created_timestamp:dateToProtoTimestamp(em.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:dateToProtoTimestamp(em.lastRemoteStreamCreatedTimestamp),messages_received:em.messagesReceived,messages_sent:em.messagesSent,last_message_received_timestamp:dateToProtoTimestamp(em.lastMessageReceivedTimestamp),last_message_sent_timestamp:dateToProtoTimestamp(em.lastMessageSentTimestamp),local_flow_control_window:em.localFlowControlWindow?{value:em.localFlowControlWindow}:null,remote_flow_control_window:em.remoteFlowControlWindow?{value:em.remoteFlowControlWindow}:null}};ee(null,{socket:eg})}function GetServerSockets($,ee){let er=Number.parseInt($.request.server_id),ei=ey[er];if(void 0===ei){ee({code:es.Status.NOT_FOUND,details:"No server data found for id "+er});return}let en=Number.parseInt($.request.start_socket_id),eo=Number.parseInt($.request.max_results),ep=ei.getInfo(),eu=ep.sessionChildren.sockets.sort(($,ee)=>$.id-ee.id),eh=[],em=0;for(;em<eu.length&&(!(eu[em].id>=en)||(eh.push(socketRefToMessage(eu[em])),!(eh.length>=eo)));em++);ee(null,{socket_ref:eh,end:em>=eu.length})}function getChannelzHandlers(){return{GetChannel,GetTopChannels,GetServer,GetServers,GetSubchannel,GetSocket,GetServerSockets}}ee.registerChannelzChannel=registerChannelzChannel,ee.registerChannelzSubchannel=registerChannelzSubchannel,ee.registerChannelzServer=registerChannelzServer,ee.registerChannelzSocket=registerChannelzSocket,ee.unregisterChannelzRef=unregisterChannelzRef,ee.getChannelzHandlers=getChannelzHandlers;let eS=null;function getChannelzServiceDefinition(){if(eS)return eS;let $=er(35868).J_,ee=$("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]}),ei=(0,eu.loadPackageDefinition)(ee);return eS=ei.grpc.channelz.v1.Channelz.service}function setup(){(0,ep.registerAdminService)(getChannelzServiceDefinition,getChannelzHandlers)}ee.getChannelzServiceDefinition=getChannelzServiceDefinition,ee.setup=setup},46255:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.getInterceptingCall=ee.InterceptingCall=ee.RequesterBuilder=ee.ListenerBuilder=ee.InterceptorConfigurationError=void 0;let ei=er(82063),en=er(21875),es=er(83932),eo=er(36031);let InterceptorConfigurationError=class InterceptorConfigurationError extends Error{constructor($){super($),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,InterceptorConfigurationError)}};ee.InterceptorConfigurationError=InterceptorConfigurationError;let ListenerBuilder=class ListenerBuilder{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata($){return this.metadata=$,this}withOnReceiveMessage($){return this.message=$,this}withOnReceiveStatus($){return this.status=$,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};ee.ListenerBuilder=ListenerBuilder;let RequesterBuilder=class RequesterBuilder{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart($){return this.start=$,this}withSendMessage($){return this.message=$,this}withHalfClose($){return this.halfClose=$,this}withCancel($){return this.cancel=$,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};ee.RequesterBuilder=RequesterBuilder;let ep={onReceiveMetadata:($,ee)=>{ee($)},onReceiveMessage:($,ee)=>{ee($)},onReceiveStatus:($,ee)=>{ee($)}},eu={start:($,ee,er)=>{er($,ee)},sendMessage:($,ee)=>{ee($)},halfClose:$=>{$()},cancel:$=>{$()}};let InterceptingCall=class InterceptingCall{constructor($,ee){var er,ei,en,es;this.nextCall=$,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,ee?this.requester={start:null!==(er=ee.start)&&void 0!==er?er:eu.start,sendMessage:null!==(ei=ee.sendMessage)&&void 0!==ei?ei:eu.sendMessage,halfClose:null!==(en=ee.halfClose)&&void 0!==en?en:eu.halfClose,cancel:null!==(es=ee.cancel)&&void 0!==es?es:eu.cancel}:this.requester=eu}cancelWithStatus($,ee){this.requester.cancel(()=>{this.nextCall.cancelWithStatus($,ee)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start($,ee){var er,ei,es,eo,eu,eh;let em={onReceiveMetadata:null!==(ei=null===(er=null==ee?void 0:ee.onReceiveMetadata)||void 0===er?void 0:er.bind(ee))&&void 0!==ei?ei:$=>{},onReceiveMessage:null!==(eo=null===(es=null==ee?void 0:ee.onReceiveMessage)||void 0===es?void 0:es.bind(ee))&&void 0!==eo?eo:$=>{},onReceiveStatus:null!==(eh=null===(eu=null==ee?void 0:ee.onReceiveStatus)||void 0===eu?void 0:eu.bind(ee))&&void 0!==eh?eh:$=>{}};this.processingMetadata=!0,this.requester.start($,em,($,ee)=>{var er,ei,es;let eo;if(this.processingMetadata=!1,(0,en.isInterceptingListener)(ee))eo=ee;else{let $={onReceiveMetadata:null!==(er=ee.onReceiveMetadata)&&void 0!==er?er:ep.onReceiveMetadata,onReceiveMessage:null!==(ei=ee.onReceiveMessage)&&void 0!==ei?ei:ep.onReceiveMessage,onReceiveStatus:null!==(es=ee.onReceiveStatus)&&void 0!==es?es:ep.onReceiveStatus};eo=new en.InterceptingListenerImpl($,em)}this.nextCall.start($,eo),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext($,ee){this.processingMessage=!0,this.requester.sendMessage(ee,er=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=$,this.pendingMessage=ee):(this.nextCall.sendMessageWithContext($,er),this.processPendingHalfClose())})}sendMessage($){this.sendMessageWithContext({},$)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}};function getCall($,ee,er){var ei,en;let es=null!==(ei=er.deadline)&&void 0!==ei?ei:1/0,eo=er.host,ep=null!==(en=er.parent)&&void 0!==en?en:null,eu=er.propagate_flags,eh=er.credentials,em=$.createCall(ee,es,eo,ep,eu);return eh&&em.setCredentials(eh),em}ee.InterceptingCall=InterceptingCall;let BaseInterceptingCall=class BaseInterceptingCall{constructor($,ee){this.call=$,this.methodDefinition=ee}cancelWithStatus($,ee){this.call.cancelWithStatus($,ee)}getPeer(){return this.call.getPeer()}sendMessageWithContext($,ee){let er;try{er=this.methodDefinition.requestSerialize(ee)}catch($){this.call.cancelWithStatus(es.Status.INTERNAL,`Request message serialization failure: ${(0,eo.getErrorMessage)($)}`);return}this.call.sendMessageWithContext($,er)}sendMessage($){this.sendMessageWithContext({},$)}start($,ee){let er=null;this.call.start($,{onReceiveMetadata:$=>{var er;null===(er=null==ee?void 0:ee.onReceiveMetadata)||void 0===er||er.call(ee,$)},onReceiveMessage:$=>{var en;let ep;try{ep=this.methodDefinition.responseDeserialize($)}catch($){er={code:es.Status.INTERNAL,details:`Response message parsing error: ${(0,eo.getErrorMessage)($)}`,metadata:new ei.Metadata},this.call.cancelWithStatus(er.code,er.details);return}null===(en=null==ee?void 0:ee.onReceiveMessage)||void 0===en||en.call(ee,ep)},onReceiveStatus:$=>{var ei,en;er?null===(ei=null==ee?void 0:ee.onReceiveStatus)||void 0===ei||ei.call(ee,er):null===(en=null==ee?void 0:ee.onReceiveStatus)||void 0===en||en.call(ee,$)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}};let BaseUnaryInterceptingCall=class BaseUnaryInterceptingCall extends BaseInterceptingCall{constructor($,ee){super($,ee)}start($,ee){var er,ei;let en=!1,es={onReceiveMetadata:null!==(ei=null===(er=null==ee?void 0:ee.onReceiveMetadata)||void 0===er?void 0:er.bind(ee))&&void 0!==ei?ei:$=>{},onReceiveMessage:$=>{var er;en=!0,null===(er=null==ee?void 0:ee.onReceiveMessage)||void 0===er||er.call(ee,$)},onReceiveStatus:$=>{var er,ei;en||null===(er=null==ee?void 0:ee.onReceiveMessage)||void 0===er||er.call(ee,null),null===(ei=null==ee?void 0:ee.onReceiveStatus)||void 0===ei||ei.call(ee,$)}};super.start($,es),this.call.startRead()}};let BaseStreamingInterceptingCall=class BaseStreamingInterceptingCall extends BaseInterceptingCall{};function getBottomInterceptingCall($,ee,er){let ei=getCall($,er.path,ee);return er.responseStream?new BaseStreamingInterceptingCall(ei,er):new BaseUnaryInterceptingCall(ei,er)}function getInterceptingCall($,ee,er,ei){if($.clientInterceptors.length>0&&$.clientInterceptorProviders.length>0)throw new InterceptorConfigurationError("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if($.callInterceptors.length>0&&$.callInterceptorProviders.length>0)throw new InterceptorConfigurationError("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let en=[];en=$.callInterceptors.length>0||$.callInterceptorProviders.length>0?[].concat($.callInterceptors,$.callInterceptorProviders.map($=>$(ee))).filter($=>$):[].concat($.clientInterceptors,$.clientInterceptorProviders.map($=>$(ee))).filter($=>$);let es=Object.assign({},er,{method_definition:ee}),eo=en.reduceRight(($,ee)=>er=>ee(er,$),$=>getBottomInterceptingCall(ei,$,ee));return eo(es)}ee.getInterceptingCall=getInterceptingCall},54811:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.Client=void 0;let ei=er(73940),en=er(70401),es=er(67740),eo=er(83932),ep=er(82063),eu=er(46255),eh=Symbol(),em=Symbol(),ef=Symbol(),eg=Symbol();function isFunction($){return"function"==typeof $}function getErrorStackString($){return $.stack.split("\n").slice(1).join("\n")}let Client=class Client{constructor($,ee,er={}){var ei,es;if(er=Object.assign({},er),this[em]=null!==(ei=er.interceptors)&&void 0!==ei?ei:[],delete er.interceptors,this[ef]=null!==(es=er.interceptor_providers)&&void 0!==es?es:[],delete er.interceptor_providers,this[em].length>0&&this[ef].length>0)throw Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[eg]=er.callInvocationTransformer,delete er.callInvocationTransformer,er.channelOverride)this[eh]=er.channelOverride;else if(er.channelFactoryOverride){let ei=er.channelFactoryOverride;delete er.channelFactoryOverride,this[eh]=ei($,ee,er)}else this[eh]=new en.ChannelImplementation($,ee,er)}close(){this[eh].close()}getChannel(){return this[eh]}waitForReady($,ee){let checkState=er=>{let ei;if(er){ee(Error("Failed to connect before the deadline"));return}try{ei=this[eh].getConnectivityState(!0)}catch($){ee(Error("The channel has been closed"));return}if(ei===es.ConnectivityState.READY)ee();else try{this[eh].watchConnectivityState(ei,$,checkState)}catch($){ee(Error("The channel has been closed"))}};setImmediate(checkState)}checkOptionalUnaryResponseArguments($,ee,er){if(isFunction($))return{metadata:new ep.Metadata,options:{},callback:$};if(isFunction(ee))return $ instanceof ep.Metadata?{metadata:$,options:{},callback:ee}:{metadata:new ep.Metadata,options:$,callback:ee};if(!($ instanceof ep.Metadata&&ee instanceof Object&&isFunction(er)))throw Error("Incorrect arguments passed");return{metadata:$,options:ee,callback:er}}makeUnaryRequest($,ee,er,en,es,ep,ey){var ev,eS;let e_=this.checkOptionalUnaryResponseArguments(es,ep,ey),ew={path:$,requestStream:!1,responseStream:!1,requestSerialize:ee,responseDeserialize:er},eC={argument:en,metadata:e_.metadata,call:new ei.ClientUnaryCallImpl,channel:this[eh],methodDefinition:ew,callOptions:e_.options,callback:e_.callback};this[eg]&&(eC=this[eg](eC));let eT=eC.call,eE={clientInterceptors:this[em],clientInterceptorProviders:this[ef],callInterceptors:null!==(ev=eC.callOptions.interceptors)&&void 0!==ev?ev:[],callInterceptorProviders:null!==(eS=eC.callOptions.interceptor_providers)&&void 0!==eS?eS:[]},eI=(0,eu.getInterceptingCall)(eE,eC.methodDefinition,eC.callOptions,eC.channel);eT.call=eI;let eD=null,eR=!1,eP=Error();return eI.start(eC.metadata,{onReceiveMetadata:$=>{eT.emit("metadata",$)},onReceiveMessage($){null!==eD&&eI.cancelWithStatus(eo.Status.INTERNAL,"Too many responses received"),eD=$},onReceiveStatus($){if(!eR){if(eR=!0,$.code===eo.Status.OK){if(null===eD){let ee=getErrorStackString(eP);eC.callback((0,ei.callErrorFromStatus)({code:eo.Status.INTERNAL,details:"No message received",metadata:$.metadata},ee))}else eC.callback(null,eD)}else{let ee=getErrorStackString(eP);eC.callback((0,ei.callErrorFromStatus)($,ee))}eP=null,eT.emit("status",$)}}}),eI.sendMessage(en),eI.halfClose(),eT}makeClientStreamRequest($,ee,er,en,es,ep){var ey,ev;let eS=this.checkOptionalUnaryResponseArguments(en,es,ep),e_={path:$,requestStream:!0,responseStream:!1,requestSerialize:ee,responseDeserialize:er},ew={metadata:eS.metadata,call:new ei.ClientWritableStreamImpl(ee),channel:this[eh],methodDefinition:e_,callOptions:eS.options,callback:eS.callback};this[eg]&&(ew=this[eg](ew));let eC=ew.call,eT={clientInterceptors:this[em],clientInterceptorProviders:this[ef],callInterceptors:null!==(ey=ew.callOptions.interceptors)&&void 0!==ey?ey:[],callInterceptorProviders:null!==(ev=ew.callOptions.interceptor_providers)&&void 0!==ev?ev:[]},eE=(0,eu.getInterceptingCall)(eT,ew.methodDefinition,ew.callOptions,ew.channel);eC.call=eE;let eI=null,eD=!1,eR=Error();return eE.start(ew.metadata,{onReceiveMetadata:$=>{eC.emit("metadata",$)},onReceiveMessage($){null!==eI&&eE.cancelWithStatus(eo.Status.INTERNAL,"Too many responses received"),eI=$},onReceiveStatus($){if(!eD){if(eD=!0,$.code===eo.Status.OK){if(null===eI){let ee=getErrorStackString(eR);ew.callback((0,ei.callErrorFromStatus)({code:eo.Status.INTERNAL,details:"No message received",metadata:$.metadata},ee))}else ew.callback(null,eI)}else{let ee=getErrorStackString(eR);ew.callback((0,ei.callErrorFromStatus)($,ee))}eR=null,eC.emit("status",$)}}}),eC}checkMetadataAndOptions($,ee){let er,ei;return $ instanceof ep.Metadata?(er=$,ei=ee||{}):(ei=$||{},er=new ep.Metadata),{metadata:er,options:ei}}makeServerStreamRequest($,ee,er,en,es,ep){var ey,ev;let eS=this.checkMetadataAndOptions(es,ep),e_={path:$,requestStream:!1,responseStream:!0,requestSerialize:ee,responseDeserialize:er},ew={argument:en,metadata:eS.metadata,call:new ei.ClientReadableStreamImpl(er),channel:this[eh],methodDefinition:e_,callOptions:eS.options};this[eg]&&(ew=this[eg](ew));let eC=ew.call,eT={clientInterceptors:this[em],clientInterceptorProviders:this[ef],callInterceptors:null!==(ey=ew.callOptions.interceptors)&&void 0!==ey?ey:[],callInterceptorProviders:null!==(ev=ew.callOptions.interceptor_providers)&&void 0!==ev?ev:[]},eE=(0,eu.getInterceptingCall)(eT,ew.methodDefinition,ew.callOptions,ew.channel);eC.call=eE;let eI=!1,eD=Error();return eE.start(ew.metadata,{onReceiveMetadata($){eC.emit("metadata",$)},onReceiveMessage($){eC.push($)},onReceiveStatus($){if(!eI){if(eI=!0,eC.push(null),$.code!==eo.Status.OK){let ee=getErrorStackString(eD);eC.emit("error",(0,ei.callErrorFromStatus)($,ee))}eD=null,eC.emit("status",$)}}}),eE.sendMessage(en),eE.halfClose(),eC}makeBidiStreamRequest($,ee,er,en,es){var ep,ey;let ev=this.checkMetadataAndOptions(en,es),eS={path:$,requestStream:!0,responseStream:!0,requestSerialize:ee,responseDeserialize:er},e_={metadata:ev.metadata,call:new ei.ClientDuplexStreamImpl(ee,er),channel:this[eh],methodDefinition:eS,callOptions:ev.options};this[eg]&&(e_=this[eg](e_));let ew=e_.call,eC={clientInterceptors:this[em],clientInterceptorProviders:this[ef],callInterceptors:null!==(ep=e_.callOptions.interceptors)&&void 0!==ep?ep:[],callInterceptorProviders:null!==(ey=e_.callOptions.interceptor_providers)&&void 0!==ey?ey:[]},eT=(0,eu.getInterceptingCall)(eC,e_.methodDefinition,e_.callOptions,e_.channel);ew.call=eT;let eE=!1,eI=Error();return eT.start(e_.metadata,{onReceiveMetadata($){ew.emit("metadata",$)},onReceiveMessage($){ew.push($)},onReceiveStatus($){if(!eE){if(eE=!0,ew.push(null),$.code!==eo.Status.OK){let ee=getErrorStackString(eI);ew.emit("error",(0,ei.callErrorFromStatus)($,ee))}eI=null,ew.emit("status",$)}}}),ew}};ee.Client=Client},49936:($,ee)=>{"use strict";var er;Object.defineProperty(ee,"__esModule",{value:!0}),ee.CompressionAlgorithms=void 0,function($){$[$.identity=0]="identity",$[$.deflate=1]="deflate",$[$.gzip=2]="gzip"}(er||(ee.CompressionAlgorithms=er={}))},91837:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.CompressionFilterFactory=ee.CompressionFilter=void 0;let ei=er(59796),en=er(49936),es=er(83932),eo=er(95971),ep=er(11632),isCompressionAlgorithmKey=$=>"number"==typeof $&&"string"==typeof en.CompressionAlgorithms[$];let CompressionHandler=class CompressionHandler{async writeMessage($,ee){let er=$;ee&&(er=await this.compressMessage(er));let ei=Buffer.allocUnsafe(er.length+5);return ei.writeUInt8(ee?1:0,0),ei.writeUInt32BE(er.length,1),er.copy(ei,5),ei}async readMessage($){let ee=1===$.readUInt8(0),er=$.slice(5);return ee&&(er=await this.decompressMessage(er)),er}};let IdentityHandler=class IdentityHandler extends CompressionHandler{async compressMessage($){return $}async writeMessage($,ee){let er=Buffer.allocUnsafe($.length+5);return er.writeUInt8(0,0),er.writeUInt32BE($.length,1),$.copy(er,5),er}decompressMessage($){return Promise.reject(Error('Received compressed message but "grpc-encoding" header was identity'))}};let DeflateHandler=class DeflateHandler extends CompressionHandler{compressMessage($){return new Promise((ee,er)=>{ei.deflate($,($,ei)=>{$?er($):ee(ei)})})}decompressMessage($){return new Promise((ee,er)=>{ei.inflate($,($,ei)=>{$?er($):ee(ei)})})}};let GzipHandler=class GzipHandler extends CompressionHandler{compressMessage($){return new Promise((ee,er)=>{ei.gzip($,($,ei)=>{$?er($):ee(ei)})})}decompressMessage($){return new Promise((ee,er)=>{ei.unzip($,($,ei)=>{$?er($):ee(ei)})})}};let UnknownHandler=class UnknownHandler extends CompressionHandler{constructor($){super(),this.compressionName=$}compressMessage($){return Promise.reject(Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage($){return Promise.reject(Error(`Compression method not supported: ${this.compressionName}`))}};function getCompressionHandler($){switch($){case"identity":return new IdentityHandler;case"deflate":return new DeflateHandler;case"gzip":return new GzipHandler;default:return new UnknownHandler($)}}let CompressionFilter=class CompressionFilter extends eo.BaseFilter{constructor($,ee){var er;super(),this.sharedFilterConfig=ee,this.sendCompression=new IdentityHandler,this.receiveCompression=new IdentityHandler,this.currentCompressionAlgorithm="identity";let ei=$["grpc.default_compression_algorithm"];if(void 0!==ei){if(isCompressionAlgorithmKey(ei)){let $=en.CompressionAlgorithms[ei],es=null===(er=ee.serverSupportedEncodingHeader)||void 0===er?void 0:er.split(",");(!es||es.includes($))&&(this.currentCompressionAlgorithm=$,this.sendCompression=getCompressionHandler(this.currentCompressionAlgorithm))}else ep.log(es.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${ei}`)}}async sendMetadata($){let ee=await $;return ee.set("grpc-accept-encoding","identity,deflate,gzip"),ee.set("accept-encoding","identity"),"identity"===this.currentCompressionAlgorithm?ee.remove("grpc-encoding"):ee.set("grpc-encoding",this.currentCompressionAlgorithm),ee}receiveMetadata($){let ee=$.get("grpc-encoding");if(ee.length>0){let $=ee[0];"string"==typeof $&&(this.receiveCompression=getCompressionHandler($))}$.remove("grpc-encoding");let er=$.get("grpc-accept-encoding")[0];if(er){this.sharedFilterConfig.serverSupportedEncodingHeader=er;let $=er.split(",");$.includes(this.currentCompressionAlgorithm)||(this.sendCompression=new IdentityHandler,this.currentCompressionAlgorithm="identity")}return $.remove("grpc-accept-encoding"),$}async sendMessage($){var ee;let er;let ei=await $;return er=!(this.sendCompression instanceof IdentityHandler)&&((null!==(ee=ei.flags)&&void 0!==ee?ee:0)&2)==0,{message:await this.sendCompression.writeMessage(ei.message,er),flags:ei.flags}}async receiveMessage($){return this.receiveCompression.readMessage(await $)}};ee.CompressionFilter=CompressionFilter;let CompressionFilterFactory=class CompressionFilterFactory{constructor($,ee){this.options=ee,this.sharedFilterConfig={}}createFilter(){return new CompressionFilter(this.options,this.sharedFilterConfig)}};ee.CompressionFilterFactory=CompressionFilterFactory},67740:($,ee)=>{"use strict";var er;Object.defineProperty(ee,"__esModule",{value:!0}),ee.ConnectivityState=void 0,function($){$[$.IDLE=0]="IDLE",$[$.CONNECTING=1]="CONNECTING",$[$.READY=2]="READY",$[$.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",$[$.SHUTDOWN=4]="SHUTDOWN"}(er||(ee.ConnectivityState=er={}))},83932:($,ee)=>{"use strict";var er,ei,en;Object.defineProperty(ee,"__esModule",{value:!0}),ee.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=ee.DEFAULT_MAX_SEND_MESSAGE_LENGTH=ee.Propagate=ee.LogVerbosity=ee.Status=void 0,function($){$[$.OK=0]="OK",$[$.CANCELLED=1]="CANCELLED",$[$.UNKNOWN=2]="UNKNOWN",$[$.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$[$.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$[$.NOT_FOUND=5]="NOT_FOUND",$[$.ALREADY_EXISTS=6]="ALREADY_EXISTS",$[$.PERMISSION_DENIED=7]="PERMISSION_DENIED",$[$.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$[$.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$[$.ABORTED=10]="ABORTED",$[$.OUT_OF_RANGE=11]="OUT_OF_RANGE",$[$.UNIMPLEMENTED=12]="UNIMPLEMENTED",$[$.INTERNAL=13]="INTERNAL",$[$.UNAVAILABLE=14]="UNAVAILABLE",$[$.DATA_LOSS=15]="DATA_LOSS",$[$.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(er||(ee.Status=er={})),function($){$[$.DEBUG=0]="DEBUG",$[$.INFO=1]="INFO",$[$.ERROR=2]="ERROR",$[$.NONE=3]="NONE"}(ei||(ee.LogVerbosity=ei={})),function($){$[$.DEADLINE=1]="DEADLINE",$[$.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",$[$.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",$[$.CANCELLATION=8]="CANCELLATION",$[$.DEFAULTS=65535]="DEFAULTS"}(en||(ee.Propagate=en={})),ee.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,ee.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304},5542:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.restrictControlPlaneStatusCode=void 0;let ei=er(83932),en=[ei.Status.OK,ei.Status.INVALID_ARGUMENT,ei.Status.NOT_FOUND,ei.Status.ALREADY_EXISTS,ei.Status.FAILED_PRECONDITION,ei.Status.ABORTED,ei.Status.OUT_OF_RANGE,ei.Status.DATA_LOSS];function restrictControlPlaneStatusCode($,ee){return en.includes($)?{code:ei.Status.INTERNAL,details:`Invalid status from control plane: ${$} ${ei.Status[$]} ${ee}`}:{code:$,details:ee}}ee.restrictControlPlaneStatusCode=restrictControlPlaneStatusCode},68099:($,ee)=>{"use strict";function minDeadline(...$){let ee=1/0;for(let er of $){let $=er instanceof Date?er.getTime():er;$<ee&&(ee=$)}return ee}Object.defineProperty(ee,"__esModule",{value:!0}),ee.deadlineToString=ee.getRelativeTimeout=ee.getDeadlineTimeoutString=ee.minDeadline=void 0,ee.minDeadline=minDeadline;let er=[["m",1],["S",1e3],["M",6e4],["H",36e5]];function getDeadlineTimeoutString($){let ee=new Date().getTime();$ instanceof Date&&($=$.getTime());let ei=Math.max($-ee,0);for(let[$,ee]of er){let er=ei/ee;if(er<1e8)return String(Math.ceil(er))+$}throw Error("Deadline is too far in the future")}ee.getDeadlineTimeoutString=getDeadlineTimeoutString;let ei=2147483647;function getRelativeTimeout($){let ee=$ instanceof Date?$.getTime():$,er=new Date().getTime(),en=ee-er;return en<0?0:en>ei?1/0:en}function deadlineToString($){if($ instanceof Date)return $.toISOString();{let ee=new Date($);return Number.isNaN(ee.getTime())?""+$:ee.toISOString()}}ee.getRelativeTimeout=getRelativeTimeout,ee.deadlineToString=deadlineToString},88715:($,ee)=>{"use strict";function msToDuration($){return{seconds:$/1e3|0,nanos:$%1e3*1e6|0}}function durationToMs($){return 1e3*$.seconds+$.nanos/1e6|0}function isDuration($){return"number"==typeof $.seconds&&"number"==typeof $.nanos}Object.defineProperty(ee,"__esModule",{value:!0}),ee.isDuration=ee.durationToMs=ee.msToDuration=void 0,ee.msToDuration=msToDuration,ee.durationToMs=durationToMs,ee.isDuration=isDuration},36031:($,ee)=>{"use strict";function getErrorMessage($){return $ instanceof Error?$.message:String($)}function getErrorCode($){return"object"==typeof $&&null!==$&&"code"in $&&"number"==typeof $.code?$.code:null}Object.defineProperty(ee,"__esModule",{value:!0}),ee.getErrorCode=ee.getErrorMessage=void 0,ee.getErrorMessage=getErrorMessage,ee.getErrorCode=getErrorCode},75621:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.OutlierDetectionLoadBalancingConfig=ee.BaseSubchannelWrapper=ee.registerAdminService=ee.FilterStackFactory=ee.BaseFilter=ee.PickResultType=ee.QueuePicker=ee.UnavailablePicker=ee.ChildLoadBalancerHandler=ee.subchannelAddressToString=ee.validateLoadBalancingConfig=ee.getFirstUsableConfig=ee.registerLoadBalancerType=ee.createChildChannelControlHelper=ee.BackoffTimeout=ee.durationToMs=ee.uriToString=ee.createResolver=ee.registerResolver=ee.log=ee.trace=void 0;var ei=er(11632);Object.defineProperty(ee,"trace",{enumerable:!0,get:function(){return ei.trace}}),Object.defineProperty(ee,"log",{enumerable:!0,get:function(){return ei.log}});var en=er(12192);Object.defineProperty(ee,"registerResolver",{enumerable:!0,get:function(){return en.registerResolver}}),Object.defineProperty(ee,"createResolver",{enumerable:!0,get:function(){return en.createResolver}});var es=er(17676);Object.defineProperty(ee,"uriToString",{enumerable:!0,get:function(){return es.uriToString}});var eo=er(88715);Object.defineProperty(ee,"durationToMs",{enumerable:!0,get:function(){return eo.durationToMs}});var ep=er(36548);Object.defineProperty(ee,"BackoffTimeout",{enumerable:!0,get:function(){return ep.BackoffTimeout}});var eu=er(80476);Object.defineProperty(ee,"createChildChannelControlHelper",{enumerable:!0,get:function(){return eu.createChildChannelControlHelper}}),Object.defineProperty(ee,"registerLoadBalancerType",{enumerable:!0,get:function(){return eu.registerLoadBalancerType}}),Object.defineProperty(ee,"getFirstUsableConfig",{enumerable:!0,get:function(){return eu.getFirstUsableConfig}}),Object.defineProperty(ee,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return eu.validateLoadBalancingConfig}});var eh=er(83677);Object.defineProperty(ee,"subchannelAddressToString",{enumerable:!0,get:function(){return eh.subchannelAddressToString}});var em=er(33331);Object.defineProperty(ee,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return em.ChildLoadBalancerHandler}});var ef=er(88963);Object.defineProperty(ee,"UnavailablePicker",{enumerable:!0,get:function(){return ef.UnavailablePicker}}),Object.defineProperty(ee,"QueuePicker",{enumerable:!0,get:function(){return ef.QueuePicker}}),Object.defineProperty(ee,"PickResultType",{enumerable:!0,get:function(){return ef.PickResultType}});var eg=er(95971);Object.defineProperty(ee,"BaseFilter",{enumerable:!0,get:function(){return eg.BaseFilter}});var ey=er(5441);Object.defineProperty(ee,"FilterStackFactory",{enumerable:!0,get:function(){return ey.FilterStackFactory}});var ev=er(10571);Object.defineProperty(ee,"registerAdminService",{enumerable:!0,get:function(){return ev.registerAdminService}});var eS=er(78833);Object.defineProperty(ee,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return eS.BaseSubchannelWrapper}});var e_=er(7284);Object.defineProperty(ee,"OutlierDetectionLoadBalancingConfig",{enumerable:!0,get:function(){return e_.OutlierDetectionLoadBalancingConfig}})},5441:($,ee)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.FilterStackFactory=ee.FilterStack=void 0;let FilterStack=class FilterStack{constructor($){this.filters=$}sendMetadata($){let ee=$;for(let $=0;$<this.filters.length;$++)ee=this.filters[$].sendMetadata(ee);return ee}receiveMetadata($){let ee=$;for(let $=this.filters.length-1;$>=0;$--)ee=this.filters[$].receiveMetadata(ee);return ee}sendMessage($){let ee=$;for(let $=0;$<this.filters.length;$++)ee=this.filters[$].sendMessage(ee);return ee}receiveMessage($){let ee=$;for(let $=this.filters.length-1;$>=0;$--)ee=this.filters[$].receiveMessage(ee);return ee}receiveTrailers($){let ee=$;for(let $=this.filters.length-1;$>=0;$--)ee=this.filters[$].receiveTrailers(ee);return ee}push($){this.filters.unshift(...$)}getFilters(){return this.filters}};ee.FilterStack=FilterStack;let FilterStackFactory=class FilterStackFactory{constructor($){this.factories=$}push($){this.factories.unshift(...$)}clone(){return new FilterStackFactory([...this.factories])}createFilter(){return new FilterStack(this.factories.map($=>$.createFilter()))}};ee.FilterStackFactory=FilterStackFactory},95971:($,ee)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.BaseFilter=void 0;let BaseFilter=class BaseFilter{async sendMetadata($){return $}receiveMetadata($){return $}async sendMessage($){return $}async receiveMessage($){return $}receiveTrailers($){return $}};ee.BaseFilter=BaseFilter},45249:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.getProxiedConnection=ee.mapProxyName=void 0;let ei=er(11632),en=er(83932),es=er(12192),eo=er(13685),ep=er(24404),eu=er(11632),eh=er(83677),em=er(17676),ef=er(57310),eg="proxy";function trace($){eu.trace(en.LogVerbosity.DEBUG,eg,$)}function getProxyInfo(){let $,ee="",er="";if(process.env.grpc_proxy)er="grpc_proxy",ee=process.env.grpc_proxy;else if(process.env.https_proxy)er="https_proxy",ee=process.env.https_proxy;else{if(!process.env.http_proxy)return{};er="http_proxy",ee=process.env.http_proxy}try{$=new ef.URL(ee)}catch($){return(0,ei.log)(en.LogVerbosity.ERROR,`cannot parse value of "${er}" env var`),{}}if("http:"!==$.protocol)return(0,ei.log)(en.LogVerbosity.ERROR,`"${$.protocol}" scheme not supported in proxy URI`),{};let es=null;$.username&&($.password?((0,ei.log)(en.LogVerbosity.INFO,"userinfo found in proxy URI"),es=`${$.username}:${$.password}`):es=$.username);let eo=$.hostname,ep=$.port;""===ep&&(ep="80");let eu={address:`${eo}:${ep}`};return es&&(eu.creds=es),trace("Proxy server "+eu.address+" set by environment variable "+er),eu}function getNoProxyHostList(){let $=process.env.no_grpc_proxy,ee="no_grpc_proxy";return($||($=process.env.no_proxy,ee="no_proxy"),$)?(trace("No proxy server list set by environment variable "+ee),$.split(",")):[]}function mapProxyName($,ee){var er;let ei={target:$,extraOptions:{}};if((null!==(er=ee["grpc.enable_http_proxy"])&&void 0!==er?er:1)===0||"unix"===$.scheme)return ei;let en=getProxyInfo();if(!en.address)return ei;let es=(0,em.splitHostPort)($.path);if(!es)return ei;let eo=es.host;for(let ee of getNoProxyHostList())if(ee===eo)return trace("Not using proxy for target in no_proxy list: "+(0,em.uriToString)($)),ei;let ep={"grpc.http_connect_target":(0,em.uriToString)($)};return en.creds&&(ep["grpc.http_connect_creds"]=en.creds),{target:{scheme:"dns",path:en.address},extraOptions:ep}}function getProxiedConnection($,ee,er){if(!("grpc.http_connect_target"in ee))return Promise.resolve({});let eu=ee["grpc.http_connect_target"],ef=(0,em.parseUri)(eu);if(null===ef)return Promise.resolve({});let eg={method:"CONNECT",path:ef.path},ey={Host:ef.path};(0,eh.isTcpSubchannelAddress)($)?(eg.host=$.host,eg.port=$.port):eg.socketPath=$.path,"grpc.http_connect_creds"in ee&&(ey["Proxy-Authorization"]="Basic "+Buffer.from(ee["grpc.http_connect_creds"]).toString("base64")),eg.headers=ey;let ev=(0,eh.subchannelAddressToString)($);return trace("Using proxy "+ev+" to connect to "+eg.path),new Promise(($,ee)=>{let eu=eo.request(eg);eu.once("connect",(eo,eh,ey)=>{var eS;if(eu.removeAllListeners(),eh.removeAllListeners(),200===eo.statusCode){if(trace("Successfully connected to "+eg.path+" through proxy "+ev),"secureContext"in er){let ei=(0,es.getDefaultAuthority)(ef),en=(0,em.splitHostPort)(ei),eo=null!==(eS=null==en?void 0:en.host)&&void 0!==eS?eS:ei,eu=ep.connect(Object.assign({host:eo,servername:eo,socket:eh},er),()=>{trace("Successfully established a TLS connection to "+eg.path+" through proxy "+ev),$({socket:eu,realTarget:ef})});eu.on("error",$=>{trace("Failed to establish a TLS connection to "+eg.path+" through proxy "+ev+" with error "+$.message),ee()})}else trace("Successfully established a plaintext connection to "+eg.path+" through proxy "+ev),$({socket:eh,realTarget:ef})}else(0,ei.log)(en.LogVerbosity.ERROR,"Failed to connect to "+eg.path+" through proxy "+ev+" with status "+eo.statusCode),ee()}),eu.once("error",$=>{eu.removeAllListeners(),(0,ei.log)(en.LogVerbosity.ERROR,"Failed to connect to proxy "+ev+" with error "+$.message),ee()}),eu.end()})}ee.mapProxyName=mapProxyName,ee.getProxiedConnection=getProxiedConnection},43481:($,ee,er)=>{"use strict";e_={value:!0},e_=e_=e_=e_=e_=e_=e_=e_=e_=e_=e_=e_=e_=e_=e_=e_=e_=e_=e_=e_=e_=e_=e_=ee.Rz=e_=e_=e_=e_=e_=e_=ee.SF=ee.K9=void 0;let ei=er(9128);e_={enumerable:!0,get:function(){return ei.CallCredentials}};let en=er(70401);e_={enumerable:!0,get:function(){return en.ChannelImplementation}};let es=er(49936);e_={enumerable:!0,get:function(){return es.CompressionAlgorithms}};let eo=er(67740);e_={enumerable:!0,get:function(){return eo.ConnectivityState}};let ep=er(39051);e_={enumerable:!0,get:function(){return ep.ChannelCredentials}};let eu=er(54811);e_={enumerable:!0,get:function(){return eu.Client}};let eh=er(83932);e_={enumerable:!0,get:function(){return eh.LogVerbosity}},e_={enumerable:!0,get:function(){return eh.Status}},e_={enumerable:!0,get:function(){return eh.Propagate}};let em=er(11632),ef=er(43275);Object.defineProperty(ee,"Rz",{enumerable:!0,get:function(){return ef.loadPackageDefinition}}),e_={enumerable:!0,get:function(){return ef.makeClientConstructor}},e_={enumerable:!0,get:function(){return ef.makeClientConstructor}};let eg=er(82063);Object.defineProperty(ee,"SF",{enumerable:!0,get:function(){return eg.Metadata}});let ey=er(38283);e_={enumerable:!0,get:function(){return ey.Server}};let ev=er(43716);e_={enumerable:!0,get:function(){return ev.ServerCredentials}};let eS=er(27397);e_={enumerable:!0,get:function(){return eS.StatusBuilder}},ee.K9={combineChannelCredentials:($,...ee)=>ee.reduce(($,ee)=>$.compose(ee),$),combineCallCredentials:($,...ee)=>ee.reduce(($,ee)=>$.compose(ee),$),createInsecure:ep.ChannelCredentials.createInsecure,createSsl:ep.ChannelCredentials.createSsl,createFromSecureContext:ep.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:ei.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:ei.CallCredentials.createFromGoogleCredential,createEmpty:ei.CallCredentials.createEmpty};let closeClient=$=>$.close();e_=closeClient;let waitForClientReady=($,ee,er)=>$.waitForReady(ee,er);e_=waitForClientReady;let loadObject=($,ee)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};e_=loadObject;let load=($,ee,er)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};e_=load;let setLogger=$=>{em.setLogger($)};e_=setLogger;let setLogVerbosity=$=>{em.setLoggerVerbosity($)};e_=setLogVerbosity;let getClientChannel=$=>eu.Client.prototype.getChannel.call($);e_=getClientChannel;var e_,ew=er(46255);e_={enumerable:!0,get:function(){return ew.ListenerBuilder}},e_={enumerable:!0,get:function(){return ew.RequesterBuilder}},e_={enumerable:!0,get:function(){return ew.InterceptingCall}},e_={enumerable:!0,get:function(){return ew.InterceptorConfigurationError}};var eC=er(27184);e_={enumerable:!0,get:function(){return eC.getChannelzServiceDefinition}},e_={enumerable:!0,get:function(){return eC.getChannelzHandlers}};var eT=er(10571);e_={enumerable:!0,get:function(){return eT.addAdminServicesToServer}};let eE=er(75621);e_=eE;let eI=er(3539),eD=er(48339),eR=er(43564),eP=er(87339),eN=er(18774),eA=er(7284),ek=er(27184),eO=er(45191).i8;(()=>{em.trace(eh.LogVerbosity.DEBUG,"index","Loading @grpc/grpc-js version "+eO),eI.setup(),eD.setup(),eR.setup(),eP.setup(),eN.setup(),eA.setup(),ek.setup()})()},63477:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.InternalChannel=void 0;let ei=er(39051),en=er(42052),es=er(54467),eo=er(88963),ep=er(83932),eu=er(5441),eh=er(91837),em=er(12192),ef=er(11632),eg=er(99434),ey=er(45249),ev=er(17676),eS=er(67740),e_=er(27184),ew=er(25442),eC=er(68099),eT=er(95484),eE=er(11541),eI=er(5542),eD=er(38387),eR=er(78833),eP=2147483647,eN=1e3,eA=18e5,ek=new Map,eO=16777216,eM=1048576;let ChannelSubchannelWrapper=class ChannelSubchannelWrapper extends eR.BaseSubchannelWrapper{constructor($,ee){super($),this.channel=ee,this.refCount=0,this.subchannelStateListener=($,er,ei,en)=>{ee.throttleKeepalive(en)},$.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}};let InternalChannel=class InternalChannel{constructor($,ee,er){var ew,eC,eT,eE,eR,eF,eL,eB;if(this.credentials=ee,this.options=er,this.connectivityState=eS.ConnectivityState.IDLE,this.currentPicker=new eo.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new e_.ChannelzCallTracker,this.childrenTracker=new e_.ChannelzChildrenTracker,"string"!=typeof $)throw TypeError("Channel target must be a string");if(!(ee instanceof ei.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(er&&"object"!=typeof er)throw TypeError("Channel options must be an object");this.originalTarget=$;let eV=(0,ev.parseUri)($);if(null===eV)throw Error(`Could not parse target name "${$}"`);let eU=(0,em.mapUriDefaultScheme)(eV);if(null===eU)throw Error(`Could not find a default scheme for target name "${$}"`);this.callRefTimer=setInterval(()=>{},eP),null===(eC=(ew=this.callRefTimer).unref)||void 0===eC||eC.call(ew),0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new e_.ChannelzTrace,this.channelzRef=(0,e_.registerChannelzChannel)($,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,em.getDefaultAuthority)(eU);let ej=(0,ey.mapProxyName)(eU,er);this.target=ej.target,this.options=Object.assign({},this.options,ej.extraOptions),this.subchannelPool=(0,es.getSubchannelPool)((null!==(eT=er["grpc.use_local_subchannel_pool"])&&void 0!==eT?eT:0)===0),this.retryBufferTracker=new eD.MessageBufferTracker(null!==(eE=er["grpc.retry_buffer_size"])&&void 0!==eE?eE:eO,null!==(eR=er["grpc.per_rpc_retry_buffer_size"])&&void 0!==eR?eR:eM),this.keepaliveTime=null!==(eF=er["grpc.keepalive_time_ms"])&&void 0!==eF?eF:-1,this.idleTimeoutMs=Math.max(null!==(eL=er["grpc.client_idle_timeout_ms"])&&void 0!==eL?eL:eA,eN);let eq={createSubchannel:($,ee)=>{let er=this.subchannelPool.getOrCreateSubchannel(this.target,$,Object.assign({},this.options,ee),this.credentials);er.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",er.getChannelzRef());let ei=new ChannelSubchannelWrapper(er,this);return this.wrappedSubchannels.add(ei),ei},updateState:($,ee)=>{this.currentPicker=ee;let er=this.pickQueue.slice();for(let $ of(this.pickQueue=[],this.callRefTimerUnref(),er))$.doPick();this.updateState($)},requestReresolution:()=>{throw Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:$=>{this.channelzEnabled&&this.childrenTracker.refChild($)},removeChannelzChild:$=>{this.channelzEnabled&&this.childrenTracker.unrefChild($)}};this.resolvingLoadBalancer=new en.ResolvingLoadBalancer(this.target,eq,er,($,ee)=>{$.retryThrottling?ek.set(this.getTarget(),new eD.RetryThrottler($.retryThrottling.maxTokens,$.retryThrottling.tokenRatio,ek.get(this.getTarget()))):ek.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=ee,this.currentResolutionError=null,process.nextTick(()=>{let $=this.configSelectionQueue;for(let ee of(this.configSelectionQueue=[],this.callRefTimerUnref(),$))ee.getConfig();this.configSelectionQueue=[]})},$=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+$.code+' and details "'+$.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),null===this.configSelector&&(this.currentResolutionError=Object.assign(Object.assign({},(0,eI.restrictControlPlaneStatusCode)($.code,$.details)),{metadata:$.metadata}));let ee=this.configSelectionQueue;for(let er of(this.configSelectionQueue=[],this.callRefTimerUnref(),ee))er.reportResolverError($)}),this.filterStackFactory=new eu.FilterStackFactory([new eg.MaxMessageSizeFilterFactory(this.options),new eh.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(er,void 0,2));let ez=Error();(0,ef.trace)(ep.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+") Channel constructed \n"+(null===(eB=ez.stack)||void 0===eB?void 0:eB.substring(ez.stack.indexOf("\n")+1)))}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace($,ee){(0,ef.trace)(null!=ee?ee:ep.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,ev.uriToString)(this.target)+" "+$)}callRefTimerRef(){var $,ee,er,ei;(null===(ee=($=this.callRefTimer).hasRef)||void 0===ee?void 0:ee.call($))||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(ei=(er=this.callRefTimer).ref)||void 0===ei||ei.call(er))}callRefTimerUnref(){var $,ee;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(ee=($=this.callRefTimer).unref)||void 0===ee||ee.call($))}removeConnectivityStateWatcher($){let ee=this.connectivityStateWatchers.findIndex(ee=>ee===$);ee>=0&&this.connectivityStateWatchers.splice(ee,1)}updateState($){(0,ef.trace)(ep.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,ev.uriToString)(this.target)+" "+eS.ConnectivityState[this.connectivityState]+" -> "+eS.ConnectivityState[$]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+eS.ConnectivityState[$]),this.connectivityState=$;let ee=this.connectivityStateWatchers.slice();for(let er of ee)$!==er.currentState&&(er.timer&&clearTimeout(er.timer),this.removeConnectivityStateWatcher(er),er.callback());$!==eS.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive($){if($>this.keepaliveTime)for(let ee of(this.keepaliveTime=$,this.wrappedSubchannels))ee.throttleKeepalive($)}removeWrappedSubchannel($){this.wrappedSubchannels.delete($)}doPick($,ee){return this.currentPicker.pick({metadata:$,extraPickInfo:ee})}queueCallForPick($){this.pickQueue.push($),this.callRefTimerRef()}getConfig($,ee){return(this.resolvingLoadBalancer.exitIdle(),this.configSelector)?{type:"SUCCESS",config:this.configSelector($,ee)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig($){this.configSelectionQueue.push($),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(eS.ConnectivityState.IDLE),this.currentPicker=new eo.QueuePicker(this.resolvingLoadBalancer)}maybeStartIdleTimer(){var $,ee;0===this.callCount&&(this.idleTimer=setTimeout(()=>{this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()},this.idleTimeoutMs),null===(ee=($=this.idleTimer).unref)||void 0===ee||ee.call($))}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1,this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}onCallEnd($){this.channelzEnabled&&($.code===ep.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.maybeStartIdleTimer()}createLoadBalancingCall($,ee,er,ei,en){let es=(0,eE.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+es+'] method="'+ee+'"'),new ew.LoadBalancingCall(this,$,ee,er,ei,en,es)}createRetryingCall($,ee,er,ei,en){let es=(0,eE.getNextCallNumber)();return this.trace("createRetryingCall ["+es+'] method="'+ee+'"'),new eD.RetryingCall(this,$,ee,er,ei,en,es,this.retryBufferTracker,ek.get(this.getTarget()))}createInnerCall($,ee,er,ei,en){return 0===this.options["grpc.enable_retries"]?this.createLoadBalancingCall($,ee,er,ei,en):this.createRetryingCall($,ee,er,ei,en)}createResolvingCall($,ee,er,ei,en){let es=(0,eE.getNextCallNumber)();this.trace("createResolvingCall ["+es+'] method="'+$+'", deadline='+(0,eC.deadlineToString)(ee));let eo={deadline:ee,flags:null!=en?en:ep.Propagate.DEFAULTS,host:null!=er?er:this.defaultAuthority,parentCall:ei},eu=new eT.ResolvingCall(this,$,eo,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),es);return this.onCallStart(),eu.addStatusWatcher($=>{this.onCallEnd($)}),eu}close(){this.resolvingLoadBalancer.destroy(),this.updateState(eS.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.channelzEnabled&&(0,e_.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,ev.uriToString)(this.target)}getConnectivityState($){let ee=this.connectivityState;return $&&(this.resolvingLoadBalancer.exitIdle(),this.maybeStartIdleTimer()),ee}watchConnectivityState($,ee,er){if(this.connectivityState===eS.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");let ei=null;if(ee!==1/0){let $=ee instanceof Date?ee:new Date(ee),es=new Date;if(ee===-1/0||$<=es){process.nextTick(er,Error("Deadline passed without connectivity state change"));return}ei=setTimeout(()=>{this.removeConnectivityStateWatcher(en),er(Error("Deadline passed without connectivity state change"))},$.getTime()-es.getTime())}let en={currentState:$,callback:er,timer:ei};this.connectivityStateWatchers.push(en)}getChannelzRef(){return this.channelzRef}createCall($,ee,er,ei,en){if("string"!=typeof $)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof ee||ee instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===eS.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");return this.createResolvingCall($,ee,er,ei,en)}};ee.InternalChannel=InternalChannel},33331:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.ChildLoadBalancerHandler=void 0;let ei=er(80476),en=er(67740),es="child_load_balancer_helper";let ChildLoadBalancerHandler=class ChildLoadBalancerHandler{constructor($){this.channelControlHelper=$,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor($){this.parent=$,this.child=null}createSubchannel($,ee){return this.parent.channelControlHelper.createSubchannel($,ee)}updateState($,ee){var er;if(this.calledByPendingChild()){if($===en.ConnectivityState.CONNECTING)return;null===(er=this.parent.currentChild)||void 0===er||er.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState($,ee)}requestReresolution(){var $;let ee=null!==($=this.parent.pendingChild)&&void 0!==$?$:this.parent.currentChild;this.child===ee&&this.parent.channelControlHelper.requestReresolution()}setChild($){this.child=$}addChannelzChild($){this.parent.channelControlHelper.addChannelzChild($)}removeChannelzChild($){this.parent.channelControlHelper.removeChannelzChild($)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance($,ee){return $.getLoadBalancerName()!==ee.getLoadBalancerName()}updateAddressList($,ee,er){let en;if(null===this.currentChild||null===this.latestConfig||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,ee)){let $=new this.ChildPolicyHelper(this),er=(0,ei.createLoadBalancer)(ee,$);$.setChild(er),null===this.currentChild?(this.currentChild=er,en=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=er,en=this.pendingChild)}else en=null===this.pendingChild?this.currentChild:this.pendingChild;this.latestConfig=ee,en.updateAddressList($,ee,er)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return es}};ee.ChildLoadBalancerHandler=ChildLoadBalancerHandler},7284:($,ee,er)=>{"use strict";var ei;Object.defineProperty(ee,"__esModule",{value:!0}),ee.setup=ee.OutlierDetectionLoadBalancer=ee.OutlierDetectionLoadBalancingConfig=void 0;let en=er(67740),es=er(83932),eo=er(88715),ep=er(75621),eu=er(80476),eh=er(33331),em=er(88963),ef=er(83677),eg=er(78833),ey=er(11632),ev="outlier_detection";function trace($){ey.trace(es.LogVerbosity.DEBUG,ev,$)}let eS="outlier_detection",e_=(null!==(ei=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)&&void 0!==ei?ei:"true")==="true",ew={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},eC={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function validateFieldType($,ee,er,ei){if(ee in $&&typeof $[ee]!==er){let en=ei?`${ei}.${ee}`:ee;throw Error(`outlier detection config ${en} parse error: expected ${er}, got ${typeof $[ee]}`)}}function validatePositiveDuration($,ee,er){let ei=er?`${er}.${ee}`:ee;if(ee in $){if(!(0,eo.isDuration)($[ee]))throw Error(`outlier detection config ${ei} parse error: expected Duration, got ${typeof $[ee]}`);if(!($[ee].seconds>=0&&$[ee].seconds<=315576e6&&$[ee].nanos>=0&&$[ee].nanos<=999999999))throw Error(`outlier detection config ${ei} parse error: values out of range for non-negative Duaration`)}}function validatePercentage($,ee,er){let ei=er?`${er}.${ee}`:ee;if(validateFieldType($,ee,"number",er),ee in $&&!($[ee]>=0&&$[ee]<=100))throw Error(`outlier detection config ${ei} parse error: value out of range for percentage (0-100)`)}let OutlierDetectionLoadBalancingConfig=class OutlierDetectionLoadBalancingConfig{constructor($,ee,er,ei,en,es,eo){if(this.childPolicy=eo,eo.length>0&&"pick_first"===eo[0].getLoadBalancerName())throw Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=null!=$?$:1e4,this.baseEjectionTimeMs=null!=ee?ee:3e4,this.maxEjectionTimeMs=null!=er?er:3e5,this.maxEjectionPercent=null!=ei?ei:10,this.successRateEjection=en?Object.assign(Object.assign({},ew),en):null,this.failurePercentageEjection=es?Object.assign(Object.assign({},eC),es):null}getLoadBalancerName(){return eS}toJsonObject(){return{interval:(0,eo.msToDuration)(this.intervalMs),base_ejection_time:(0,eo.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,eo.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map($=>$.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy($){return new OutlierDetectionLoadBalancingConfig(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,$)}static createFromJson($){var ee;if(validatePositiveDuration($,"interval"),validatePositiveDuration($,"base_ejection_time"),validatePositiveDuration($,"max_ejection_time"),validatePercentage($,"max_ejection_percent"),"success_rate_ejection"in $){if("object"!=typeof $.success_rate_ejection)throw Error("outlier detection config success_rate_ejection must be an object");validateFieldType($.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),validatePercentage($.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),validateFieldType($.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),validateFieldType($.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in $){if("object"!=typeof $.failure_percentage_ejection)throw Error("outlier detection config failure_percentage_ejection must be an object");validatePercentage($.failure_percentage_ejection,"threshold","failure_percentage_ejection"),validatePercentage($.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),validateFieldType($.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),validateFieldType($.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new OutlierDetectionLoadBalancingConfig($.interval?(0,eo.durationToMs)($.interval):null,$.base_ejection_time?(0,eo.durationToMs)($.base_ejection_time):null,$.max_ejection_time?(0,eo.durationToMs)($.max_ejection_time):null,null!==(ee=$.max_ejection_percent)&&void 0!==ee?ee:null,$.success_rate_ejection,$.failure_percentage_ejection,$.child_policy.map(eu.validateLoadBalancingConfig))}};ee.OutlierDetectionLoadBalancingConfig=OutlierDetectionLoadBalancingConfig;let OutlierDetectionSubchannelWrapper=class OutlierDetectionSubchannelWrapper extends eg.BaseSubchannelWrapper{constructor($,ee){super($),this.mapEntry=ee,this.stateListeners=[],this.ejected=!1,this.refCount=0,this.childSubchannelState=$.getConnectivityState(),$.addConnectivityStateListener(($,ee,er,ei)=>{if(this.childSubchannelState=er,!this.ejected)for(let $ of this.stateListeners)$(this,ee,er,ei)})}getConnectivityState(){return this.ejected?en.ConnectivityState.TRANSIENT_FAILURE:this.childSubchannelState}addConnectivityStateListener($){this.stateListeners.push($)}removeConnectivityStateListener($){let ee=this.stateListeners.indexOf($);ee>-1&&this.stateListeners.splice(ee,1)}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let $=this.mapEntry.subchannelWrappers.indexOf(this);$>=0&&this.mapEntry.subchannelWrappers.splice($,1)}}eject(){for(let $ of(this.ejected=!0,this.stateListeners))$(this,this.childSubchannelState,en.ConnectivityState.TRANSIENT_FAILURE,-1)}uneject(){for(let $ of(this.ejected=!1,this.stateListeners))$(this,en.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}};function createEmptyBucket(){return{success:0,failure:0}}let CallCounter=class CallCounter{constructor(){this.activeBucket=createEmptyBucket(),this.inactiveBucket=createEmptyBucket()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=createEmptyBucket()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}};let OutlierDetectionPicker=class OutlierDetectionPicker{constructor($,ee){this.wrappedPicker=$,this.countCalls=ee}pick($){let ee=this.wrappedPicker.pick($);if(ee.pickResultType!==em.PickResultType.COMPLETE)return ee;{let $=ee.subchannel,er=$.getMapEntry();if(!er)return Object.assign(Object.assign({},ee),{subchannel:$.getWrappedSubchannel()});{let ei=ee.onCallEnded;return this.countCalls&&(ei=$=>{var ei;$===es.Status.OK?er.counter.addSuccess():er.counter.addFailure(),null===(ei=ee.onCallEnded)||void 0===ei||ei.call(ee,$)}),Object.assign(Object.assign({},ee),{subchannel:$.getWrappedSubchannel(),onCallEnded:ei})}}}};let OutlierDetectionLoadBalancer=class OutlierDetectionLoadBalancer{constructor($){this.addressMap=new Map,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new eh.ChildLoadBalancerHandler((0,ep.createChildChannelControlHelper)($,{createSubchannel:(ee,er)=>{let ei=$.createSubchannel(ee,er),en=this.addressMap.get((0,ef.subchannelAddressToString)(ee)),es=new OutlierDetectionSubchannelWrapper(ei,en);return(null==en?void 0:en.currentEjectionTimestamp)!==null&&es.eject(),null==en||en.subchannelWrappers.push(es),es},updateState:(ee,er)=>{ee===en.ConnectivityState.READY?$.updateState(ee,new OutlierDetectionPicker(er,this.isCountingEnabled())):$.updateState(ee,er)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return null!==this.latestConfig&&(null!==this.latestConfig.getSuccessRateEjectionConfig()||null!==this.latestConfig.getFailurePercentageEjectionConfig())}getCurrentEjectionPercent(){let $=0;for(let ee of this.addressMap.values())null!==ee.currentEjectionTimestamp&&($+=1);return 100*$/this.addressMap.size}runSuccessRateCheck($){if(!this.latestConfig)return;let ee=this.latestConfig.getSuccessRateEjectionConfig();if(!ee)return;trace("Running success rate check");let er=ee.request_volume,ei=0,en=[];for(let[$,ee]of this.addressMap){let es=ee.counter.getLastSuccesses(),eo=ee.counter.getLastFailures();trace("Stats for "+$+": successes="+es+" failures="+eo+" targetRequestVolume="+er),es+eo>=er&&(ei+=1,en.push(es/(es+eo)))}if(trace("Found "+ei+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+en+"]"),ei<ee.minimum_hosts)return;let es=en.reduce(($,ee)=>$+ee)/en.length,eo=0;for(let $ of en){let ee=$-es;eo+=ee*ee}let ep=eo/en.length,eu=Math.sqrt(ep),eh=es-eu*(ee.stdev_factor/1e3);for(let[ei,en]of(trace("stdev="+eu+" ejectionThreshold="+eh),this.addressMap.entries())){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let es=en.counter.getLastSuccesses(),eo=en.counter.getLastFailures();if(es+eo<er)continue;let ep=es/(es+eo);if(trace("Checking candidate "+ei+" successRate="+ep),ep<eh){let er=100*Math.random();trace("Candidate "+ei+" randomNumber="+er+" enforcement_percentage="+ee.enforcement_percentage),er<ee.enforcement_percentage&&(trace("Ejecting candidate "+ei),this.eject(en,$))}}}runFailurePercentageCheck($){if(!this.latestConfig)return;let ee=this.latestConfig.getFailurePercentageEjectionConfig();if(!ee)return;trace("Running failure percentage check. threshold="+ee.threshold+" request volume threshold="+ee.request_volume);let er=0;for(let $ of this.addressMap.values()){let ei=$.counter.getLastSuccesses(),en=$.counter.getLastFailures();ei+en>=ee.request_volume&&(er+=1)}if(!(er<ee.minimum_hosts))for(let[er,ei]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let en=ei.counter.getLastSuccesses(),es=ei.counter.getLastFailures();if(trace("Candidate successes="+en+" failures="+es),en+es<ee.request_volume)continue;let eo=100*es/(es+en);if(eo>ee.threshold){let en=100*Math.random();trace("Candidate "+er+" randomNumber="+en+" enforcement_percentage="+ee.enforcement_percentage),en<ee.enforcement_percentage&&(trace("Ejecting candidate "+er),this.eject(ei,$))}}}eject($,ee){for(let ee of($.currentEjectionTimestamp=new Date,$.ejectionTimeMultiplier+=1,$.subchannelWrappers))ee.eject()}uneject($){for(let ee of($.currentEjectionTimestamp=null,$.subchannelWrappers))ee.uneject()}switchAllBuckets(){for(let $ of this.addressMap.values())$.counter.switchBuckets()}startTimer($){var ee,er;this.ejectionTimer=setTimeout(()=>this.runChecks(),$),null===(er=(ee=this.ejectionTimer).unref)||void 0===er||er.call(ee)}runChecks(){let $=new Date;if(trace("Ejection timer running"),this.switchAllBuckets(),this.latestConfig)for(let[ee,er]of(this.timerStartTime=$,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck($),this.runFailurePercentageCheck($),this.addressMap.entries()))if(null===er.currentEjectionTimestamp)er.ejectionTimeMultiplier>0&&(er.ejectionTimeMultiplier-=1);else{let $=this.latestConfig.getBaseEjectionTimeMs(),ei=this.latestConfig.getMaxEjectionTimeMs(),en=new Date(er.currentEjectionTimestamp.getTime());en.setMilliseconds(en.getMilliseconds()+Math.min($*er.ejectionTimeMultiplier,Math.max($,ei))),en<new Date&&(trace("Unejecting "+ee),this.uneject(er))}}updateAddressList($,ee,er){if(!(ee instanceof OutlierDetectionLoadBalancingConfig))return;let ei=new Set;for(let ee of $)ei.add((0,ef.subchannelAddressToString)(ee));for(let $ of ei)this.addressMap.has($)||(trace("Adding map entry for "+$),this.addressMap.set($,{counter:new CallCounter,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));for(let $ of this.addressMap.keys())ei.has($)||(trace("Removing map entry for "+$),this.addressMap.delete($));let en=(0,eu.getFirstUsableConfig)(ee.getChildPolicy(),!0);if(this.childBalancer.updateAddressList($,en,er),ee.getSuccessRateEjectionConfig()||ee.getFailurePercentageEjectionConfig()){if(this.timerStartTime){trace("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let $=ee.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer($)}else trace("Starting new timer"),this.timerStartTime=new Date,this.startTimer(ee.getIntervalMs()),this.switchAllBuckets()}else for(let $ of(trace("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer),this.addressMap.values()))this.uneject($),$.ejectionTimeMultiplier=0;this.latestConfig=ee}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return eS}};function setup(){e_&&(0,ep.registerLoadBalancerType)(eS,OutlierDetectionLoadBalancer,OutlierDetectionLoadBalancingConfig)}ee.OutlierDetectionLoadBalancer=OutlierDetectionLoadBalancer,ee.setup=setup},87339:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.setup=ee.PickFirstLoadBalancer=ee.shuffled=ee.PickFirstLoadBalancingConfig=void 0;let ei=er(80476),en=er(67740),es=er(88963),eo=er(11632),ep=er(83932),eu="pick_first";function trace($){eo.trace(ep.LogVerbosity.DEBUG,eu,$)}let eh="pick_first",em=250;let PickFirstLoadBalancingConfig=class PickFirstLoadBalancingConfig{constructor($){this.shuffleAddressList=$}getLoadBalancerName(){return eh}toJsonObject(){return{[eh]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson($){if("shuffleAddressList"in $&&"boolean"!=typeof $.shuffleAddressList)throw Error("pick_first config field shuffleAddressList must be a boolean if provided");return new PickFirstLoadBalancingConfig(!0===$.shuffleAddressList)}};ee.PickFirstLoadBalancingConfig=PickFirstLoadBalancingConfig;let PickFirstPicker=class PickFirstPicker{constructor($){this.subchannel=$}pick($){return{pickResultType:es.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}};function shuffled($){let ee=$.slice();for(let $=ee.length-1;$>1;$--){let er=Math.floor(Math.random()*($+1)),ei=ee[$];ee[$]=ee[er],ee[er]=ei}return ee}ee.shuffled=shuffled;let PickFirstLoadBalancer=class PickFirstLoadBalancer{constructor($){this.channelControlHelper=$,this.children=[],this.currentState=en.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=($,ee,er)=>{this.onSubchannelStateUpdate($,ee,er)},this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every($=>$.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.updateState(en.ConnectivityState.READY,new PickFirstPicker(this.currentPick)):0===this.children.length?this.updateState(en.ConnectivityState.IDLE,new es.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(en.ConnectivityState.TRANSIENT_FAILURE,new es.UnavailablePicker):this.updateState(en.ConnectivityState.CONNECTING,new es.QueuePicker(this))}maybeEnterStickyTransientFailureMode(){if(!this.stickyTransientFailureMode&&this.allChildrenHaveReportedTF()){for(let{subchannel:$}of(this.stickyTransientFailureMode=!0,this.channelControlHelper.requestReresolution(),this.children))$.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(null!==this.currentPick){let $=this.currentPick;this.currentPick=null,$.unref(),$.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild($.getChannelzRef())}}onSubchannelStateUpdate($,ee,er){var ei;if(null===(ei=this.currentPick)||void 0===ei?void 0:ei.realSubchannelEquals($)){er!==en.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.channelControlHelper.requestReresolution());return}for(let[ee,ei]of this.children.entries())if($.realSubchannelEquals(ei.subchannel)){er===en.ConnectivityState.READY&&this.pickSubchannel(ei.subchannel),er===en.ConnectivityState.TRANSIENT_FAILURE&&(ei.hasReportedTransientFailure=!0,this.maybeEnterStickyTransientFailureMode(),ee===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(ee+1)),ei.subchannel.startConnecting();return}}startNextSubchannelConnecting($){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels&&!this.stickyTransientFailureMode){for(let[ee,er]of this.children.entries())if(ee>=$){let $=er.subchannel.getConnectivityState();if($===en.ConnectivityState.IDLE||$===en.ConnectivityState.CONNECTING){this.startConnecting(ee);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting($){var ee,er;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=$,this.children[$].subchannel.getConnectivityState()===en.ConnectivityState.IDLE&&(trace("Start connecting to subchannel with address "+this.children[$].subchannel.getAddress()),process.nextTick(()=>{var ee;null===(ee=this.children[$])||void 0===ee||ee.subchannel.startConnecting()})),this.connectionDelayTimeout=null===(er=(ee=setTimeout(()=>{this.startNextSubchannelConnecting($+1)},em)).unref)||void 0===er?void 0:er.call(ee)}pickSubchannel($){this.currentPick&&$.realSubchannelEquals(this.currentPick)||(trace("Pick subchannel with address "+$.getAddress()),this.stickyTransientFailureMode=!1,null!==this.currentPick&&(this.currentPick.unref(),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)),this.currentPick=$,$.ref(),this.channelControlHelper.addChannelzChild($.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState($,ee){trace(en.ConnectivityState[this.currentState]+" -> "+en.ConnectivityState[$]),this.currentState=$,this.channelControlHelper.updateState($,ee)}resetSubchannelList(){for(let $ of this.children)$.subchannel!==this.currentPick&&$.subchannel.removeConnectivityStateListener(this.subchannelStateListener),$.subchannel.unref(),this.channelControlHelper.removeChannelzChild($.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1}updateAddressList($,ee){if(!(ee instanceof PickFirstLoadBalancingConfig))return;ee.getShuffleAddressList()&&($=shuffled($));let er=$.map($=>({subchannel:this.channelControlHelper.createSubchannel($,{}),hasReportedTransientFailure:!1}));for(let{subchannel:$}of er)$.ref(),this.channelControlHelper.addChannelzChild($.getChannelzRef());for(let{subchannel:$}of(this.resetSubchannelList(),this.children=er,this.children))if($.addConnectivityStateListener(this.subchannelStateListener),$.getConnectivityState()===en.ConnectivityState.READY){this.pickSubchannel($);return}for(let $ of this.children)$.subchannel.getConnectivityState()===en.ConnectivityState.TRANSIENT_FAILURE&&($.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return eh}};function setup(){(0,ei.registerLoadBalancerType)(eh,PickFirstLoadBalancer,PickFirstLoadBalancingConfig),(0,ei.registerDefaultLoadBalancerType)(eh)}ee.PickFirstLoadBalancer=PickFirstLoadBalancer,ee.setup=setup},18774:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.setup=ee.RoundRobinLoadBalancer=void 0;let ei=er(80476),en=er(67740),es=er(88963),eo=er(83677),ep=er(11632),eu=er(83932),eh="round_robin";function trace($){ep.trace(eu.LogVerbosity.DEBUG,eh,$)}let em="round_robin";let RoundRobinLoadBalancingConfig=class RoundRobinLoadBalancingConfig{getLoadBalancerName(){return em}constructor(){}toJsonObject(){return{[em]:{}}}static createFromJson($){return new RoundRobinLoadBalancingConfig}};let RoundRobinPicker=class RoundRobinPicker{constructor($,ee=0){this.subchannelList=$,this.nextIndex=ee}pick($){let ee=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:es.PickResultType.COMPLETE,subchannel:ee,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}};let RoundRobinLoadBalancer=class RoundRobinLoadBalancer{constructor($){this.channelControlHelper=$,this.subchannels=[],this.currentState=en.ConnectivityState.IDLE,this.currentReadyPicker=null,this.subchannelStateListener=($,ee,er)=>{this.calculateAndUpdateState(),(er===en.ConnectivityState.TRANSIENT_FAILURE||er===en.ConnectivityState.IDLE)&&(this.channelControlHelper.requestReresolution(),$.startConnecting())}}countSubchannelsWithState($){return this.subchannels.filter(ee=>ee.getConnectivityState()===$).length}calculateAndUpdateState(){if(this.countSubchannelsWithState(en.ConnectivityState.READY)>0){let $=this.subchannels.filter($=>$.getConnectivityState()===en.ConnectivityState.READY),ee=0;null!==this.currentReadyPicker&&(ee=$.indexOf(this.currentReadyPicker.peekNextSubchannel()))<0&&(ee=0),this.updateState(en.ConnectivityState.READY,new RoundRobinPicker($,ee))}else this.countSubchannelsWithState(en.ConnectivityState.CONNECTING)>0?this.updateState(en.ConnectivityState.CONNECTING,new es.QueuePicker(this)):this.countSubchannelsWithState(en.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(en.ConnectivityState.TRANSIENT_FAILURE,new es.UnavailablePicker):this.updateState(en.ConnectivityState.IDLE,new es.QueuePicker(this))}updateState($,ee){trace(en.ConnectivityState[this.currentState]+" -> "+en.ConnectivityState[$]),$===en.ConnectivityState.READY?this.currentReadyPicker=ee:this.currentReadyPicker=null,this.currentState=$,this.channelControlHelper.updateState($,ee)}resetSubchannelList(){for(let $ of this.subchannels)$.removeConnectivityStateListener(this.subchannelStateListener),$.unref(),this.channelControlHelper.removeChannelzChild($.getChannelzRef());this.subchannels=[]}updateAddressList($,ee){for(let ee of(this.resetSubchannelList(),trace("Connect to address list "+$.map($=>(0,eo.subchannelAddressToString)($))),this.subchannels=$.map($=>this.channelControlHelper.createSubchannel($,{})),this.subchannels)){ee.ref(),ee.addConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.addChannelzChild(ee.getChannelzRef());let $=ee.getConnectivityState();($===en.ConnectivityState.IDLE||$===en.ConnectivityState.TRANSIENT_FAILURE)&&ee.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(let $ of this.subchannels)$.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return em}};function setup(){(0,ei.registerLoadBalancerType)(em,RoundRobinLoadBalancer,RoundRobinLoadBalancingConfig)}ee.RoundRobinLoadBalancer=RoundRobinLoadBalancer,ee.setup=setup},80476:($,ee)=>{"use strict";function createChildChannelControlHelper($,ee){var er,ei,en,es,eo,ep,eu,eh,em,ef;return{createSubchannel:null!==(ei=null===(er=ee.createSubchannel)||void 0===er?void 0:er.bind(ee))&&void 0!==ei?ei:$.createSubchannel.bind($),updateState:null!==(es=null===(en=ee.updateState)||void 0===en?void 0:en.bind(ee))&&void 0!==es?es:$.updateState.bind($),requestReresolution:null!==(ep=null===(eo=ee.requestReresolution)||void 0===eo?void 0:eo.bind(ee))&&void 0!==ep?ep:$.requestReresolution.bind($),addChannelzChild:null!==(eh=null===(eu=ee.addChannelzChild)||void 0===eu?void 0:eu.bind(ee))&&void 0!==eh?eh:$.addChannelzChild.bind($),removeChannelzChild:null!==(ef=null===(em=ee.removeChannelzChild)||void 0===em?void 0:em.bind(ee))&&void 0!==ef?ef:$.removeChannelzChild.bind($)}}Object.defineProperty(ee,"__esModule",{value:!0}),ee.validateLoadBalancingConfig=ee.getFirstUsableConfig=ee.isLoadBalancerNameRegistered=ee.createLoadBalancer=ee.registerDefaultLoadBalancerType=ee.registerLoadBalancerType=ee.createChildChannelControlHelper=void 0,ee.createChildChannelControlHelper=createChildChannelControlHelper;let er={},ei=null;function registerLoadBalancerType($,ee,ei){er[$]={LoadBalancer:ee,LoadBalancingConfig:ei}}function registerDefaultLoadBalancerType($){ei=$}function createLoadBalancer($,ee){let ei=$.getLoadBalancerName();return ei in er?new er[ei].LoadBalancer(ee):null}function isLoadBalancerNameRegistered($){return $ in er}function getFirstUsableConfig($,ee=!1){for(let ee of $)if(ee.getLoadBalancerName() in er)return ee;return ee&&ei?new er[ei].LoadBalancingConfig:null}function validateLoadBalancingConfig($){if(!(null!==$&&"object"==typeof $))throw Error("Load balancing config must be an object");let ee=Object.keys($);if(1!==ee.length)throw Error("Provided load balancing config has multiple conflicting entries");let ei=ee[0];if(ei in er)return er[ei].LoadBalancingConfig.createFromJson($[ei]);throw Error(`Unrecognized load balancing config name ${ei}`)}ee.registerLoadBalancerType=registerLoadBalancerType,ee.registerDefaultLoadBalancerType=registerDefaultLoadBalancerType,ee.createLoadBalancer=createLoadBalancer,ee.isLoadBalancerNameRegistered=isLoadBalancerNameRegistered,ee.getFirstUsableConfig=getFirstUsableConfig,ee.validateLoadBalancingConfig=validateLoadBalancingConfig},25442:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.LoadBalancingCall=void 0;let ei=er(67740),en=er(83932),es=er(68099),eo=er(82063),ep=er(88963),eu=er(17676),eh=er(11632),em=er(5542),ef=er(85158),eg="load_balancing_call";let LoadBalancingCall=class LoadBalancingCall{constructor($,ee,er,ei,en,es,eo){var ep,eh;this.channel=$,this.callConfig=ee,this.methodName=er,this.host=ei,this.credentials=en,this.deadline=es,this.callNumber=eo,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;let em=this.methodName.split("/"),ef="";em.length>=2&&(ef=em[1]);let eg=null!==(eh=null===(ep=(0,eu.splitHostPort)(this.host))||void 0===ep?void 0:ep.host)&&void 0!==eh?eh:"localhost";this.serviceUrl=`https://${eg}/${ef}`}trace($){eh.trace(en.LogVerbosity.DEBUG,eg,"["+this.callNumber+"] "+$)}outputStatus($,ee){var er,ei;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+$.code+' details="'+$.details+'"');let en=Object.assign(Object.assign({},$),{progress:ee});null===(er=this.listener)||void 0===er||er.onReceiveStatus(en),null===(ei=this.onCallEnded)||void 0===ei||ei.call(this,en.code)}}doPick(){var $,ee;if(this.ended)return;if(!this.metadata)throw Error("doPick called before start");this.trace("Pick called");let er=this.channel.doPick(this.metadata,this.callConfig.pickInformation),eu=er.subchannel?"("+er.subchannel.getChannelzRef().id+") "+er.subchannel.getAddress():""+er.subchannel;switch(this.trace("Pick result: "+ep.PickResultType[er.pickResultType]+" subchannel: "+eu+" status: "+(null===($=er.status)||void 0===$?void 0:$.code)+" "+(null===(ee=er.status)||void 0===ee?void 0:ee.details)),er.pickResultType){case ep.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then($=>{var ee,ep,eh;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}let em=this.metadata.clone();if(em.merge($),em.get("authorization").length>1&&this.outputStatus({code:en.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new eo.Metadata},"PROCESSED"),er.subchannel.getConnectivityState()!==ei.ConnectivityState.READY){this.trace("Picked subchannel "+eu+" has state "+ei.ConnectivityState[er.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&em.set("grpc-timeout",(0,es.getDeadlineTimeoutString)(this.deadline));try{this.child=er.subchannel.getRealSubchannel().createCall(em,this.host,this.methodName,{onReceiveMetadata:$=>{this.trace("Received metadata"),this.listener.onReceiveMetadata($)},onReceiveMessage:$=>{this.trace("Received message"),this.listener.onReceiveMessage($)},onReceiveStatus:$=>{this.trace("Received status"),$.rstCode===ef.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus($,"REFUSED"):this.outputStatus($,"PROCESSED")}})}catch($){this.trace("Failed to start call on picked subchannel "+eu+" with error "+$.message),this.outputStatus({code:en.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+$.message,metadata:new eo.Metadata},"NOT_STARTED");return}null===(ep=(ee=this.callConfig).onCommitted)||void 0===ep||ep.call(ee),null===(eh=er.onCallStarted)||void 0===eh||eh.call(er),this.onCallEnded=er.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},$=>{let{code:ee,details:er}=(0,em.restrictControlPlaneStatusCode)("number"==typeof $.code?$.code:en.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${$.message}`);this.outputStatus({code:ee,details:er,metadata:new eo.Metadata},"PROCESSED")});break;case ep.PickResultType.DROP:let{code:eh,details:eg}=(0,em.restrictControlPlaneStatusCode)(er.status.code,er.status.details);setImmediate(()=>{this.outputStatus({code:eh,details:eg,metadata:er.status.metadata},"DROP")});break;case ep.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:$,details:ee}=(0,em.restrictControlPlaneStatusCode)(er.status.code,er.status.details);setImmediate(()=>{this.outputStatus({code:$,details:ee,metadata:er.status.metadata},"PROCESSED")})}break;case ep.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus($,ee){var er;this.trace("cancelWithStatus code: "+$+' details: "'+ee+'"'),null===(er=this.child)||void 0===er||er.cancelWithStatus($,ee),this.outputStatus({code:$,details:ee,metadata:new eo.Metadata},"PROCESSED")}getPeer(){var $,ee;return null!==(ee=null===($=this.child)||void 0===$?void 0:$.getPeer())&&void 0!==ee?ee:this.channel.getTarget()}start($,ee){this.trace("start called"),this.listener=ee,this.metadata=$,this.doPick()}sendMessageWithContext($,ee){this.trace("write() called with message of length "+ee.length),this.child?this.child.sendMessageWithContext($,ee):this.pendingMessage={context:$,message:ee}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials($){throw Error("Method not implemented.")}getCallNumber(){return this.callNumber}};ee.LoadBalancingCall=LoadBalancingCall},11632:($,ee,er)=>{"use strict";var ei,en,es,eo;Object.defineProperty(ee,"__esModule",{value:!0}),ee.isTracerEnabled=ee.trace=ee.log=ee.setLoggerVerbosity=ee.setLogger=ee.getLogger=void 0;let ep=er(83932),eu={error:($,...ee)=>{console.error("E "+$,...ee)},info:($,...ee)=>{console.error("I "+$,...ee)},debug:($,...ee)=>{console.error("D "+$,...ee)}},eh=eu,em=ep.LogVerbosity.ERROR,ef=null!==(en=null!==(ei=process.env.GRPC_NODE_VERBOSITY)&&void 0!==ei?ei:process.env.GRPC_VERBOSITY)&&void 0!==en?en:"";switch(ef.toUpperCase()){case"DEBUG":em=ep.LogVerbosity.DEBUG;break;case"INFO":em=ep.LogVerbosity.INFO;break;case"ERROR":em=ep.LogVerbosity.ERROR;break;case"NONE":em=ep.LogVerbosity.NONE}let getLogger=()=>eh;ee.getLogger=getLogger;let setLogger=$=>{eh=$};ee.setLogger=setLogger;let setLoggerVerbosity=$=>{em=$};ee.setLoggerVerbosity=setLoggerVerbosity;let log=($,...ee)=>{let er;if($>=em){switch($){case ep.LogVerbosity.DEBUG:er=eh.debug;break;case ep.LogVerbosity.INFO:er=eh.info;break;case ep.LogVerbosity.ERROR:er=eh.error}er||(er=eh.error),er&&er.bind(eh)(...ee)}};ee.log=log;let eg=null!==(eo=null!==(es=process.env.GRPC_NODE_TRACE)&&void 0!==es?es:process.env.GRPC_TRACE)&&void 0!==eo?eo:"",ey=new Set,ev=new Set;for(let $ of eg.split(","))$.startsWith("-")?ev.add($.substring(1)):ey.add($);let eS=ey.has("all");function trace($,er,ei){isTracerEnabled(er)&&(0,ee.log)($,new Date().toISOString()+" | "+er+" | "+ei)}function isTracerEnabled($){return!ev.has($)&&(eS||ey.has($))}ee.trace=trace,ee.isTracerEnabled=isTracerEnabled},43275:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.loadPackageDefinition=ee.makeClientConstructor=void 0;let ei=er(54811),en={unary:ei.Client.prototype.makeUnaryRequest,server_stream:ei.Client.prototype.makeServerStreamRequest,client_stream:ei.Client.prototype.makeClientStreamRequest,bidi:ei.Client.prototype.makeBidiStreamRequest};function isPrototypePolluted($){return["__proto__","prototype","constructor"].includes($)}function makeClientConstructor($,ee,er){er||(er={});let ServiceClientImpl=class ServiceClientImpl extends ei.Client{};return Object.keys($).forEach(ee=>{let er;if(isPrototypePolluted(ee))return;let ei=$[ee];if("string"==typeof ee&&"$"===ee.charAt(0))throw Error("Method names cannot start with $");er=ei.requestStream?ei.responseStream?"bidi":"client_stream":ei.responseStream?"server_stream":"unary";let es=ei.requestSerialize,eo=ei.responseDeserialize,ep=partial(en[er],ei.path,es,eo);ServiceClientImpl.prototype[ee]=ep,Object.assign(ServiceClientImpl.prototype[ee],ei),ei.originalName&&!isPrototypePolluted(ei.originalName)&&(ServiceClientImpl.prototype[ei.originalName]=ServiceClientImpl.prototype[ee])}),ServiceClientImpl.service=$,ServiceClientImpl.serviceName=ee,ServiceClientImpl}function partial($,ee,er,ei){return function(...en){return $.call(this,ee,er,ei,...en)}}function isProtobufTypeDefinition($){return"format"in $}function loadPackageDefinition($){let ee={};for(let er in $)if(Object.prototype.hasOwnProperty.call($,er)){let ei=$[er],en=er.split(".");if(en.some($=>isPrototypePolluted($)))continue;let es=en[en.length-1],eo=ee;for(let $ of en.slice(0,-1))eo[$]||(eo[$]={}),eo=eo[$];isProtobufTypeDefinition(ei)?eo[es]=ei:eo[es]=makeClientConstructor(ei,es,{})}return ee}ee.makeClientConstructor=makeClientConstructor,ee.loadPackageDefinition=loadPackageDefinition},99434:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.MaxMessageSizeFilterFactory=ee.MaxMessageSizeFilter=void 0;let ei=er(95971),en=er(83932),es=er(82063);let MaxMessageSizeFilter=class MaxMessageSizeFilter extends ei.BaseFilter{constructor($){super(),this.maxSendMessageSize=en.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=en.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,"grpc.max_send_message_length"in $&&(this.maxSendMessageSize=$["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in $&&(this.maxReceiveMessageSize=$["grpc.max_receive_message_length"])}async sendMessage($){if(-1===this.maxSendMessageSize)return $;{let ee=await $;if(!(ee.message.length>this.maxSendMessageSize))return ee;throw{code:en.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${ee.message.length} vs. ${this.maxSendMessageSize})`,metadata:new es.Metadata}}}async receiveMessage($){if(-1===this.maxReceiveMessageSize)return $;{let ee=await $;if(!(ee.length>this.maxReceiveMessageSize))return ee;throw{code:en.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${ee.length} vs. ${this.maxReceiveMessageSize})`,metadata:new es.Metadata}}}};ee.MaxMessageSizeFilter=MaxMessageSizeFilter;let MaxMessageSizeFilterFactory=class MaxMessageSizeFilterFactory{constructor($){this.options=$}createFilter(){return new MaxMessageSizeFilter(this.options)}};ee.MaxMessageSizeFilterFactory=MaxMessageSizeFilterFactory},82063:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.Metadata=void 0;let ei=er(11632),en=er(83932),es=er(36031),eo=/^[0-9a-z_.-]+$/,ep=/^[ -~]*$/;function isLegalKey($){return eo.test($)}function isLegalNonBinaryValue($){return ep.test($)}function isBinaryKey($){return $.endsWith("-bin")}function isCustomMetadata($){return!$.startsWith("grpc-")}function normalizeKey($){return $.toLowerCase()}function validate($,ee){if(!isLegalKey($))throw Error('Metadata key "'+$+'" contains illegal characters');if(null!=ee){if(isBinaryKey($)){if(!Buffer.isBuffer(ee))throw Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(ee))throw Error("keys that don't end with '-bin' must have String values");if(!isLegalNonBinaryValue(ee))throw Error('Metadata string value "'+ee+'" contains illegal characters')}}}let Metadata=class Metadata{constructor($={}){this.internalRepr=new Map,this.options=$}set($,ee){validate($=normalizeKey($),ee),this.internalRepr.set($,[ee])}add($,ee){validate($=normalizeKey($),ee);let er=this.internalRepr.get($);void 0===er?this.internalRepr.set($,[ee]):er.push(ee)}remove($){$=normalizeKey($),this.internalRepr.delete($)}get($){return $=normalizeKey($),this.internalRepr.get($)||[]}getMap(){let $={};for(let[ee,er]of this.internalRepr)if(er.length>0){let ei=er[0];$[ee]=Buffer.isBuffer(ei)?Buffer.from(ei):ei}return $}clone(){let $=new Metadata(this.options),ee=$.internalRepr;for(let[$,er]of this.internalRepr){let ei=er.map($=>Buffer.isBuffer($)?Buffer.from($):$);ee.set($,ei)}return $}merge($){for(let[ee,er]of $.internalRepr){let $=(this.internalRepr.get(ee)||[]).concat(er);this.internalRepr.set(ee,$)}}setOptions($){this.options=$}getOptions(){return this.options}toHttp2Headers(){let $={};for(let[ee,er]of this.internalRepr)$[ee]=er.map(bufToString);return $}toJSON(){let $={};for(let[ee,er]of this.internalRepr)$[ee]=er;return $}static fromHttp2Headers($){let ee=new Metadata;for(let er of Object.keys($)){if(":"===er.charAt(0))continue;let eo=$[er];try{isBinaryKey(er)?Array.isArray(eo)?eo.forEach($=>{ee.add(er,Buffer.from($,"base64"))}):void 0!==eo&&(isCustomMetadata(er)?eo.split(",").forEach($=>{ee.add(er,Buffer.from($.trim(),"base64"))}):ee.add(er,Buffer.from(eo,"base64"))):Array.isArray(eo)?eo.forEach($=>{ee.add(er,$)}):void 0!==eo&&ee.add(er,eo)}catch(ee){let $=`Failed to add metadata entry ${er}: ${eo}. ${(0,es.getErrorMessage)(ee)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,ei.log)(en.LogVerbosity.ERROR,$)}}return ee}};ee.Metadata=Metadata;let bufToString=$=>Buffer.isBuffer($)?$.toString("base64"):$},88963:($,ee,er)=>{"use strict";var ei;Object.defineProperty(ee,"__esModule",{value:!0}),ee.QueuePicker=ee.UnavailablePicker=ee.PickResultType=void 0;let en=er(82063),es=er(83932);!function($){$[$.COMPLETE=0]="COMPLETE",$[$.QUEUE=1]="QUEUE",$[$.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",$[$.DROP=3]="DROP"}(ei||(ee.PickResultType=ei={}));let UnavailablePicker=class UnavailablePicker{constructor($){void 0!==$?this.status=$:this.status={code:es.Status.UNAVAILABLE,details:"No connection established",metadata:new en.Metadata}}pick($){return{pickResultType:ei.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}};ee.UnavailablePicker=UnavailablePicker;let QueuePicker=class QueuePicker{constructor($){this.loadBalancer=$,this.calledExitIdle=!1}pick($){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:ei.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}};ee.QueuePicker=QueuePicker},3539:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.setup=void 0;let ei=er(12192),en=er(9523),es=er(73837),eo=er(55802),ep=er(83932),eu=er(82063),eh=er(11632),em=er(83932),ef=er(17676),eg=er(41808),ey=er(36548),ev="dns_resolver";function trace($){eh.trace(em.LogVerbosity.DEBUG,ev,$)}let eS=443,e_=3e4,ew=es.promisify(en.resolveTxt),eC=es.promisify(en.lookup);function mergeArrays(...$){let ee=[];for(let er=0;er<Math.max.apply(null,$.map($=>$.length));er++)for(let ei of $)er<ei.length&&ee.push(ei[er]);return ee}let DnsResolver=class DnsResolver{constructor($,ee,er){var ei,en,es;this.target=$,this.listener=ee,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,trace("Resolver constructed for target "+(0,ef.uriToString)($));let eo=(0,ef.splitHostPort)($.path);null===eo?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,eg.isIPv4)(eo.host)||(0,eg.isIPv6)(eo.host)?(this.ipResult=[{host:eo.host,port:null!==(ei=eo.port)&&void 0!==ei?ei:eS}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=eo.host,this.port=null!==(en=eo.port)&&void 0!==en?en:eS),this.percentage=100*Math.random(),1===er["grpc.service_config_disable_resolution"]&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:ep.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,ef.uriToString)(this.target)}`,metadata:new eu.Metadata};let eh={initialDelay:er["grpc.initial_reconnect_backoff_ms"],maxDelay:er["grpc.max_reconnect_backoff_ms"]};this.backoff=new ey.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},eh),this.backoff.unref(),this.minTimeBetweenResolutionsMs=null!==(es=er["grpc.dns_min_time_between_resolutions_ms"])&&void 0!==es?es:e_,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(null!==this.ipResult){trace("Returning IP address for target "+(0,ef.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(null===this.dnsHostname)trace("Failed to parse DNS address "+(0,ef.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:ep.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,ef.uriToString)(this.target)}`,metadata:new eu.Metadata})}),this.stopNextResolutionTimer();else{if(null!==this.pendingLookupPromise)return;trace("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let $=this.dnsHostname;this.pendingLookupPromise=eC($,{all:!0}),this.pendingLookupPromise.then($=>{if(null===this.pendingLookupPromise)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let ee=$.filter($=>4===$.family),er=$.filter($=>6===$.family);this.latestLookupResult=mergeArrays(er,ee).map($=>({host:$.address,port:+this.port}));let ei="["+this.latestLookupResult.map($=>$.host+":"+$.port).join(",")+"]";if(trace("Resolved addresses for target "+(0,ef.uriToString)(this.target)+": "+ei),0===this.latestLookupResult.length){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},$=>{null!==this.pendingLookupPromise&&(trace("Resolution error for target "+(0,ef.uriToString)(this.target)+": "+$.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&null===this.pendingTxtPromise&&(this.pendingTxtPromise=ew($),this.pendingTxtPromise.then($=>{if(null!==this.pendingTxtPromise){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,eo.extractAndSelectServiceConfig)($,this.percentage)}catch($){this.latestServiceConfigError={code:ep.Status.UNAVAILABLE,details:`Parsing service config failed with error ${$.message}`,metadata:new eu.Metadata}}null!==this.latestLookupResult&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},$=>{}))}}startNextResolutionTimer(){var $,ee;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=null===(ee=($=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs)).unref)||void 0===ee?void 0:ee.call($),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){null===this.pendingLookupPromise&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){null===this.pendingLookupPromise&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?trace('resolution update delayed by "min time between resolutions" rate limit'):trace("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null}static getDefaultAuthority($){return $.path}};function setup(){(0,ei.registerResolver)("dns",DnsResolver),(0,ei.registerDefaultScheme)("dns")}ee.setup=setup},43564:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.setup=void 0;let ei=er(41808),en=er(83932),es=er(82063),eo=er(12192),ep=er(17676),eu=er(11632),eh="ip_resolver";function trace($){eu.trace(en.LogVerbosity.DEBUG,eh,$)}let em="ipv4",ef="ipv6",eg=443;let IpResolver=class IpResolver{constructor($,ee,er){var eo;this.listener=ee,this.addresses=[],this.error=null,trace("Resolver constructed for target "+(0,ep.uriToString)($));let eu=[];if(!($.scheme===em||$.scheme===ef)){this.error={code:en.Status.UNAVAILABLE,details:`Unrecognized scheme ${$.scheme} in IP resolver`,metadata:new es.Metadata};return}let eh=$.path.split(",");for(let ee of eh){let er=(0,ep.splitHostPort)(ee);if(null===er||$.scheme===em&&!(0,ei.isIPv4)(er.host)||$.scheme===ef&&!(0,ei.isIPv6)(er.host)){this.error={code:en.Status.UNAVAILABLE,details:`Failed to parse ${$.scheme} address ${ee}`,metadata:new es.Metadata};return}eu.push({host:er.host,port:null!==(eo=er.port)&&void 0!==eo?eo:eg})}this.addresses=eu,trace("Parsed "+$.scheme+" address list "+this.addresses)}updateResolution(){process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})})}destroy(){}static getDefaultAuthority($){return $.path.split(",")[0]}};function setup(){(0,eo.registerResolver)(em,IpResolver),(0,eo.registerResolver)(ef,IpResolver)}ee.setup=setup},48339:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.setup=void 0;let ei=er(12192);let UdsResolver=class UdsResolver{constructor($,ee,er){let ei;this.listener=ee,this.addresses=[],ei=""===$.authority?"/"+$.path:$.path,this.addresses=[{path:ei}]}updateResolution(){process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{})}destroy(){}static getDefaultAuthority($){return"localhost"}};function setup(){(0,ei.registerResolver)("unix",UdsResolver)}ee.setup=setup},12192:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.mapUriDefaultScheme=ee.getDefaultAuthority=ee.createResolver=ee.registerDefaultScheme=ee.registerResolver=void 0;let ei=er(17676),en={},es=null;function registerResolver($,ee){en[$]=ee}function registerDefaultScheme($){es=$}function createResolver($,ee,er){if(void 0!==$.scheme&&$.scheme in en)return new en[$.scheme]($,ee,er);throw Error(`No resolver could be created for target ${(0,ei.uriToString)($)}`)}function getDefaultAuthority($){if(void 0!==$.scheme&&$.scheme in en)return en[$.scheme].getDefaultAuthority($);throw Error(`Invalid target ${(0,ei.uriToString)($)}`)}function mapUriDefaultScheme($){return void 0!==$.scheme&&$.scheme in en?$:null!==es?{scheme:es,authority:void 0,path:(0,ei.uriToString)($)}:null}ee.registerResolver=registerResolver,ee.registerDefaultScheme=registerDefaultScheme,ee.createResolver=createResolver,ee.getDefaultAuthority=getDefaultAuthority,ee.mapUriDefaultScheme=mapUriDefaultScheme},95484:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.ResolvingCall=void 0;let ei=er(83932),en=er(68099),es=er(82063),eo=er(11632),ep=er(5542),eu="resolving_call";let ResolvingCall=class ResolvingCall{constructor($,ee,er,es,eo,ep){this.channel=$,this.method=ee,this.filterStackFactory=es,this.credentials=eo,this.callNumber=ep,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadline=er.deadline,this.host=er.host,er.parentCall&&(er.flags&ei.Propagate.CANCELLATION&&er.parentCall.on("cancelled",()=>{this.cancelWithStatus(ei.Status.CANCELLED,"Cancelled by parent call")}),er.flags&ei.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+er.parentCall.getDeadline()),this.deadline=(0,en.minDeadline)(this.deadline,er.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace($){eo.trace(ei.LogVerbosity.DEBUG,eu,"["+this.callNumber+"] "+$)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,en.deadlineToString)(this.deadline));let $=(0,en.getRelativeTimeout)(this.deadline);if($!==1/0){this.trace("Deadline will be reached in "+$+"ms");let handleDeadline=()=>{this.cancelWithStatus(ei.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};$<=0?process.nextTick(handleDeadline):this.deadlineTimer=setTimeout(handleDeadline,$)}}outputStatus($){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let ee=this.filterStack.receiveTrailers($);this.trace("ended with status: code="+ee.code+' details="'+ee.details+'"'),this.statusWatchers.forEach($=>$(ee)),process.nextTick(()=>{var $;null===($=this.listener)||void 0===$||$.onReceiveStatus(ee)})}}sendMessageOnChild($,ee){if(!this.child)throw Error("sendMessageonChild called with child not populated");let er=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:ee,flags:$.flags})).then(ee=>{this.writeFilterPending=!1,er.sendMessageWithContext($,ee.message),this.pendingHalfClose&&er.halfClose()},$=>{this.cancelWithStatus($.code,$.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw Error("getConfig called before start");let $=this.channel.getConfig(this.method,this.metadata);if("NONE"===$.type){this.channel.queueCallForConfig(this);return}if("ERROR"===$.type){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus($.error);return}let ee=$.config;if(ee.status!==ei.Status.OK){let{code:$,details:er}=(0,ep.restrictControlPlaneStatusCode)(ee.status,"Failed to route call to method "+this.method);this.outputStatus({code:$,details:er,metadata:new es.Metadata});return}if(ee.methodConfig.timeout){let $=new Date;$.setSeconds($.getSeconds()+ee.methodConfig.timeout.seconds),$.setMilliseconds($.getMilliseconds()+ee.methodConfig.timeout.nanos/1e6),this.deadline=(0,en.minDeadline)(this.deadline,$),this.runDeadlineTimer()}this.filterStackFactory.push(ee.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then($=>{this.child=this.channel.createInnerCall(ee,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start($,{onReceiveMetadata:$=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata($))},onReceiveMessage:$=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage($).then($=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage($),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},$=>{this.cancelWithStatus($.code,$.details)})},onReceiveStatus:$=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=$:this.outputStatus($)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},$=>{this.outputStatus($)})}reportResolverError($){var ee;(null===(ee=this.metadata)||void 0===ee?void 0:ee.getOptions().waitForReady)?this.channel.queueCallForConfig(this):this.outputStatus($)}cancelWithStatus($,ee){var er;this.trace("cancelWithStatus code: "+$+' details: "'+ee+'"'),null===(er=this.child)||void 0===er||er.cancelWithStatus($,ee),this.outputStatus({code:$,details:ee,metadata:new es.Metadata})}getPeer(){var $,ee;return null!==(ee=null===($=this.child)||void 0===$?void 0:$.getPeer())&&void 0!==ee?ee:this.channel.getTarget()}start($,ee){this.trace("start called"),this.metadata=$.clone(),this.listener=ee,this.getConfig()}sendMessageWithContext($,ee){this.trace("write() called with message of length "+ee.length),this.child?this.sendMessageOnChild($,ee):this.pendingMessage={context:$,message:ee}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials($){this.credentials=this.credentials.compose($)}addStatusWatcher($){this.statusWatchers.push($)}getCallNumber(){return this.callNumber}};ee.ResolvingCall=ResolvingCall},42052:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.ResolvingLoadBalancer=void 0;let ei=er(80476),en=er(55802),es=er(67740),eo=er(12192),ep=er(88963),eu=er(36548),eh=er(83932),em=er(82063),ef=er(11632),eg=er(83932),ey=er(17676),ev=er(33331),eS="resolving_load_balancer";function trace($){ef.trace(eg.LogVerbosity.DEBUG,eS,$)}let e_=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function hasMatchingName($,ee,er,ei){for(let en of er.name)switch(ei){case"EMPTY":if(!en.service&&!en.method)return!0;break;case"SERVICE":if(en.service===$&&!en.method)return!0;break;case"SERVICE_AND_METHOD":if(en.service===$&&en.method===ee)return!0}return!1}function findMatchingConfig($,ee,er,ei){for(let en of er)if(hasMatchingName($,ee,en,ei))return en;return null}function getDefaultConfigSelector($){return function(ee,er){var ei,en;let es=ee.split("/").filter($=>$.length>0),eo=null!==(ei=es[0])&&void 0!==ei?ei:"",ep=null!==(en=es[1])&&void 0!==en?en:"";if($&&$.methodConfig)for(let ee of e_){let er=findMatchingConfig(eo,ep,$.methodConfig,ee);if(er)return{methodConfig:er,pickInformation:{},status:eh.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:eh.Status.OK,dynamicFilterFactories:[]}}}let ResolvingLoadBalancer=class ResolvingLoadBalancer{constructor($,ee,er,ef,eg){this.target=$,this.channelControlHelper=ee,this.onSuccessfulResolution=ef,this.onFailedResolution=eg,this.latestChildState=es.ConnectivityState.IDLE,this.latestChildPicker=new ep.QueuePicker(this),this.currentState=es.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,er["grpc.service_config"]?this.defaultServiceConfig=(0,en.validateServiceConfig)(JSON.parse(er["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(es.ConnectivityState.IDLE,new ep.QueuePicker(this)),this.childLoadBalancer=new ev.ChildLoadBalancerHandler({createSubchannel:ee.createSubchannel.bind(ee),requestReresolution:()=>{this.backoffTimeout.isRunning()?(trace("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:($,ee)=>{this.latestChildState=$,this.latestChildPicker=ee,this.updateState($,ee)},addChannelzChild:ee.addChannelzChild.bind(ee),removeChannelzChild:ee.removeChannelzChild.bind(ee)}),this.innerResolver=(0,eo.createResolver)($,{onSuccessfulResolution:($,ee,er,en,es)=>{var eo;this.backoffTimeout.stop(),this.backoffTimeout.reset();let ep=null;null===ee?null===er?(this.previousServiceConfig=null,ep=this.defaultServiceConfig):null===this.previousServiceConfig?this.handleResolutionFailure(er):ep=this.previousServiceConfig:(ep=ee,this.previousServiceConfig=ee);let eu=null!==(eo=null==ep?void 0:ep.loadBalancingConfig)&&void 0!==eo?eo:[],ef=(0,ei.getFirstUsableConfig)(eu,!0);if(null===ef){this.handleResolutionFailure({code:eh.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new em.Metadata});return}this.childLoadBalancer.updateAddressList($,ef,es);let eg=null!=ep?ep:this.defaultServiceConfig;this.onSuccessfulResolution(eg,null!=en?en:getDefaultConfigSelector(eg))},onError:$=>{this.handleResolutionFailure($)}},er);let ey={initialDelay:er["grpc.initial_reconnect_backoff_ms"],maxDelay:er["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new eu.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},ey),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===es.ConnectivityState.IDLE&&this.updateState(es.ConnectivityState.CONNECTING,new ep.QueuePicker(this)),this.backoffTimeout.runOnce()}updateState($,ee){trace((0,ey.uriToString)(this.target)+" "+es.ConnectivityState[this.currentState]+" -> "+es.ConnectivityState[$]),$===es.ConnectivityState.IDLE&&(ee=new ep.QueuePicker(this)),this.currentState=$,this.channelControlHelper.updateState($,ee)}handleResolutionFailure($){this.latestChildState===es.ConnectivityState.IDLE&&(this.updateState(es.ConnectivityState.TRANSIENT_FAILURE,new ep.UnavailablePicker($)),this.onFailedResolution($))}exitIdle(){(this.currentState===es.ConnectivityState.IDLE||this.currentState===es.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList($,ee){throw Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=es.ConnectivityState.IDLE,this.latestChildPicker=new ep.QueuePicker(this),this.currentState=es.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}};ee.ResolvingLoadBalancer=ResolvingLoadBalancer},38387:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.RetryingCall=ee.MessageBufferTracker=ee.RetryThrottler=void 0;let ei=er(83932),en=er(82063),es=er(11632),eo="retrying_call";let RetryThrottler=class RetryThrottler{constructor($,ee,er){this.maxTokens=$,this.tokenRatio=ee,er?this.tokens=er.tokens*($/er.maxTokens):this.tokens=$}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}};ee.RetryThrottler=RetryThrottler;let MessageBufferTracker=class MessageBufferTracker{constructor($,ee){this.totalLimit=$,this.limitPerCall=ee,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate($,ee){var er;let ei=null!==(er=this.allocatedPerCall.get(ee))&&void 0!==er?er:0;return!(this.limitPerCall-ei<$)&&!(this.totalLimit-this.totalAllocated<$)&&(this.allocatedPerCall.set(ee,ei+$),this.totalAllocated+=$,!0)}free($,ee){var er;if(this.totalAllocated<$)throw Error(`Invalid buffer allocation state: call ${ee} freed ${$} > total allocated ${this.totalAllocated}`);this.totalAllocated-=$;let ei=null!==(er=this.allocatedPerCall.get(ee))&&void 0!==er?er:0;if(ei<$)throw Error(`Invalid buffer allocation state: call ${ee} freed ${$} > allocated for call ${ei}`);this.allocatedPerCall.set(ee,ei-$)}freeAll($){var ee;let er=null!==(ee=this.allocatedPerCall.get($))&&void 0!==ee?ee:0;if(this.totalAllocated<er)throw Error(`Invalid buffer allocation state: call ${$} allocated ${er} > total allocated ${this.totalAllocated}`);this.totalAllocated-=er,this.allocatedPerCall.delete($)}};ee.MessageBufferTracker=MessageBufferTracker;let ep="grpc-previous-rpc-attempts";let RetryingCall=class RetryingCall{constructor($,ee,er,ei,en,es,eo,ep,eu){if(this.channel=$,this.callConfig=ee,this.methodName=er,this.host=ei,this.credentials=en,this.deadline=es,this.callNumber=eo,this.bufferTracker=ep,this.retryThrottler=eu,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,ee.methodConfig.retryPolicy){this.state="RETRY";let $=ee.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number($.initialBackoff.substring(0,$.initialBackoff.length-1))}else ee.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace($){es.trace(ei.LogVerbosity.DEBUG,eo,"["+this.callNumber+"] "+$)}reportStatus($){this.trace("ended with status: code="+$.code+' details="'+$.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var ee;null===(ee=this.listener)||void 0===ee||ee.onReceiveStatus({code:$.code,details:$.details,metadata:$.metadata})})}cancelWithStatus($,ee){for(let{call:er}of(this.trace("cancelWithStatus code: "+$+' details: "'+ee+'"'),this.reportStatus({code:$,details:ee,metadata:new en.Metadata}),this.underlyingCalls))er.cancelWithStatus($,ee)}getPeer(){return null!==this.committedCallIndex?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry($){var ee;return null!==(ee=this.writeBuffer[$-this.writeBufferOffset])&&void 0!==ee?ee:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if("COMMITTED"!==this.state)return;let $=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let ee=this.writeBufferOffset;ee<$;ee++){let $=this.getBufferEntry(ee);$.allocated&&this.bufferTracker.free($.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice($-this.writeBufferOffset),this.writeBufferOffset=$}commitCall($){if("COMMITTED"!==this.state&&"COMPLETED"!==this.underlyingCalls[$].state){this.trace("Committing call ["+this.underlyingCalls[$].call.getCallNumber()+"] at index "+$),this.state="COMMITTED",this.committedCallIndex=$;for(let ee=0;ee<this.underlyingCalls.length;ee++)ee!==$&&"COMPLETED"!==this.underlyingCalls[ee].state&&(this.underlyingCalls[ee].state="COMPLETED",this.underlyingCalls[ee].call.cancelWithStatus(ei.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if("COMMITTED"===this.state)return;let $=-1,ee=-1;for(let[er,ei]of this.underlyingCalls.entries())"ACTIVE"===ei.state&&ei.nextMessageToSend>$&&($=ei.nextMessageToSend,ee=er);-1===ee?this.state="TRANSPARENT_ONLY":this.commitCall(ee)}isStatusCodeInList($,ee){return $.some($=>$===ee||$.toString().toLowerCase()===ei.Status[ee].toLowerCase())}getNextRetryBackoffMs(){var $;let ee=null===($=this.callConfig)||void 0===$?void 0:$.methodConfig.retryPolicy;if(!ee)return 0;let er=Math.random()*this.nextRetryBackoffSec*1e3,ei=Number(ee.maxBackoff.substring(0,ee.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*ee.backoffMultiplier,ei),er}maybeRetryCall($,ee){let er;if("RETRY"!==this.state){ee(!1);return}let ei=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(ei.maxAttempts,5)){ee(!1);return}if(null===$)er=this.getNextRetryBackoffMs();else if($<0){this.state="TRANSPARENT_ONLY",ee(!1);return}else er=$,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var $,er;if("RETRY"!==this.state){ee(!1);return}(null===(er=null===($=this.retryThrottler)||void 0===$?void 0:$.canRetryCall())||void 0===er||er)&&(ee(!0),this.attempts+=1,this.startNewAttempt())},er)}countActiveCalls(){let $=0;for(let ee of this.underlyingCalls)(null==ee?void 0:ee.state)==="ACTIVE"&&($+=1);return $}handleProcessedStatus($,ee,er){var ei,en,es;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(ee),this.reportStatus($);break;case"HEDGING":if(this.isStatusCodeInList(null!==(ei=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)&&void 0!==ei?ei:[],$.code)){let ei;if(null===(en=this.retryThrottler)||void 0===en||en.addCallFailed(),null===er)ei=0;else if(er<0){this.state="TRANSPARENT_ONLY",this.commitCall(ee),this.reportStatus($);return}else ei=er;setTimeout(()=>{this.maybeStartHedgingAttempt(),0===this.countActiveCalls()&&(this.commitCall(ee),this.reportStatus($))},ei)}else this.commitCall(ee),this.reportStatus($);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,$.code)?(null===(es=this.retryThrottler)||void 0===es||es.addCallFailed(),this.maybeRetryCall(er,er=>{er||(this.commitCall(ee),this.reportStatus($))})):(this.commitCall(ee),this.reportStatus($))}}getPushback($){let ee=$.get("grpc-retry-pushback-ms");if(0===ee.length)return null;try{return parseInt(ee[0])}catch($){return -1}}handleChildStatus($,ee){var er;if("COMPLETED"===this.underlyingCalls[ee].state)return;if(this.trace("state="+this.state+" handling status with progress "+$.progress+" from child ["+this.underlyingCalls[ee].call.getCallNumber()+"] in state "+this.underlyingCalls[ee].state),this.underlyingCalls[ee].state="COMPLETED",$.code===ei.Status.OK){null===(er=this.retryThrottler)||void 0===er||er.addCallSucceeded(),this.commitCall(ee),this.reportStatus($);return}if("COMMITTED"===this.state){this.reportStatus($);return}let en=this.getPushback($.metadata);switch($.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus($,ee,en):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(ee),this.reportStatus($);break;case"PROCESSED":this.handleProcessedStatus($,ee,en)}}maybeStartHedgingAttempt(){if("HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let $=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min($.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var $,ee,er;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),"HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let ei=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(ei.maxAttempts,5))return;let en=null!==($=ei.hedgingDelay)&&void 0!==$?$:"0s",es=Number(en.substring(0,en.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},1e3*es),null===(er=(ee=this.hedgingTimer).unref)||void 0===er||er.call(ee)}startNewAttempt(){let $=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+$.getCallNumber()+"] for attempt "+this.attempts);let ee=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:$,nextMessageToSend:0});let er=this.attempts-1,ei=this.initialMetadata.clone();er>0&&ei.set(ep,`${er}`);let en=!1;$.start(ei,{onReceiveMetadata:ei=>{this.trace("Received metadata from child ["+$.getCallNumber()+"]"),this.commitCall(ee),en=!0,er>0&&ei.set(ep,`${er}`),"ACTIVE"===this.underlyingCalls[ee].state&&this.listener.onReceiveMetadata(ei)},onReceiveMessage:er=>{this.trace("Received message from child ["+$.getCallNumber()+"]"),this.commitCall(ee),"ACTIVE"===this.underlyingCalls[ee].state&&this.listener.onReceiveMessage(er)},onReceiveStatus:ei=>{this.trace("Received status from child ["+$.getCallNumber()+"]"),!en&&er>0&&ei.metadata.set(ep,`${er}`),this.handleChildStatus(ei,ee)}}),this.sendNextChildMessage(ee),this.readStarted&&$.startRead()}start($,ee){this.trace("start called"),this.listener=ee,this.initialMetadata=$,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted($){var ee,er;let ei=this.underlyingCalls[$],en=ei.nextMessageToSend;null===(er=(ee=this.getBufferEntry(en)).callback)||void 0===er||er.call(ee),this.clearSentMessages(),ei.nextMessageToSend+=1,this.sendNextChildMessage($)}sendNextChildMessage($){let ee=this.underlyingCalls[$];if("COMPLETED"!==ee.state&&this.getBufferEntry(ee.nextMessageToSend)){let er=this.getBufferEntry(ee.nextMessageToSend);switch(er.entryType){case"MESSAGE":ee.call.sendMessageWithContext({callback:ee=>{this.handleChildWriteCompleted($)}},er.message.message);break;case"HALF_CLOSE":ee.nextMessageToSend+=1,ee.call.halfClose()}}}sendMessageWithContext($,ee){var er;this.trace("write() called with message of length "+ee.length);let ei={message:ee,flags:$.flags},en=this.getNextBufferIndex(),es={entryType:"MESSAGE",message:ei,allocated:this.bufferTracker.allocate(ee.length,this.callNumber)};if(this.writeBuffer.push(es),es.allocated)for(let[ei,es]of(null===(er=$.callback)||void 0===er||er.call($),this.underlyingCalls.entries()))"ACTIVE"===es.state&&es.nextMessageToSend===en&&es.call.sendMessageWithContext({callback:$=>{this.handleChildWriteCompleted(ei)}},ee);else{if(this.commitCallWithMostMessages(),null===this.committedCallIndex)return;let er=this.underlyingCalls[this.committedCallIndex];es.callback=$.callback,"ACTIVE"===er.state&&er.nextMessageToSend===en&&er.call.sendMessageWithContext({callback:$=>{this.handleChildWriteCompleted(this.committedCallIndex)}},ee)}}startRead(){for(let $ of(this.trace("startRead called"),this.readStarted=!0,this.underlyingCalls))(null==$?void 0:$.state)==="ACTIVE"&&$.call.startRead()}halfClose(){this.trace("halfClose called");let $=this.getNextBufferIndex();for(let ee of(this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1}),this.underlyingCalls))(null==ee?void 0:ee.state)==="ACTIVE"&&ee.nextMessageToSend===$&&(ee.nextMessageToSend+=1,ee.call.halfClose())}setCredentials($){throw Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}};ee.RetryingCall=RetryingCall},90736:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.Http2ServerCallStream=ee.ServerDuplexStreamImpl=ee.ServerWritableStreamImpl=ee.ServerReadableStreamImpl=ee.ServerUnaryCallImpl=void 0;let ei=er(82361),en=er(85158),es=er(12781),eo=er(59796),ep=er(73837),eu=er(83932),eh=er(82063),em=er(93268),ef=er(11632),eg=er(36031),ey="server_call",ev=(0,ep.promisify)(eo.unzip),eS=(0,ep.promisify)(eo.inflate);function trace($){ef.trace(eu.LogVerbosity.DEBUG,ey,$)}let e_="grpc-accept-encoding",ew="grpc-encoding",eC="grpc-message",eT="grpc-status",eE="grpc-timeout",eI=/(\d{1,8})\s*([HMSmun])/,eD={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},eR={[e_]:"identity,deflate,gzip",[ew]:"identity"},eP={[en.constants.HTTP2_HEADER_STATUS]:en.constants.HTTP_STATUS_OK,[en.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},eN={waitForTrailers:!0};let ServerUnaryCallImpl=class ServerUnaryCallImpl extends ei.EventEmitter{constructor($,ee,er){super(),this.call=$,this.metadata=ee,this.request=er,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata($){this.call.sendMetadata($)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}};ee.ServerUnaryCallImpl=ServerUnaryCallImpl;let ServerReadableStreamImpl=class ServerReadableStreamImpl extends es.Readable{constructor($,ee,er,ei){super({objectMode:!0}),this.call=$,this.metadata=ee,this.deserialize=er,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this,ei)}_read($){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata($){this.call.sendMetadata($)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}};ee.ServerReadableStreamImpl=ServerReadableStreamImpl;let ServerWritableStreamImpl=class ServerWritableStreamImpl extends es.Writable{constructor($,ee,er,ei){super({objectMode:!0}),this.call=$,this.metadata=ee,this.serialize=er,this.request=ei,this.cancelled=!1,this.trailingMetadata=new eh.Metadata,this.call.setupSurfaceCall(this),this.on("error",$=>{this.call.sendError($),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata($){this.call.sendMetadata($)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write($,ee,er){try{let ee=this.call.serializeMessage($);if(!this.call.write(ee)){this.call.once("drain",er);return}}catch($){this.emit("error",{details:(0,eg.getErrorMessage)($),code:eu.Status.INTERNAL})}er()}_final($){this.call.sendStatus({code:eu.Status.OK,details:"OK",metadata:this.trailingMetadata}),$(null)}end($){return $&&(this.trailingMetadata=$),super.end()}};ee.ServerWritableStreamImpl=ServerWritableStreamImpl;let ServerDuplexStreamImpl=class ServerDuplexStreamImpl extends es.Duplex{constructor($,ee,er,ei,en){super({objectMode:!0}),this.call=$,this.metadata=ee,this.serialize=er,this.deserialize=ei,this.cancelled=!1,this.trailingMetadata=new eh.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this,en),this.on("error",$=>{this.call.sendError($),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata($){this.call.sendMetadata($)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end($){return $&&(this.trailingMetadata=$),super.end()}};ee.ServerDuplexStreamImpl=ServerDuplexStreamImpl,ServerDuplexStreamImpl.prototype._read=ServerReadableStreamImpl.prototype._read,ServerDuplexStreamImpl.prototype._write=ServerWritableStreamImpl.prototype._write,ServerDuplexStreamImpl.prototype._final=ServerWritableStreamImpl.prototype._final;let Http2ServerCallStream=class Http2ServerCallStream extends ei.EventEmitter{constructor($,ee,er){super(),this.stream=$,this.handler=ee,this.cancelled=!1,this.deadlineTimer=null,this.statusSent=!1,this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=eu.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=eu.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",$=>{}),this.stream.once("close",()=>{var $;trace("Request to method "+(null===($=this.handler)||void 0===$?void 0:$.path)+" stream closed with rstCode "+this.stream.rstCode),!this.statusSent&&(this.cancelled=!0,this.emit("cancelled","cancelled"),this.emit("streamEnd",!1),this.sendStatus({code:eu.Status.CANCELLED,details:"Cancelled by client",metadata:null}),this.deadlineTimer&&clearTimeout(this.deadlineTimer))}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in er&&(this.maxSendMessageSize=er["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in er&&(this.maxReceiveMessageSize=er["grpc.max_receive_message_length"])}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}getDecompressedMessage($,ee){return"deflate"===ee?eS($.subarray(5)):"gzip"===ee?ev($.subarray(5)):"identity"===ee?$.subarray(5):Promise.reject({code:eu.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${ee}"`})}sendMetadata($){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let ee=$?$.toHttp2Headers():null,er=Object.assign(Object.assign(Object.assign({},eP),eR),ee);this.stream.respond(er,eN)}receiveMetadata($){let ee=eh.Metadata.fromHttp2Headers($);ef.isTracerEnabled(ey)&&trace("Request to "+this.handler.path+" received headers "+JSON.stringify(ee.toJSON()));let er=ee.get(eE);if(er.length>0){let $=er[0].toString().match(eI);if(null===$){let $=Error("Invalid deadline");return $.code=eu.Status.OUT_OF_RANGE,this.sendError($),ee}let ei=+$[1]*eD[$[2]]|0,en=new Date;this.deadline=en.setMilliseconds(en.getMilliseconds()+ei),this.deadlineTimer=setTimeout(handleExpiredDeadline,ei,this),ee.remove(eE)}return ee.remove(en.constants.HTTP2_HEADER_ACCEPT_ENCODING),ee.remove(en.constants.HTTP2_HEADER_TE),ee.remove(en.constants.HTTP2_HEADER_CONTENT_TYPE),ee.remove("grpc-accept-encoding"),ee}receiveUnaryMessage($){return new Promise((ee,er)=>{let{stream:ei}=this,en=0,es=this,eo=[],ep=this.maxReceiveMessageSize;function onData($){if(en+=$.byteLength,-1!==ep&&en>ep){ei.removeListener("data",onData),ei.removeListener("end",onEnd),ei.removeListener("error",onEnd),er({code:eu.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${en} vs. ${ep})`});return}eo.push($)}function onEnd(ep){if(ei.removeListener("data",onData),ei.removeListener("end",onEnd),ei.removeListener("error",onEnd),void 0!==ep){er({code:eu.Status.INTERNAL,details:ep.message});return}if(0===en){er({code:eu.Status.INTERNAL,details:"received empty unary message"});return}es.emit("receiveMessage");let eh=Buffer.concat(eo,en),em=1===eh.readUInt8(0),ef=em?$:"identity",eg=es.getDecompressedMessage(eh,ef);if(Buffer.isBuffer(eg)){ee(es.deserializeMessageWithInternalError(eg));return}eg.then($=>ee(es.deserializeMessageWithInternalError($)),ee=>er(ee.code?ee:{code:eu.Status.INTERNAL,details:`Received "grpc-encoding" header "${$}" but ${$} decompression failed`}))}this.stream.on("data",onData),this.stream.on("end",onEnd),this.stream.on("error",onEnd)})}async deserializeMessageWithInternalError($){try{return this.deserializeMessage($)}catch($){throw{details:(0,eg.getErrorMessage)($),code:eu.Status.INTERNAL}}}serializeMessage($){let ee=this.handler.serialize($),er=ee.byteLength,ei=Buffer.allocUnsafe(er+5);return ei.writeUInt8(0,0),ei.writeUInt32BE(er,1),ee.copy(ei,5),ei}deserializeMessage($){return this.handler.deserialize($)}async sendUnaryMessage($,ee,er,ei){if(!this.checkCancelled()){if(void 0===er&&(er=null),$){!Object.prototype.hasOwnProperty.call($,"metadata")&&er&&($.metadata=er),this.sendError($);return}try{let $=this.serializeMessage(ee);this.write($),this.sendStatus({code:eu.Status.OK,details:"OK",metadata:er})}catch($){this.sendError({details:(0,eg.getErrorMessage)($),code:eu.Status.INTERNAL})}}}sendStatus($){var ee,er;if(this.emit("callEnd",$.code),this.emit("streamEnd",$.code===eu.Status.OK),!this.checkCancelled()){if(trace("Request to method "+(null===(ee=this.handler)||void 0===ee?void 0:ee.path)+" ended with status code: "+eu.Status[$.code]+" details: "+$.details),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var ee;let er=Object.assign({[eT]:$.code,[eC]:encodeURI($.details)},null===(ee=$.metadata)||void 0===ee?void 0:ee.toHttp2Headers());this.stream.sendTrailers(er),this.statusSent=!0}),this.stream.end());else{let ee=Object.assign(Object.assign({[eT]:$.code,[eC]:encodeURI($.details)},eP),null===(er=$.metadata)||void 0===er?void 0:er.toHttp2Headers());this.stream.respond(ee,{endStream:!0}),this.statusSent=!0}}}sendError($){let ee={code:eu.Status.UNKNOWN,details:"message"in $?$.message:"Unknown Error",metadata:"metadata"in $&&void 0!==$.metadata?$.metadata:null};"code"in $&&"number"==typeof $.code&&Number.isInteger($.code)&&(ee.code=$.code,"details"in $&&"string"==typeof $.details&&(ee.details=$.details)),this.sendStatus(ee)}write($){if(!this.checkCancelled()){if(-1!==this.maxSendMessageSize&&$.length>this.maxSendMessageSize){this.sendError({code:eu.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${$.length} vs. ${this.maxSendMessageSize})`});return}return this.sendMetadata(),this.emit("sendMessage"),this.stream.write($)}}resume(){this.stream.resume()}setupSurfaceCall($){this.once("cancelled",ee=>{$.cancelled=!0,$.emit("cancelled",ee)}),this.once("callEnd",ee=>$.emit("callEnd",ee))}setupReadable($,ee){let er=new em.StreamDecoder,ei=!1,en=!1,es=!1,maybePushEnd=async()=>{es||!ei||en||(es=!0,await this.pushOrBufferMessage($,null))};this.stream.on("data",async ei=>{let es=er.write(ei);for(let er of(en=!0,this.stream.pause(),es)){if(-1!==this.maxReceiveMessageSize&&er.length>this.maxReceiveMessageSize){this.sendError({code:eu.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${er.length} vs. ${this.maxReceiveMessageSize})`});return}this.emit("receiveMessage");let ei=1===er.readUInt8(0),en=ei?ee:"identity",es=await this.getDecompressedMessage(er,en);if(!es)return;await this.pushOrBufferMessage($,es)}en=!1,this.stream.resume(),await maybePushEnd()}),this.stream.once("end",async()=>{ei=!0,await maybePushEnd()})}consumeUnpushedMessages($){for(this.canPush=!0;this.messagesToPush.length>0;){let ee=this.messagesToPush.shift(),er=$.push(ee);if(null===ee||!1===er){this.canPush=!1;break}}return this.canPush}async pushOrBufferMessage($,ee){this.isPushPending?this.bufferedMessages.push(ee):await this.pushMessage($,ee)}async pushMessage($,ee){if(null===ee){trace("Received end of stream"),this.canPush?$.push(null):this.messagesToPush.push(null);return}trace("Received message of length "+ee.length),this.isPushPending=!0;try{let er=await this.deserializeMessage(ee);this.canPush?$.push(er)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(er)}catch(er){this.bufferedMessages.length=0;let ee=(0,eg.getErrorCode)(er);(null===ee||ee<eu.Status.OK||ee>eu.Status.UNAUTHENTICATED)&&(ee=eu.Status.INTERNAL),$.emit("error",{details:(0,eg.getErrorMessage)(er),code:ee})}this.isPushPending=!1,this.bufferedMessages.length>0&&await this.pushMessage($,this.bufferedMessages.shift())}getPeer(){var $;let ee=null===($=this.stream.session)||void 0===$?void 0:$.socket;return null!=ee&&ee.remoteAddress?ee.remotePort?`${ee.remoteAddress}:${ee.remotePort}`:ee.remoteAddress:"unknown"}getDeadline(){return this.deadline}getPath(){return this.handler.path}};function handleExpiredDeadline($){let ee=Error("Deadline exceeded");ee.code=eu.Status.DEADLINE_EXCEEDED,$.sendError(ee),$.cancelled=!0,$.emit("cancelled","deadline")}ee.Http2ServerCallStream=Http2ServerCallStream},43716:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.ServerCredentials=void 0;let ei=er(64248);let ServerCredentials=class ServerCredentials{static createInsecure(){return new InsecureServerCredentials}static createSsl($,ee,er=!1){if(null!==$&&!Buffer.isBuffer($))throw TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(ee))throw TypeError("keyCertPairs must be an array");if("boolean"!=typeof er)throw TypeError("checkClientCertificate must be a boolean");let en=[],es=[];for(let $=0;$<ee.length;$++){let er=ee[$];if(null===er||"object"!=typeof er)throw TypeError(`keyCertPair[${$}] must be an object`);if(!Buffer.isBuffer(er.private_key))throw TypeError(`keyCertPair[${$}].private_key must be a Buffer`);if(!Buffer.isBuffer(er.cert_chain))throw TypeError(`keyCertPair[${$}].cert_chain must be a Buffer`);en.push(er.cert_chain),es.push(er.private_key)}return new SecureServerCredentials({ca:$||(0,ei.getDefaultRootsData)()||void 0,cert:en,key:es,requestCert:er,ciphers:ei.CIPHER_SUITES})}};ee.ServerCredentials=ServerCredentials;let InsecureServerCredentials=class InsecureServerCredentials extends ServerCredentials{_isSecure(){return!1}_getSettings(){return null}};let SecureServerCredentials=class SecureServerCredentials extends ServerCredentials{constructor($){super(),this.options=$}_isSecure(){return!0}_getSettings(){return this.options}}},38283:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.Server=void 0;let ei=er(85158),en=er(83932),es=er(90736),eo=er(43716),ep=er(12192),eu=er(11632),eh=er(83677),em=er(17676),ef=er(27184),eg=2147483647,ey=2147483647,ev=2e4,{HTTP2_HEADER_PATH:eS}=ei.constants,e_="server";function noop(){}function getUnimplementedStatusResponse($){return{code:en.Status.UNIMPLEMENTED,details:`The server does not implement the method ${$}`}}function getDefaultHandler($,ee){let er=getUnimplementedStatusResponse(ee);switch($){case"unary":return($,ee)=>{ee(er,null)};case"clientStream":return($,ee)=>{ee(er,null)};case"serverStream":return $=>{$.emit("error",er)};case"bidi":return $=>{$.emit("error",er)};default:throw Error(`Invalid handlerType ${$}`)}}let Server=class Server{constructor($){var ee,er,ei,en;this.http2ServerList=[],this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new ef.ChannelzTrace,this.callTracker=new ef.ChannelzCallTracker,this.listenerChildrenTracker=new ef.ChannelzChildrenTracker,this.sessionChildrenTracker=new ef.ChannelzChildrenTracker,this.options=null!=$?$:{},0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,ef.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=null!==(ee=this.options["grpc.max_connection_age_ms"])&&void 0!==ee?ee:eg,this.maxConnectionAgeGraceMs=null!==(er=this.options["grpc.max_connection_age_grace_ms"])&&void 0!==er?er:eg,this.keepaliveTimeMs=null!==(ei=this.options["grpc.keepalive_time_ms"])&&void 0!==ei?ei:ey,this.keepaliveTimeoutMs=null!==(en=this.options["grpc.keepalive_timeout_ms"])&&void 0!==en?en:ev,this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter($){return()=>{var ee,er,ei;let en;let es=this.sessions.get($),eo=$.socket,ep=eo.remoteAddress?(0,eh.stringToSubchannelAddress)(eo.remoteAddress,eo.remotePort):null,eu=eo.localAddress?(0,eh.stringToSubchannelAddress)(eo.localAddress,eo.localPort):null;if($.encrypted){let $=eo,er=$.getCipher(),ei=$.getCertificate(),es=$.getPeerCertificate();en={cipherSuiteStandardName:null!==(ee=er.standardName)&&void 0!==ee?ee:null,cipherSuiteOtherName:er.standardName?null:er.name,localCertificate:ei&&"raw"in ei?ei.raw:null,remoteCertificate:es&&"raw"in es?es.raw:null}}else en=null;let em={remoteAddress:ep,localAddress:eu,security:en,remoteName:null,streamsStarted:es.streamTracker.callsStarted,streamsSucceeded:es.streamTracker.callsSucceeded,streamsFailed:es.streamTracker.callsFailed,messagesSent:es.messagesSent,messagesReceived:es.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:es.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:es.lastMessageSentTimestamp,lastMessageReceivedTimestamp:es.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(er=$.state.localWindowSize)&&void 0!==er?er:null,remoteFlowControlWindow:null!==(ei=$.state.remoteWindowSize)&&void 0!==ei?ei:null};return em}}trace($){eu.trace(en.LogVerbosity.DEBUG,e_,"("+this.channelzRef.id+") "+$)}addProtoService(){throw Error("Not implemented. Use addService() instead")}addService($,ee){if(null===$||"object"!=typeof $||null===ee||"object"!=typeof ee)throw Error("addService() requires two objects as arguments");let er=Object.keys($);if(0===er.length)throw Error("Cannot add an empty service to a server");er.forEach(er=>{let ei,en;let es=$[er];ei=es.requestStream?es.responseStream?"bidi":"clientStream":es.responseStream?"serverStream":"unary";let eo=ee[er];void 0===eo&&"string"==typeof es.originalName&&(eo=ee[es.originalName]),en=void 0!==eo?eo.bind(ee):getDefaultHandler(ei,er);let ep=this.register(es.path,en,es.responseSerialize,es.requestDeserialize,ei);if(!1===ep)throw Error(`Method handler for ${es.path} already provided.`)})}removeService($){if(null===$||"object"!=typeof $)throw Error("removeService() requires object as argument");let ee=Object.keys($);ee.forEach(ee=>{let er=$[ee];this.unregister(er.path)})}bind($,ee){throw Error("Not implemented. Use bindAsync() instead")}bindAsync($,ee,er){if(!0===this.started)throw Error("server is already started");if(this.shutdown)throw Error("bindAsync called after shutdown");if("string"!=typeof $)throw TypeError("port must be a string");if(null===ee||!(ee instanceof eo.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");if("function"!=typeof er)throw TypeError("callback must be a function");let es=(0,em.parseUri)($);if(null===es)throw Error(`Could not parse port "${$}"`);let eg=(0,ep.mapUriDefaultScheme)(es);if(null===eg)throw Error(`Could not get a default scheme for port "${$}"`);let ey={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options?ey.maxSessionMemory=this.options["grpc-node.max_session_memory"]:ey.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(ey.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});let deferredCallback=($,ee)=>{process.nextTick(()=>er($,ee))},setupServer=()=>{let $;if(ee._isSecure()){let er=Object.assign(ey,ee._getSettings());er.enableTrace=1===this.options["grpc-node.tls_enable_trace"],($=ei.createSecureServer(er)).on("secureConnection",$=>{$.on("error",$=>{this.trace("An incoming TLS connection closed with error: "+$.message)})})}else $=ei.createServer(ey);return $.setTimeout(0,noop),this._setupHandlers($),$},bindSpecificPort=($,ee,er)=>0===$.length?Promise.resolve({port:ee,count:er}):Promise.all($.map($=>{let er;this.trace("Attempting to bind "+(0,eh.subchannelAddressToString)($)),er=(0,eh.isTcpSubchannelAddress)($)?{host:$.host,port:ee}:$;let ei=setupServer();return new Promise((en,es)=>{let onError=ee=>{this.trace("Failed to bind "+(0,eh.subchannelAddressToString)($)+" with error "+ee.message),en(ee)};ei.once("error",onError),ei.listen(er,()=>{let $;if(this.shutdown){ei.close(),en(Error("bindAsync failed because server is shutdown"));return}let er=ei.address();$="string"==typeof er?{path:er}:{host:er.address,port:er.port};let es=(0,ef.registerChannelzSocket)((0,eh.subchannelAddressToString)($),()=>({localAddress:$,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(es),this.http2ServerList.push({server:ei,channelzRef:es}),this.trace("Successfully bound "+(0,eh.subchannelAddressToString)($)),en("port"in $?$.port:ee),ei.removeListener("error",onError)})})})).then($=>{let ei=0;for(let er of $)if("number"==typeof er&&(ei+=1,er!==ee))throw Error("Invalid state: multiple port numbers added from single address");return{port:ee,count:ei+er}}),bindWildcardPort=$=>{if(0===$.length)return Promise.resolve({port:0,count:0});let ee=$[0],er=setupServer();return new Promise((ei,en)=>{let onError=er=>{this.trace("Failed to bind "+(0,eh.subchannelAddressToString)(ee)+" with error "+er.message),ei(bindWildcardPort($.slice(1)))};er.once("error",onError),er.listen(ee,()=>{if(this.shutdown){er.close(),ei({port:0,count:0});return}let ee=er.address(),en={host:ee.address,port:ee.port},es=(0,ef.registerChannelzSocket)((0,eh.subchannelAddressToString)(en),()=>({localAddress:en,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(es),this.http2ServerList.push({server:er,channelzRef:es}),this.trace("Successfully bound "+(0,eh.subchannelAddressToString)(en)),ei(bindSpecificPort($.slice(1),ee.port,1)),er.removeListener("error",onError)})})},ev={onSuccessfulResolution:(ee,er,ei)=>{let es;if(ev.onSuccessfulResolution=()=>{},this.shutdown&&deferredCallback(Error("bindAsync failed because server is shutdown"),0),0===ee.length){deferredCallback(Error(`No addresses resolved for port ${$}`),0);return}(es=(0,eh.isTcpSubchannelAddress)(ee[0])?0===ee[0].port?bindWildcardPort(ee):bindSpecificPort(ee,ee[0].port,0):bindSpecificPort(ee,1,0)).then($=>{if(0===$.count){let $=`No address added out of total ${ee.length} resolved`;eu.log(en.LogVerbosity.ERROR,$),deferredCallback(Error($),0)}else $.count<ee.length&&eu.log(en.LogVerbosity.INFO,`WARNING Only ${$.count} addresses added out of total ${ee.length} resolved`),deferredCallback(null,$.port)},$=>{let er=`No address added out of total ${ee.length} resolved`;eu.log(en.LogVerbosity.ERROR,er),deferredCallback(Error(er),0)})},onError:$=>{deferredCallback(Error($.details),0)}},eS=(0,ep.createResolver)(eg,ev,this.options);eS.updateResolution()}forceShutdown(){for(let{server:$,channelzRef:ee}of this.http2ServerList)$.listening&&$.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(ee),(0,ef.unregisterChannelzRef)(ee))});this.started=!1,this.shutdown=!0,this.sessions.forEach(($,ee)=>{ee.destroy(ei.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),this.channelzEnabled&&(0,ef.unregisterChannelzRef)(this.channelzRef)}register($,ee,er,ei,en){return!this.handlers.has($)&&(this.handlers.set($,{func:ee,serialize:er,deserialize:ei,type:en,path:$}),!0)}unregister($){return this.handlers.delete($)}start(){if(0===this.http2ServerList.length||this.http2ServerList.every(({server:$})=>!0!==$.listening))throw Error("server must be bound in order to start");if(!0===this.started)throw Error("server is already started");this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Starting"),this.started=!0}tryShutdown($){let wrappedCallback=ee=>{this.channelzEnabled&&(0,ef.unregisterChannelzRef)(this.channelzRef),$(ee)},ee=0;function maybeCallback(){0==--ee&&wrappedCallback()}for(let{server:$,channelzRef:er}of(this.started=!1,this.shutdown=!0,this.http2ServerList))$.listening&&(ee++,$.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(er),(0,ef.unregisterChannelzRef)(er)),maybeCallback()}));this.sessions.forEach(($,er)=>{er.closed||(ee+=1,er.close(maybeCallback))}),0===ee&&wrappedCallback()}addHttp2Port(){throw Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType($,ee){let er=ee[ei.constants.HTTP2_HEADER_CONTENT_TYPE];return!!("string"==typeof er&&er.startsWith("application/grpc"))||($.respond({[ei.constants.HTTP2_HEADER_STATUS]:ei.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1)}_retrieveHandler($){this.trace("Received call to method "+$+" at address "+this.serverAddressString);let ee=this.handlers.get($);return void 0===ee?(this.trace("No handler registered for method "+$+". Sending UNIMPLEMENTED status."),null):ee}_respondWithError($,ee,er=null){let ei=new es.Http2ServerCallStream(ee,null,this.options);void 0===$.code&&($.code=en.Status.INTERNAL),this.channelzEnabled&&(this.callTracker.addCallFailed(),null==er||er.streamTracker.addCallFailed()),ei.sendError($)}_channelzHandler($,ee){let er=this.sessions.get($.session);if(this.callTracker.addCallStarted(),null==er||er.streamTracker.addCallStarted(),!this._verifyContentType($,ee)){this.callTracker.addCallFailed(),null==er||er.streamTracker.addCallFailed();return}let ei=ee[eS],eo=this._retrieveHandler(ei);if(!eo){this._respondWithError(getUnimplementedStatusResponse(ei),$,er);return}let ep=new es.Http2ServerCallStream($,eo,this.options);ep.once("callEnd",$=>{$===en.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}),er&&(ep.once("streamEnd",$=>{$?er.streamTracker.addCallSucceeded():er.streamTracker.addCallFailed()}),ep.on("sendMessage",()=>{er.messagesSent+=1,er.lastMessageSentTimestamp=new Date}),ep.on("receiveMessage",()=>{er.messagesReceived+=1,er.lastMessageReceivedTimestamp=new Date})),this._runHandlerForCall(ep,eo,ee)||(this.callTracker.addCallFailed(),null==er||er.streamTracker.addCallFailed(),ep.sendError({code:en.Status.INTERNAL,details:`Unknown handler type: ${eo.type}`}))}_streamHandler($,ee){if(!0!==this._verifyContentType($,ee))return;let er=ee[eS],ei=this._retrieveHandler(er);if(!ei){this._respondWithError(getUnimplementedStatusResponse(er),$,null);return}let eo=new es.Http2ServerCallStream($,ei,this.options);this._runHandlerForCall(eo,ei,ee)||eo.sendError({code:en.Status.INTERNAL,details:`Unknown handler type: ${ei.type}`})}_runHandlerForCall($,ee,er){var ei;let en=$.receiveMetadata(er),es=null!==(ei=en.get("grpc-encoding")[0])&&void 0!==ei?ei:"identity";en.remove("grpc-encoding");let{type:eo}=ee;if("unary"===eo)handleUnary($,ee,en,es);else if("clientStream"===eo)handleClientStreaming($,ee,en,es);else if("serverStream"===eo)handleServerStreaming($,ee,en,es);else{if("bidi"!==eo)return!1;handleBidiStreaming($,ee,en,es)}return!0}_setupHandlers($){if(null===$)return;let ee=$.address(),er="null";ee&&(er="string"==typeof ee?ee:ee.address+":"+ee.port),this.serverAddressString=er;let en=this.channelzEnabled?this._channelzHandler:this._streamHandler;$.on("stream",en.bind(this)),$.on("session",$=>{var ee,er,en,es,eo;if(!this.started){$.destroy();return}let ep=(0,ef.registerChannelzSocket)(null!==(ee=$.socket.remoteAddress)&&void 0!==ee?ee:"unknown",this.getChannelzSessionInfoGetter($),this.channelzEnabled),eu={ref:ep,streamTracker:new ef.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set($,eu);let eh=$.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+eh),this.sessionChildrenTracker.refChild(ep));let em=null,ey=null,ev=!1;if(this.maxConnectionAgeMs!==eg){let ee=this.maxConnectionAgeMs/10,es=Math.random()*ee*2-ee;em=null===(en=(er=setTimeout(()=>{var ee,er;ev=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+eh);try{$.goaway(ei.constants.NGHTTP2_NO_ERROR,2147483647,Buffer.from("max_age"))}catch(ee){$.destroy();return}$.close(),this.maxConnectionAgeGraceMs!==eg&&(ey=null===(er=(ee=setTimeout(()=>{$.destroy()},this.maxConnectionAgeGraceMs)).unref)||void 0===er?void 0:er.call(ee))},this.maxConnectionAgeMs+es)).unref)||void 0===en?void 0:en.call(er)}let eS=null===(eo=(es=setInterval(()=>{var ee,er;let ei=null===(er=(ee=setTimeout(()=>{ev=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+eh),$.close()},this.keepaliveTimeoutMs)).unref)||void 0===er?void 0:er.call(ee);try{$.ping(($,ee,er)=>{clearTimeout(ei)})}catch(ee){$.destroy()}},this.keepaliveTimeMs)).unref)||void 0===eo?void 0:eo.call(es);$.on("close",()=>{this.channelzEnabled&&(ev||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+eh),this.sessionChildrenTracker.unrefChild(ep),(0,ef.unregisterChannelzRef)(ep)),em&&clearTimeout(em),ey&&clearTimeout(ey),eS&&clearTimeout(eS),this.sessions.delete($)})})}};async function handleUnary($,ee,er,ei){try{let en=await $.receiveUnaryMessage(ei);if(void 0===en||$.cancelled)return;let eo=new es.ServerUnaryCallImpl($,er,en);ee.func(eo,(ee,er,ei,en)=>{$.sendUnaryMessage(ee,er,ei,en)})}catch(ee){$.sendError(ee)}}function handleClientStreaming($,ee,er,ei){let en=new es.ServerReadableStreamImpl($,er,ee.deserialize,ei);function respond(ee,er,ei,es){en.destroy(),$.sendUnaryMessage(ee,er,ei,es)}$.cancelled||(en.on("error",respond),ee.func(en,respond))}async function handleServerStreaming($,ee,er,ei){try{let en=await $.receiveUnaryMessage(ei);if(void 0===en||$.cancelled)return;let eo=new es.ServerWritableStreamImpl($,er,ee.serialize,en);ee.func(eo)}catch(ee){$.sendError(ee)}}function handleBidiStreaming($,ee,er,ei){let en=new es.ServerDuplexStreamImpl($,er,ee.serialize,ee.deserialize,ei);$.cancelled||ee.func(en)}ee.Server=Server},55802:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.extractAndSelectServiceConfig=ee.validateServiceConfig=ee.validateRetryThrottling=void 0;let ei=er(22037),en=er(83932),es=er(80476),eo=/^\d+(\.\d{1,9})?s$/,ep="node";function validateName($){if("service"in $&&""!==$.service){if("string"!=typeof $.service)throw Error(`Invalid method config name: invalid service: expected type string, got ${typeof $.service}`);if(!("method"in $)||""===$.method)return{service:$.service};if("string"!=typeof $.method)throw Error(`Invalid method config name: invalid method: expected type string, got ${typeof $.service}`);return{service:$.service,method:$.method}}if("method"in $&&void 0!==$.method)throw Error("Invalid method config name: method set with empty or unset service");return{}}function validateRetryPolicy($){if(!("maxAttempts"in $)||!Number.isInteger($.maxAttempts)||$.maxAttempts<2)throw Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in $)||"string"!=typeof $.initialBackoff||!eo.test($.initialBackoff))throw Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in $)||"string"!=typeof $.maxBackoff||!eo.test($.maxBackoff))throw Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in $)||"number"!=typeof $.backoffMultiplier||$.backoffMultiplier<=0)throw Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in $&&Array.isArray($.retryableStatusCodes)))throw Error("Invalid method config retry policy: retryableStatusCodes is required");if(0===$.retryableStatusCodes.length)throw Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let ee of $.retryableStatusCodes)if("number"==typeof ee){if(!Object.values(en.Status).includes(ee))throw Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if("string"==typeof ee){if(!Object.values(en.Status).includes(ee.toUpperCase()))throw Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:$.maxAttempts,initialBackoff:$.initialBackoff,maxBackoff:$.maxBackoff,backoffMultiplier:$.backoffMultiplier,retryableStatusCodes:$.retryableStatusCodes}}function validateHedgingPolicy($){if(!("maxAttempts"in $)||!Number.isInteger($.maxAttempts)||$.maxAttempts<2)throw Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in $&&("string"!=typeof $.hedgingDelay||!eo.test($.hedgingDelay)))throw Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in $&&Array.isArray($.nonFatalStatusCodes))for(let ee of $.nonFatalStatusCodes)if("number"==typeof ee){if(!Object.values(en.Status).includes(ee))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if("string"==typeof ee){if(!Object.values(en.Status).includes(ee.toUpperCase()))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let ee={maxAttempts:$.maxAttempts};return $.hedgingDelay&&(ee.hedgingDelay=$.hedgingDelay),$.nonFatalStatusCodes&&(ee.nonFatalStatusCodes=$.nonFatalStatusCodes),ee}function validateMethodConfig($){var ee;let er={name:[]};if(!("name"in $)||!Array.isArray($.name))throw Error("Invalid method config: invalid name array");for(let ee of $.name)er.name.push(validateName(ee));if("waitForReady"in $){if("boolean"!=typeof $.waitForReady)throw Error("Invalid method config: invalid waitForReady");er.waitForReady=$.waitForReady}if("timeout"in $){if("object"==typeof $.timeout){if(!("seconds"in $.timeout)||"number"!=typeof $.timeout.seconds)throw Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in $.timeout)||"number"!=typeof $.timeout.nanos)throw Error("Invalid method config: invalid timeout.nanos");er.timeout=$.timeout}else if("string"==typeof $.timeout&&eo.test($.timeout)){let ei=$.timeout.substring(0,$.timeout.length-1).split(".");er.timeout={seconds:0|ei[0],nanos:(null!==(ee=ei[1])&&void 0!==ee?ee:0)|0}}else throw Error("Invalid method config: invalid timeout")}if("maxRequestBytes"in $){if("number"!=typeof $.maxRequestBytes)throw Error("Invalid method config: invalid maxRequestBytes");er.maxRequestBytes=$.maxRequestBytes}if("maxResponseBytes"in $){if("number"!=typeof $.maxResponseBytes)throw Error("Invalid method config: invalid maxRequestBytes");er.maxResponseBytes=$.maxResponseBytes}if("retryPolicy"in $){if("hedgingPolicy"in $)throw Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");er.retryPolicy=validateRetryPolicy($.retryPolicy)}else"hedgingPolicy"in $&&(er.hedgingPolicy=validateHedgingPolicy($.hedgingPolicy));return er}function validateRetryThrottling($){if(!("maxTokens"in $)||"number"!=typeof $.maxTokens||$.maxTokens<=0||$.maxTokens>1e3)throw Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in $)||"number"!=typeof $.tokenRatio||$.tokenRatio<=0)throw Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+$.maxTokens.toFixed(3),tokenRatio:+$.tokenRatio.toFixed(3)}}function validateServiceConfig($){let ee={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in $){if("string"==typeof $.loadBalancingPolicy)ee.loadBalancingPolicy=$.loadBalancingPolicy;else throw Error("Invalid service config: invalid loadBalancingPolicy")}if("loadBalancingConfig"in $){if(Array.isArray($.loadBalancingConfig))for(let er of $.loadBalancingConfig)ee.loadBalancingConfig.push((0,es.validateLoadBalancingConfig)(er));else throw Error("Invalid service config: invalid loadBalancingConfig")}if("methodConfig"in $&&Array.isArray($.methodConfig))for(let er of $.methodConfig)ee.methodConfig.push(validateMethodConfig(er));"retryThrottling"in $&&(ee.retryThrottling=validateRetryThrottling($.retryThrottling));let er=[];for(let $ of ee.methodConfig)for(let ee of $.name){for(let $ of er)if(ee.service===$.service&&ee.method===$.method)throw Error(`Invalid service config: duplicate name ${ee.service}/${ee.method}`);er.push(ee)}return ee}function validateCanaryConfig($){if(!("serviceConfig"in $))throw Error("Invalid service config choice: missing service config");let ee={serviceConfig:validateServiceConfig($.serviceConfig)};if("clientLanguage"in $){if(Array.isArray($.clientLanguage))for(let er of(ee.clientLanguage=[],$.clientLanguage))if("string"==typeof er)ee.clientLanguage.push(er);else throw Error("Invalid service config choice: invalid clientLanguage");else throw Error("Invalid service config choice: invalid clientLanguage")}if("clientHostname"in $){if(Array.isArray($.clientHostname))for(let er of(ee.clientHostname=[],$.clientHostname))if("string"==typeof er)ee.clientHostname.push(er);else throw Error("Invalid service config choice: invalid clientHostname");else throw Error("Invalid service config choice: invalid clientHostname")}if("percentage"in $){if("number"==typeof $.percentage&&0<=$.percentage&&$.percentage<=100)ee.percentage=$.percentage;else throw Error("Invalid service config choice: invalid percentage")}let er=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let ee in $)if(!er.includes(ee))throw Error(`Invalid service config choice: unexpected field ${ee}`);return ee}function validateAndSelectCanaryConfig($,ee){if(!Array.isArray($))throw Error("Invalid service config list");for(let er of $){let $=validateCanaryConfig(er);if("number"!=typeof $.percentage||!(ee>$.percentage)){if(Array.isArray($.clientHostname)){let ee=!1;for(let er of $.clientHostname)er===ei.hostname()&&(ee=!0);if(!ee)continue}if(Array.isArray($.clientLanguage)){let ee=!1;for(let er of $.clientLanguage)er===ep&&(ee=!0);if(!ee)continue}return $.serviceConfig}}throw Error("No matching service config found")}function extractAndSelectServiceConfig($,ee){for(let er of $)if(er.length>0&&er[0].startsWith("grpc_config=")){let $=er.join("").substring(12),ei=JSON.parse($);return validateAndSelectCanaryConfig(ei,ee)}return null}ee.validateRetryThrottling=validateRetryThrottling,ee.validateServiceConfig=validateServiceConfig,ee.extractAndSelectServiceConfig=extractAndSelectServiceConfig},27397:($,ee)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.StatusBuilder=void 0;let StatusBuilder=class StatusBuilder{constructor(){this.code=null,this.details=null,this.metadata=null}withCode($){return this.code=$,this}withDetails($){return this.details=$,this}withMetadata($){return this.metadata=$,this}build(){let $={};return null!==this.code&&($.code=this.code),null!==this.details&&($.details=this.details),null!==this.metadata&&($.metadata=this.metadata),$}};ee.StatusBuilder=StatusBuilder},93268:($,ee)=>{"use strict";var er;Object.defineProperty(ee,"__esModule",{value:!0}),ee.StreamDecoder=void 0,function($){$[$.NO_DATA=0]="NO_DATA",$[$.READING_SIZE=1]="READING_SIZE",$[$.READING_MESSAGE=2]="READING_MESSAGE"}(er||(er={}));let StreamDecoder=class StreamDecoder{constructor(){this.readState=er.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write($){let ee,ei=0,en=[];for(;ei<$.length;)switch(this.readState){case er.NO_DATA:this.readCompressFlag=$.slice(ei,ei+1),ei+=1,this.readState=er.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case er.READING_SIZE:if(ee=Math.min($.length-ei,this.readSizeRemaining),$.copy(this.readPartialSize,4-this.readSizeRemaining,ei,ei+ee),this.readSizeRemaining-=ee,ei+=ee,0===this.readSizeRemaining){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=er.READING_MESSAGE;else{let $=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=er.NO_DATA,en.push($)}}break;case er.READING_MESSAGE:if(ee=Math.min($.length-ei,this.readMessageRemaining),this.readPartialMessage.push($.slice(ei,ei+ee)),this.readMessageRemaining-=ee,ei+=ee,0===this.readMessageRemaining){let $=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),ee=Buffer.concat($,this.readMessageSize+5);this.readState=er.NO_DATA,en.push(ee)}break;default:throw Error("Unexpected read state")}return en}};ee.StreamDecoder=StreamDecoder},83677:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.stringToSubchannelAddress=ee.subchannelAddressToString=ee.subchannelAddressEqual=ee.isTcpSubchannelAddress=void 0;let ei=er(41808);function isTcpSubchannelAddress($){return"port"in $}function subchannelAddressEqual($,ee){return!$&&!ee||!!$&&!!ee&&(isTcpSubchannelAddress($)?isTcpSubchannelAddress(ee)&&$.host===ee.host&&$.port===ee.port:!isTcpSubchannelAddress(ee)&&$.path===ee.path)}function subchannelAddressToString($){return isTcpSubchannelAddress($)?$.host+":"+$.port:$.path}ee.isTcpSubchannelAddress=isTcpSubchannelAddress,ee.subchannelAddressEqual=subchannelAddressEqual,ee.subchannelAddressToString=subchannelAddressToString;let en=443;function stringToSubchannelAddress($,ee){return(0,ei.isIP)($)?{host:$,port:null!=ee?ee:en}:{path:$}}ee.stringToSubchannelAddress=stringToSubchannelAddress},59187:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.Http2SubchannelCall=void 0;let ei=er(85158),en=er(22037),es=er(83932),eo=er(82063),ep=er(93268),eu=er(11632),eh=er(83932),em="subchannel_call";function getSystemErrorName($){for(let[ee,er]of Object.entries(en.constants.errno))if(er===$)return ee;return"Unknown system error "+$}let Http2SubchannelCall=class Http2SubchannelCall{constructor($,ee,er,en,eu){this.http2Stream=$,this.callEventTracker=ee,this.listener=er,this.transport=en,this.callId=eu,this.decoder=new ep.StreamDecoder,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=es.Status.UNKNOWN,this.finalStatus=null,this.internalError=null,$.on("response",($,ee)=>{let er="";for(let ee of Object.keys($))er+="		"+ee+": "+$[ee]+"\n";switch(this.trace("Received server headers:\n"+er),$[":status"]){case 400:this.mappedStatusCode=es.Status.INTERNAL;break;case 401:this.mappedStatusCode=es.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=es.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=es.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=es.Status.UNAVAILABLE;break;default:this.mappedStatusCode=es.Status.UNKNOWN}if(ee&ei.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers($);else{let ee;try{ee=eo.Metadata.fromHttp2Headers($)}catch($){this.endCall({code:es.Status.UNKNOWN,details:$.message,metadata:new eo.Metadata});return}this.listener.onReceiveMetadata(ee)}}),$.on("trailers",$=>{this.handleTrailers($)}),$.on("data",$=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+$.length);let ee=this.decoder.write($);for(let $ of ee)this.trace("parsed message of length "+$.length),this.callEventTracker.addMessageReceived(),this.tryPush($)}),$.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),$.on("close",()=>{process.nextTick(()=>{var ee;let er;if(this.trace("HTTP/2 stream closed with code "+$.rstCode),(null===(ee=this.finalStatus)||void 0===ee?void 0:ee.code)===es.Status.OK)return;let en="";switch($.rstCode){case ei.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;er=es.Status.INTERNAL,en=`Received RST_STREAM with code ${$.rstCode}`;break;case ei.constants.NGHTTP2_REFUSED_STREAM:er=es.Status.UNAVAILABLE,en="Stream refused by server";break;case ei.constants.NGHTTP2_CANCEL:er=es.Status.CANCELLED,en="Call cancelled";break;case ei.constants.NGHTTP2_ENHANCE_YOUR_CALM:er=es.Status.RESOURCE_EXHAUSTED,en="Bandwidth exhausted or memory limit exceeded";break;case ei.constants.NGHTTP2_INADEQUATE_SECURITY:er=es.Status.PERMISSION_DENIED,en="Protocol not secure enough";break;case ei.constants.NGHTTP2_INTERNAL_ERROR:er=es.Status.INTERNAL,null===this.internalError?en=`Received RST_STREAM with code ${$.rstCode} (Internal server error)`:"ECONNRESET"===this.internalError.code||"ETIMEDOUT"===this.internalError.code?(er=es.Status.UNAVAILABLE,en=this.internalError.message):en=`Received RST_STREAM with code ${$.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:er=es.Status.INTERNAL,en=`Received RST_STREAM with code ${$.rstCode}`}this.endCall({code:er,details:en,metadata:new eo.Metadata,rstCode:$.rstCode})})}),$.on("error",$=>{"ERR_HTTP2_STREAM_ERROR"!==$.code&&(this.trace("Node error event: message="+$.message+" code="+$.code+" errno="+getSystemErrorName($.errno)+" syscall="+$.syscall),this.internalError=$),this.callEventTracker.onStreamEnd(!1)})}onDisconnect(){this.endCall({code:es.Status.UNAVAILABLE,details:"Connection dropped",metadata:new eo.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace($){eu.trace(eh.LogVerbosity.DEBUG,em,"["+this.callId+"] "+$)}endCall($){(null===this.finalStatus||this.finalStatus.code===es.Status.OK)&&(this.finalStatus=$,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null===this.finalStatus||this.finalStatus.code===es.Status.OK&&(!this.readsClosed||0!==this.unpushedReadMessages.length||this.isReadFilterPending||this.isPushPending)||this.outputStatus()}push($){this.trace("pushing to reader message of length "+($ instanceof Buffer?$.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,this.statusOutput||(this.listener.onReceiveMessage($),this.maybeOutputStatus())})}tryPush($){this.canPush?(this.http2Stream.pause(),this.push($)):(this.trace("unpushedReadMessages.push message of length "+$.length),this.unpushedReadMessages.push($))}handleTrailers($){let ee;this.callEventTracker.onStreamEnd(!0);let er="";for(let ee of Object.keys($))er+="		"+ee+": "+$[ee]+"\n";this.trace("Received server trailers:\n"+er);try{ee=eo.Metadata.fromHttp2Headers($)}catch($){ee=new eo.Metadata}let ei=ee.getMap(),en=this.mappedStatusCode;if(en===es.Status.UNKNOWN&&"string"==typeof ei["grpc-status"]){let $=Number(ei["grpc-status"]);$ in es.Status&&(en=$,this.trace("received status code "+$+" from server")),ee.remove("grpc-status")}let ep="";if("string"==typeof ei["grpc-message"]){try{ep=decodeURI(ei["grpc-message"])}catch($){ep=ei["grpc-message"]}ee.remove("grpc-message"),this.trace('received status details string "'+ep+'" from server')}let eu={code:en,details:ep,metadata:ee};this.endCall(eu)}destroyHttp2Stream(){var $;if(!this.http2Stream.destroyed){let ee;ee=(null===($=this.finalStatus)||void 0===$?void 0:$.code)===es.Status.OK?ei.constants.NGHTTP2_NO_ERROR:ei.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+ee),this.http2Stream.close(ee)}}cancelWithStatus($,ee){this.trace("cancelWithStatus code: "+$+' details: "'+ee+'"'),this.endCall({code:$,details:ee,metadata:new eo.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==es.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let $=this.unpushedReadMessages.shift();this.push($);return}this.http2Stream.resume()}sendMessageWithContext($,ee){this.trace("write() called with message of length "+ee.length);let cb=ee=>{process.nextTick(()=>{var er;let ei=es.Status.UNAVAILABLE;(null==ee?void 0:ee.code)==="ERR_STREAM_WRITE_AFTER_END"&&(ei=es.Status.INTERNAL),ee&&this.cancelWithStatus(ei,`Write error: ${ee.message}`),null===(er=$.callback)||void 0===er||er.call($)})};this.trace("sending data chunk of length "+ee.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(ee,cb)}catch($){this.endCall({code:es.Status.UNAVAILABLE,details:`Write failed with error ${$.message}`,metadata:new eo.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}};ee.Http2SubchannelCall=Http2SubchannelCall},78833:($,ee)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.BaseSubchannelWrapper=void 0;let BaseSubchannelWrapper=class BaseSubchannelWrapper{constructor($){this.child=$}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener($){this.child.addConnectivityStateListener($)}removeConnectivityStateListener($){this.child.removeConnectivityStateListener($)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive($){this.child.throttleKeepalive($)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals($){return this.getRealSubchannel()===$.getRealSubchannel()}};ee.BaseSubchannelWrapper=BaseSubchannelWrapper},54467:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.getSubchannelPool=ee.SubchannelPool=void 0;let ei=er(46542),en=er(43779),es=er(83677),eo=er(17676),ep=er(6095),eu=1e4;let SubchannelPool=class SubchannelPool{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let $=!0;for(let ee in this.pool){let er=this.pool[ee],ei=er.filter($=>!$.subchannel.unrefIfOneRef());ei.length>0&&($=!1),this.pool[ee]=ei}$&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var $,ee;null===this.cleanupTimer&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},eu),null===(ee=($=this.cleanupTimer).unref)||void 0===ee||ee.call($))}getOrCreateSubchannel($,ee,er,eu){this.ensureCleanupTask();let eh=(0,eo.uriToString)($);if(eh in this.pool){let $=this.pool[eh];for(let en of $)if((0,es.subchannelAddressEqual)(ee,en.subchannelAddress)&&(0,ei.channelOptionsEqual)(er,en.channelArguments)&&eu._equals(en.channelCredentials))return en.subchannel}let em=new en.Subchannel($,ee,er,eu,new ep.Http2SubchannelConnector($));return eh in this.pool||(this.pool[eh]=[]),this.pool[eh].push({subchannelAddress:ee,channelArguments:er,channelCredentials:eu,subchannel:em}),em.ref(),em}};ee.SubchannelPool=SubchannelPool;let eh=new SubchannelPool;function getSubchannelPool($){return $?eh:new SubchannelPool}ee.getSubchannelPool=getSubchannelPool},43779:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.Subchannel=void 0;let ei=er(67740),en=er(36548),es=er(11632),eo=er(83932),ep=er(17676),eu=er(83677),eh=er(27184),em="subchannel",ef=2147483647;let Subchannel=class Subchannel{constructor($,ee,er,es,eo){var ep;this.channelTarget=$,this.subchannelAddress=ee,this.options=er,this.credentials=es,this.connector=eo,this.connectivityState=ei.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new eh.ChannelzCallTracker,this.childrenTracker=new eh.ChannelzChildrenTracker,this.streamTracker=new eh.ChannelzCallTracker;let em={initialDelay:er["grpc.initial_reconnect_backoff_ms"],maxDelay:er["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new en.BackoffTimeout(()=>{this.handleBackoffTimer()},em),this.backoffTimeout.unref(),this.subchannelAddressString=(0,eu.subchannelAddressToString)(ee),this.keepaliveTime=null!==(ep=er["grpc.keepalive_time_ms"])&&void 0!==ep?ep:-1,0===er["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new eh.ChannelzTrace,this.channelzRef=(0,eh.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(er,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace($){es.trace(eo.LogVerbosity.DEBUG,em,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+$)}refTrace($){es.trace(eo.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+$)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([ei.ConnectivityState.TRANSIENT_FAILURE],ei.ConnectivityState.CONNECTING):this.transitionToState([ei.ConnectivityState.TRANSIENT_FAILURE],ei.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let $=this.options;if($["grpc.keepalive_time_ms"]){let ee=Math.min(this.keepaliveTime,ef);$=Object.assign(Object.assign({},$),{"grpc.keepalive_time_ms":ee})}this.connector.connect(this.subchannelAddress,this.credentials,$).then($=>{this.transitionToState([ei.ConnectivityState.CONNECTING],ei.ConnectivityState.READY)&&(this.transport=$,this.channelzEnabled&&this.childrenTracker.refChild($.getChannelzRef()),$.addDisconnectListener($=>{this.transitionToState([ei.ConnectivityState.READY],ei.ConnectivityState.IDLE),$&&this.keepaliveTime>0&&(this.keepaliveTime*=2,es.log(eo.LogVerbosity.ERROR,`Connection to ${(0,ep.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))}))},$=>{this.transitionToState([ei.ConnectivityState.CONNECTING],ei.ConnectivityState.TRANSIENT_FAILURE)})}transitionToState($,ee){var er,en;if(-1===$.indexOf(this.connectivityState))return!1;this.trace(ei.ConnectivityState[this.connectivityState]+" -> "+ei.ConnectivityState[ee]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+ei.ConnectivityState[ee]);let es=this.connectivityState;switch(this.connectivityState=ee,ee){case ei.ConnectivityState.READY:this.stopBackoff();break;case ei.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case ei.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(er=this.transport)||void 0===er||er.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case ei.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(en=this.transport)||void 0===en||en.shutdown(),this.transport=null;break;default:throw Error(`Invalid state: unknown ConnectivityState ${ee}`)}for(let $ of this.stateListeners)$(this,es,ee,this.keepaliveTime);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,0===this.refcount&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,eh.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([ei.ConnectivityState.CONNECTING,ei.ConnectivityState.READY],ei.ConnectivityState.IDLE)}))}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}createCall($,ee,er,ei){let en;if(!this.transport)throw Error("Cannot create call, subchannel not READY");return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),en={onCallEnd:$=>{$.code===eo.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):en={},this.transport.createCall($,ee,er,ei,en)}startConnecting(){process.nextTick(()=>{this.transitionToState([ei.ConnectivityState.IDLE],ei.ConnectivityState.CONNECTING)||this.connectivityState!==ei.ConnectivityState.TRANSIENT_FAILURE||(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener($){this.stateListeners.add($)}removeConnectivityStateListener($){this.stateListeners.delete($)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([ei.ConnectivityState.TRANSIENT_FAILURE],ei.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals($){return $.getRealSubchannel()===this}throttleKeepalive($){$>this.keepaliveTime&&(this.keepaliveTime=$)}};ee.Subchannel=Subchannel},64248:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.getDefaultRootsData=ee.CIPHER_SUITES=void 0;let ei=er(57147);ee.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;let en=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,es=null;function getDefaultRootsData(){return en?(null===es&&(es=ei.readFileSync(en)),es):null}ee.getDefaultRootsData=getDefaultRootsData},6095:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.Http2SubchannelConnector=void 0;let ei=er(85158),en=er(24404),es=er(27184),eo=er(83932),ep=er(45249),eu=er(11632),eh=er(12192),em=er(83677),ef=er(17676),eg=er(41808),ey=er(59187),ev=er(11541),eS="transport",e_="transport_flowctrl",ew=er(45191).i8,{HTTP2_HEADER_AUTHORITY:eC,HTTP2_HEADER_CONTENT_TYPE:eT,HTTP2_HEADER_METHOD:eE,HTTP2_HEADER_PATH:eI,HTTP2_HEADER_TE:eD,HTTP2_HEADER_USER_AGENT:eR}=ei.constants,eP=2e4,eN=Buffer.from("too_many_pings","ascii");let Http2Transport=class Http2Transport{constructor($,ee,er,en){this.session=$,this.remoteName=en,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=eP,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new es.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,em.subchannelAddressToString)(ee),0===er["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,es.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[er["grpc.primary_user_agent"],`grpc-node-js/${ew}`,er["grpc.secondary_user_agent"]].filter($=>$).join(" "),"grpc.keepalive_time_ms"in er&&(this.keepaliveTimeMs=er["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in er&&(this.keepaliveTimeoutMs=er["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in er?this.keepaliveWithoutCalls=1===er["grpc.keepalive_permit_without_calls"]:this.keepaliveWithoutCalls=!1,$.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),$.once("goaway",($,ee,er)=>{let en=!1;$===ei.constants.NGHTTP2_ENHANCE_YOUR_CALM&&er.equals(eN)&&(en=!0),this.trace("connection closed by GOAWAY with code "+$),this.reportDisconnectToOwner(en)}),$.once("error",$=>{this.trace("connection closed with error "+$.message)}),eu.isTracerEnabled(eS)&&($.on("remoteSettings",ee=>{this.trace("new settings received"+(this.session!==$?" on the old connection":"")+": "+JSON.stringify(ee))}),$.on("localSettings",ee=>{this.trace("local settings acknowledged by remote"+(this.session!==$?" on the old connection":"")+": "+JSON.stringify(ee))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var $,ee,er;let ei;let en=this.session.socket,es=en.remoteAddress?(0,em.stringToSubchannelAddress)(en.remoteAddress,en.remotePort):null,eo=en.localAddress?(0,em.stringToSubchannelAddress)(en.localAddress,en.localPort):null;if(this.session.encrypted){let ee=en,er=ee.getCipher(),es=ee.getCertificate(),eo=ee.getPeerCertificate();ei={cipherSuiteStandardName:null!==($=er.standardName)&&void 0!==$?$:null,cipherSuiteOtherName:er.standardName?null:er.name,localCertificate:es&&"raw"in es?es.raw:null,remoteCertificate:eo&&"raw"in eo?eo.raw:null}}else ei=null;let ep={remoteAddress:es,localAddress:eo,security:ei,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(ee=this.session.state.localWindowSize)&&void 0!==ee?ee:null,remoteFlowControlWindow:null!==(er=this.session.state.remoteWindowSize)&&void 0!==er?er:null};return ep}trace($){eu.trace(eo.LogVerbosity.DEBUG,eS,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+$)}keepaliveTrace($){eu.trace(eo.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+$)}flowControlTrace($){eu.trace(eo.LogVerbosity.DEBUG,e_,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+$)}internalsTrace($){eu.trace(eo.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+$)}reportDisconnectToOwner($){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(ee=>ee($)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let $ of this.activeCalls)$.onDisconnect()})}addDisconnectListener($){this.disconnectListeners.push($)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var $,ee;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),null===(ee=($=this.keepaliveTimeoutId).unref)||void 0===ee||ee.call($));try{this.session.ping(($,ee,er)=>{$&&(this.keepaliveTrace("Ping failed with error "+$.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch($){this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var $,ee;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimerId||this.keepaliveTimeoutId||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=null===(ee=($=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)||void 0===ee?void 0:ee.call($)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall($){this.activeCalls.delete($),0===this.activeCalls.size&&this.session.unref()}addActiveCall($){this.activeCalls.add($),1!==this.activeCalls.size||(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall($,ee,er,ei,en){let es,eo,ep;let eu=$.toHttp2Headers();eu[eC]=ee,eu[eR]=this.userAgent,eu[eT]="application/grpc",eu[eE]="POST",eu[eI]=er,eu[eD]="trailers";try{es=this.session.request(eu)}catch($){throw this.handleDisconnect(),$}return this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed),this.channelzEnabled?(this.streamTracker.addCallStarted(),eo={addMessageSent:()=>{var $;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,null===($=en.addMessageSent)||void 0===$||$.call(en)},addMessageReceived:()=>{var $;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,null===($=en.addMessageReceived)||void 0===$||$.call(en)},onCallEnd:$=>{var ee;null===(ee=en.onCallEnd)||void 0===ee||ee.call(en,$),this.removeActiveCall(ep)},onStreamEnd:$=>{var ee;$?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),null===(ee=en.onStreamEnd)||void 0===ee||ee.call(en,$)}}):eo={addMessageSent:()=>{var $;null===($=en.addMessageSent)||void 0===$||$.call(en)},addMessageReceived:()=>{var $;null===($=en.addMessageReceived)||void 0===$||$.call(en)},onCallEnd:$=>{var ee;null===(ee=en.onCallEnd)||void 0===ee||ee.call(en,$),this.removeActiveCall(ep)},onStreamEnd:$=>{var ee;null===(ee=en.onStreamEnd)||void 0===ee||ee.call(en,$)}},ep=new ey.Http2SubchannelCall(es,eo,ei,this,(0,ev.getNextCallNumber)()),this.addActiveCall(ep),ep}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}shutdown(){this.session.close(),(0,es.unregisterChannelzRef)(this.channelzRef)}};let Http2SubchannelConnector=class Http2SubchannelConnector{constructor($){this.channelTarget=$,this.session=null,this.isShutdown=!1}trace($){eu.trace(eo.LogVerbosity.DEBUG,eS,(0,ef.uriToString)(this.channelTarget)+" "+$)}createSession($,ee,er,es){return this.isShutdown?Promise.reject():new Promise((eo,ep)=>{var eu,ey,ev;let eS;es.realTarget?(eS=(0,ef.uriToString)(es.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,ef.uriToString)(es.realTarget))):(eS=null,this.trace("creating HTTP/2 session to "+(0,em.subchannelAddressToString)($)));let e_=(0,eh.getDefaultAuthority)(null!==(eu=es.realTarget)&&void 0!==eu?eu:this.channelTarget),ew=ee._getConnectionOptions()||{};ew.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in er?ew.maxSessionMemory=er["grpc-node.max_session_memory"]:ew.maxSessionMemory=Number.MAX_SAFE_INTEGER;let eC="http://";if("secureContext"in ew){if(eC="https://",er["grpc.ssl_target_name_override"]){let $=er["grpc.ssl_target_name_override"];ew.checkServerIdentity=(ee,er)=>(0,en.checkServerIdentity)($,er),ew.servername=$}else{let $=null!==(ev=null===(ey=(0,ef.splitHostPort)(e_))||void 0===ey?void 0:ey.host)&&void 0!==ev?ev:"localhost";ew.servername=$}es.socket&&(ew.createConnection=($,ee)=>es.socket)}else ew.createConnection=(ee,er)=>es.socket?es.socket:eg.connect($);ew=Object.assign(Object.assign(Object.assign({},ew),$),{enableTrace:1===er["grpc-node.tls_enable_trace"]});let eT=ei.connect(eC+e_,ew);this.session=eT,eT.unref(),eT.once("connect",()=>{eT.removeAllListeners(),eo(new Http2Transport(eT,$,er,eS)),this.session=null}),eT.once("close",()=>{this.session=null,ep()}),eT.once("error",$=>{this.trace("connection failed with error "+$.message)})})}connect($,ee,er){var ei,es;if(this.isShutdown)return Promise.reject();let eo=ee._getConnectionOptions()||{};if("secureContext"in eo){if(eo.ALPNProtocols=["h2"],er["grpc.ssl_target_name_override"]){let $=er["grpc.ssl_target_name_override"];eo.checkServerIdentity=(ee,er)=>(0,en.checkServerIdentity)($,er),eo.servername=$}else if("grpc.http_connect_target"in er){let $=(0,eh.getDefaultAuthority)(null!==(ei=(0,ef.parseUri)(er["grpc.http_connect_target"]))&&void 0!==ei?ei:{path:"localhost"}),ee=(0,ef.splitHostPort)($);eo.servername=null!==(es=null==ee?void 0:ee.host)&&void 0!==es?es:$}er["grpc-node.tls_enable_trace"]&&(eo.enableTrace=!0)}return(0,ep.getProxiedConnection)($,er,eo).then(ei=>this.createSession($,ee,er,ei))}shutdown(){var $;this.isShutdown=!0,null===($=this.session)||void 0===$||$.close(),this.session=null}};ee.Http2SubchannelConnector=Http2SubchannelConnector},17676:($,ee)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.uriToString=ee.splitHostPort=ee.parseUri=void 0;let er=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function parseUri($){let ee=er.exec($);return null===ee?null:{scheme:ee[1],authority:ee[2],path:ee[3]}}ee.parseUri=parseUri;let ei=/^\d+$/;function splitHostPort($){if($.startsWith("[")){let ee=$.indexOf("]");if(-1===ee)return null;let er=$.substring(1,ee);if(-1===er.indexOf(":"))return null;if(!($.length>ee+1))return{host:er};if(":"!==$[ee+1])return null;{let en=$.substring(ee+2);return ei.test(en)?{host:er,port:+en}:null}}{let ee=$.split(":");return 2!==ee.length?{host:$}:ei.test(ee[1])?{host:ee[0],port:+ee[1]}:null}}function uriToString($){let ee="";return void 0!==$.scheme&&(ee+=$.scheme+":"),void 0!==$.authority&&(ee+="//"+$.authority+"/"),ee+=$.path}ee.splitHostPort=splitHostPort,ee.uriToString=uriToString},35868:($,ee,er)=>{"use strict";var ei;/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */ei={value:!0},ei=ei=ee.im=ee.J_=ei=ei=ei=void 0;let en=er(35283),es=er(64342),eo=er(9454),ep=er(18646),eu=er(59616);ei=eu,ei=function($){return"@type"in $&&"string"==typeof $["@type"]};let eh={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function joinName($,ee){return""===$?ee:$+"."+ee}function isHandledReflectionObject($){return $ instanceof es.Service||$ instanceof es.Type||$ instanceof es.Enum}function isNamespaceBase($){return $ instanceof es.Namespace||$ instanceof es.Root}function getAllHandledReflectionObjects($,ee){let er=joinName(ee,$.name);return isHandledReflectionObject($)?[[er,$]]:isNamespaceBase($)&&void 0!==$.nested?Object.keys($.nested).map(ee=>getAllHandledReflectionObjects($.nested[ee],er)).reduce(($,ee)=>$.concat(ee),[]):[]}function createDeserializer($,ee){return function(er){return $.toObject($.decode(er),ee)}}function createSerializer($){return function(ee){if(Array.isArray(ee))throw Error(`Failed to serialize message: expected object with ${$.name} structure, got array instead`);let er=$.fromObject(ee);return $.encode(er).finish()}}function createMethodDefinition($,ee,er,ei){let es=$.resolvedRequestType,eo=$.resolvedResponseType;return{path:"/"+ee+"/"+$.name,requestStream:!!$.requestStream,responseStream:!!$.responseStream,requestSerialize:createSerializer(es),requestDeserialize:createDeserializer(es,er),responseSerialize:createSerializer(eo),responseDeserialize:createDeserializer(eo,er),originalName:en($.name),requestType:createMessageDefinition(es,ei),responseType:createMessageDefinition(eo,ei)}}function createServiceDefinition($,ee,er,ei){let en={};for(let es of $.methodsArray)en[es.name]=createMethodDefinition(es,ee,er,ei);return en}function createMessageDefinition($,ee){let er=$.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:er.$type.toObject(er,eh),fileDescriptorProtos:ee}}function createEnumDefinition($,ee){let er=$.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:er.$type.toObject(er,eh),fileDescriptorProtos:ee}}function createDefinition($,ee,er,ei){if($ instanceof es.Service)return createServiceDefinition($,ee,er,ei);if($ instanceof es.Type)return createMessageDefinition($,ei);if($ instanceof es.Enum)return createEnumDefinition($,ei);throw Error("Type mismatch in reflection object handling")}function createPackageDefinition($,ee){let er={};$.resolveAll();let ei=$.toDescriptor("proto3").file,en=ei.map($=>Buffer.from(eo.FileDescriptorProto.encode($).finish()));for(let[ei,es]of getAllHandledReflectionObjects($,""))er[ei]=createDefinition(es,ei,ee,en);return er}function createPackageDefinitionFromDescriptorSet($,ee){ee=ee||{};let er=es.Root.fromDescriptor($);return er.resolveAll(),createPackageDefinition(er,ee)}function loadSync($,ee){let er=(0,ep.loadProtosWithOptionsSync)($,ee);return createPackageDefinition(er,ee)}function fromJSON($,ee){ee=ee||{};let er=es.Root.fromJSON($);return er.resolveAll(),createPackageDefinition(er,ee)}ei=function($,ee){return(0,ep.loadProtosWithOptions)($,ee).then($=>createPackageDefinition($,ee))},ee.J_=loadSync,ee.im=fromJSON,ei=function($,ee){let er=eo.FileDescriptorSet.decode($);return createPackageDefinitionFromDescriptorSet(er,ee)},ei=function($,ee){let er=eo.FileDescriptorSet.fromObject($);return createPackageDefinitionFromDescriptorSet(er,ee)},(0,ep.addCommonProtos)()},18646:($,ee,er)=>{"use strict";/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */Object.defineProperty(ee,"__esModule",{value:!0}),ee.addCommonProtos=ee.loadProtosWithOptionsSync=ee.loadProtosWithOptions=void 0;let ei=er(57147),en=er(71017),es=er(64342);function addIncludePathResolver($,ee){let er=$.resolvePath;$.resolvePath=($,es)=>{if(en.isAbsolute(es))return es;for(let $ of ee){let ee=en.join($,es);try{return ei.accessSync(ee,ei.constants.R_OK),ee}catch($){continue}}return process.emitWarning(`${es} not found in any of the include paths ${ee}`),er($,es)}}async function loadProtosWithOptions($,ee){let er=new es.Root;if((ee=ee||{}).includeDirs){if(!Array.isArray(ee.includeDirs))return Promise.reject(Error("The includeDirs option must be an array"));addIncludePathResolver(er,ee.includeDirs)}let ei=await er.load($,ee);return ei.resolveAll(),ei}function loadProtosWithOptionsSync($,ee){let er=new es.Root;if((ee=ee||{}).includeDirs){if(!Array.isArray(ee.includeDirs))throw Error("The includeDirs option must be an array");addIncludePathResolver(er,ee.includeDirs)}let ei=er.loadSync($,ee);return ei.resolveAll(),ei}function addCommonProtos(){let $=er(73981),ee=er(52699),ei=er(79716),en=er(37817);es.common("api",$.nested.google.nested.protobuf.nested),es.common("descriptor",ee.nested.google.nested.protobuf.nested),es.common("source_context",ei.nested.google.nested.protobuf.nested),es.common("type",en.nested.google.nested.protobuf.nested)}ee.loadProtosWithOptions=loadProtosWithOptions,ee.loadProtosWithOptionsSync=loadProtosWithOptionsSync,ee.addCommonProtos=addCommonProtos},10303:$=>{"use strict";function asPromise($,ee){for(var er=Array(arguments.length-1),ei=0,en=2,es=!0;en<arguments.length;)er[ei++]=arguments[en++];return new Promise(function(en,eo){er[ei]=function($){if(es){if(es=!1,$)eo($);else{for(var ee=Array(arguments.length-1),er=0;er<ee.length;)ee[er++]=arguments[er];en.apply(null,ee)}}};try{$.apply(ee||null,er)}catch($){es&&(es=!1,eo($))}})}$.exports=asPromise},41363:($,ee)=>{"use strict";var er=ee;er.length=function($){var ee=$.length;if(!ee)return 0;for(var er=0;--ee%4>1&&"="===$.charAt(ee);)++er;return Math.ceil(3*$.length)/4-er};for(var ei=Array(64),en=Array(123),es=0;es<64;)en[ei[es]=es<26?es+65:es<52?es+71:es<62?es-4:es-59|43]=es++;er.encode=function($,ee,er){for(var en,es=null,eo=[],ep=0,eu=0;ee<er;){var eh=$[ee++];switch(eu){case 0:eo[ep++]=ei[eh>>2],en=(3&eh)<<4,eu=1;break;case 1:eo[ep++]=ei[en|eh>>4],en=(15&eh)<<2,eu=2;break;case 2:eo[ep++]=ei[en|eh>>6],eo[ep++]=ei[63&eh],eu=0}ep>8191&&((es||(es=[])).push(String.fromCharCode.apply(String,eo)),ep=0)}return(eu&&(eo[ep++]=ei[en],eo[ep++]=61,1===eu&&(eo[ep++]=61)),es)?(ep&&es.push(String.fromCharCode.apply(String,eo.slice(0,ep))),es.join("")):String.fromCharCode.apply(String,eo.slice(0,ep))};var eo="invalid encoding";er.decode=function($,ee,er){for(var ei,es=er,ep=0,eu=0;eu<$.length;){var eh=$.charCodeAt(eu++);if(61===eh&&ep>1)break;if(void 0===(eh=en[eh]))throw Error(eo);switch(ep){case 0:ei=eh,ep=1;break;case 1:ee[er++]=ei<<2|(48&eh)>>4,ei=eh,ep=2;break;case 2:ee[er++]=(15&ei)<<4|(60&eh)>>2,ei=eh,ep=3;break;case 3:ee[er++]=(3&ei)<<6|eh,ep=0}}if(1===ep)throw Error(eo);return er-es},er.test=function($){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test($)}},88445:$=>{"use strict";function codegen($,ee){"string"==typeof $&&(ee=$,$=void 0);var er=[];function Codegen($){if("string"!=typeof $){var ee=toString();if(codegen.verbose&&console.log("codegen: "+ee),ee="return "+ee,$){for(var ei=Object.keys($),en=Array(ei.length+1),es=Array(ei.length),eo=0;eo<ei.length;)en[eo]=ei[eo],es[eo]=$[ei[eo++]];return en[eo]=ee,Function.apply(null,en).apply(null,es)}return Function(ee)()}for(var ep=Array(arguments.length-1),eu=0;eu<ep.length;)ep[eu]=arguments[++eu];if(eu=0,$=$.replace(/%([%dfijs])/g,function($,ee){var er=ep[eu++];switch(ee){case"d":case"f":return String(Number(er));case"i":return String(Math.floor(er));case"j":return JSON.stringify(er);case"s":return String(er)}return"%"}),eu!==ep.length)throw Error("parameter count mismatch");return er.push($),Codegen}function toString(ei){return"function "+(ei||ee||"")+"("+($&&$.join(",")||"")+"){\n  "+er.join("\n  ")+"\n}"}return Codegen.toString=toString,Codegen}$.exports=codegen,codegen.verbose=!1},70051:$=>{"use strict";function EventEmitter(){this._listeners={}}$.exports=EventEmitter,EventEmitter.prototype.on=function($,ee,er){return(this._listeners[$]||(this._listeners[$]=[])).push({fn:ee,ctx:er||this}),this},EventEmitter.prototype.off=function($,ee){if(void 0===$)this._listeners={};else if(void 0===ee)this._listeners[$]=[];else for(var er=this._listeners[$],ei=0;ei<er.length;)er[ei].fn===ee?er.splice(ei,1):++ei;return this},EventEmitter.prototype.emit=function($){var ee=this._listeners[$];if(ee){for(var er=[],ei=1;ei<arguments.length;)er.push(arguments[ei++]);for(ei=0;ei<ee.length;)ee[ei].fn.apply(ee[ei++].ctx,er)}return this}},22259:($,ee,er)=>{"use strict";$.exports=fetch;var ei=er(10303),en=er(65301)("fs");function fetch($,ee,er){return("function"==typeof ee?(er=ee,ee={}):ee||(ee={}),er)?!ee.xhr&&en&&en.readFile?en.readFile($,function(ei,en){return ei&&"undefined"!=typeof XMLHttpRequest?fetch.xhr($,ee,er):ei?er(ei):er(null,ee.binary?en:en.toString("utf8"))}):fetch.xhr($,ee,er):ei(fetch,this,$,ee)}fetch.xhr=function($,ee,er){var ei=new XMLHttpRequest;ei.onreadystatechange=function(){if(4===ei.readyState){if(0!==ei.status&&200!==ei.status)return er(Error("status "+ei.status));if(ee.binary){var $=ei.response;if(!$){$=[];for(var en=0;en<ei.responseText.length;++en)$.push(255&ei.responseText.charCodeAt(en))}return er(null,"undefined"!=typeof Uint8Array?new Uint8Array($):$)}return er(null,ei.responseText)}},ee.binary&&("overrideMimeType"in ei&&ei.overrideMimeType("text/plain; charset=x-user-defined"),ei.responseType="arraybuffer"),ei.open("GET",$),ei.send()}},61940:$=>{"use strict";function factory($){return"undefined"!=typeof Float32Array?function(){var ee=new Float32Array([-0]),er=new Uint8Array(ee.buffer),ei=128===er[3];function writeFloat_f32_cpy($,ei,en){ee[0]=$,ei[en]=er[0],ei[en+1]=er[1],ei[en+2]=er[2],ei[en+3]=er[3]}function writeFloat_f32_rev($,ei,en){ee[0]=$,ei[en]=er[3],ei[en+1]=er[2],ei[en+2]=er[1],ei[en+3]=er[0]}function readFloat_f32_cpy($,ei){return er[0]=$[ei],er[1]=$[ei+1],er[2]=$[ei+2],er[3]=$[ei+3],ee[0]}function readFloat_f32_rev($,ei){return er[3]=$[ei],er[2]=$[ei+1],er[1]=$[ei+2],er[0]=$[ei+3],ee[0]}$.writeFloatLE=ei?writeFloat_f32_cpy:writeFloat_f32_rev,$.writeFloatBE=ei?writeFloat_f32_rev:writeFloat_f32_cpy,$.readFloatLE=ei?readFloat_f32_cpy:readFloat_f32_rev,$.readFloatBE=ei?readFloat_f32_rev:readFloat_f32_cpy}():function(){function writeFloat_ieee754($,ee,er,ei){var en=ee<0?1:0;if(en&&(ee=-ee),0===ee)$(1/ee>0?0:2147483648,er,ei);else if(isNaN(ee))$(2143289344,er,ei);else if(ee>34028234663852886e22)$((en<<31|2139095040)>>>0,er,ei);else if(ee<11754943508222875e-54)$((en<<31|Math.round(ee/1401298464324817e-60))>>>0,er,ei);else{var es=Math.floor(Math.log(ee)/Math.LN2),eo=8388607&Math.round(ee*Math.pow(2,-es)*8388608);$((en<<31|es+127<<23|eo)>>>0,er,ei)}}function readFloat_ieee754($,ee,er){var ei=$(ee,er),en=(ei>>31)*2+1,es=ei>>>23&255,eo=8388607&ei;return 255===es?eo?NaN:en*(1/0):0===es?1401298464324817e-60*en*eo:en*Math.pow(2,es-150)*(eo+8388608)}$.writeFloatLE=writeFloat_ieee754.bind(null,writeUintLE),$.writeFloatBE=writeFloat_ieee754.bind(null,writeUintBE),$.readFloatLE=readFloat_ieee754.bind(null,readUintLE),$.readFloatBE=readFloat_ieee754.bind(null,readUintBE)}(),"undefined"!=typeof Float64Array?function(){var ee=new Float64Array([-0]),er=new Uint8Array(ee.buffer),ei=128===er[7];function writeDouble_f64_cpy($,ei,en){ee[0]=$,ei[en]=er[0],ei[en+1]=er[1],ei[en+2]=er[2],ei[en+3]=er[3],ei[en+4]=er[4],ei[en+5]=er[5],ei[en+6]=er[6],ei[en+7]=er[7]}function writeDouble_f64_rev($,ei,en){ee[0]=$,ei[en]=er[7],ei[en+1]=er[6],ei[en+2]=er[5],ei[en+3]=er[4],ei[en+4]=er[3],ei[en+5]=er[2],ei[en+6]=er[1],ei[en+7]=er[0]}function readDouble_f64_cpy($,ei){return er[0]=$[ei],er[1]=$[ei+1],er[2]=$[ei+2],er[3]=$[ei+3],er[4]=$[ei+4],er[5]=$[ei+5],er[6]=$[ei+6],er[7]=$[ei+7],ee[0]}function readDouble_f64_rev($,ei){return er[7]=$[ei],er[6]=$[ei+1],er[5]=$[ei+2],er[4]=$[ei+3],er[3]=$[ei+4],er[2]=$[ei+5],er[1]=$[ei+6],er[0]=$[ei+7],ee[0]}$.writeDoubleLE=ei?writeDouble_f64_cpy:writeDouble_f64_rev,$.writeDoubleBE=ei?writeDouble_f64_rev:writeDouble_f64_cpy,$.readDoubleLE=ei?readDouble_f64_cpy:readDouble_f64_rev,$.readDoubleBE=ei?readDouble_f64_rev:readDouble_f64_cpy}():function(){function writeDouble_ieee754($,ee,er,ei,en,es){var eo,ep=ei<0?1:0;if(ep&&(ei=-ei),0===ei)$(0,en,es+ee),$(1/ei>0?0:2147483648,en,es+er);else if(isNaN(ei))$(0,en,es+ee),$(2146959360,en,es+er);else if(ei>17976931348623157e292)$(0,en,es+ee),$((ep<<31|2146435072)>>>0,en,es+er);else if(ei<22250738585072014e-324)$((eo=ei/5e-324)>>>0,en,es+ee),$((ep<<31|eo/4294967296)>>>0,en,es+er);else{var eu=Math.floor(Math.log(ei)/Math.LN2);1024===eu&&(eu=1023),$(4503599627370496*(eo=ei*Math.pow(2,-eu))>>>0,en,es+ee),$((ep<<31|eu+1023<<20|1048576*eo&1048575)>>>0,en,es+er)}}function readDouble_ieee754($,ee,er,ei,en){var es=$(ei,en+ee),eo=$(ei,en+er),ep=(eo>>31)*2+1,eu=eo>>>20&2047,eh=4294967296*(1048575&eo)+es;return 2047===eu?eh?NaN:ep*(1/0):0===eu?5e-324*ep*eh:ep*Math.pow(2,eu-1075)*(eh+4503599627370496)}$.writeDoubleLE=writeDouble_ieee754.bind(null,writeUintLE,0,4),$.writeDoubleBE=writeDouble_ieee754.bind(null,writeUintBE,4,0),$.readDoubleLE=readDouble_ieee754.bind(null,readUintLE,0,4),$.readDoubleBE=readDouble_ieee754.bind(null,readUintBE,4,0)}(),$}function writeUintLE($,ee,er){ee[er]=255&$,ee[er+1]=$>>>8&255,ee[er+2]=$>>>16&255,ee[er+3]=$>>>24}function writeUintBE($,ee,er){ee[er]=$>>>24,ee[er+1]=$>>>16&255,ee[er+2]=$>>>8&255,ee[er+3]=255&$}function readUintLE($,ee){return($[ee]|$[ee+1]<<8|$[ee+2]<<16|$[ee+3]<<24)>>>0}function readUintBE($,ee){return($[ee]<<24|$[ee+1]<<16|$[ee+2]<<8|$[ee+3])>>>0}$.exports=factory(factory)},65301:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},87277:($,ee)=>{"use strict";var er=ee,ei=er.isAbsolute=function($){return/^(?:\/|\w+:)/.test($)},en=er.normalize=function($){var ee=($=$.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),er=ei($),en="";er&&(en=ee.shift()+"/");for(var es=0;es<ee.length;)".."===ee[es]?es>0&&".."!==ee[es-1]?ee.splice(--es,2):er?ee.splice(es,1):++es:"."===ee[es]?ee.splice(es,1):++es;return en+ee.join("/")};er.resolve=function($,ee,er){return(er||(ee=en(ee)),ei(ee))?ee:(er||($=en($)),($=$.replace(/(?:\/|^)[^/]+$/,"")).length?en($+"/"+ee):ee)}},69185:$=>{"use strict";function pool($,ee,er){var ei=er||8192,en=ei>>>1,es=null,eo=ei;return function(er){if(er<1||er>en)return $(er);eo+er>ei&&(es=$(ei),eo=0);var ep=ee.call(es,eo,eo+=er);return 7&eo&&(eo=(7|eo)+1),ep}}$.exports=pool},28453:($,ee)=>{"use strict";var er=ee;er.length=function($){for(var ee=0,er=0,ei=0;ei<$.length;++ei)(er=$.charCodeAt(ei))<128?ee+=1:er<2048?ee+=2:(64512&er)==55296&&(64512&$.charCodeAt(ei+1))==56320?(++ei,ee+=4):ee+=3;return ee},er.read=function($,ee,er){if(er-ee<1)return"";for(var ei,en=null,es=[],eo=0;ee<er;)(ei=$[ee++])<128?es[eo++]=ei:ei>191&&ei<224?es[eo++]=(31&ei)<<6|63&$[ee++]:ei>239&&ei<365?(ei=((7&ei)<<18|(63&$[ee++])<<12|(63&$[ee++])<<6|63&$[ee++])-65536,es[eo++]=55296+(ei>>10),es[eo++]=56320+(1023&ei)):es[eo++]=(15&ei)<<12|(63&$[ee++])<<6|63&$[ee++],eo>8191&&((en||(en=[])).push(String.fromCharCode.apply(String,es)),eo=0);return en?(eo&&en.push(String.fromCharCode.apply(String,es.slice(0,eo))),en.join("")):String.fromCharCode.apply(String,es.slice(0,eo))},er.write=function($,ee,er){for(var ei,en,es=er,eo=0;eo<$.length;++eo)(ei=$.charCodeAt(eo))<128?ee[er++]=ei:(ei<2048?ee[er++]=ei>>6|192:((64512&ei)==55296&&(64512&(en=$.charCodeAt(eo+1)))==56320?(ei=65536+((1023&ei)<<10)+(1023&en),++eo,ee[er++]=ei>>18|240,ee[er++]=ei>>12&63|128):ee[er++]=ei>>12|224,ee[er++]=ei>>6&63|128),ee[er++]=63&ei|128);return er-es}},30099:($,ee,er)=>{"use strict";var ei=er(53658);function convert($,ee,er){var ei;if(er=checkEncoding(er||"UTF-8"),ee=checkEncoding(ee||"UTF-8"),$=$||"","UTF-8"!==er&&"string"==typeof $&&($=Buffer.from($,"binary")),er===ee)ei="string"==typeof $?Buffer.from($):$;else try{ei=convertIconvLite($,ee,er)}catch(ee){console.error(ee),ei=$}return"string"==typeof ei&&(ei=Buffer.from(ei,"utf-8")),ei}function convertIconvLite($,ee,er){return"UTF-8"===ee?ei.decode($,er):"UTF-8"===er?ei.encode($,ee):ei.encode(ei.decode($,er),ee)}function checkEncoding($){return($||"").toString().trim().replace(/^latin[\-_]?(\d+)$/i,"ISO-8859-$1").replace(/^win(?:dows)?[\-_]?(\d+)$/i,"WINDOWS-$1").replace(/^utf[\-_]?(\d+)$/i,"UTF-$1").replace(/^ks_c_5601\-1987$/i,"CP949").replace(/^us[\-_]?ascii$/i,"ASCII").toUpperCase()}$.exports.O=convert},51267:($,ee,er)=>{"use strict";var ei=er(12781).Stream,en=er(73837),es=er(56457),eo=er(54617),ep=er(39451),eu=er(15190),eh=er(74899),EventSource=function($,ee,er){this.writable=!0,er=er||{},this._stream=ee.socket,this._ping=er.ping||this.DEFAULT_PING,this._retry=er.retry||this.DEFAULT_RETRY;var ei=es.isSecureRequest($)?"https:":"http:";this.url=ei+"//"+$.headers.host+$.url,this.lastEventId=$.headers["last-event-id"]||"",this.readyState=ep.CONNECTING;var en=new eo,eu=this;if(er.headers)for(var eh in er.headers)en.set(eh,er.headers[eh]);if(this._stream&&this._stream.writable){process.nextTick(function(){eu._open()}),this._stream.setTimeout(0),this._stream.setNoDelay(!0);var em="HTTP/1.1 200 OK\r\nContent-Type: text/event-stream\r\nCache-Control: no-cache, no-store\r\nConnection: close\r\n"+en.toString()+"\r\nretry: "+Math.floor(1e3*this._retry)+"\r\n\r\n";this._write(em),this._stream.on("drain",function(){eu.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){eu.ping()},1e3*this._ping)),["error","end"].forEach(function($){eu._stream.on($,function(){eu.close()})})}};en.inherits(EventSource,ei),EventSource.isEventSource=function($){return"GET"===$.method&&($.headers.accept||"").split(/\s*,\s*/).indexOf("text/event-stream")>=0};var em={DEFAULT_PING:10,DEFAULT_RETRY:5,_write:function($){if(!this.writable)return!1;try{return this._stream.write($,"utf8")}catch($){return!1}},_open:function(){if(this.readyState===ep.CONNECTING){this.readyState=ep.OPEN;var $=new eh("open");$.initEvent("open",!1,!1),this.dispatchEvent($)}},write:function($){return this.send($)},end:function($){void 0!==$&&this.write($),this.close()},send:function($,ee){if(this.readyState>ep.OPEN)return!1;$=String($).replace(/(\r\n|\r|\n)/g,"$1data: ");var er="";return(ee=ee||{}).event&&(er+="event: "+ee.event+"\r\n"),ee.id&&(er+="id: "+ee.id+"\r\n"),er+="data: "+$+"\r\n\r\n",this._write(er)},ping:function(){return this._write(":\r\n\r\n")},close:function(){if(this.readyState>ep.OPEN)return!1;this.readyState=ep.CLOSED,this.writable=!1,this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end();var $=new eh("close");return $.initEvent("close",!1,!1),this.dispatchEvent($),!0}};for(var ef in em)EventSource.prototype[ef]=em[ef];for(var eg in eu)EventSource.prototype[eg]=eu[eg];$.exports=EventSource},83369:($,ee,er)=>{"use strict";var ei=er(73837),en=er(56457),es=er(39451),WebSocket=function($,ee,er,ei,eo){eo=eo||{},this._stream=ee,this._driver=en.http($,{maxLength:eo.maxLength,protocols:ei});var ep=this;if(this._stream&&this._stream.writable){if(!this._stream.readable)return this._stream.end();var catchup=function(){ep._stream.removeListener("data",catchup)};this._stream.on("data",catchup),es.call(this,eo),process.nextTick(function(){ep._driver.start(),ep._driver.io.write(er)})}};ei.inherits(WebSocket,es),WebSocket.isWebSocket=function($){return en.isWebSocket($)},WebSocket.validateOptions=function($,ee){en.validateOptions($,ee)},WebSocket.WebSocket=WebSocket,WebSocket.Client=er(45546),WebSocket.EventSource=er(51267),$.exports=WebSocket},39451:($,ee,er)=>{"use strict";var ei=er(12781).Stream,en=er(73837),es=er(56457),eo=er(15190),ep=er(74899),API=function($){$=$||{},es.validateOptions($,["headers","extensions","maxLength","ping","proxy","tls","ca"]),this.readable=this.writable=!0;var ee=$.headers;if(ee)for(var er in ee)this._driver.setHeader(er,ee[er]);var ei=$.extensions;ei&&[].concat(ei).forEach(this._driver.addExtension,this._driver),this._ping=$.ping,this._pingId=0,this.readyState=API.CONNECTING,this.bufferedAmount=0,this.protocol="",this.url=this._driver.url,this.version=this._driver.version;var en=this;this._driver.on("open",function($){en._open()}),this._driver.on("message",function($){en._receiveMessage($.data)}),this._driver.on("close",function($){en._beginClose($.reason,$.code)}),this._driver.on("error",function($){en._emitError($.message)}),this.on("error",function(){}),this._driver.messages.on("drain",function(){en.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){en._pingId+=1,en.ping(en._pingId.toString())},1e3*this._ping)),this._configureStream(),this._proxy||(this._stream.pipe(this._driver.io),this._driver.io.pipe(this._stream))};en.inherits(API,ei),API.CONNECTING=0,API.OPEN=1,API.CLOSING=2,API.CLOSED=3,API.CLOSE_TIMEOUT=3e4;var eu={write:function($){return this.send($)},end:function($){void 0!==$&&this.send($),this.close()},pause:function(){return this._driver.messages.pause()},resume:function(){return this._driver.messages.resume()},send:function($){return!(this.readyState>API.OPEN)&&($ instanceof Buffer||($=String($)),this._driver.messages.write($))},ping:function($,ee){return!(this.readyState>API.OPEN)&&this._driver.ping($,ee)},close:function($,ee){if(void 0===$&&($=1e3),void 0===ee&&(ee=""),1e3!==$&&($<3e3||$>4999))throw Error("Failed to execute 'close' on WebSocket: The code must be either 1000, or between 3000 and 4999. "+$+" is neither.");if(this.readyState<API.CLOSING){var er=this;this._closeTimer=setTimeout(function(){er._beginClose("",1006)},API.CLOSE_TIMEOUT)}this.readyState!==API.CLOSED&&(this.readyState=API.CLOSING),this._driver.close(ee,$)},_configureStream:function(){var $=this;this._stream.setTimeout(0),this._stream.setNoDelay(!0),["close","end"].forEach(function(ee){this._stream.on(ee,function(){$._finalizeClose()})},this),this._stream.on("error",function(ee){$._emitError("Network error: "+$.url+": "+ee.message),$._finalizeClose()})},_open:function(){if(this.readyState===API.CONNECTING){this.readyState=API.OPEN,this.protocol=this._driver.protocol||"";var $=new ep("open");$.initEvent("open",!1,!1),this.dispatchEvent($)}},_receiveMessage:function($){if(this.readyState>API.OPEN)return!1;this.readable&&this.emit("data",$);var ee=new ep("message",{data:$});ee.initEvent("message",!1,!1),this.dispatchEvent(ee)},_emitError:function($){if(!(this.readyState>=API.CLOSING)){var ee=new ep("error",{message:$});ee.initEvent("error",!1,!1),this.dispatchEvent(ee)}},_beginClose:function($,ee){this.readyState!==API.CLOSED&&(this.readyState=API.CLOSING,this._closeParams=[$,ee],this._stream&&(this._stream.destroy(),this._stream.readable||this._finalizeClose()))},_finalizeClose:function(){if(this.readyState!==API.CLOSED){this.readyState=API.CLOSED,this._closeTimer&&clearTimeout(this._closeTimer),this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end(),this.readable&&this.emit("end"),this.readable=this.writable=!1;var $=this._closeParams?this._closeParams[0]:"",ee=this._closeParams?this._closeParams[1]:1006,er=new ep("close",{code:ee,reason:$});er.initEvent("close",!1,!1),this.dispatchEvent(er)}}};for(var eh in eu)API.prototype[eh]=eu[eh];for(var em in eo)API.prototype[em]=eo[em];$.exports=API},74899:$=>{"use strict";var Event=function($,ee){for(var er in this.type=$,ee)this[er]=ee[er]};Event.prototype.initEvent=function($,ee,er){this.type=$,this.bubbles=ee,this.cancelable=er},Event.prototype.stopPropagation=function(){},Event.prototype.preventDefault=function(){},Event.CAPTURING_PHASE=1,Event.AT_TARGET=2,Event.BUBBLING_PHASE=3,$.exports=Event},15190:($,ee,er)=>{"use strict";var ei=er(74899),en={onopen:null,onmessage:null,onerror:null,onclose:null,addEventListener:function($,ee,er){this.on($,ee)},removeEventListener:function($,ee,er){this.removeListener($,ee)},dispatchEvent:function($){$.target=$.currentTarget=this,$.eventPhase=ei.AT_TARGET,this["on"+$.type]&&this["on"+$.type]($),this.emit($.type,$)}};$.exports=en},45546:($,ee,er)=>{"use strict";var ei=er(73837),en=er(41808),es=er(24404),eo=er(57310),ep=er(56457),eu=er(39451);er(74899);var eh={"http:":80,"https:":443,"ws:":80,"wss:":443},em=["https:","wss:"],Client=function($,ee,er){er=er||{},this.url=$,this._driver=ep.client(this.url,{maxLength:er.maxLength,protocols:ee}),["open","error"].forEach(function($){this._driver.on($,function(){ew.headers=ew._driver.headers,ew.statusCode=ew._driver.statusCode})},this);var ei=er.proxy||{},ef=eo.parse(ei.origin||this.url),eg=ef.port||eh[ef.protocol],ey=em.indexOf(ef.protocol)>=0,onConnect=function(){ew._onConnect()},ev=er.net||{},eS=er.tls||{},e_=ei.origin?ei.tls||{}:eS,ew=this;ev.host=e_.host=ef.hostname,ev.port=e_.port=eg,eS.ca=eS.ca||er.ca,e_.servername=e_.servername||ef.hostname,this._stream=ey?es.connect(e_,onConnect):en.connect(ev,onConnect),ei.origin&&this._configureProxy(ei,eS),eu.call(this,er)};ei.inherits(Client,eu),Client.prototype._onConnect=function(){(this._proxy||this._driver).start()},Client.prototype._configureProxy=function($,ee){var er,ei=eo.parse(this.url),en=em.indexOf(ei.protocol)>=0,ep=this;if(this._proxy=this._driver.proxy($.origin),$.headers)for(er in $.headers)this._proxy.setHeader(er,$.headers[er]);this._proxy.pipe(this._stream,{end:!1}),this._stream.pipe(this._proxy),this._proxy.on("connect",function(){if(en){var $={socket:ep._stream,servername:ei.hostname};for(er in ee)$[er]=ee[er];ep._stream=es.connect($),ep._configureStream()}ep._driver.io.pipe(ep._stream),ep._stream.pipe(ep._driver.io),ep._driver.start()}),this._proxy.on("error",function($){ep._driver.emit("error",$)})},$.exports=Client},95088:($,ee,er)=>{var ei,en=er(39491);function HTTPParser($){en.ok($===HTTPParser.REQUEST||$===HTTPParser.RESPONSE||void 0===$),void 0===$||this.initialize($),this.maxHeaderSize=HTTPParser.maxHeaderSize}ee.m=HTTPParser,HTTPParser.prototype.initialize=function($,ee){en.ok($===HTTPParser.REQUEST||$===HTTPParser.RESPONSE),this.type=$,this.state=$+"_LINE",this.info={headers:[],upgrade:!1},this.trailers=[],this.line="",this.isChunked=!1,this.connection="",this.headerSize=0,this.body_bytes=null,this.isUserCall=!1,this.hadError=!1},HTTPParser.encoding="ascii",HTTPParser.maxHeaderSize=81920,HTTPParser.REQUEST="REQUEST",HTTPParser.RESPONSE="RESPONSE";var es=HTTPParser.kOnHeaders=1,eo=HTTPParser.kOnHeadersComplete=2,ep=HTTPParser.kOnBody=3,eu=HTTPParser.kOnMessageComplete=4;HTTPParser.prototype[es]=HTTPParser.prototype[eo]=HTTPParser.prototype[ep]=HTTPParser.prototype[eu]=function(){};var eh=!0;Object.defineProperty(HTTPParser,"kOnExecute",{get:function(){return eh=!1,99}});var em=ei=HTTPParser.methods=["DELETE","GET","HEAD","POST","PUT","CONNECT","OPTIONS","TRACE","COPY","LOCK","MKCOL","MOVE","PROPFIND","PROPPATCH","SEARCH","UNLOCK","BIND","REBIND","UNBIND","ACL","REPORT","MKACTIVITY","CHECKOUT","MERGE","M-SEARCH","NOTIFY","SUBSCRIBE","UNSUBSCRIBE","PATCH","PURGE","MKCALENDAR","LINK","UNLINK","SOURCE"],ef=em.indexOf("CONNECT");HTTPParser.prototype.reinitialize=HTTPParser,HTTPParser.prototype.close=HTTPParser.prototype.pause=HTTPParser.prototype.resume=HTTPParser.prototype.free=function(){},HTTPParser.prototype._compatMode0_11=!1,HTTPParser.prototype.getAsyncId=function(){return 0};var eg={REQUEST_LINE:!0,RESPONSE_LINE:!0,HEADER:!0};HTTPParser.prototype.execute=function($,ee,er){if(!(this instanceof HTTPParser))throw TypeError("not a HTTPParser");ee=ee||0,er="number"==typeof er?er:$.length,this.chunk=$,this.offset=ee;var ei=this.end=ee+er;try{for(;this.offset<ei&&!this[this.state](););}catch($){if(this.isUserCall)throw $;return this.hadError=!0,$}return(this.chunk=null,er=this.offset-ee,eg[this.state]&&(this.headerSize+=er,this.headerSize>(this.maxHeaderSize||HTTPParser.maxHeaderSize)))?Error("max header size exceeded"):er};var ey={REQUEST_LINE:!0,RESPONSE_LINE:!0,BODY_RAW:!0};HTTPParser.prototype.finish=function(){if(!this.hadError){if(!ey[this.state])return Error("invalid state for EOF");"BODY_RAW"===this.state&&this.userCall()(this[eu]())}},HTTPParser.prototype.consume=HTTPParser.prototype.unconsume=HTTPParser.prototype.getCurrentBuffer=function(){},HTTPParser.prototype.userCall=function(){this.isUserCall=!0;var $=this;return function(ee){return $.isUserCall=!1,ee}},HTTPParser.prototype.nextRequest=function(){this.userCall()(this[eu]()),this.reinitialize(this.type)},HTTPParser.prototype.consumeLine=function(){for(var $=this.end,ee=this.chunk,er=this.offset;er<$;er++)if(10===ee[er]){var ei=this.line+ee.toString(HTTPParser.encoding,this.offset,er);return"\r"===ei.charAt(ei.length-1)&&(ei=ei.substr(0,ei.length-1)),this.line="",this.offset=er+1,ei}this.line+=ee.toString(HTTPParser.encoding,this.offset,this.end),this.offset=this.end};var ev=/^([^: \t]+):[ \t]*((?:.*[^ \t])|)/,eS=/^[ \t]+(.*[^ \t])/;HTTPParser.prototype.parseHeader=function($,ee){if(-1!==$.indexOf("\r"))throw parseErrorCode("HPE_LF_EXPECTED");var er=ev.exec($),ei=er&&er[1];if(ei)ee.push(ei),ee.push(er[2]);else{var en=eS.exec($);en&&ee.length&&(ee[ee.length-1]&&(ee[ee.length-1]+=" "),ee[ee.length-1]+=en[1])}};var e_=/^([A-Z-]+) ([^ ]+) HTTP\/(\d)\.(\d)$/;HTTPParser.prototype.REQUEST_LINE=function(){var $=this.consumeLine();if($){var ee=e_.exec($);if(null===ee)throw parseErrorCode("HPE_INVALID_CONSTANT");if(this.info.method=this._compatMode0_11?ee[1]:em.indexOf(ee[1]),-1===this.info.method)throw Error("invalid request method");this.info.url=ee[2],this.info.versionMajor=+ee[3],this.info.versionMinor=+ee[4],this.body_bytes=0,this.state="HEADER"}};var ew=/^HTTP\/(\d)\.(\d) (\d{3}) ?(.*)$/;function parseErrorCode($){var ee=Error("Parse Error");return ee.code=$,ee}HTTPParser.prototype.RESPONSE_LINE=function(){var $=this.consumeLine();if($){var ee=ew.exec($);if(null===ee)throw parseErrorCode("HPE_INVALID_CONSTANT");this.info.versionMajor=+ee[1],this.info.versionMinor=+ee[2];var er=this.info.statusCode=+ee[3];this.info.statusMessage=ee[4],((er/100|0)==1||204===er||304===er)&&(this.body_bytes=0),this.state="HEADER"}},HTTPParser.prototype.shouldKeepAlive=function(){if(this.info.versionMajor>0&&this.info.versionMinor>0){if(-1!==this.connection.indexOf("close"))return!1}else if(-1===this.connection.indexOf("keep-alive"))return!1;return null!==this.body_bytes||!!this.isChunked},HTTPParser.prototype.HEADER=function(){var $=this.consumeLine();if(void 0!==$){var ee=this.info;if($)this.parseHeader($,ee.headers);else{for(var er,ei,en=ee.headers,es=!1,ep=!1,eu=0;eu<en.length;eu+=2)switch(en[eu].toLowerCase()){case"transfer-encoding":this.isChunked="chunked"===en[eu+1].toLowerCase();break;case"content-length":if(er=+en[eu+1],es){if(er!==this.body_bytes)throw parseErrorCode("HPE_UNEXPECTED_CONTENT_LENGTH")}else es=!0,this.body_bytes=er;break;case"connection":this.connection+=en[eu+1].toLowerCase();break;case"upgrade":ep=!0}if(this.isChunked&&es&&(es=!1,this.body_bytes=null),ep&&-1!=this.connection.indexOf("upgrade")?ee.upgrade=this.type===HTTPParser.REQUEST||101===ee.statusCode:ee.upgrade=ee.method===ef,this.isChunked&&ee.upgrade&&(this.isChunked=!1),ee.shouldKeepAlive=this.shouldKeepAlive(),2===(ei=eh?this.userCall()(this[eo](ee)):this.userCall()(this[eo](ee.versionMajor,ee.versionMinor,ee.headers,ee.method,ee.url,ee.statusCode,ee.statusMessage,ee.upgrade,ee.shouldKeepAlive))))return this.nextRequest(),!0;if(this.isChunked&&!ei)this.state="BODY_CHUNKHEAD";else{if(ei||0===this.body_bytes)return this.nextRequest(),ee.upgrade;null===this.body_bytes?this.state="BODY_RAW":this.state="BODY_SIZED"}}}},HTTPParser.prototype.BODY_CHUNKHEAD=function(){var $=this.consumeLine();void 0!==$&&(this.body_bytes=parseInt($,16),this.body_bytes?this.state="BODY_CHUNK":this.state="BODY_CHUNKTRAILERS")},HTTPParser.prototype.BODY_CHUNK=function(){var $=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[ep](this.chunk,this.offset,$)),this.offset+=$,this.body_bytes-=$,this.body_bytes||(this.state="BODY_CHUNKEMPTYLINE")},HTTPParser.prototype.BODY_CHUNKEMPTYLINE=function(){var $=this.consumeLine();void 0!==$&&(en.equal($,""),this.state="BODY_CHUNKHEAD")},HTTPParser.prototype.BODY_CHUNKTRAILERS=function(){var $=this.consumeLine();void 0!==$&&($?this.parseHeader($,this.trailers):(this.trailers.length&&this.userCall()(this[es](this.trailers,"")),this.nextRequest()))},HTTPParser.prototype.BODY_RAW=function(){var $=this.end-this.offset;this.userCall()(this[ep](this.chunk,this.offset,$)),this.offset=this.end},HTTPParser.prototype.BODY_SIZED=function(){var $=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[ep](this.chunk,this.offset,$)),this.offset+=$,this.body_bytes-=$,this.body_bytes||this.nextRequest()},["Headers","HeadersComplete","Body","MessageComplete"].forEach(function($){var ee=HTTPParser["kOn"+$];Object.defineProperty(HTTPParser.prototype,"on"+$,{get:function(){return this[ee]},set:function($){return this._compatMode0_11=!0,ef="CONNECT",this[ee]=$}})})},20102:($,ee,er)=>{"use strict";var ei=er(66534).Buffer;ee._dbcs=DBCSCodec;for(var en=-1,es=-2,eo=-10,ep=-1e3,eu=Array(256),eh=-1,em=0;em<256;em++)eu[em]=en;function DBCSCodec($,ee){if(this.encodingName=$.encodingName,!$)throw Error("DBCS codec is called without the data.");if(!$.table)throw Error("Encoding '"+this.encodingName+"' has no data.");var er=$.table();this.decodeTables=[],this.decodeTables[0]=eu.slice(0),this.decodeTableSeq=[];for(var ei=0;ei<er.length;ei++)this._addDecodeChunk(er[ei]);if("function"==typeof $.gb18030){this.gb18030=$.gb18030();var eo=this.decodeTables.length;this.decodeTables.push(eu.slice(0));var eh=this.decodeTables.length;this.decodeTables.push(eu.slice(0));for(var em=this.decodeTables[0],ei=129;ei<=254;ei++)for(var ef=this.decodeTables[ep-em[ei]],eg=48;eg<=57;eg++){if(ef[eg]===en)ef[eg]=ep-eo;else if(ef[eg]>ep)throw Error("gb18030 decode tables conflict at byte 2");for(var ey=this.decodeTables[ep-ef[eg]],ev=129;ev<=254;ev++){if(ey[ev]===en)ey[ev]=ep-eh;else if(ey[ev]===ep-eh)continue;else if(ey[ev]>ep)throw Error("gb18030 decode tables conflict at byte 3");for(var eS=this.decodeTables[ep-ey[ev]],e_=48;e_<=57;e_++)eS[e_]===en&&(eS[e_]=es)}}}this.defaultCharUnicode=ee.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var ew={};if($.encodeSkipVals)for(var ei=0;ei<$.encodeSkipVals.length;ei++){var eC=$.encodeSkipVals[ei];if("number"==typeof eC)ew[eC]=!0;else for(var eg=eC.from;eg<=eC.to;eg++)ew[eg]=!0}if(this._fillEncodeTable(0,0,ew),$.encodeAdd)for(var eT in $.encodeAdd)Object.prototype.hasOwnProperty.call($.encodeAdd,eT)&&this._setEncodeChar(eT.charCodeAt(0),$.encodeAdd[eT]);this.defCharSB=this.encodeTable[0][ee.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===en&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===en&&(this.defCharSB=63)}function DBCSEncoder($,ee){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=ee.encodeTable,this.encodeTableSeq=ee.encodeTableSeq,this.defaultCharSingleByte=ee.defCharSB,this.gb18030=ee.gb18030}function DBCSDecoder($,ee){this.nodeIdx=0,this.prevBytes=[],this.decodeTables=ee.decodeTables,this.decodeTableSeq=ee.decodeTableSeq,this.defaultCharUnicode=ee.defaultCharUnicode,this.gb18030=ee.gb18030}function findIdx($,ee){if($[0]>ee)return -1;for(var er=0,ei=$.length;er<ei-1;){var en=er+(ei-er+1>>1);$[en]<=ee?er=en:ei=en}return er}DBCSCodec.prototype.encoder=DBCSEncoder,DBCSCodec.prototype.decoder=DBCSDecoder,DBCSCodec.prototype._getDecodeTrieNode=function($){for(var ee=[];$>0;$>>>=8)ee.push(255&$);0==ee.length&&ee.push(0);for(var er=this.decodeTables[0],ei=ee.length-1;ei>0;ei--){var es=er[ee[ei]];if(es==en)er[ee[ei]]=ep-this.decodeTables.length,this.decodeTables.push(er=eu.slice(0));else if(es<=ep)er=this.decodeTables[ep-es];else throw Error("Overwrite byte in "+this.encodingName+", addr: "+$.toString(16))}return er},DBCSCodec.prototype._addDecodeChunk=function($){var ee=parseInt($[0],16),er=this._getDecodeTrieNode(ee);ee&=255;for(var ei=1;ei<$.length;ei++){var en=$[ei];if("string"==typeof en)for(var es=0;es<en.length;){var ep=en.charCodeAt(es++);if(55296<=ep&&ep<56320){var eu=en.charCodeAt(es++);if(56320<=eu&&eu<57344)er[ee++]=65536+(ep-55296)*1024+(eu-56320);else throw Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+$[0])}else if(4080<ep&&ep<=4095){for(var eh=4095-ep+2,em=[],ef=0;ef<eh;ef++)em.push(en.charCodeAt(es++));er[ee++]=eo-this.decodeTableSeq.length,this.decodeTableSeq.push(em)}else er[ee++]=ep}else if("number"==typeof en)for(var eg=er[ee-1]+1,es=0;es<en;es++)er[ee++]=eg++;else throw Error("Incorrect type '"+typeof en+"' given in "+this.encodingName+" at chunk "+$[0])}if(ee>255)throw Error("Incorrect chunk in "+this.encodingName+" at addr "+$[0]+": too long"+ee)},DBCSCodec.prototype._getEncodeBucket=function($){var ee=$>>8;return void 0===this.encodeTable[ee]&&(this.encodeTable[ee]=eu.slice(0)),this.encodeTable[ee]},DBCSCodec.prototype._setEncodeChar=function($,ee){var er=this._getEncodeBucket($),ei=255&$;er[ei]<=eo?this.encodeTableSeq[eo-er[ei]][eh]=ee:er[ei]==en&&(er[ei]=ee)},DBCSCodec.prototype._setEncodeSequence=function($,ee){var er,ei=$[0],es=this._getEncodeBucket(ei),ep=255&ei;es[ep]<=eo?er=this.encodeTableSeq[eo-es[ep]]:(er={},es[ep]!==en&&(er[eh]=es[ep]),es[ep]=eo-this.encodeTableSeq.length,this.encodeTableSeq.push(er));for(var eu=1;eu<$.length-1;eu++){var em=er[ei];"object"==typeof em?er=em:(er=er[ei]={},void 0!==em&&(er[eh]=em))}er[ei=$[$.length-1]]=ee},DBCSCodec.prototype._fillEncodeTable=function($,ee,er){for(var ei=this.decodeTables[$],en=!1,es={},eu=0;eu<256;eu++){var eh=ei[eu],em=ee+eu;if(!er[em]){if(eh>=0)this._setEncodeChar(eh,em),en=!0;else if(eh<=ep){var ef=ep-eh;if(!es[ef]){var eg=em<<8>>>0;this._fillEncodeTable(ef,eg,er)?en=!0:es[ef]=!0}}else eh<=eo&&(this._setEncodeSequence(this.decodeTableSeq[eo-eh],em),en=!0)}}return en},DBCSEncoder.prototype.write=function($){for(var ee=ei.alloc($.length*(this.gb18030?4:3)),er=this.leadSurrogate,es=this.seqObj,ep=-1,eu=0,em=0;;){if(-1===ep){if(eu==$.length)break;var ef=$.charCodeAt(eu++)}else{var ef=ep;ep=-1}if(55296<=ef&&ef<57344){if(ef<56320){if(-1===er){er=ef;continue}er=ef,ef=en}else -1!==er?(ef=65536+(er-55296)*1024+(ef-56320),er=-1):ef=en}else -1!==er&&(ep=ef,ef=en,er=-1);var eg=en;if(void 0!==es&&ef!=en){var ey=es[ef];if("object"==typeof ey){es=ey;continue}"number"==typeof ey?eg=ey:void 0==ey&&void 0!==(ey=es[eh])&&(eg=ey,ep=ef),es=void 0}else if(ef>=0){var ev=this.encodeTable[ef>>8];if(void 0!==ev&&(eg=ev[255&ef]),eg<=eo){es=this.encodeTableSeq[eo-eg];continue}if(eg==en&&this.gb18030){var eS=findIdx(this.gb18030.uChars,ef);if(-1!=eS){var eg=this.gb18030.gbChars[eS]+(ef-this.gb18030.uChars[eS]);ee[em++]=129+Math.floor(eg/12600),eg%=12600,ee[em++]=48+Math.floor(eg/1260),eg%=1260,ee[em++]=129+Math.floor(eg/10),eg%=10,ee[em++]=48+eg;continue}}}eg===en&&(eg=this.defaultCharSingleByte),eg<256?ee[em++]=eg:(eg<65536?ee[em++]=eg>>8:eg<16777216?(ee[em++]=eg>>16,ee[em++]=eg>>8&255):(ee[em++]=eg>>>24,ee[em++]=eg>>>16&255,ee[em++]=eg>>>8&255),ee[em++]=255&eg)}return this.seqObj=es,this.leadSurrogate=er,ee.slice(0,em)},DBCSEncoder.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var $=ei.alloc(10),ee=0;if(this.seqObj){var er=this.seqObj[eh];void 0!==er&&(er<256?$[ee++]=er:($[ee++]=er>>8,$[ee++]=255&er)),this.seqObj=void 0}return -1!==this.leadSurrogate&&($[ee++]=this.defaultCharSingleByte,this.leadSurrogate=-1),$.slice(0,ee)}},DBCSEncoder.prototype.findIdx=findIdx,DBCSDecoder.prototype.write=function($){for(var ee,er=ei.alloc(2*$.length),eu=this.nodeIdx,eh=this.prevBytes,em=this.prevBytes.length,ef=-this.prevBytes.length,eg=0,ey=0;eg<$.length;eg++){var ev=eg>=0?$[eg]:eh[eg+em],ee=this.decodeTables[eu][ev];if(ee>=0);else if(ee===en)ee=this.defaultCharUnicode.charCodeAt(0),eg=ef;else if(ee===es){if(eg>=3)var eS=($[eg-3]-129)*12600+($[eg-2]-48)*1260+($[eg-1]-129)*10+(ev-48);else var eS=(eh[eg-3+em]-129)*12600+((eg-2>=0?$[eg-2]:eh[eg-2+em])-48)*1260+((eg-1>=0?$[eg-1]:eh[eg-1+em])-129)*10+(ev-48);var e_=findIdx(this.gb18030.gbChars,eS);ee=this.gb18030.uChars[e_]+eS-this.gb18030.gbChars[e_]}else if(ee<=ep){eu=ep-ee;continue}else if(ee<=eo){for(var ew=this.decodeTableSeq[eo-ee],eC=0;eC<ew.length-1;eC++)ee=ew[eC],er[ey++]=255&ee,er[ey++]=ee>>8;ee=ew[ew.length-1]}else throw Error("iconv-lite internal error: invalid decoding table value "+ee+" at "+eu+"/"+ev);if(ee>=65536){var eT=55296|(ee-=65536)>>10;er[ey++]=255&eT,er[ey++]=eT>>8,ee=56320|1023&ee}er[ey++]=255&ee,er[ey++]=ee>>8,eu=0,ef=eg+1}return this.nodeIdx=eu,this.prevBytes=ef>=0?Array.prototype.slice.call($,ef):eh.slice(ef+em).concat(Array.prototype.slice.call($)),er.slice(0,ey).toString("ucs2")},DBCSDecoder.prototype.end=function(){for(var $="";this.prevBytes.length>0;){$+=this.defaultCharUnicode;var ee=this.prevBytes.slice(1);this.prevBytes=[],this.nodeIdx=0,ee.length>0&&($+=this.write(ee))}return this.prevBytes=[],this.nodeIdx=0,$}},672:($,ee,er)=>{"use strict";$.exports={shiftjis:{type:"_dbcs",table:function(){return er(54437)},encodeAdd:{"\xa5":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return er(3863)},encodeAdd:{"\xa5":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return er(28921)}},gbk:{type:"_dbcs",table:function(){return er(28921).concat(er(9821))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return er(28921).concat(er(9821))},gb18030:function(){return er(8496)},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return er(16617)}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return er(41898)}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return er(41898).concat(er(1890))},encodeSkipVals:[36457,36463,36478,36523,36532,36557,36560,36695,36713,36718,36811,36862,36973,36986,37060,37084,37105,37311,37551,37552,37553,37554,37585,37959,38090,38361,38652,39285,39798,39800,39803,39878,39902,39916,39926,40002,40019,40034,40040,40043,40055,40124,40125,40144,40279,40282,40388,40431,40443,40617,40687,40701,40800,40907,41079,41180,41183,36812,37576,38468,38637,41636,41637,41639,41638,41676,41678]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},79847:($,ee,er)=>{"use strict";for(var ei=[er(68789),er(56180),er(30544),er(54091),er(65962),er(13906),er(45408),er(20102),er(672)],en=0;en<ei.length;en++){var es=ei[en];for(var eo in es)Object.prototype.hasOwnProperty.call(es,eo)&&(ee[eo]=es[eo])}},68789:($,ee,er)=>{"use strict";var ei=er(66534).Buffer;function InternalCodec($,ee){this.enc=$.encodingName,this.bomAware=$.bomAware,"base64"===this.enc?this.encoder=InternalEncoderBase64:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=InternalEncoderCesu8,"\uD83D\uDCA9"!==ei.from("eda0bdedb2a9","hex").toString()&&(this.decoder=InternalDecoderCesu8,this.defaultCharUnicode=ee.defaultCharUnicode))}$.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:InternalCodec},InternalCodec.prototype.encoder=InternalEncoder,InternalCodec.prototype.decoder=InternalDecoder;var en=er(71576).StringDecoder;function InternalDecoder($,ee){this.decoder=new en(ee.enc)}function InternalEncoder($,ee){this.enc=ee.enc}function InternalEncoderBase64($,ee){this.prevStr=""}function InternalEncoderCesu8($,ee){}function InternalDecoderCesu8($,ee){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=ee.defaultCharUnicode}en.prototype.end||(en.prototype.end=function(){}),InternalDecoder.prototype.write=function($){return ei.isBuffer($)||($=ei.from($)),this.decoder.write($)},InternalDecoder.prototype.end=function(){return this.decoder.end()},InternalEncoder.prototype.write=function($){return ei.from($,this.enc)},InternalEncoder.prototype.end=function(){},InternalEncoderBase64.prototype.write=function($){var ee=($=this.prevStr+$).length-$.length%4;return this.prevStr=$.slice(ee),$=$.slice(0,ee),ei.from($,"base64")},InternalEncoderBase64.prototype.end=function(){return ei.from(this.prevStr,"base64")},InternalEncoderCesu8.prototype.write=function($){for(var ee=ei.alloc(3*$.length),er=0,en=0;en<$.length;en++){var es=$.charCodeAt(en);es<128?ee[er++]=es:(es<2048?ee[er++]=192+(es>>>6):(ee[er++]=224+(es>>>12),ee[er++]=128+(es>>>6&63)),ee[er++]=128+(63&es))}return ee.slice(0,er)},InternalEncoderCesu8.prototype.end=function(){},InternalDecoderCesu8.prototype.write=function($){for(var ee=this.acc,er=this.contBytes,ei=this.accBytes,en="",es=0;es<$.length;es++){var eo=$[es];(192&eo)!=128?(er>0&&(en+=this.defaultCharUnicode,er=0),eo<128?en+=String.fromCharCode(eo):eo<224?(ee=31&eo,er=1,ei=1):eo<240?(ee=15&eo,er=2,ei=1):en+=this.defaultCharUnicode):er>0?(ee=ee<<6|63&eo,er--,ei++,0===er&&(2===ei&&ee<128&&ee>0?en+=this.defaultCharUnicode:3===ei&&ee<2048?en+=this.defaultCharUnicode:en+=String.fromCharCode(ee))):en+=this.defaultCharUnicode}return this.acc=ee,this.contBytes=er,this.accBytes=ei,en},InternalDecoderCesu8.prototype.end=function(){var $=0;return this.contBytes>0&&($+=this.defaultCharUnicode),$}},65962:($,ee,er)=>{"use strict";var ei=er(66534).Buffer;function SBCSCodec($,ee){if(!$)throw Error("SBCS codec is called without the data.");if(!$.chars||128!==$.chars.length&&256!==$.chars.length)throw Error("Encoding '"+$.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===$.chars.length){for(var er="",en=0;en<128;en++)er+=String.fromCharCode(en);$.chars=er+$.chars}this.decodeBuf=ei.from($.chars,"ucs2");for(var es=ei.alloc(65536,ee.defaultCharSingleByte.charCodeAt(0)),en=0;en<$.chars.length;en++)es[$.chars.charCodeAt(en)]=en;this.encodeBuf=es}function SBCSEncoder($,ee){this.encodeBuf=ee.encodeBuf}function SBCSDecoder($,ee){this.decodeBuf=ee.decodeBuf}ee._sbcs=SBCSCodec,SBCSCodec.prototype.encoder=SBCSEncoder,SBCSCodec.prototype.decoder=SBCSDecoder,SBCSEncoder.prototype.write=function($){for(var ee=ei.alloc($.length),er=0;er<$.length;er++)ee[er]=this.encodeBuf[$.charCodeAt(er)];return ee},SBCSEncoder.prototype.end=function(){},SBCSDecoder.prototype.write=function($){for(var ee=this.decodeBuf,er=ei.alloc(2*$.length),en=0,es=0,eo=0;eo<$.length;eo++)en=2*$[eo],er[es=2*eo]=ee[en],er[es+1]=ee[en+1];return er.toString("ucs2")},SBCSDecoder.prototype.end=function(){}},45408:$=>{"use strict";$.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:"\xa0"},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:"\xa0\xa4\xa6\xa7\xa8\xa9\xab\xac\xad\xae\xb0\xb1\xb4\xb5\xb6\xb7\xb8\xbb\xc1\xc2\xc4\xc7\xc9\xcb\xcd\xce\xd3\xd4\xd6\xd7\xda\xdc\xdd\xdf\xe1\xe2\xe4\xe7\xe9\xeb\xed\xee\xf3\xf4\xf6\xf7\xfa\xfc\xfd"},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:"\xa0\xa4\xa6\xa7\xa9\xab\xac\xad\xae\xb0\xb1\xb5\xb6\xb7\xbb"},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:"\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:"\xa0\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xab\xac\xad\xae\xb0\xb1\xb2\xb3\xb5\xb6\xb7\xbb\xbd"},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:"\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xff"},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:"\xa0\xa1\xa2\xa3\xa5\xa6\xa7\xa8\xa9\xd7\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xf7\xbb\xbc\xbd\xbe\xbf"},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:"\xa0\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xbb\xbc\xbd\xbe\xd7\xe0\xe2\xe7\xe8\xe9\xea\xeb\xee\xef\xf4\xf7\xf9\xfb\xfc"},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:"\xa8\xb8\xaf\xa0\xa2\xa3\xa4\xa6\xa7\xd8\xa9\xab\xac\xad\xae\xc6\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xf8\xb9\xbb\xbc\xbd\xbe\xe6\xc4\xc5\xc9\xd3\xd5\xd6\xd7\xdc\xdf\xe4\xe5\xe9\xf3\xf5\xf6\xf7\xfc"},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:"\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcd\xce\xcf\xd1\xd3\xd4\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xed\xee\xef\xf1\xf3\xf4\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xff"},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa4\xa7\xa8\xad\xb0\xb4\xb8\xc1\xc2\xc4\xc7\xc9\xcb\xcd\xce\xd3\xd4\xd6\xd7\xda\xdc\xdd\xdf\xe1\xe2\xe4\xe7\xe9\xeb\xed\xee\xf3\xf4\xf6\xf7\xfa\xfc\xfd"},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa3\xa4\xa7\xa8\xad\xb0\xb2\xb3\xb4\xb5\xb7\xb8\xbd\xc0\xc1\xc2\xc4\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd1\xd2\xd3\xd4\xd6\xd7\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe4\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf1\xf2\xf3\xf4\xf6\xf7\xf9\xfa\xfb\xfc"},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa4\xa7\xa8\xad\xaf\xb0\xb4\xb8\xc1\xc2\xc3\xc4\xc5\xc6\xc9\xcb\xcd\xce\xd4\xd5\xd6\xd7\xd8\xda\xdb\xdc\xdf\xe1\xe2\xe3\xe4\xe5\xe6\xe9\xeb\xed\xee\xf4\xf5\xf6\xf7\xf8\xfa\xfb\xfc"},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xad\xa7"},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa4\xad"},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa3\xa6\xa7\xa8\xa9\xab\xac\xad\xb0\xb1\xb2\xb3\xb7\xbb\xbd"},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xd7\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xf7\xbb\xbc\xbd\xbe"},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xff"},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa7\xad\xb0\xb7\xc1\xc2\xc3\xc4\xc5\xc6\xc9\xcb\xcd\xce\xcf\xd0\xd3\xd4\xd5\xd6\xd8\xda\xdb\xdc\xdd\xde\xdf\xe1\xe2\xe3\xe4\xe5\xe6\xe9\xeb\xed\xee\xef\xf0\xf3\xf4\xf5\xf6\xf8\xfa\xfb\xfc\xfd\xfe"},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0"},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa2\xa3\xa4\xa6\xa7\xd8\xa9\xab\xac\xad\xae\xc6\xb0\xb1\xb2\xb3\xb5\xb6\xb7\xf8\xb9\xbb\xbc\xbd\xbe\xe6\xc4\xc5\xc9\xd3\xd5\xd6\xd7\xdc\xdf\xe4\xe5\xe9\xf3\xf5\xf6\xf7\xfc"},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa3\xa7\xa9\xad\xae\xb6\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xff"},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa5\xa7\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb5\xb6\xb7\xb9\xba\xbb\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa7\xa9\xab\xad\xb0\xb1\xb6\xb7\xbb\xc0\xc1\xc2\xc4\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd2\xd3\xd4\xd6\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe4\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf2\xf3\xf4\xf6\xf9\xfa\xfb\xfc\xff"},cp28606:"iso885916",cp437:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xec\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xff\xd6\xdc\xa2\xa3\xa5\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xac\xbd\xbc\xa1\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:"\xb1\xf7\xb0\xb7\xb2\xa0"},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:"\xfc\xe9\xe4\xe5\xc4\xc5\xc9\xe6\xc6\xf6\xa2\xd6\xdc\xf8\xa3\xd8\xd7\xa4\xf3\xa6\xa9\xae\xac\xbd\xbc\xab\xbb\xd3\xdf\xf5\xd5\xb5\xad\xb1\xbe\xb6\xa7\xf7\xb0\xb7\xb9\xb3\xb2\xa0"},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xec\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xff\xd6\xdc\xf8\xa3\xd8\xd7\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xae\xac\xbd\xbc\xa1\xab\xbb\xc1\xc2\xc0\xa9\xa2\xa5\xe3\xc3\xa4\xf0\xd0\xca\xcb\xc8\xcd\xce\xcf\xa6\xcc\xd3\xdf\xd4\xd2\xf5\xd5\xb5\xfe\xde\xda\xdb\xd9\xfd\xdd\xaf\xb4\xad\xb1\xbe\xb6\xa7\xf7\xb8\xb0\xa8\xb7\xb9\xb3\xb2\xa0"},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe7\xeb\xee\xc4\xc9\xf4\xf6\xd6\xdc\xd7\xe1\xed\xf3\xfa\xac\xab\xbb\xc1\xc2\xa4\xcb\xcd\xce\xd3\xdf\xd4\xda\xfd\xdd\xb4\xad\xa7\xf7\xb8\xb0\xa8\xa0"},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:"\xab\xbb\xa4\xad\xa7\xa0"},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:"\xa3\xd7\xae\xac\xbd\xbc\xab\xbb\xa9\xa2\xa5\xa4\xa6\xb5\xaf\xb4\xad\xb1\xbe\xb6\xa7\xf7\xb8\xb0\xa8\xb7\xb9\xb3\xb2\xa0"},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xd6\xdc\xf8\xa3\xd8\xe1\xed\xf3\xfa\xf1\xd1\xbf\xae\xac\xbd\xbc\xa1\xab\xbb\xc1\xc2\xc0\xa9\xa2\xa5\xe3\xc3\xa4\xba\xaa\xca\xcb\xc8\xcd\xce\xcf\xa6\xcc\xd3\xdf\xd4\xd2\xf5\xd5\xb5\xd7\xda\xdb\xd9\xec\xff\xaf\xb4\xad\xb1\xbe\xb6\xa7\xf7\xb8\xb0\xa8\xb7\xb9\xb3\xb2\xa0"},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xec\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xff\xd6\xdc\xf8\xa3\xd8\xd7\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xae\xac\xbd\xbc\xa1\xab\xbb\xc1\xc2\xc0\xa9\xa2\xa5\xe3\xc3\xa4\xf0\xd0\xca\xcb\xc8\xcd\xce\xcf\xa6\xcc\xd3\xdf\xd4\xd2\xf5\xd5\xb5\xfe\xde\xda\xdb\xd9\xfd\xdd\xaf\xb4\xad\xb1\xbe\xb6\xa7\xf7\xb8\xb0\xa8\xb7\xb9\xb3\xb2\xa0"},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe3\xe0\xc1\xe7\xea\xca\xe8\xcd\xd4\xec\xc3\xc2\xc9\xc0\xc8\xf4\xf5\xf2\xda\xf9\xcc\xd5\xdc\xa2\xa3\xd9\xd3\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xd2\xac\xbd\xbc\xa1\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xd0\xf0\xde\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xfe\xfb\xdd\xfd\xd6\xdc\xf8\xa3\xd8\xe1\xed\xf3\xfa\xc1\xcd\xd3\xda\xbf\xac\xbd\xbc\xa1\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:"\xa2\xa3\xa5\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xac\xbd\xbc\xa1\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xc2\xe0\xb6\xe7\xea\xeb\xe8\xef\xee\xc0\xa7\xc9\xc8\xca\xf4\xcb\xcf\xfb\xf9\xa4\xd4\xdc\xa2\xa3\xd9\xdb\xa6\xb4\xf3\xfa\xa8\xb8\xb3\xaf\xce\xac\xbd\xbc\xbe\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\x00\x01\x02\x03\x04\x05\x06\x07\b	\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\x7f\xb0\xb7\xb1\xbd\xbc\xab\xbb\xa0\xad\xa3\xa4\xa2\xa6\xac\xf7\xd7"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xec\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xff\xd6\xdc\xf8\xa3\xd8\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xac\xbd\xbc\xa1\xab\xa4\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:"\xb0\xb7\xa4\xa0"},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:"\xb7\xac\xa6\xa9\xb2\xb3\xa3\xbd\xab\xbb\xad\xb1\xa7\xb0\xa8\xa0"},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xff"},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:"\xd7\xf7\x88\xa0\xa4\xad"},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xad\xa7"},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:"\xb7\xa4\xa0"},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb5\xb6\xb7\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcd\xce\xcf\xd1\xd3\xd4\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xed\xee\xef\xf1\xf3\xf4\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xff"},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa2\xac\xa6"},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:"\xa2\xac\xa6\xa0"},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:"\x81\x82\x83\x84\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0"},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa5\xa6\xa7\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb5\xb6\xb7\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcd\xce\xcf\xd1\xd3\xd4\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xed\xee\xef\xf1\xf3\xf4\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xff"},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xb0\xa2\xa3\xa7\xb6\xdf\xae\xb4\xa8\xd8\xb1\xb5\xaa\xba\xf8\xbf\xa1\xac\xab\xa0\xc0\xc3\xd5\xf7\xa9\xa4\xc6\xbb\xb7\xc2\xc1\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xcb\xb8\xca\xe6"},maccyrillic:{type:"_sbcs",chars:"\xb0\xa2\xa3\xa7\xb6\xae\xa9\xb1\xb5\xac\xab\xbb\xa0\xf7\xa4"},macgreek:{type:"_sbcs",chars:"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\xe0\xe2\xe4\xa8\xe7\xe9\xe8\xea\xeb\xa3\xee\xef\xbd\xf4\xf6\xa6\xad\xf9\xfb\xfc\xdf\xae\xa9\xa7\xb0\xb1\xa5\xac\xab\xbb\xa0\xf7"},maciceland:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\xb6\xdf\xae\xa9\xb4\xa8\xc6\xd8\xb1\xa5\xb5\xaa\xba\xe6\xf8\xbf\xa1\xac\xab\xbb\xa0\xc0\xc3\xd5\xf7\xff\xa4\xd0\xf0\xde\xfe\xfd\xb7\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xb8"},macroman:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xb0\xa2\xa3\xa7\xb6\xdf\xae\xa9\xb4\xa8\xc6\xd8\xb1\xa5\xb5\xaa\xba\xe6\xf8\xbf\xa1\xac\xab\xbb\xa0\xc0\xc3\xd5\xf7\xff\xa4\xb7\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xb8"},macromania:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xb0\xa2\xa3\xa7\xb6\xdf\xae\xa9\xb4\xa8\xb1\xa5\xb5\xaa\xba\xbf\xa1\xac\xab\xbb\xa0\xc0\xc3\xd5\xf7\xff\xa4\xb7\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xb8"},macthai:{type:"_sbcs",chars:"\xab\xbb\xa0\uFEFF\xae\xa9"},macturkish:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xb0\xa2\xa3\xa7\xb6\xdf\xae\xa9\xb4\xa8\xc6\xd8\xb1\xa5\xb5\xaa\xba\xe6\xf8\xbf\xa1\xac\xab\xbb\xa0\xc0\xc3\xd5\xf7\xff\xb7\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xb8"},macukraine:{type:"_sbcs",chars:"\xb0\xa3\xa7\xb6\xae\xa9\xb1\xb5\xac\xab\xbb\xa0\xf7\xa4"},koi8r:{type:"_sbcs",chars:"\xa0\xb0\xb2\xb7\xf7\xa9"},koi8u:{type:"_sbcs",chars:"\xa0\xb0\xb2\xb7\xf7\xa9"},koi8ru:{type:"_sbcs",chars:"\xa0\xb0\xb2\xb7\xf7\xa9"},koi8t:{type:"_sbcs",chars:"\xa4\xa6\xa7\xab\xac\xad\xae\xb0\xb1\xb2\xb6\xb7\xbb\xa9"},armscii8:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0)(\xbb\xab.,-"},rk1048:{type:"_sbcs",chars:"\xa0\xa4\xa6\xa7\xa9\xab\xac\xad\xae\xb0\xb1\xb5\xb6\xb7\xbb"},tcvn:{type:"_sbcs",chars:"\x00\xda\x03\x07\b	\n\v\f\r\x0e\x0f\x10\xdd\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\x7f\xc0\xc3\xc1\xc8\xc9\xcc\xcd\xd2\xd5\xd3\xd9\xa0\xc2\xca\xd4\xe2\xea\xf4\xe0\xe3\xe1\xe8\xe9\xec\xed\xf2\xf5\xf3\xf9\xfa\xfd"},georgianacademy:{type:"_sbcs",chars:"\x80\x81\x8d\x8e\x8f\x90\x9d\x9e\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"},georgianps:{type:"_sbcs",chars:"\x80\x81\x8d\x8e\x8f\x90\x9d\x9e\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"},pt154:{type:"_sbcs",chars:"\xa0\xa7\xa9\xab\xac\xae\xb0\xb6\xb7\xbb"},viscii:{type:"_sbcs",chars:"\x00\x01\x03\x04\x07\b	\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x15\x16\x17\x18\x1a\x1b\x1c\x1d\x1f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\x7f\xd5\xc0\xc1\xc2\xc3\xc8\xc9\xca\xcc\xcd\xd2\xd3\xd4\xd9\xda\xdd\xe0\xe1\xe2\xe3\xe8\xe9\xea\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\xfd"},iso646cn:{type:"_sbcs",chars:"\x00\x01\x02\x03\x04\x05\x06\x07\b	\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !\"#\xa5%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}\x7f"},iso646jp:{type:"_sbcs",chars:"\x00\x01\x02\x03\x04\x05\x06\x07\b	\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\xa5]^_`abcdefghijklmnopqrstuvwxyz{|}\x7f"},hproman8:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xc0\xc2\xc8\xca\xcb\xce\xcf\xb4\xa8\xd9\xdb\xaf\xdd\xfd\xb0\xc7\xe7\xd1\xf1\xa1\xbf\xa4\xa3\xa5\xa7\xa2\xe2\xea\xf4\xfb\xe1\xe9\xf3\xfa\xe0\xe8\xf2\xf9\xe4\xeb\xf6\xfc\xc5\xee\xd8\xc6\xe5\xed\xf8\xe6\xc4\xec\xd6\xdc\xc9\xef\xdf\xd4\xc1\xc3\xe3\xd0\xf0\xcd\xcc\xd3\xd2\xd5\xf5\xda\xff\xde\xfe\xb7\xb5\xb6\xbe\xbc\xbd\xaa\xba\xab\xbb\xb1"},macintosh:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xb0\xa2\xa3\xa7\xb6\xdf\xae\xa9\xb4\xa8\xc6\xd8\xb1\xa5\xb5\xaa\xba\xe6\xf8\xbf\xa1\xac\xab\xbb\xa0\xc0\xc3\xd5\xf7\xff\xa4\xb7\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xb8"},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},13906:$=>{"use strict";$.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:"\xc4\xc9\xd6\xdc\xe1\xe4\xe9\xed\xf3\xf4\xf6\xf5\xfa\xfc\xb0\xa3\xa7\xb6\xdf\xae\xa9\xa8\xac\xab\xbb\xa0\xd5\xf7\xc1\xcd\xd3\xd4\xda\xdd\xfd"},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:"\xb0\xb7\xa0"},mik:{type:"_sbcs",chars:"\xa7\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},cp720:{type:"_sbcs",chars:"\x80\x81\xe9\xe2\x84\xe0\x86\xe7\xea\xeb\xe8\xef\xee\x8d\x8e\x8f\x90\xf4\xa4\xfb\xf9\xa3\xab\xbb\xb5\xb0\xb7\xb2\xa0"},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},30544:($,ee,er)=>{"use strict";var ei=er(66534).Buffer;function Utf16BECodec(){}function Utf16BEEncoder(){}function Utf16BEDecoder(){this.overflowByte=-1}function Utf16Codec($,ee){this.iconv=ee}function Utf16Encoder($,ee){void 0===($=$||{}).addBOM&&($.addBOM=!0),this.encoder=ee.iconv.getEncoder("utf-16le",$)}function Utf16Decoder($,ee){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=$||{},this.iconv=ee.iconv}function detectEncoding($,ee){var er=[],ei=0,en=0,es=0;e:for(var eo=0;eo<$.length;eo++)for(var ep=$[eo],eu=0;eu<ep.length;eu++)if(er.push(ep[eu]),2===er.length){if(0===ei){if(255===er[0]&&254===er[1])return"utf-16le";if(254===er[0]&&255===er[1])return"utf-16be"}if(0===er[0]&&0!==er[1]&&es++,0!==er[0]&&0===er[1]&&en++,er.length=0,++ei>=100)break e}return es>en?"utf-16be":es<en?"utf-16le":ee||"utf-16le"}ee.utf16be=Utf16BECodec,Utf16BECodec.prototype.encoder=Utf16BEEncoder,Utf16BECodec.prototype.decoder=Utf16BEDecoder,Utf16BECodec.prototype.bomAware=!0,Utf16BEEncoder.prototype.write=function($){for(var ee=ei.from($,"ucs2"),er=0;er<ee.length;er+=2){var en=ee[er];ee[er]=ee[er+1],ee[er+1]=en}return ee},Utf16BEEncoder.prototype.end=function(){},Utf16BEDecoder.prototype.write=function($){if(0==$.length)return"";var ee=ei.alloc($.length+1),er=0,en=0;for(-1!==this.overflowByte&&(ee[0]=$[0],ee[1]=this.overflowByte,er=1,en=2);er<$.length-1;er+=2,en+=2)ee[en]=$[er+1],ee[en+1]=$[er];return this.overflowByte=er==$.length-1?$[$.length-1]:-1,ee.slice(0,en).toString("ucs2")},Utf16BEDecoder.prototype.end=function(){this.overflowByte=-1},ee.utf16=Utf16Codec,Utf16Codec.prototype.encoder=Utf16Encoder,Utf16Codec.prototype.decoder=Utf16Decoder,Utf16Encoder.prototype.write=function($){return this.encoder.write($)},Utf16Encoder.prototype.end=function(){return this.encoder.end()},Utf16Decoder.prototype.write=function($){if(!this.decoder){if(this.initialBufs.push($),this.initialBufsLen+=$.length,this.initialBufsLen<16)return"";var ee=detectEncoding(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(ee,this.options);for(var er="",ei=0;ei<this.initialBufs.length;ei++)er+=this.decoder.write(this.initialBufs[ei]);return this.initialBufs.length=this.initialBufsLen=0,er}return this.decoder.write($)},Utf16Decoder.prototype.end=function(){if(!this.decoder){var $=detectEncoding(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder($,this.options);for(var ee="",er=0;er<this.initialBufs.length;er++)ee+=this.decoder.write(this.initialBufs[er]);var ei=this.decoder.end();return ei&&(ee+=ei),this.initialBufs.length=this.initialBufsLen=0,ee}return this.decoder.end()}},56180:($,ee,er)=>{"use strict";var ei=er(66534).Buffer;function Utf32Codec($,ee){this.iconv=ee,this.bomAware=!0,this.isLE=$.isLE}function Utf32Encoder($,ee){this.isLE=ee.isLE,this.highSurrogate=0}function Utf32Decoder($,ee){this.isLE=ee.isLE,this.badChar=ee.iconv.defaultCharUnicode.charCodeAt(0),this.overflow=[]}function _writeCodepoint($,ee,er,ei){if((er<0||er>1114111)&&(er=ei),er>=65536){var en=55296|(er-=65536)>>10;$[ee++]=255&en,$[ee++]=en>>8;var er=56320|1023&er}return $[ee++]=255&er,$[ee++]=er>>8,ee}function Utf32AutoCodec($,ee){this.iconv=ee}function Utf32AutoEncoder($,ee){void 0===($=$||{}).addBOM&&($.addBOM=!0),this.encoder=ee.iconv.getEncoder($.defaultEncoding||"utf-32le",$)}function Utf32AutoDecoder($,ee){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=$||{},this.iconv=ee.iconv}function detectEncoding($,ee){var er=[],ei=0,en=0,es=0,eo=0,ep=0;e:for(var eu=0;eu<$.length;eu++)for(var eh=$[eu],em=0;em<eh.length;em++)if(er.push(eh[em]),4===er.length){if(0===ei){if(255===er[0]&&254===er[1]&&0===er[2]&&0===er[3])return"utf-32le";if(0===er[0]&&0===er[1]&&254===er[2]&&255===er[3])return"utf-32be"}if((0!==er[0]||er[1]>16)&&es++,(0!==er[3]||er[2]>16)&&en++,0===er[0]&&0===er[1]&&(0!==er[2]||0!==er[3])&&ep++,(0!==er[0]||0!==er[1])&&0===er[2]&&0===er[3]&&eo++,er.length=0,++ei>=100)break e}return ep-es>eo-en?"utf-32be":ep-es<eo-en?"utf-32le":ee||"utf-32le"}ee._utf32=Utf32Codec,ee.utf32le={type:"_utf32",isLE:!0},ee.utf32be={type:"_utf32",isLE:!1},ee.ucs4le="utf32le",ee.ucs4be="utf32be",Utf32Codec.prototype.encoder=Utf32Encoder,Utf32Codec.prototype.decoder=Utf32Decoder,Utf32Encoder.prototype.write=function($){for(var ee=ei.from($,"ucs2"),er=ei.alloc(2*ee.length),en=this.isLE?er.writeUInt32LE:er.writeUInt32BE,es=0,eo=0;eo<ee.length;eo+=2){var ep=ee.readUInt16LE(eo),eu=55296<=ep&&ep<56320,eh=56320<=ep&&ep<57344;if(this.highSurrogate){if(eu||!eh)en.call(er,this.highSurrogate,es),es+=4;else{var em=(this.highSurrogate-55296<<10|ep-56320)+65536;en.call(er,em,es),es+=4,this.highSurrogate=0;continue}}eu?this.highSurrogate=ep:(en.call(er,ep,es),es+=4,this.highSurrogate=0)}return es<er.length&&(er=er.slice(0,es)),er},Utf32Encoder.prototype.end=function(){if(this.highSurrogate){var $=ei.alloc(4);return this.isLE?$.writeUInt32LE(this.highSurrogate,0):$.writeUInt32BE(this.highSurrogate,0),this.highSurrogate=0,$}},Utf32Decoder.prototype.write=function($){if(0===$.length)return"";var ee=0,er=0,en=ei.alloc($.length+4),es=0,eo=this.isLE,ep=this.overflow,eu=this.badChar;if(ep.length>0){for(;ee<$.length&&ep.length<4;ee++)ep.push($[ee]);4===ep.length&&(er=eo?ep[ee]|ep[ee+1]<<8|ep[ee+2]<<16|ep[ee+3]<<24:ep[ee+3]|ep[ee+2]<<8|ep[ee+1]<<16|ep[ee]<<24,ep.length=0,es=_writeCodepoint(en,es,er,eu))}for(;ee<$.length-3;ee+=4)es=_writeCodepoint(en,es,er=eo?$[ee]|$[ee+1]<<8|$[ee+2]<<16|$[ee+3]<<24:$[ee+3]|$[ee+2]<<8|$[ee+1]<<16|$[ee]<<24,eu);for(;ee<$.length;ee++)ep.push($[ee]);return en.slice(0,es).toString("ucs2")},Utf32Decoder.prototype.end=function(){this.overflow.length=0},ee.utf32=Utf32AutoCodec,ee.ucs4="utf32",Utf32AutoCodec.prototype.encoder=Utf32AutoEncoder,Utf32AutoCodec.prototype.decoder=Utf32AutoDecoder,Utf32AutoEncoder.prototype.write=function($){return this.encoder.write($)},Utf32AutoEncoder.prototype.end=function(){return this.encoder.end()},Utf32AutoDecoder.prototype.write=function($){if(!this.decoder){if(this.initialBufs.push($),this.initialBufsLen+=$.length,this.initialBufsLen<32)return"";var ee=detectEncoding(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(ee,this.options);for(var er="",ei=0;ei<this.initialBufs.length;ei++)er+=this.decoder.write(this.initialBufs[ei]);return this.initialBufs.length=this.initialBufsLen=0,er}return this.decoder.write($)},Utf32AutoDecoder.prototype.end=function(){if(!this.decoder){var $=detectEncoding(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder($,this.options);for(var ee="",er=0;er<this.initialBufs.length;er++)ee+=this.decoder.write(this.initialBufs[er]);var ei=this.decoder.end();return ei&&(ee+=ei),this.initialBufs.length=this.initialBufsLen=0,ee}return this.decoder.end()}},54091:($,ee,er)=>{"use strict";var ei=er(66534).Buffer;function Utf7Codec($,ee){this.iconv=ee}ee.utf7=Utf7Codec,ee.unicode11utf7="utf7",Utf7Codec.prototype.encoder=Utf7Encoder,Utf7Codec.prototype.decoder=Utf7Decoder,Utf7Codec.prototype.bomAware=!0;var en=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function Utf7Encoder($,ee){this.iconv=ee.iconv}function Utf7Decoder($,ee){this.iconv=ee.iconv,this.inBase64=!1,this.base64Accum=""}Utf7Encoder.prototype.write=function($){return ei.from($.replace(en,(function($){return"+"+("+"===$?"":this.iconv.encode($,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}).bind(this)))},Utf7Encoder.prototype.end=function(){};for(var es=/[A-Za-z0-9\/+]/,eo=[],ep=0;ep<256;ep++)eo[ep]=es.test(String.fromCharCode(ep));var eu=43,eh=45,em=38;function Utf7IMAPCodec($,ee){this.iconv=ee}function Utf7IMAPEncoder($,ee){this.iconv=ee.iconv,this.inBase64=!1,this.base64Accum=ei.alloc(6),this.base64AccumIdx=0}function Utf7IMAPDecoder($,ee){this.iconv=ee.iconv,this.inBase64=!1,this.base64Accum=""}Utf7Decoder.prototype.write=function($){for(var ee="",er=0,en=this.inBase64,es=this.base64Accum,ep=0;ep<$.length;ep++)if(en){if(!eo[$[ep]]){if(ep==er&&$[ep]==eh)ee+="+";else{var em=es+this.iconv.decode($.slice(er,ep),"ascii");ee+=this.iconv.decode(ei.from(em,"base64"),"utf16-be")}$[ep]!=eh&&ep--,er=ep+1,en=!1,es=""}}else $[ep]==eu&&(ee+=this.iconv.decode($.slice(er,ep),"ascii"),er=ep+1,en=!0);if(en){var em=es+this.iconv.decode($.slice(er),"ascii"),ef=em.length-em.length%8;es=em.slice(ef),em=em.slice(0,ef),ee+=this.iconv.decode(ei.from(em,"base64"),"utf16-be")}else ee+=this.iconv.decode($.slice(er),"ascii");return this.inBase64=en,this.base64Accum=es,ee},Utf7Decoder.prototype.end=function(){var $="";return this.inBase64&&this.base64Accum.length>0&&($=this.iconv.decode(ei.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",$},ee.utf7imap=Utf7IMAPCodec,Utf7IMAPCodec.prototype.encoder=Utf7IMAPEncoder,Utf7IMAPCodec.prototype.decoder=Utf7IMAPDecoder,Utf7IMAPCodec.prototype.bomAware=!0,Utf7IMAPEncoder.prototype.write=function($){for(var ee=this.inBase64,er=this.base64Accum,en=this.base64AccumIdx,es=ei.alloc(5*$.length+10),eo=0,ep=0;ep<$.length;ep++){var eu=$.charCodeAt(ep);32<=eu&&eu<=126?(ee&&(en>0&&(eo+=es.write(er.slice(0,en).toString("base64").replace(/\//g,",").replace(/=+$/,""),eo),en=0),es[eo++]=eh,ee=!1),ee||(es[eo++]=eu,eu!==em||(es[eo++]=eh))):(ee||(es[eo++]=em,ee=!0),ee&&(er[en++]=eu>>8,er[en++]=255&eu,en==er.length&&(eo+=es.write(er.toString("base64").replace(/\//g,","),eo),en=0)))}return this.inBase64=ee,this.base64AccumIdx=en,es.slice(0,eo)},Utf7IMAPEncoder.prototype.end=function(){var $=ei.alloc(10),ee=0;return this.inBase64&&(this.base64AccumIdx>0&&(ee+=$.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),ee),this.base64AccumIdx=0),$[ee++]=eh,this.inBase64=!1),$.slice(0,ee)};var ef=eo.slice();ef[",".charCodeAt(0)]=!0,Utf7IMAPDecoder.prototype.write=function($){for(var ee="",er=0,en=this.inBase64,es=this.base64Accum,eo=0;eo<$.length;eo++)if(en){if(!ef[$[eo]]){if(eo==er&&$[eo]==eh)ee+="&";else{var ep=es+this.iconv.decode($.slice(er,eo),"ascii").replace(/,/g,"/");ee+=this.iconv.decode(ei.from(ep,"base64"),"utf16-be")}$[eo]!=eh&&eo--,er=eo+1,en=!1,es=""}}else $[eo]==em&&(ee+=this.iconv.decode($.slice(er,eo),"ascii"),er=eo+1,en=!0);if(en){var ep=es+this.iconv.decode($.slice(er),"ascii").replace(/,/g,"/"),eu=ep.length-ep.length%8;es=ep.slice(eu),ep=ep.slice(0,eu),ee+=this.iconv.decode(ei.from(ep,"base64"),"utf16-be")}else ee+=this.iconv.decode($.slice(er),"ascii");return this.inBase64=en,this.base64Accum=es,ee},Utf7IMAPDecoder.prototype.end=function(){var $="";return this.inBase64&&this.base64Accum.length>0&&($=this.iconv.decode(ei.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",$}},21464:($,ee)=>{"use strict";var er="\uFEFF";function PrependBOMWrapper($,ee){this.encoder=$,this.addBOM=!0}function StripBOMWrapper($,ee){this.decoder=$,this.pass=!1,this.options=ee||{}}ee.PrependBOM=PrependBOMWrapper,PrependBOMWrapper.prototype.write=function($){return this.addBOM&&($=er+$,this.addBOM=!1),this.encoder.write($)},PrependBOMWrapper.prototype.end=function(){return this.encoder.end()},ee.StripBOM=StripBOMWrapper,StripBOMWrapper.prototype.write=function($){var ee=this.decoder.write($);return this.pass||!ee||(ee[0]===er&&(ee=ee.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0),ee},StripBOMWrapper.prototype.end=function(){return this.decoder.end()}},53658:($,ee,er)=>{"use strict";var ei,en=er(66534).Buffer,es=er(21464),eo=$.exports;eo.encodings=null,eo.defaultCharUnicode="",eo.defaultCharSingleByte="?",eo.encode=function($,ee,er){$=""+($||"");var ei=eo.getEncoder(ee,er),es=ei.write($),ep=ei.end();return ep&&ep.length>0?en.concat([es,ep]):es},eo.decode=function($,ee,er){"string"==typeof $&&(eo.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),eo.skipDecodeWarning=!0),$=en.from(""+($||""),"binary"));var ei=eo.getDecoder(ee,er),es=ei.write($),ep=ei.end();return ep?es+ep:es},eo.encodingExists=function($){try{return eo.getCodec($),!0}catch($){return!1}},eo.toEncoding=eo.encode,eo.fromEncoding=eo.decode,eo._codecDataCache={},eo.getCodec=function($){eo.encodings||(eo.encodings=er(79847));for(var ee=eo._canonicalizeEncoding($),ei={};;){var en=eo._codecDataCache[ee];if(en)return en;var es=eo.encodings[ee];switch(typeof es){case"string":ee=es;break;case"object":for(var ep in es)ei[ep]=es[ep];ei.encodingName||(ei.encodingName=ee),ee=es.type;break;case"function":return ei.encodingName||(ei.encodingName=ee),en=new es(ei,eo),eo._codecDataCache[ei.encodingName]=en,en;default:throw Error("Encoding not recognized: '"+$+"' (searched as: '"+ee+"')")}}},eo._canonicalizeEncoding=function($){return(""+$).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},eo.getEncoder=function($,ee){var er=eo.getCodec($),ei=new er.encoder(ee,er);return er.bomAware&&ee&&ee.addBOM&&(ei=new es.PrependBOM(ei,ee)),ei},eo.getDecoder=function($,ee){var er=eo.getCodec($),ei=new er.decoder(ee,er);return er.bomAware&&!(ee&&!1===ee.stripBOM)&&(ei=new es.StripBOM(ei,ee)),ei},eo.enableStreamingAPI=function($){if(!eo.supportsStreams){var ee=er(57141)($);eo.IconvLiteEncoderStream=ee.IconvLiteEncoderStream,eo.IconvLiteDecoderStream=ee.IconvLiteDecoderStream,eo.encodeStream=function($,ee){return new eo.IconvLiteEncoderStream(eo.getEncoder($,ee),ee)},eo.decodeStream=function($,ee){return new eo.IconvLiteDecoderStream(eo.getDecoder($,ee),ee)},eo.supportsStreams=!0}};try{ei=er(12781)}catch($){}ei&&ei.Transform?eo.enableStreamingAPI(ei):eo.encodeStream=eo.decodeStream=function(){throw Error("iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.")}},57141:($,ee,er)=>{"use strict";var ei=er(66534).Buffer;$.exports=function($){var ee=$.Transform;function IconvLiteEncoderStream($,er){this.conv=$,(er=er||{}).decodeStrings=!1,ee.call(this,er)}function IconvLiteDecoderStream($,er){this.conv=$,(er=er||{}).encoding=this.encoding="utf8",ee.call(this,er)}return IconvLiteEncoderStream.prototype=Object.create(ee.prototype,{constructor:{value:IconvLiteEncoderStream}}),IconvLiteEncoderStream.prototype._transform=function($,ee,er){if("string"!=typeof $)return er(Error("Iconv encoding stream needs strings as its input."));try{var ei=this.conv.write($);ei&&ei.length&&this.push(ei),er()}catch($){er($)}},IconvLiteEncoderStream.prototype._flush=function($){try{var ee=this.conv.end();ee&&ee.length&&this.push(ee),$()}catch(ee){$(ee)}},IconvLiteEncoderStream.prototype.collect=function($){var ee=[];return this.on("error",$),this.on("data",function($){ee.push($)}),this.on("end",function(){$(null,ei.concat(ee))}),this},IconvLiteDecoderStream.prototype=Object.create(ee.prototype,{constructor:{value:IconvLiteDecoderStream}}),IconvLiteDecoderStream.prototype._transform=function($,ee,er){if(!ei.isBuffer($)&&!($ instanceof Uint8Array))return er(Error("Iconv decoding stream needs buffers as its input."));try{var en=this.conv.write($);en&&en.length&&this.push(en,this.encoding),er()}catch($){er($)}},IconvLiteDecoderStream.prototype._flush=function($){try{var ee=this.conv.end();ee&&ee.length&&this.push(ee,this.encoding),$()}catch(ee){$(ee)}},IconvLiteDecoderStream.prototype.collect=function($){var ee="";return this.on("error",$),this.on("data",function($){ee+=$}),this.on("end",function(){$(null,ee)}),this},{IconvLiteEncoderStream:IconvLiteEncoderStream,IconvLiteDecoderStream:IconvLiteDecoderStream}}},35283:$=>{var ee=1/0,er="[object Symbol]",ei=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,en=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,es="\ud800-\udfff",eo="\\u0300-\\u036f\\ufe20-\\ufe23",ep="\\u20d0-\\u20f0",eu="\\u2700-\\u27bf",eh="a-z\\xdf-\\xf6\\xf8-\\xff",em="A-Z\\xc0-\\xd6\\xd8-\\xde",ef="\\ufe0e\\ufe0f",eg="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ey="[']",ev="["+es+"]",eS="["+eg+"]",e_="["+eo+ep+"]",ew="\\d+",eC="["+eu+"]",eT="["+eh+"]",eE="[^"+es+eg+ew+eu+eh+em+"]",eI="\ud83c[\udffb-\udfff]",eD="[^"+es+"]",eR="(?:\ud83c[\udde6-\uddff]){2}",eP="[\ud800-\udbff][\udc00-\udfff]",eN="["+em+"]",eA="\\u200d",ek="(?:"+eT+"|"+eE+")",eO="(?:"+eN+"|"+eE+")",eM="(?:"+ey+"(?:d|ll|m|re|s|t|ve))?",eF="(?:"+ey+"(?:D|LL|M|RE|S|T|VE))?",eL="(?:"+e_+"|"+eI+")?",eB="["+ef+"]?",eV="(?:"+eA+"(?:"+[eD,eR,eP].join("|")+")"+eB+eL+")*",eU=eB+eL+eV,ej="(?:"+[eC,eR,eP].join("|")+")"+eU,eq="(?:"+[eD+e_+"?",e_,eR,eP,ev].join("|")+")",ez=RegExp(ey,"g"),eW=RegExp(e_,"g"),eH=RegExp(eI+"(?="+eI+")|"+eq+eU,"g"),eG=RegExp([eN+"?"+eT+"+"+eM+"(?="+[eS,eN,"$"].join("|")+")",eO+"+"+eF+"(?="+[eS,eN+ek,"$"].join("|")+")",eN+"?"+ek+"+"+eM,eN+"+"+eF,ew,ej].join("|"),"g"),eK=RegExp("["+eA+es+eo+ep+ef+"]"),e$=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eQ={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},eY="object"==typeof global&&global&&global.Object===Object&&global,eJ="object"==typeof self&&self&&self.Object===Object&&self,eX=eY||eJ||Function("return this")();function arrayReduce($,ee,er,ei){var en=-1,es=$?$.length:0;for(ei&&es&&(er=$[++en]);++en<es;)er=ee(er,$[en],en,$);return er}function asciiToArray($){return $.split("")}function asciiWords($){return $.match(ei)||[]}var eZ=function($){return function(ee){return null==$?void 0:$[ee]}}(eQ);function hasUnicode($){return eK.test($)}function hasUnicodeWord($){return e$.test($)}function stringToArray($){return hasUnicode($)?unicodeToArray($):asciiToArray($)}function unicodeToArray($){return $.match(eH)||[]}function unicodeWords($){return $.match(eG)||[]}var e1=Object.prototype.toString,e0=eX.Symbol,e2=e0?e0.prototype:void 0,e4=e2?e2.toString:void 0;function baseSlice($,ee,er){var ei=-1,en=$.length;ee<0&&(ee=-ee>en?0:en+ee),(er=er>en?en:er)<0&&(er+=en),en=ee>er?0:er-ee>>>0,ee>>>=0;for(var es=Array(en);++ei<en;)es[ei]=$[ei+ee];return es}function baseToString($){if("string"==typeof $)return $;if(isSymbol($))return e4?e4.call($):"";var er=$+"";return"0"==er&&1/$==-ee?"-0":er}function castSlice($,ee,er){var ei=$.length;return er=void 0===er?ei:er,!ee&&er>=ei?$:baseSlice($,ee,er)}function createCaseFirst($){return function(ee){var er=hasUnicode(ee=toString(ee))?stringToArray(ee):void 0,ei=er?er[0]:ee.charAt(0),en=er?castSlice(er,1).join(""):ee.slice(1);return ei[$]()+en}}function isObjectLike($){return!!$&&"object"==typeof $}function isSymbol($){return"symbol"==typeof $||isObjectLike($)&&e1.call($)==er}function toString($){return null==$?"":baseToString($)}var e6=function($){return function(ee){return arrayReduce(words(deburr(ee).replace(ez,"")),$,"")}}(function($,ee,er){return ee=ee.toLowerCase(),$+(er?capitalize(ee):ee)});function capitalize($){return e8(toString($).toLowerCase())}function deburr($){return($=toString($))&&$.replace(en,eZ).replace(eW,"")}var e8=createCaseFirst("toUpperCase");function words($,ee,er){return($=toString($),void 0===(ee=er?void 0:ee))?hasUnicodeWord($)?unicodeWords($):asciiWords($):$.match(ee)||[]}$.exports=e6},92282:($,ee)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),function($,ee){for(var er in ee)Object.defineProperty($,er,{enumerable:!0,get:ee[er]})}(ee,{RSC:function(){return er},ACTION:function(){return ei},NEXT_ROUTER_STATE_TREE:function(){return en},NEXT_ROUTER_PREFETCH:function(){return es},NEXT_URL:function(){return eo},RSC_CONTENT_TYPE_HEADER:function(){return ep},RSC_VARY_HEADER:function(){return eu},FLIGHT_PARAMETERS:function(){return eh},NEXT_RSC_UNION_QUERY:function(){return em}});let er="RSC",ei="Next-Action",en="Next-Router-State-Tree",es="Next-Router-Prefetch",eo="Next-Url",ep="text/x-component",eu=er+", "+en+", "+es+", "+eo,eh=[[er],[en],[es]],em="_rsc";("function"==typeof ee.default||"object"==typeof ee.default&&null!==ee.default)&&void 0===ee.default.__esModule&&(Object.defineProperty(ee.default,"__esModule",{value:!0}),Object.assign(ee.default,ee),$.exports=ee.default)},8893:$=>{"use strict";(()=>{"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var ee={};(()=>{var $=ee;/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */$.parse=parse,$.serialize=serialize;var er=decodeURIComponent,ei=encodeURIComponent,en=/; */,es=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function parse($,ee){if("string"!=typeof $)throw TypeError("argument str must be a string");for(var ei={},es=ee||{},eo=$.split(en),ep=es.decode||er,eu=0;eu<eo.length;eu++){var eh=eo[eu],em=eh.indexOf("=");if(!(em<0)){var ef=eh.substr(0,em).trim(),eg=eh.substr(++em,eh.length).trim();'"'==eg[0]&&(eg=eg.slice(1,-1)),void 0==ei[ef]&&(ei[ef]=tryDecode(eg,ep))}}return ei}function serialize($,ee,er){var en=er||{},eo=en.encode||ei;if("function"!=typeof eo)throw TypeError("option encode is invalid");if(!es.test($))throw TypeError("argument name is invalid");var ep=eo(ee);if(ep&&!es.test(ep))throw TypeError("argument val is invalid");var eu=$+"="+ep;if(null!=en.maxAge){var eh=en.maxAge-0;if(isNaN(eh)||!isFinite(eh))throw TypeError("option maxAge is invalid");eu+="; Max-Age="+Math.floor(eh)}if(en.domain){if(!es.test(en.domain))throw TypeError("option domain is invalid");eu+="; Domain="+en.domain}if(en.path){if(!es.test(en.path))throw TypeError("option path is invalid");eu+="; Path="+en.path}if(en.expires){if("function"!=typeof en.expires.toUTCString)throw TypeError("option expires is invalid");eu+="; Expires="+en.expires.toUTCString()}if(en.httpOnly&&(eu+="; HttpOnly"),en.secure&&(eu+="; Secure"),en.sameSite)switch("string"==typeof en.sameSite?en.sameSite.toLowerCase():en.sameSite){case!0:case"strict":eu+="; SameSite=Strict";break;case"lax":eu+="; SameSite=Lax";break;case"none":eu+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return eu}function tryDecode($,ee){try{return ee($)}catch(ee){return $}}})(),$.exports=ee})()},58267:($,ee)=>{"use strict";function lexer($){for(var ee=[],er=0;er<$.length;){var ei=$[er];if("*"===ei||"+"===ei||"?"===ei){ee.push({type:"MODIFIER",index:er,value:$[er++]});continue}if("\\"===ei){ee.push({type:"ESCAPED_CHAR",index:er++,value:$[er++]});continue}if("{"===ei){ee.push({type:"OPEN",index:er,value:$[er++]});continue}if("}"===ei){ee.push({type:"CLOSE",index:er,value:$[er++]});continue}if(":"===ei){for(var en="",es=er+1;es<$.length;){var eo=$.charCodeAt(es);if(eo>=48&&eo<=57||eo>=65&&eo<=90||eo>=97&&eo<=122||95===eo){en+=$[es++];continue}break}if(!en)throw TypeError("Missing parameter name at "+er);ee.push({type:"NAME",index:er,value:en}),er=es;continue}if("("===ei){var ep=1,eu="",es=er+1;if("?"===$[es])throw TypeError('Pattern cannot start with "?" at '+es);for(;es<$.length;){if("\\"===$[es]){eu+=$[es++]+$[es++];continue}if(")"===$[es]){if(0==--ep){es++;break}}else if("("===$[es]&&(ep++,"?"!==$[es+1]))throw TypeError("Capturing groups are not allowed at "+es);eu+=$[es++]}if(ep)throw TypeError("Unbalanced pattern at "+er);if(!eu)throw TypeError("Missing pattern at "+er);ee.push({type:"PATTERN",index:er,value:eu}),er=es;continue}ee.push({type:"CHAR",index:er,value:$[er++]})}return ee.push({type:"END",index:er,value:""}),ee}function parse($,ee){void 0===ee&&(ee={});for(var er=lexer($),ei=ee.prefixes,en=void 0===ei?"./":ei,es="[^"+escapeString(ee.delimiter||"/#?")+"]+?",eo=[],ep=0,eu=0,eh="",tryConsume=function($){if(eu<er.length&&er[eu].type===$)return er[eu++].value},mustConsume=function($){var ee=tryConsume($);if(void 0!==ee)return ee;var ei=er[eu];throw TypeError("Unexpected "+ei.type+" at "+ei.index+", expected "+$)},consumeText=function(){for(var $,ee="";$=tryConsume("CHAR")||tryConsume("ESCAPED_CHAR");)ee+=$;return ee};eu<er.length;){var em=tryConsume("CHAR"),ef=tryConsume("NAME"),eg=tryConsume("PATTERN");if(ef||eg){var ey=em||"";-1===en.indexOf(ey)&&(eh+=ey,ey=""),eh&&(eo.push(eh),eh=""),eo.push({name:ef||ep++,prefix:ey,suffix:"",pattern:eg||es,modifier:tryConsume("MODIFIER")||""});continue}var ev=em||tryConsume("ESCAPED_CHAR");if(ev){eh+=ev;continue}if(eh&&(eo.push(eh),eh=""),tryConsume("OPEN")){var ey=consumeText(),eS=tryConsume("NAME")||"",e_=tryConsume("PATTERN")||"",ew=consumeText();mustConsume("CLOSE"),eo.push({name:eS||(e_?ep++:""),pattern:eS&&!e_?es:e_,prefix:ey,suffix:ew,modifier:tryConsume("MODIFIER")||""});continue}mustConsume("END")}return eo}function compile($,ee){return tokensToFunction(parse($,ee),ee)}function tokensToFunction($,ee){void 0===ee&&(ee={});var er=flags(ee),ei=ee.encode,en=void 0===ei?function($){return $}:ei,es=ee.validate,eo=void 0===es||es,ep=$.map(function($){if("object"==typeof $)return RegExp("^(?:"+$.pattern+")$",er)});return function(ee){for(var er="",ei=0;ei<$.length;ei++){var es=$[ei];if("string"==typeof es){er+=es;continue}var eu=ee?ee[es.name]:void 0,eh="?"===es.modifier||"*"===es.modifier,em="*"===es.modifier||"+"===es.modifier;if(Array.isArray(eu)){if(!em)throw TypeError('Expected "'+es.name+'" to not repeat, but got an array');if(0===eu.length){if(eh)continue;throw TypeError('Expected "'+es.name+'" to not be empty')}for(var ef=0;ef<eu.length;ef++){var eg=en(eu[ef],es);if(eo&&!ep[ei].test(eg))throw TypeError('Expected all "'+es.name+'" to match "'+es.pattern+'", but got "'+eg+'"');er+=es.prefix+eg+es.suffix}continue}if("string"==typeof eu||"number"==typeof eu){var eg=en(String(eu),es);if(eo&&!ep[ei].test(eg))throw TypeError('Expected "'+es.name+'" to match "'+es.pattern+'", but got "'+eg+'"');er+=es.prefix+eg+es.suffix;continue}if(!eh){var ey=em?"an array":"a string";throw TypeError('Expected "'+es.name+'" to be '+ey)}}return er}}function match($,ee){var er=[];return regexpToFunction(pathToRegexp($,er,ee),er,ee)}function regexpToFunction($,ee,er){void 0===er&&(er={});var ei=er.decode,en=void 0===ei?function($){return $}:ei;return function(er){var ei=$.exec(er);if(!ei)return!1;for(var es=ei[0],eo=ei.index,ep=Object.create(null),_loop_1=function($){if(void 0===ei[$])return"continue";var er=ee[$-1];"*"===er.modifier||"+"===er.modifier?ep[er.name]=ei[$].split(er.prefix+er.suffix).map(function($){return en($,er)}):ep[er.name]=en(ei[$],er)},eu=1;eu<ei.length;eu++)_loop_1(eu);return{path:es,index:eo,params:ep}}}function escapeString($){return $.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function flags($){return $&&$.sensitive?"":"i"}function regexpToRegexp($,ee){if(!ee)return $;var er=$.source.match(/\((?!\?)/g);if(er)for(var ei=0;ei<er.length;ei++)ee.push({name:ei,prefix:"",suffix:"",modifier:"",pattern:""});return $}function arrayToRegexp($,ee,er){return RegExp("(?:"+$.map(function($){return pathToRegexp($,ee,er).source}).join("|")+")",flags(er))}function stringToRegexp($,ee,er){return tokensToRegexp(parse($,er),ee,er)}function tokensToRegexp($,ee,er){void 0===er&&(er={});for(var ei=er.strict,en=void 0!==ei&&ei,es=er.start,eo=void 0===es||es,ep=er.end,eu=void 0===ep||ep,eh=er.encode,em=void 0===eh?function($){return $}:eh,ef="["+escapeString(er.endsWith||"")+"]|$",eg="["+escapeString(er.delimiter||"/#?")+"]",ey=eo?"^":"",ev=0,eS=$;ev<eS.length;ev++){var e_=eS[ev];if("string"==typeof e_)ey+=escapeString(em(e_));else{var ew=escapeString(em(e_.prefix)),eC=escapeString(em(e_.suffix));if(e_.pattern){if(ee&&ee.push(e_),ew||eC){if("+"===e_.modifier||"*"===e_.modifier){var eT="*"===e_.modifier?"?":"";ey+="(?:"+ew+"((?:"+e_.pattern+")(?:"+eC+ew+"(?:"+e_.pattern+"))*)"+eC+")"+eT}else ey+="(?:"+ew+"("+e_.pattern+")"+eC+")"+e_.modifier}else ey+="("+e_.pattern+")"+e_.modifier}else ey+="(?:"+ew+eC+")"+e_.modifier}}if(eu)en||(ey+=eg+"?"),ey+=er.endsWith?"(?="+ef+")":"$";else{var eE=$[$.length-1],eI="string"==typeof eE?eg.indexOf(eE[eE.length-1])>-1:void 0===eE;en||(ey+="(?:"+eg+"(?="+ef+"))?"),eI||(ey+="(?="+eg+"|"+ef+")")}return new RegExp(ey,flags(er))}function pathToRegexp($,ee,er){return $ instanceof RegExp?regexpToRegexp($,ee):Array.isArray($)?arrayToRegexp($,ee,er):stringToRegexp($,ee,er)}Object.defineProperty(ee,"__esModule",{value:!0}),ee.parse=parse,ee.compile=compile,ee.tokensToFunction=tokensToFunction,ee.match=match,ee.regexpToFunction=regexpToFunction,ee.tokensToRegexp=tokensToRegexp,ee.pathToRegexp=pathToRegexp},72703:($,ee)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),function($,ee){for(var er in ee)Object.defineProperty($,er,{enumerable:!0,get:ee[er]})}(ee,{NEXT_QUERY_PARAM_PREFIX:function(){return er},PRERENDER_REVALIDATE_HEADER:function(){return ei},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return en},NEXT_CACHE_TAGS_HEADER:function(){return es},NEXT_CACHE_SOFT_TAGS_HEADER:function(){return eo},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return ep},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return eu},NEXT_CACHE_TAG_MAX_LENGTH:function(){return eh},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return em},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return ef},CACHE_ONE_YEAR:function(){return eg},MIDDLEWARE_FILENAME:function(){return ey},MIDDLEWARE_LOCATION_REGEXP:function(){return ev},INSTRUMENTATION_HOOK_FILENAME:function(){return eS},PAGES_DIR_ALIAS:function(){return e_},DOT_NEXT_ALIAS:function(){return ew},ROOT_DIR_ALIAS:function(){return eC},APP_DIR_ALIAS:function(){return eT},RSC_MOD_REF_PROXY_ALIAS:function(){return eE},RSC_ACTION_VALIDATE_ALIAS:function(){return eI},RSC_ACTION_PROXY_ALIAS:function(){return eD},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return eR},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return eP},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return eN},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return eA},SERVER_PROPS_SSG_CONFLICT:function(){return ek},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return eO},SERVER_PROPS_EXPORT_ERROR:function(){return eM},GSP_NO_RETURNED_VALUE:function(){return eF},GSSP_NO_RETURNED_VALUE:function(){return eL},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return eB},GSSP_COMPONENT_MEMBER_ERROR:function(){return eV},NON_STANDARD_NODE_ENV:function(){return eU},SSG_FALLBACK_EXPORT_ERROR:function(){return ej},ESLINT_DEFAULT_DIRS:function(){return eq},ESLINT_PROMPT_VALUES:function(){return ez},SERVER_RUNTIME:function(){return eW},WEBPACK_LAYERS:function(){return eG},WEBPACK_RESOURCE_QUERIES:function(){return eK}});let er="nxtP",ei="x-prerender-revalidate",en="x-prerender-revalidate-if-generated",es="x-next-cache-tags",eo="x-next-cache-soft-tags",ep="x-next-revalidated-tags",eu="x-next-revalidate-tag-token",eh=256,em=1024,ef="_N_T_",eg=31536e3,ey="middleware",ev=`(?:src/)?${ey}`,eS="instrumentation",e_="private-next-pages",ew="private-dot-next",eC="private-next-root-dir",eT="private-next-app-dir",eE="next/dist/build/webpack/loaders/next-flight-loader/module-proxy",eI="private-next-rsc-action-validate",eD="private-next-rsc-action-proxy",eR="private-next-rsc-action-client-wrapper",eP="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",eN="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",eA="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",ek="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",eO="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",eM="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",eF="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",eL="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",eB="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",eV="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",eU='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',ej="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",eq=["app","pages","components","lib","src"],ez=[{title:"Strict",recommended:!0,config:{extends:"next/core-web-vitals"}},{title:"Base",config:{extends:"next"}},{title:"Cancel",config:null}],eW={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},eH={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",appMetadataRoute:"app-metadata-route",appRouteHandler:"app-route-handler"},eG={...eH,GROUP:{server:[eH.reactServerComponents,eH.actionBrowser,eH.appMetadataRoute,eH.appRouteHandler],nonClientServerTarget:[eH.middleware,eH.api],app:[eH.reactServerComponents,eH.actionBrowser,eH.appMetadataRoute,eH.appRouteHandler,eH.serverSideRendering,eH.appPagesBrowser]}},eK={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},33136:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),function($,ee){for(var er in ee)Object.defineProperty($,er,{enumerable:!0,get:ee[er]})}(ee,{fillMetadataSegment:function(){return fillMetadataSegment},normalizeMetadataRoute:function(){return normalizeMetadataRoute}});let ei=er(78312),en=_interop_require_default(er(52332)),es=er(60154),eo=er(67079),ep=er(53229),eu=er(2644),eh=er(59418);function _interop_require_default($){return $&&$.__esModule?$:{default:$}}function getMetadataRouteSuffix($){let ee="";return($.includes("(")&&$.includes(")")||$.includes("@"))&&(ee=(0,ep.djb2Hash)($).toString(36).slice(0,6)),ee}function fillMetadataSegment($,ee,er){let ei=(0,eu.normalizeAppPath)($),ep=(0,eo.getNamedRouteRegex)(ei,!1),em=(0,es.interpolateDynamicPath)(ei,ee,ep),ef=getMetadataRouteSuffix($),eg=ef?`-${ef}`:"",{name:ey,ext:ev}=en.default.parse(er);return(0,eh.normalizePathSep)(en.default.join(em,`${ey}${eg}${ev}`))}function normalizeMetadataRoute($){if(!(0,ei.isMetadataRoute)($))return $;let ee=$,er="";if("/robots"===$)ee+=".txt";else if("/manifest"===$)ee+=".webmanifest";else if($.endsWith("/sitemap"))ee+=".xml";else{let ee=$.slice(0,-(en.default.basename($).length+1));er=getMetadataRouteSuffix(ee)}if(!ee.endsWith("/route")){let{dir:es,name:eo,ext:ep}=en.default.parse(ee),eu=(0,ei.isStaticMetadataRoute)($);ee=en.default.posix.join(es,`${eo}${er?`-${er}`:""}${ep}`,eu?"":"[[...__metadata_id__]]","route")}return ee}},78312:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),function($,ee){for(var er in ee)Object.defineProperty($,er,{enumerable:!0,get:ee[er]})}(ee,{STATIC_METADATA_IMAGES:function(){return en},isMetadataRouteFile:function(){return isMetadataRouteFile},isStaticMetadataRouteFile:function(){return isStaticMetadataRouteFile},isStaticMetadataRoute:function(){return isStaticMetadataRoute},isMetadataRoute:function(){return isMetadataRoute}});let ei=er(59418),en={icon:{filename:"icon",extensions:["ico","jpg","jpeg","png","svg"]},apple:{filename:"apple-icon",extensions:["jpg","jpeg","png"]},favicon:{filename:"favicon",extensions:["ico"]},openGraph:{filename:"opengraph-image",extensions:["jpg","jpeg","png","gif"]},twitter:{filename:"twitter-image",extensions:["jpg","jpeg","png","gif"]}},es=["js","jsx","ts","tsx"],getExtensionRegexString=$=>`(?:${$.join("|")})`;function isMetadataRouteFile($,ee,er){let es=[RegExp(`^[\\\\/]robots${er?`\\.${getExtensionRegexString(ee.concat("txt"))}$`:""}`),RegExp(`^[\\\\/]manifest${er?`\\.${getExtensionRegexString(ee.concat("webmanifest","json"))}$`:""}`),RegExp("^[\\\\/]favicon\\.ico$"),RegExp(`[\\\\/]sitemap${er?`\\.${getExtensionRegexString(ee.concat("xml"))}$`:""}`),RegExp(`[\\\\/]${en.icon.filename}\\d?${er?`\\.${getExtensionRegexString(ee.concat(en.icon.extensions))}$`:""}`),RegExp(`[\\\\/]${en.apple.filename}\\d?${er?`\\.${getExtensionRegexString(ee.concat(en.apple.extensions))}$`:""}`),RegExp(`[\\\\/]${en.openGraph.filename}\\d?${er?`\\.${getExtensionRegexString(ee.concat(en.openGraph.extensions))}$`:""}`),RegExp(`[\\\\/]${en.twitter.filename}\\d?${er?`\\.${getExtensionRegexString(ee.concat(en.twitter.extensions))}$`:""}`)],eo=(0,ei.normalizePathSep)($);return es.some($=>$.test(eo))}function isStaticMetadataRouteFile($){return isMetadataRouteFile($,[],!0)}function isStaticMetadataRoute($){return"/robots"===$||"/manifest"===$||isStaticMetadataRouteFile($)}function isMetadataRoute($){let ee=$.replace(/^\/?app\//,"").replace(/\/route$/,"");return"/"!==ee[0]&&(ee="/"+ee),!ee.endsWith("/page")&&isMetadataRouteFile(ee,es,!1)}},22183:($,ee,er)=>{"use strict";function getCookieParser($){return function(){let{cookie:ee}=$;if(!ee)return{};let{parse:ei}=er(8893);return ei(Array.isArray(ee)?ee.join("; "):ee)}}Object.defineProperty(ee,"__esModule",{value:!0}),Object.defineProperty(ee,"getCookieParser",{enumerable:!0,get:function(){return getCookieParser}})},43543:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),function($,ee){for(var er in ee)Object.defineProperty($,er,{enumerable:!0,get:ee[er]})}(ee,{INTERCEPTION_ROUTE_MARKERS:function(){return en},isInterceptionRouteAppPath:function(){return isInterceptionRouteAppPath},extractInterceptionRouteInformation:function(){return extractInterceptionRouteInformation}});let ei=er(2644),en=["(..)(..)","(.)","(..)","(...)"];function isInterceptionRouteAppPath($){return void 0!==$.split("/").find($=>en.find(ee=>$.startsWith(ee)))}function extractInterceptionRouteInformation($){let ee,er,es;for(let ei of $.split("/"))if(er=en.find($=>ei.startsWith($))){[ee,es]=$.split(er,2);break}if(!ee||!er||!es)throw Error(`Invalid interception route: ${$}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(ee=(0,ei.normalizeAppPath)(ee),er){case"(.)":es="/"===ee?`/${es}`:ee+"/"+es;break;case"(..)":if("/"===ee)throw Error(`Invalid interception route: ${$}. Cannot use (..) marker at the root level, use (.) instead.`);es=ee.split("/").slice(0,-1).concat(es).join("/");break;case"(...)":es="/"+es;break;case"(..)(..)":let eo=ee.split("/");if(eo.length<=2)throw Error(`Invalid interception route: ${$}. Cannot use (..)(..) marker at the root level or one level up.`);es=eo.slice(0,-2).concat(es).join("/");break;default:throw Error("Invariant: unexpected marker")}return{interceptingRoute:ee,interceptedRoute:es}}},60154:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),function($,ee){for(var er in ee)Object.defineProperty($,er,{enumerable:!0,get:ee[er]})}(ee,{normalizeVercelUrl:function(){return normalizeVercelUrl},interpolateDynamicPath:function(){return interpolateDynamicPath},getUtils:function(){return getUtils}});let ei=er(57310),en=er(38676),es=er(19392),eo=er(67079),ep=er(79499),eu=er(63829),eh=er(11914),em=er(2644),ef=er(72703);function normalizeVercelUrl($,ee,er,en,es){if(en&&ee&&es){let ee=(0,ei.parse)($.url,!0);for(let $ of(delete ee.search,Object.keys(ee.query)))($!==ef.NEXT_QUERY_PARAM_PREFIX&&$.startsWith(ef.NEXT_QUERY_PARAM_PREFIX)||(er||Object.keys(es.groups)).includes($))&&delete ee.query[$];$.url=(0,ei.format)(ee)}}function interpolateDynamicPath($,ee,er){if(!er)return $;for(let ei of Object.keys(er.groups)){let{optional:en,repeat:es}=er.groups[ei],eo=`[${es?"...":""}${ei}]`;en&&(eo=`[${eo}]`);let ep=$.indexOf(eo);if(ep>-1){let er;let en=ee[ei];er=Array.isArray(en)?en.map($=>$&&encodeURIComponent($)).join("/"):en?encodeURIComponent(en):"",$=$.slice(0,ep)+er+$.slice(ep+eo.length)}}return $}function getUtils({page:$,i18n:ee,basePath:er,rewrites:ei,pageIsDynamic:eg,trailingSlash:ey,caseSensitive:ev}){let eS,e_,ew;return eg&&(eS=(0,eo.getNamedRouteRegex)($,!1),ew=(e_=(0,ep.getRouteMatcher)(eS))($)),{handleRewrites:function(eo,ep){let em={},ef=ep.pathname,matchesPage=()=>{let ee=(0,eh.removeTrailingSlash)(ef||"");return ee===(0,eh.removeTrailingSlash)($)||(null==e_?void 0:e_(ee))},checkRewrite=ei=>{let eh=(0,es.getPathMatch)(ei.source+(ey?"(/)?":""),{removeUnnamedParams:!0,strict:!0,sensitive:!!ev}),eS=eh(ep.pathname);if((ei.has||ei.missing)&&eS){let $=(0,eu.matchHas)(eo,ep.query,ei.has,ei.missing);$?Object.assign(eS,$):eS=!1}if(eS){let{parsedDestination:es,destQuery:eo}=(0,eu.prepareDestination)({appendParamsToQuery:!0,destination:ei.destination,params:eS,query:ep.query});if(es.protocol)return!0;if(Object.assign(em,eo,eS),Object.assign(ep.query,es.query),delete es.query,Object.assign(ep,es),ef=ep.pathname,er&&(ef=ef.replace(RegExp(`^${er}`),"")||"/"),ee){let $=(0,en.normalizeLocalePath)(ef,ee.locales);ef=$.pathname,ep.query.nextInternalLocale=$.detectedLocale||eS.nextInternalLocale}if(ef===$)return!0;if(eg&&e_){let $=e_(ef);if($)return ep.query={...ep.query,...$},!0}}return!1};for(let $ of ei.beforeFiles||[])checkRewrite($);if(ef!==$){let $=!1;for(let ee of ei.afterFiles||[])if($=checkRewrite(ee))break;if(!$&&!matchesPage()){for(let ee of ei.fallback||[])if($=checkRewrite(ee))break}}return em},defaultRouteRegex:eS,dynamicRouteMatcher:e_,defaultRouteMatches:ew,getParamsFromRouteMatches:function($,er,ei){return(0,ep.getRouteMatcher)(function(){let{groups:$,routeKeys:en}=eS;return{re:{exec:es=>{let eo=Object.fromEntries(new URLSearchParams(es)),ep=ee&&ei&&eo["1"]===ei;for(let $ of Object.keys(eo)){let ee=eo[$];if($!==ef.NEXT_QUERY_PARAM_PREFIX&&$.startsWith(ef.NEXT_QUERY_PARAM_PREFIX)){let er=$.substring(ef.NEXT_QUERY_PARAM_PREFIX.length);eo[er]=ee,delete eo[$]}}let eu=Object.keys(en||{}),filterLocaleItem=$=>{if(ee){let en=Array.isArray($),es=en?$[0]:$;if("string"==typeof es&&ee.locales.some($=>$.toLowerCase()===es.toLowerCase()&&(ei=$,er.locale=ei,!0)))return en&&$.splice(0,1),!en||0===$.length}return!1};return eu.every($=>eo[$])?eu.reduce((ee,er)=>{let ei=null==en?void 0:en[er];return ei&&!filterLocaleItem(eo[er])&&(ee[$[ei].pos]=eo[er]),ee},{}):Object.keys(eo).reduce(($,ee)=>{if(!filterLocaleItem(eo[ee])){let er=ee;return ep&&(er=parseInt(ee,10)-1+""),Object.assign($,{[er]:eo[ee]})}return $},{})}},groups:$}}())($.headers["x-now-route-matches"])},normalizeDynamicRouteParams:function($,ee){let er=!0;return eS?{params:$=Object.keys(eS.groups).reduce((ei,en)=>{let es=$[en];"string"==typeof es&&(es=(0,em.normalizeRscPath)(es,!0)),Array.isArray(es)&&(es=es.map($=>("string"==typeof $&&($=(0,em.normalizeRscPath)($,!0)),$)));let eo=ew[en],ep=eS.groups[en].optional,eu=Array.isArray(eo)?eo.some($=>Array.isArray(es)?es.some(ee=>ee.includes($)):null==es?void 0:es.includes($)):null==es?void 0:es.includes(eo);return(eu||void 0===es&&!(ep&&ee))&&(er=!1),ep&&(!es||Array.isArray(es)&&1===es.length&&("index"===es[0]||es[0]===`[[...${en}]]`))&&(es=void 0,delete $[en]),es&&"string"==typeof es&&eS.groups[en].repeat&&(es=es.split("/")),es&&(ei[en]=es),ei},{}),hasValidParams:er}:{params:$,hasValidParams:!1}},normalizeVercelUrl:($,ee,er)=>normalizeVercelUrl($,ee,er,eg,eS),interpolateDynamicPath:($,ee)=>interpolateDynamicPath($,ee,eS)}}},11792:($,ee)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),Object.defineProperty(ee,"escapeStringRegexp",{enumerable:!0,get:function(){return escapeStringRegexp}});let er=/[|\\{}()[\]^$+*?.-]/,ei=/[|\\{}()[\]^$+*?.-]/g;function escapeStringRegexp($){return er.test($)?$.replace(ei,"\\$&"):$}},53229:($,ee)=>{"use strict";function djb2Hash($){let ee=5381;for(let er=0;er<$.length;er++){let ei=$.charCodeAt(er);ee=(ee<<5)+ee+ei}return Math.abs(ee)}function hexHash($){return djb2Hash($).toString(36).slice(0,5)}Object.defineProperty(ee,"__esModule",{value:!0}),function($,ee){for(var er in ee)Object.defineProperty($,er,{enumerable:!0,get:ee[er]})}(ee,{djb2Hash:function(){return djb2Hash},hexHash:function(){return hexHash}})},38676:($,ee)=>{"use strict";function normalizeLocalePath($,ee){let er;let ei=$.split("/");return(ee||[]).some(ee=>!!ei[1]&&ei[1].toLowerCase()===ee.toLowerCase()&&(er=ee,ei.splice(1,1),$=ei.join("/")||"/",!0)),{pathname:$,detectedLocale:er}}Object.defineProperty(ee,"__esModule",{value:!0}),Object.defineProperty(ee,"normalizeLocalePath",{enumerable:!0,get:function(){return normalizeLocalePath}})},52332:($,ee,er)=>{"use strict";let ei;ei=er(71017),$.exports=ei},78734:($,ee)=>{"use strict";function ensureLeadingSlash($){return $.startsWith("/")?$:"/"+$}Object.defineProperty(ee,"__esModule",{value:!0}),Object.defineProperty(ee,"ensureLeadingSlash",{enumerable:!0,get:function(){return ensureLeadingSlash}})},59418:($,ee)=>{"use strict";function normalizePathSep($){return $.replace(/\\/g,"/")}Object.defineProperty(ee,"__esModule",{value:!0}),Object.defineProperty(ee,"normalizePathSep",{enumerable:!0,get:function(){return normalizePathSep}})},2644:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),function($,ee){for(var er in ee)Object.defineProperty($,er,{enumerable:!0,get:ee[er]})}(ee,{normalizeAppPath:function(){return normalizeAppPath},normalizeRscPath:function(){return normalizeRscPath}});let ei=er(78734),en=er(68021);function normalizeAppPath($){return(0,ei.ensureLeadingSlash)($.split("/").reduce(($,ee,er,ei)=>!ee||(0,en.isGroupSegment)(ee)||"@"===ee[0]||("page"===ee||"route"===ee)&&er===ei.length-1?$:$+"/"+ee,""))}function normalizeRscPath($,ee){return ee?$.replace(/\.rsc($|\?)/,"$1"):$}},91145:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),Object.defineProperty(ee,"parseRelativeUrl",{enumerable:!0,get:function(){return parseRelativeUrl}}),er(32994);let ei=er(13454);function parseRelativeUrl($,ee){let er=new URL("http://n"),en=ee?new URL(ee,er):$.startsWith(".")?new URL("http://n"):er,{pathname:es,searchParams:eo,search:ep,hash:eu,href:eh,origin:em}=new URL($,en);if(em!==er.origin)throw Error("invariant: invalid relative URL, router received "+$);return{pathname:es,query:(0,ei.searchParamsToUrlQuery)(eo),search:ep,hash:eu,href:eh.slice(er.origin.length)}}},15708:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),Object.defineProperty(ee,"parseUrl",{enumerable:!0,get:function(){return parseUrl}});let ei=er(13454),en=er(91145);function parseUrl($){if($.startsWith("/"))return(0,en.parseRelativeUrl)($);let ee=new URL($);return{hash:ee.hash,hostname:ee.hostname,href:ee.href,pathname:ee.pathname,port:ee.port,protocol:ee.protocol,query:(0,ei.searchParamsToUrlQuery)(ee.searchParams),search:ee.search}}},19392:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),Object.defineProperty(ee,"getPathMatch",{enumerable:!0,get:function(){return getPathMatch}});let ei=er(58267);function getPathMatch($,ee){let er=[],en=(0,ei.pathToRegexp)($,er,{delimiter:"/",sensitive:"boolean"==typeof(null==ee?void 0:ee.sensitive)&&ee.sensitive,strict:null==ee?void 0:ee.strict}),es=(0,ei.regexpToFunction)((null==ee?void 0:ee.regexModifier)?new RegExp(ee.regexModifier(en.source),en.flags):en,er);return($,ei)=>{if("string"!=typeof $)return!1;let en=es($);if(!en)return!1;if(null==ee?void 0:ee.removeUnnamedParams)for(let $ of er)"number"==typeof $.name&&delete en.params[$.name];return{...ei,...en.params}}}},63829:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),function($,ee){for(var er in ee)Object.defineProperty($,er,{enumerable:!0,get:ee[er]})}(ee,{matchHas:function(){return matchHas},compileNonPath:function(){return compileNonPath},prepareDestination:function(){return prepareDestination}});let ei=er(58267),en=er(11792),es=er(15708),eo=er(43543),ep=er(92282),eu=er(22183);function getSafeParamName($){let ee="";for(let er=0;er<$.length;er++){let ei=$.charCodeAt(er);(ei>64&&ei<91||ei>96&&ei<123)&&(ee+=$[er])}return ee}function escapeSegment($,ee){return $.replace(RegExp(":"+(0,en.escapeStringRegexp)(ee),"g"),"__ESC_COLON_"+ee)}function unescapeSegments($){return $.replace(/__ESC_COLON_/gi,":")}function matchHas($,ee,er,ei){void 0===er&&(er=[]),void 0===ei&&(ei=[]);let en={},hasMatch=er=>{let ei;let es=er.key;switch(er.type){case"header":es=es.toLowerCase(),ei=$.headers[es];break;case"cookie":if("cookies"in $)ei=$.cookies[er.key];else{let ee=(0,eu.getCookieParser)($.headers)();ei=ee[er.key]}break;case"query":ei=ee[es];break;case"host":{let{host:ee}=(null==$?void 0:$.headers)||{},er=null==ee?void 0:ee.split(":")[0].toLowerCase();ei=er}}if(!er.value&&ei)return en[getSafeParamName(es)]=ei,!0;if(ei){let $=RegExp("^"+er.value+"$"),ee=Array.isArray(ei)?ei.slice(-1)[0].match($):ei.match($);if(ee)return Array.isArray(ee)&&(ee.groups?Object.keys(ee.groups).forEach($=>{en[$]=ee.groups[$]}):"host"===er.type&&ee[0]&&(en.host=ee[0])),!0}return!1},es=er.every($=>hasMatch($))&&!ei.some($=>hasMatch($));return!!es&&en}function compileNonPath($,ee){if(!$.includes(":"))return $;for(let er of Object.keys(ee))$.includes(":"+er)&&($=$.replace(RegExp(":"+er+"\\*","g"),":"+er+"--ESCAPED_PARAM_ASTERISKS").replace(RegExp(":"+er+"\\?","g"),":"+er+"--ESCAPED_PARAM_QUESTION").replace(RegExp(":"+er+"\\+","g"),":"+er+"--ESCAPED_PARAM_PLUS").replace(RegExp(":"+er+"(?!\\w)","g"),"--ESCAPED_PARAM_COLON"+er));return $=$.replace(/(:|\*|\?|\+|\(|\)|\{|\})/g,"\\$1").replace(/--ESCAPED_PARAM_PLUS/g,"+").replace(/--ESCAPED_PARAM_COLON/g,":").replace(/--ESCAPED_PARAM_QUESTION/g,"?").replace(/--ESCAPED_PARAM_ASTERISKS/g,"*"),(0,ei.compile)("/"+$,{validate:!1})(ee).slice(1)}function prepareDestination($){let ee;let er=Object.assign({},$.query);delete er.__nextLocale,delete er.__nextDefaultLocale,delete er.__nextDataReq,delete er.__nextInferredLocaleFromDefault,delete er[ep.NEXT_RSC_UNION_QUERY];let en=$.destination;for(let ee of Object.keys({...$.params,...er}))en=escapeSegment(en,ee);let eu=(0,es.parseUrl)(en),eh=eu.query,em=unescapeSegments(""+eu.pathname+(eu.hash||"")),ef=unescapeSegments(eu.hostname||""),eg=[],ey=[];(0,ei.pathToRegexp)(em,eg),(0,ei.pathToRegexp)(ef,ey);let ev=[];eg.forEach($=>ev.push($.name)),ey.forEach($=>ev.push($.name));let eS=(0,ei.compile)(em,{validate:!1}),e_=(0,ei.compile)(ef,{validate:!1});for(let[ee,er]of Object.entries(eh))Array.isArray(er)?eh[ee]=er.map(ee=>compileNonPath(unescapeSegments(ee),$.params)):"string"==typeof er&&(eh[ee]=compileNonPath(unescapeSegments(er),$.params));let ew=Object.keys($.params).filter($=>"nextInternalLocale"!==$);if($.appendParamsToQuery&&!ew.some($=>ev.includes($)))for(let ee of ew)ee in eh||(eh[ee]=$.params[ee]);if((0,eo.isInterceptionRouteAppPath)(em))for(let ee of em.split("/")){let er=eo.INTERCEPTION_ROUTE_MARKERS.find($=>ee.startsWith($));if(er){$.params["0"]=er;break}}try{ee=eS($.params);let[er,ei]=ee.split("#");eu.hostname=e_($.params),eu.pathname=er,eu.hash=(ei?"#":"")+(ei||""),delete eu.search}catch($){if($.message.match(/Expected .*? to not repeat, but got an array/))throw Error("To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match");throw $}return eu.query={...er,...eu.query},{newUrl:ee,destQuery:eh,parsedDestination:eu}}},13454:($,ee)=>{"use strict";function searchParamsToUrlQuery($){let ee={};return $.forEach(($,er)=>{void 0===ee[er]?ee[er]=$:Array.isArray(ee[er])?ee[er].push($):ee[er]=[ee[er],$]}),ee}function stringifyUrlQueryParam($){return"string"!=typeof $&&("number"!=typeof $||isNaN($))&&"boolean"!=typeof $?"":String($)}function urlQueryToSearchParams($){let ee=new URLSearchParams;return Object.entries($).forEach($=>{let[er,ei]=$;Array.isArray(ei)?ei.forEach($=>ee.append(er,stringifyUrlQueryParam($))):ee.set(er,stringifyUrlQueryParam(ei))}),ee}function assign($){for(var ee=arguments.length,er=Array(ee>1?ee-1:0),ei=1;ei<ee;ei++)er[ei-1]=arguments[ei];return er.forEach(ee=>{Array.from(ee.keys()).forEach(ee=>$.delete(ee)),ee.forEach((ee,er)=>$.append(er,ee))}),$}Object.defineProperty(ee,"__esModule",{value:!0}),function($,ee){for(var er in ee)Object.defineProperty($,er,{enumerable:!0,get:ee[er]})}(ee,{searchParamsToUrlQuery:function(){return searchParamsToUrlQuery},urlQueryToSearchParams:function(){return urlQueryToSearchParams},assign:function(){return assign}})},11914:($,ee)=>{"use strict";function removeTrailingSlash($){return $.replace(/\/$/,"")||"/"}Object.defineProperty(ee,"__esModule",{value:!0}),Object.defineProperty(ee,"removeTrailingSlash",{enumerable:!0,get:function(){return removeTrailingSlash}})},79499:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),Object.defineProperty(ee,"getRouteMatcher",{enumerable:!0,get:function(){return getRouteMatcher}});let ei=er(32994);function getRouteMatcher($){let{re:ee,groups:er}=$;return $=>{let en=ee.exec($);if(!en)return!1;let decode=$=>{try{return decodeURIComponent($)}catch($){throw new ei.DecodeError("failed to decode param")}},es={};return Object.keys(er).forEach($=>{let ee=er[$],ei=en[ee.pos];void 0!==ei&&(es[$]=~ei.indexOf("/")?ei.split("/").map($=>decode($)):ee.repeat?[decode(ei)]:decode(ei))}),es}}},67079:($,ee,er)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),function($,ee){for(var er in ee)Object.defineProperty($,er,{enumerable:!0,get:ee[er]})}(ee,{getRouteRegex:function(){return getRouteRegex},getNamedRouteRegex:function(){return getNamedRouteRegex},getNamedMiddlewareRegex:function(){return getNamedMiddlewareRegex}});let ei=er(43543),en=er(11792),es=er(11914),eo="nxtP",ep="nxtI";function parseParameter($){let ee=$.startsWith("[")&&$.endsWith("]");ee&&($=$.slice(1,-1));let er=$.startsWith("...");return er&&($=$.slice(3)),{key:$,repeat:er,optional:ee}}function getParametrizedRoute($){let ee=(0,es.removeTrailingSlash)($).slice(1).split("/"),er={},eo=1;return{parameterizedRoute:ee.map($=>{let ee=ei.INTERCEPTION_ROUTE_MARKERS.find(ee=>$.startsWith(ee)),es=$.match(/\[((?:\[.*\])|.+)\]/);if(ee&&es){let{key:$,optional:ei,repeat:ep}=parseParameter(es[1]);return er[$]={pos:eo++,repeat:ep,optional:ei},"/"+(0,en.escapeStringRegexp)(ee)+"([^/]+?)"}if(!es)return"/"+(0,en.escapeStringRegexp)($);{let{key:$,repeat:ee,optional:ei}=parseParameter(es[1]);return er[$]={pos:eo++,repeat:ee,optional:ei},ee?ei?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:er}}function getRouteRegex($){let{parameterizedRoute:ee,groups:er}=getParametrizedRoute($);return{re:RegExp("^"+ee+"(?:/)?$"),groups:er}}function buildGetSafeRouteKey(){let $=0;return()=>{let ee="",er=++$;for(;er>0;)ee+=String.fromCharCode(97+(er-1)%26),er=Math.floor((er-1)/26);return ee}}function getSafeKeyFromSegment($){let{getSafeRouteKey:ee,segment:er,routeKeys:ei,keyPrefix:en}=$,{key:es,optional:eo,repeat:ep}=parseParameter(er),eu=es.replace(/\W/g,"");en&&(eu=""+en+eu);let eh=!1;return(0===eu.length||eu.length>30)&&(eh=!0),isNaN(parseInt(eu.slice(0,1)))||(eh=!0),eh&&(eu=ee()),en?ei[eu]=""+en+es:ei[eu]=""+es,ep?eo?"(?:/(?<"+eu+">.+?))?":"/(?<"+eu+">.+?)":"/(?<"+eu+">[^/]+?)"}function getNamedParametrizedRoute($,ee){let er=(0,es.removeTrailingSlash)($).slice(1).split("/"),eu=buildGetSafeRouteKey(),eh={};return{namedParameterizedRoute:er.map($=>{let er=ei.INTERCEPTION_ROUTE_MARKERS.some(ee=>$.startsWith(ee)),es=$.match(/\[((?:\[.*\])|.+)\]/);return er&&es?getSafeKeyFromSegment({getSafeRouteKey:eu,segment:es[1],routeKeys:eh,keyPrefix:ee?ep:void 0}):es?getSafeKeyFromSegment({getSafeRouteKey:eu,segment:es[1],routeKeys:eh,keyPrefix:ee?eo:void 0}):"/"+(0,en.escapeStringRegexp)($)}).join(""),routeKeys:eh}}function getNamedRouteRegex($,ee){let er=getNamedParametrizedRoute($,ee);return{...getRouteRegex($),namedRegex:"^"+er.namedParameterizedRoute+"(?:/)?$",routeKeys:er.routeKeys}}function getNamedMiddlewareRegex($,ee){let{parameterizedRoute:er}=getParametrizedRoute($),{catchAll:ei=!0}=ee;if("/"===er)return{namedRegex:"^/"+(ei?".*":"")+"$"};let{namedParameterizedRoute:en}=getNamedParametrizedRoute($,!1);return{namedRegex:"^"+en+(ei?"(?:(/.*)?)":"")+"$"}}},68021:($,ee)=>{"use strict";function isGroupSegment($){return"("===$[0]&&$.endsWith(")")}Object.defineProperty(ee,"__esModule",{value:!0}),Object.defineProperty(ee,"isGroupSegment",{enumerable:!0,get:function(){return isGroupSegment}})},32994:($,ee)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),function($,ee){for(var er in ee)Object.defineProperty($,er,{enumerable:!0,get:ee[er]})}(ee,{WEB_VITALS:function(){return er},execOnce:function(){return execOnce},isAbsoluteUrl:function(){return isAbsoluteUrl},getLocationOrigin:function(){return getLocationOrigin},getURL:function(){return getURL},getDisplayName:function(){return getDisplayName},isResSent:function(){return isResSent},normalizeRepeatedSlashes:function(){return normalizeRepeatedSlashes},loadGetInitialProps:function(){return loadGetInitialProps},SP:function(){return en},ST:function(){return es},DecodeError:function(){return DecodeError},NormalizeError:function(){return NormalizeError},PageNotFoundError:function(){return PageNotFoundError},MissingStaticPage:function(){return MissingStaticPage},MiddlewareNotFoundError:function(){return MiddlewareNotFoundError},stringifyError:function(){return stringifyError}});let er=["CLS","FCP","FID","INP","LCP","TTFB"];function execOnce($){let ee,er=!1;return function(){for(var ei=arguments.length,en=Array(ei),es=0;es<ei;es++)en[es]=arguments[es];return er||(er=!0,ee=$(...en)),ee}}let ei=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,isAbsoluteUrl=$=>ei.test($);function getLocationOrigin(){let{protocol:$,hostname:ee,port:er}=window.location;return $+"//"+ee+(er?":"+er:"")}function getURL(){let{href:$}=window.location,ee=getLocationOrigin();return $.substring(ee.length)}function getDisplayName($){return"string"==typeof $?$:$.displayName||$.name||"Unknown"}function isResSent($){return $.finished||$.headersSent}function normalizeRepeatedSlashes($){let ee=$.split("?"),er=ee[0];return er.replace(/\\/g,"/").replace(/\/\/+/g,"/")+(ee[1]?"?"+ee.slice(1).join("?"):"")}async function loadGetInitialProps($,ee){let er=ee.res||ee.ctx&&ee.ctx.res;if(!$.getInitialProps)return ee.ctx&&ee.Component?{pageProps:await loadGetInitialProps(ee.Component,ee.ctx)}:{};let ei=await $.getInitialProps(ee);if(er&&isResSent(er))return ei;if(!ei){let ee='"'+getDisplayName($)+'.getInitialProps()" should resolve to an object. But found "'+ei+'" instead.';throw Error(ee)}return ei}let en="undefined"!=typeof performance,es=en&&["mark","measure","getEntriesByName"].every($=>"function"==typeof performance[$]);let DecodeError=class DecodeError extends Error{};let NormalizeError=class NormalizeError extends Error{};let PageNotFoundError=class PageNotFoundError extends Error{constructor($){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+$}};let MissingStaticPage=class MissingStaticPage extends Error{constructor($,ee){super(),this.message="Failed to load static file for page: "+$+" "+ee}};let MiddlewareNotFoundError=class MiddlewareNotFoundError extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}};function stringifyError($){return JSON.stringify({message:$.message,stack:$.stack})}},1413:($,ee,er)=>{"use strict";$.exports=er(11872).vendored["react-ssr"].ReactJsxRuntime},85465:($,ee,er)=>{"use strict";let ei;function _interopDefault($){return $&&"object"==typeof $&&"default"in $?$.default:$}Object.defineProperty(ee,"__esModule",{value:!0});var en=_interopDefault(er(12781)),es=_interopDefault(er(13685)),eo=_interopDefault(er(57310)),ep=_interopDefault(er(79632)),eu=_interopDefault(er(95687)),eh=_interopDefault(er(59796));let em=en.Readable,ef=Symbol("buffer"),eg=Symbol("type");let Blob=class Blob{constructor(){this[eg]="";let $=arguments[0],ee=arguments[1],er=[],ei=0;if($){let ee=$,en=Number(ee.length);for(let $=0;$<en;$++){let en;let es=ee[$];ei+=(en=es instanceof Buffer?es:ArrayBuffer.isView(es)?Buffer.from(es.buffer,es.byteOffset,es.byteLength):es instanceof ArrayBuffer?Buffer.from(es):es instanceof Blob?es[ef]:Buffer.from("string"==typeof es?es:String(es))).length,er.push(en)}}this[ef]=Buffer.concat(er);let en=ee&&void 0!==ee.type&&String(ee.type).toLowerCase();en&&!/[^\u0020-\u007E]/.test(en)&&(this[eg]=en)}get size(){return this[ef].length}get type(){return this[eg]}text(){return Promise.resolve(this[ef].toString())}arrayBuffer(){let $=this[ef],ee=$.buffer.slice($.byteOffset,$.byteOffset+$.byteLength);return Promise.resolve(ee)}stream(){let $=new em;return $._read=function(){},$.push(this[ef]),$.push(null),$}toString(){return"[object Blob]"}slice(){let $,ee;let er=this.size,ei=arguments[0],en=arguments[1];$=void 0===ei?0:ei<0?Math.max(er+ei,0):Math.min(ei,er),ee=void 0===en?er:en<0?Math.max(er+en,0):Math.min(en,er);let es=Math.max(ee-$,0),eo=this[ef],ep=eo.slice($,$+es),eu=new Blob([],{type:arguments[2]});return eu[ef]=ep,eu}};function FetchError($,ee,er){Error.call(this,$),this.message=$,this.type=ee,er&&(this.code=this.errno=er.code),Error.captureStackTrace(this,this.constructor)}Object.defineProperties(Blob.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(Blob.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),FetchError.prototype=Object.create(Error.prototype),FetchError.prototype.constructor=FetchError,FetchError.prototype.name="FetchError";try{ei=er(30099).O}catch($){}let ey=Symbol("Body internals"),ev=en.PassThrough;function Body($){var ee=this,er=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ei=er.size;let es=void 0===ei?0:ei;var eo=er.timeout;let ep=void 0===eo?0:eo;null==$?$=null:isURLSearchParams($)?$=Buffer.from($.toString()):isBlob($)||Buffer.isBuffer($)||("[object ArrayBuffer]"===Object.prototype.toString.call($)?$=Buffer.from($):ArrayBuffer.isView($)?$=Buffer.from($.buffer,$.byteOffset,$.byteLength):$ instanceof en||($=Buffer.from(String($)))),this[ey]={body:$,disturbed:!1,error:null},this.size=es,this.timeout=ep,$ instanceof en&&$.on("error",function($){let er="AbortError"===$.name?$:new FetchError(`Invalid response body while trying to fetch ${ee.url}: ${$.message}`,"system",$);ee[ey].error=er})}function consumeBody(){var $=this;if(this[ey].disturbed)return Body.Promise.reject(TypeError(`body used already for: ${this.url}`));if(this[ey].disturbed=!0,this[ey].error)return Body.Promise.reject(this[ey].error);let ee=this.body;if(null===ee)return Body.Promise.resolve(Buffer.alloc(0));if(isBlob(ee)&&(ee=ee.stream()),Buffer.isBuffer(ee))return Body.Promise.resolve(ee);if(!(ee instanceof en))return Body.Promise.resolve(Buffer.alloc(0));let er=[],ei=0,es=!1;return new Body.Promise(function(en,eo){let ep;$.timeout&&(ep=setTimeout(function(){es=!0,eo(new FetchError(`Response timeout while trying to fetch ${$.url} (over ${$.timeout}ms)`,"body-timeout"))},$.timeout)),ee.on("error",function(ee){"AbortError"===ee.name?(es=!0,eo(ee)):eo(new FetchError(`Invalid response body while trying to fetch ${$.url}: ${ee.message}`,"system",ee))}),ee.on("data",function(ee){if(!es&&null!==ee){if($.size&&ei+ee.length>$.size){es=!0,eo(new FetchError(`content size at ${$.url} over limit: ${$.size}`,"max-size"));return}ei+=ee.length,er.push(ee)}}),ee.on("end",function(){if(!es){clearTimeout(ep);try{en(Buffer.concat(er,ei))}catch(ee){eo(new FetchError(`Could not create Buffer from response body for ${$.url}: ${ee.message}`,"system",ee))}}})})}function convertBody($,ee){let er,en;if("function"!=typeof ei)throw Error("The package `encoding` must be installed to use the textConverted() function");let es=ee.get("content-type"),eo="utf-8";return es&&(er=/charset=([^;]*)/i.exec(es)),en=$.slice(0,1024).toString(),!er&&en&&(er=/<meta.+?charset=(['"])(.+?)\1/i.exec(en)),!er&&en&&(!(er=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(en))&&(er=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(en))&&er.pop(),er&&(er=/charset=(.*)/i.exec(er.pop()))),!er&&en&&(er=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(en)),er&&("gb2312"===(eo=er.pop())||"gbk"===eo)&&(eo="gb18030"),ei($,"UTF-8",eo).toString()}function isURLSearchParams($){return"object"==typeof $&&"function"==typeof $.append&&"function"==typeof $.delete&&"function"==typeof $.get&&"function"==typeof $.getAll&&"function"==typeof $.has&&"function"==typeof $.set&&("URLSearchParams"===$.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call($)||"function"==typeof $.sort)}function isBlob($){return"object"==typeof $&&"function"==typeof $.arrayBuffer&&"string"==typeof $.type&&"function"==typeof $.stream&&"function"==typeof $.constructor&&"string"==typeof $.constructor.name&&/^(Blob|File)$/.test($.constructor.name)&&/^(Blob|File)$/.test($[Symbol.toStringTag])}function clone($){let ee,er;let ei=$.body;if($.bodyUsed)throw Error("cannot clone body after it is used");return ei instanceof en&&"function"!=typeof ei.getBoundary&&(ee=new ev,er=new ev,ei.pipe(ee),ei.pipe(er),$[ey].body=ee,ei=er),ei}function extractContentType($){if(null===$)return null;if("string"==typeof $)return"text/plain;charset=UTF-8";if(isURLSearchParams($))return"application/x-www-form-urlencoded;charset=UTF-8";if(isBlob($))return $.type||null;if(Buffer.isBuffer($))return null;if("[object ArrayBuffer]"===Object.prototype.toString.call($))return null;if(ArrayBuffer.isView($))return null;else if("function"==typeof $.getBoundary)return`multipart/form-data;boundary=${$.getBoundary()}`;else if($ instanceof en)return null;else return"text/plain;charset=UTF-8"}function getTotalBytes($){let ee=$.body;return null===ee?0:isBlob(ee)?ee.size:Buffer.isBuffer(ee)?ee.length:ee&&"function"==typeof ee.getLengthSync&&(ee._lengthRetrievers&&0==ee._lengthRetrievers.length||ee.hasKnownLength&&ee.hasKnownLength())?ee.getLengthSync():null}function writeToStream($,ee){let er=ee.body;null===er?$.end():isBlob(er)?er.stream().pipe($):Buffer.isBuffer(er)?($.write(er),$.end()):er.pipe($)}Body.prototype={get body(){return this[ey].body},get bodyUsed(){return this[ey].disturbed},arrayBuffer(){return consumeBody.call(this).then(function($){return $.buffer.slice($.byteOffset,$.byteOffset+$.byteLength)})},blob(){let $=this.headers&&this.headers.get("content-type")||"";return consumeBody.call(this).then(function(ee){return Object.assign(new Blob([],{type:$.toLowerCase()}),{[ef]:ee})})},json(){var $=this;return consumeBody.call(this).then(function(ee){try{return JSON.parse(ee.toString())}catch(ee){return Body.Promise.reject(new FetchError(`invalid json response body at ${$.url} reason: ${ee.message}`,"invalid-json"))}})},text(){return consumeBody.call(this).then(function($){return $.toString()})},buffer(){return consumeBody.call(this)},textConverted(){var $=this;return consumeBody.call(this).then(function(ee){return convertBody(ee,$.headers)})}},Object.defineProperties(Body.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),Body.mixIn=function($){for(let ee of Object.getOwnPropertyNames(Body.prototype))if(!(ee in $)){let er=Object.getOwnPropertyDescriptor(Body.prototype,ee);Object.defineProperty($,ee,er)}},Body.Promise=global.Promise;let eS=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,e_=/[^\t\x20-\x7e\x80-\xff]/;function validateName($){if($=`${$}`,eS.test($)||""===$)throw TypeError(`${$} is not a legal HTTP header name`)}function validateValue($){if($=`${$}`,e_.test($))throw TypeError(`${$} is not a legal HTTP header value`)}function find($,ee){for(let er in ee=ee.toLowerCase(),$)if(er.toLowerCase()===ee)return er}let ew=Symbol("map");let Headers=class Headers{constructor(){let $=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[ew]=Object.create(null),$ instanceof Headers){let ee=$.raw(),er=Object.keys(ee);for(let $ of er)for(let er of ee[$])this.append($,er);return}if(null==$);else if("object"==typeof $){let ee=$[Symbol.iterator];if(null!=ee){if("function"!=typeof ee)throw TypeError("Header pairs must be iterable");let er=[];for(let ee of $){if("object"!=typeof ee||"function"!=typeof ee[Symbol.iterator])throw TypeError("Each header pair must be iterable");er.push(Array.from(ee))}for(let $ of er){if(2!==$.length)throw TypeError("Each header pair must be a name/value tuple");this.append($[0],$[1])}}else for(let ee of Object.keys($)){let er=$[ee];this.append(ee,er)}}else throw TypeError("Provided initializer must be an object")}get($){validateName($=`${$}`);let ee=find(this[ew],$);return void 0===ee?null:this[ew][ee].join(", ")}forEach($){let ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,er=getHeaders(this),ei=0;for(;ei<er.length;){var en=er[ei];let es=en[0],eo=en[1];$.call(ee,eo,es,this),er=getHeaders(this),ei++}}set($,ee){$=`${$}`,ee=`${ee}`,validateName($),validateValue(ee);let er=find(this[ew],$);this[ew][void 0!==er?er:$]=[ee]}append($,ee){$=`${$}`,ee=`${ee}`,validateName($),validateValue(ee);let er=find(this[ew],$);void 0!==er?this[ew][er].push(ee):this[ew][$]=[ee]}has($){return validateName($=`${$}`),void 0!==find(this[ew],$)}delete($){validateName($=`${$}`);let ee=find(this[ew],$);void 0!==ee&&delete this[ew][ee]}raw(){return this[ew]}keys(){return createHeadersIterator(this,"key")}values(){return createHeadersIterator(this,"value")}[Symbol.iterator](){return createHeadersIterator(this,"key+value")}};function getHeaders($){let ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value",er=Object.keys($[ew]).sort();return er.map("key"===ee?function($){return $.toLowerCase()}:"value"===ee?function(ee){return $[ew][ee].join(", ")}:function(ee){return[ee.toLowerCase(),$[ew][ee].join(", ")]})}Headers.prototype.entries=Headers.prototype[Symbol.iterator],Object.defineProperty(Headers.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(Headers.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});let eC=Symbol("internal");function createHeadersIterator($,ee){let er=Object.create(eT);return er[eC]={target:$,kind:ee,index:0},er}let eT=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==eT)throw TypeError("Value of `this` is not a HeadersIterator");var $=this[eC];let ee=$.target,er=$.kind,ei=$.index,en=getHeaders(ee,er),es=en.length;return ei>=es?{value:void 0,done:!0}:(this[eC].index=ei+1,{value:en[ei],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function exportNodeCompatibleHeaders($){let ee=Object.assign({__proto__:null},$[ew]),er=find($[ew],"Host");return void 0!==er&&(ee[er]=ee[er][0]),ee}function createHeadersLenient($){let ee=new Headers;for(let er of Object.keys($))if(!eS.test(er)){if(Array.isArray($[er]))for(let ei of $[er])e_.test(ei)||(void 0===ee[ew][er]?ee[ew][er]=[ei]:ee[ew][er].push(ei));else e_.test($[er])||(ee[ew][er]=[$[er]])}return ee}Object.defineProperty(eT,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});let eE=Symbol("Response internals"),eI=es.STATUS_CODES;let Response=class Response{constructor(){let $=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Body.call(this,$,ee);let er=ee.status||200,ei=new Headers(ee.headers);if(null!=$&&!ei.has("Content-Type")){let ee=extractContentType($);ee&&ei.append("Content-Type",ee)}this[eE]={url:ee.url,status:er,statusText:ee.statusText||eI[er],headers:ei,counter:ee.counter}}get url(){return this[eE].url||""}get status(){return this[eE].status}get ok(){return this[eE].status>=200&&this[eE].status<300}get redirected(){return this[eE].counter>0}get statusText(){return this[eE].statusText}get headers(){return this[eE].headers}clone(){return new Response(clone(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}};Body.mixIn(Response.prototype),Object.defineProperties(Response.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(Response.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});let eD=Symbol("Request internals"),eR=eo.URL||ep.URL,eP=eo.parse,eN=eo.format;function parseURL($){return/^[a-zA-Z][a-zA-Z\d+\-.]*:/.exec($)&&($=new eR($).toString()),eP($)}let eA="destroy"in en.Readable.prototype;function isRequest($){return"object"==typeof $&&"object"==typeof $[eD]}function isAbortSignal($){let ee=$&&"object"==typeof $&&Object.getPrototypeOf($);return!!(ee&&"AbortSignal"===ee.constructor.name)}let Request=class Request{constructor($){let ee,er=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};isRequest($)?ee=parseURL($.url):(ee=$&&$.href?parseURL($.href):parseURL(`${$}`),$={});let ei=er.method||$.method||"GET";if(ei=ei.toUpperCase(),(null!=er.body||isRequest($)&&null!==$.body)&&("GET"===ei||"HEAD"===ei))throw TypeError("Request with GET/HEAD method cannot have body");let en=null!=er.body?er.body:isRequest($)&&null!==$.body?clone($):null;Body.call(this,en,{timeout:er.timeout||$.timeout||0,size:er.size||$.size||0});let es=new Headers(er.headers||$.headers||{});if(null!=en&&!es.has("Content-Type")){let $=extractContentType(en);$&&es.append("Content-Type",$)}let eo=isRequest($)?$.signal:null;if("signal"in er&&(eo=er.signal),null!=eo&&!isAbortSignal(eo))throw TypeError("Expected signal to be an instanceof AbortSignal");this[eD]={method:ei,redirect:er.redirect||$.redirect||"follow",headers:es,parsedURL:ee,signal:eo},this.follow=void 0!==er.follow?er.follow:void 0!==$.follow?$.follow:20,this.compress=void 0!==er.compress?er.compress:void 0===$.compress||$.compress,this.counter=er.counter||$.counter||0,this.agent=er.agent||$.agent}get method(){return this[eD].method}get url(){return eN(this[eD].parsedURL)}get headers(){return this[eD].headers}get redirect(){return this[eD].redirect}get signal(){return this[eD].signal}clone(){return new Request(this)}};function getNodeRequestOptions($){let ee=$[eD].parsedURL,er=new Headers($[eD].headers);if(er.has("Accept")||er.set("Accept","*/*"),!ee.protocol||!ee.hostname)throw TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(ee.protocol))throw TypeError("Only HTTP(S) protocols are supported");if($.signal&&$.body instanceof en.Readable&&!eA)throw Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let ei=null;if(null==$.body&&/^(POST|PUT)$/i.test($.method)&&(ei="0"),null!=$.body){let ee=getTotalBytes($);"number"==typeof ee&&(ei=String(ee))}ei&&er.set("Content-Length",ei),er.has("User-Agent")||er.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),$.compress&&!er.has("Accept-Encoding")&&er.set("Accept-Encoding","gzip,deflate");let es=$.agent;return"function"==typeof es&&(es=es(ee)),er.has("Connection")||es||er.set("Connection","close"),Object.assign({},ee,{method:$.method,headers:exportNodeCompatibleHeaders(er),agent:es})}function AbortError($){Error.call(this,$),this.type="aborted",this.message=$,Error.captureStackTrace(this,this.constructor)}Body.mixIn(Request.prototype),Object.defineProperty(Request.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(Request.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),AbortError.prototype=Object.create(Error.prototype),AbortError.prototype.constructor=AbortError,AbortError.prototype.name="AbortError";let ek=eo.URL||ep.URL,eO=en.PassThrough,isDomainOrSubdomain=function($,ee){let er=new ek(ee).hostname,ei=new ek($).hostname;return er===ei||"."===er[er.length-ei.length-1]&&er.endsWith(ei)};function fetch($,ee){if(!fetch.Promise)throw Error("native promise missing, set fetch.Promise to your favorite alternative");return Body.Promise=fetch.Promise,new fetch.Promise(function(er,ei){let eo;let ep=new Request($,ee),em=getNodeRequestOptions(ep),ef=("https:"===em.protocol?eu:es).request,eg=ep.signal,ey=null,abort=function(){let $=new AbortError("The user aborted a request.");ei($),ep.body&&ep.body instanceof en.Readable&&ep.body.destroy($),ey&&ey.body&&ey.body.emit("error",$)};if(eg&&eg.aborted){abort();return}let abortAndFinalize=function(){abort(),finalize()},ev=ef(em);function finalize(){ev.abort(),eg&&eg.removeEventListener("abort",abortAndFinalize),clearTimeout(eo)}eg&&eg.addEventListener("abort",abortAndFinalize),ep.timeout&&ev.once("socket",function($){eo=setTimeout(function(){ei(new FetchError(`network timeout at: ${ep.url}`,"request-timeout")),finalize()},ep.timeout)}),ev.on("error",function($){ei(new FetchError(`request to ${ep.url} failed, reason: ${$.message}`,"system",$)),finalize()}),ev.on("response",function($){clearTimeout(eo);let ee=createHeadersLenient($.headers);if(fetch.isRedirect($.statusCode)){let en=ee.get("Location"),es=null;try{es=null===en?null:new ek(en,ep.url).toString()}catch($){if("manual"!==ep.redirect){ei(new FetchError(`uri requested responds with an invalid redirect URL: ${en}`,"invalid-redirect")),finalize();return}}switch(ep.redirect){case"error":ei(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${ep.url}`,"no-redirect")),finalize();return;case"manual":if(null!==es)try{ee.set("Location",es)}catch($){ei($)}break;case"follow":if(null===es)break;if(ep.counter>=ep.follow){ei(new FetchError(`maximum redirect reached at: ${ep.url}`,"max-redirect")),finalize();return}let eo={headers:new Headers(ep.headers),follow:ep.follow,counter:ep.counter+1,agent:ep.agent,compress:ep.compress,method:ep.method,body:ep.body,signal:ep.signal,timeout:ep.timeout,size:ep.size};if(!isDomainOrSubdomain(ep.url,es))for(let $ of["authorization","www-authenticate","cookie","cookie2"])eo.headers.delete($);if(303!==$.statusCode&&ep.body&&null===getTotalBytes(ep)){ei(new FetchError("Cannot follow redirect with body being a readable stream","unsupported-redirect")),finalize();return}(303===$.statusCode||(301===$.statusCode||302===$.statusCode)&&"POST"===ep.method)&&(eo.method="GET",eo.body=void 0,eo.headers.delete("content-length")),er(fetch(new Request(es,eo))),finalize();return}}$.once("end",function(){eg&&eg.removeEventListener("abort",abortAndFinalize)});let en=$.pipe(new eO),es={url:ep.url,status:$.statusCode,statusText:$.statusMessage,headers:ee,size:ep.size,timeout:ep.timeout,counter:ep.counter},eu=ee.get("Content-Encoding");if(!ep.compress||"HEAD"===ep.method||null===eu||204===$.statusCode||304===$.statusCode){er(ey=new Response(en,es));return}let em={flush:eh.Z_SYNC_FLUSH,finishFlush:eh.Z_SYNC_FLUSH};if("gzip"==eu||"x-gzip"==eu){en=en.pipe(eh.createGunzip(em)),er(ey=new Response(en,es));return}if("deflate"==eu||"x-deflate"==eu){let ee=$.pipe(new eO);ee.once("data",function($){en=(15&$[0])==8?en.pipe(eh.createInflate()):en.pipe(eh.createInflateRaw()),er(ey=new Response(en,es))});return}if("br"==eu&&"function"==typeof eh.createBrotliDecompress){en=en.pipe(eh.createBrotliDecompress()),er(ey=new Response(en,es));return}er(ey=new Response(en,es))}),writeToStream(ev,ep)})}fetch.isRedirect=function($){return 301===$||302===$||303===$||307===$||308===$},fetch.Promise=global.Promise,$.exports=ee=fetch,Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=ee,ee.Headers=Headers,ee.Request=Request,ee.Response=Response,ee.FetchError=FetchError},9454:($,ee,er)=>{"use strict";var ei=er(64342);$.exports=ee=ei.descriptor=ei.Root.fromJSON(er(52699)).lookup(".google.protobuf");var en=ei.Namespace,es=ei.Root,eo=ei.Enum,ep=ei.Type,eu=ei.Field,eh=ei.MapField,em=ei.OneOf,ef=ei.Service,eg=ei.Method;function Root_toDescriptorRecursive($,er,ei){var eh=ee.FileDescriptorProto.create({name:$.filename||($.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});ei&&(eh.syntax=ei),$ instanceof es||(eh.package=$.fullName.substring(1));for(var em,eg=0;eg<$.nestedArray.length;++eg)(em=$._nestedArray[eg])instanceof ep?eh.messageType.push(em.toDescriptor(ei)):em instanceof eo?eh.enumType.push(em.toDescriptor()):em instanceof eu?eh.extension.push(em.toDescriptor(ei)):em instanceof ef?eh.service.push(em.toDescriptor()):em instanceof en&&Root_toDescriptorRecursive(em,er,ei);eh.options=toDescriptorOptions($.options,ee.FileOptions),eh.messageType.length+eh.enumType.length+eh.extension.length+eh.service.length&&er.push(eh)}es.fromDescriptor=function($){"number"==typeof $.length&&($=ee.FileDescriptorSet.decode($));var er=new es;if($.file)for(var ei,en,eh,em=0;em<$.file.length;++em){if(en=er,(ei=$.file[em]).package&&ei.package.length&&(en=er.define(ei.package)),ei.name&&ei.name.length&&er.files.push(en.filename=ei.name),ei.messageType)for(eh=0;eh<ei.messageType.length;++eh)en.add(ep.fromDescriptor(ei.messageType[eh],ei.syntax));if(ei.enumType)for(eh=0;eh<ei.enumType.length;++eh)en.add(eo.fromDescriptor(ei.enumType[eh]));if(ei.extension)for(eh=0;eh<ei.extension.length;++eh)en.add(eu.fromDescriptor(ei.extension[eh]));if(ei.service)for(eh=0;eh<ei.service.length;++eh)en.add(ef.fromDescriptor(ei.service[eh]));var eg=fromDescriptorOptions(ei.options,ee.FileOptions);if(eg){var ey=Object.keys(eg);for(eh=0;eh<ey.length;++eh)en.setOption(ey[eh],eg[ey[eh]])}}return er},es.prototype.toDescriptor=function($){var er=ee.FileDescriptorSet.create();return Root_toDescriptorRecursive(this,er.file,$),er};var ey=0;ep.fromDescriptor=function($,er){"number"==typeof $.length&&($=ee.DescriptorProto.decode($));var ei,en=new ep($.name.length?$.name:"Type"+ey++,fromDescriptorOptions($.options,ee.MessageOptions));if($.oneofDecl)for(ei=0;ei<$.oneofDecl.length;++ei)en.add(em.fromDescriptor($.oneofDecl[ei]));if($.field)for(ei=0;ei<$.field.length;++ei){var es=eu.fromDescriptor($.field[ei],er);en.add(es),$.field[ei].hasOwnProperty("oneofIndex")&&en.oneofsArray[$.field[ei].oneofIndex].add(es)}if($.extension)for(ei=0;ei<$.extension.length;++ei)en.add(eu.fromDescriptor($.extension[ei],er));if($.nestedType)for(ei=0;ei<$.nestedType.length;++ei)en.add(ep.fromDescriptor($.nestedType[ei],er)),$.nestedType[ei].options&&$.nestedType[ei].options.mapEntry&&en.setOption("map_entry",!0);if($.enumType)for(ei=0;ei<$.enumType.length;++ei)en.add(eo.fromDescriptor($.enumType[ei]));if($.extensionRange&&$.extensionRange.length)for(ei=0,en.extensions=[];ei<$.extensionRange.length;++ei)en.extensions.push([$.extensionRange[ei].start,$.extensionRange[ei].end]);if($.reservedRange&&$.reservedRange.length||$.reservedName&&$.reservedName.length){if(en.reserved=[],$.reservedRange)for(ei=0;ei<$.reservedRange.length;++ei)en.reserved.push([$.reservedRange[ei].start,$.reservedRange[ei].end]);if($.reservedName)for(ei=0;ei<$.reservedName.length;++ei)en.reserved.push($.reservedName[ei])}return en},ep.prototype.toDescriptor=function($){var er,ei,en=ee.DescriptorProto.create({name:this.name});for(ei=0;ei<this.fieldsArray.length;++ei)if(en.field.push(er=this._fieldsArray[ei].toDescriptor($)),this._fieldsArray[ei]instanceof eh){var es=toDescriptorType(this._fieldsArray[ei].keyType,this._fieldsArray[ei].resolvedKeyType),em=toDescriptorType(this._fieldsArray[ei].type,this._fieldsArray[ei].resolvedType),ef=11===em||14===em?this._fieldsArray[ei].resolvedType&&shortname(this.parent,this._fieldsArray[ei].resolvedType)||this._fieldsArray[ei].type:void 0;en.nestedType.push(ee.DescriptorProto.create({name:er.typeName,field:[ee.FieldDescriptorProto.create({name:"key",number:1,label:1,type:es}),ee.FieldDescriptorProto.create({name:"value",number:2,label:1,type:em,typeName:ef})],options:ee.MessageOptions.create({mapEntry:!0})}))}for(ei=0;ei<this.oneofsArray.length;++ei)en.oneofDecl.push(this._oneofsArray[ei].toDescriptor());for(ei=0;ei<this.nestedArray.length;++ei)this._nestedArray[ei]instanceof eu?en.field.push(this._nestedArray[ei].toDescriptor($)):this._nestedArray[ei]instanceof ep?en.nestedType.push(this._nestedArray[ei].toDescriptor($)):this._nestedArray[ei]instanceof eo&&en.enumType.push(this._nestedArray[ei].toDescriptor());if(this.extensions)for(ei=0;ei<this.extensions.length;++ei)en.extensionRange.push(ee.DescriptorProto.ExtensionRange.create({start:this.extensions[ei][0],end:this.extensions[ei][1]}));if(this.reserved)for(ei=0;ei<this.reserved.length;++ei)"string"==typeof this.reserved[ei]?en.reservedName.push(this.reserved[ei]):en.reservedRange.push(ee.DescriptorProto.ReservedRange.create({start:this.reserved[ei][0],end:this.reserved[ei][1]}));return en.options=toDescriptorOptions(this.options,ee.MessageOptions),en};var ev=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;eu.fromDescriptor=function($,er){if("number"==typeof $.length&&($=ee.DescriptorProto.decode($)),"number"!=typeof $.number)throw Error("missing field id");switch(ei=$.typeName&&$.typeName.length?$.typeName:fromDescriptorType($.type),$.label){case 1:en=void 0;break;case 2:en="required";break;case 3:en="repeated";break;default:throw Error("illegal label: "+$.label)}var ei,en,es=$.extendee;void 0!==$.extendee&&(es=es.length?es:void 0);var eo=new eu($.name.length?$.name:"field"+$.number,$.number,ei,en,es);if(eo.options=fromDescriptorOptions($.options,ee.FieldOptions),$.defaultValue&&$.defaultValue.length){var ep=$.defaultValue;switch(ep){case"true":case"TRUE":ep=!0;break;case"false":case"FALSE":ep=!1;break;default:ev.exec(ep)&&(ep=parseInt(ep))}eo.setOption("default",ep)}return packableDescriptorType($.type)&&("proto3"===er?$.options&&!$.options.packed&&eo.setOption("packed",!1):$.options&&$.options.packed||eo.setOption("packed",!1)),eo},eu.prototype.toDescriptor=function($){var er=ee.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)er.type=11,er.typeName=ei.util.ucFirst(this.name),er.label=3;else{switch(er.type=toDescriptorType(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:er.typeName=this.resolvedType?shortname(this.parent,this.resolvedType):this.type}switch(this.rule){case"repeated":er.label=3;break;case"required":er.label=2;break;default:er.label=1}}if(er.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(er.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(er.options=toDescriptorOptions(this.options,ee.FieldOptions),null!=this.options.default&&(er.defaultValue=String(this.options.default))),"proto3"===$?this.packed||((er.options||(er.options=ee.FieldOptions.create())).packed=!1):this.packed&&((er.options||(er.options=ee.FieldOptions.create())).packed=!0),er};var eS=0;eo.fromDescriptor=function($){"number"==typeof $.length&&($=ee.EnumDescriptorProto.decode($));var er={};if($.value)for(var ei=0;ei<$.value.length;++ei){var en=$.value[ei].name,es=$.value[ei].number||0;er[en&&en.length?en:"NAME"+es]=es}return new eo($.name&&$.name.length?$.name:"Enum"+eS++,er,fromDescriptorOptions($.options,ee.EnumOptions))},eo.prototype.toDescriptor=function(){for(var $=[],er=0,ei=Object.keys(this.values);er<ei.length;++er)$.push(ee.EnumValueDescriptorProto.create({name:ei[er],number:this.values[ei[er]]}));return ee.EnumDescriptorProto.create({name:this.name,value:$,options:toDescriptorOptions(this.options,ee.EnumOptions)})};var e_=0;em.fromDescriptor=function($){return"number"==typeof $.length&&($=ee.OneofDescriptorProto.decode($)),new em($.name&&$.name.length?$.name:"oneof"+e_++)},em.prototype.toDescriptor=function(){return ee.OneofDescriptorProto.create({name:this.name})};var ew=0;ef.fromDescriptor=function($){"number"==typeof $.length&&($=ee.ServiceDescriptorProto.decode($));var er=new ef($.name&&$.name.length?$.name:"Service"+ew++,fromDescriptorOptions($.options,ee.ServiceOptions));if($.method)for(var ei=0;ei<$.method.length;++ei)er.add(eg.fromDescriptor($.method[ei]));return er},ef.prototype.toDescriptor=function(){for(var $=[],er=0;er<this.methodsArray.length;++er)$.push(this._methodsArray[er].toDescriptor());return ee.ServiceDescriptorProto.create({name:this.name,method:$,options:toDescriptorOptions(this.options,ee.ServiceOptions)})};var eC=0;function fromDescriptorType($){switch($){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+$)}function packableDescriptorType($){switch($){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function toDescriptorType($,ee){switch($){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(ee instanceof eo)return 14;if(ee instanceof ep)return ee.group?10:11;throw Error("illegal type: "+$)}function fromDescriptorOptions($,ee){if($){for(var er,en,es,ep=[],eu=0;eu<ee.fieldsArray.length;++eu)"uninterpretedOption"!==(en=(er=ee._fieldsArray[eu]).name)&&$.hasOwnProperty(en)&&(es=$[en],er.resolvedType instanceof eo&&"number"==typeof es&&void 0!==er.resolvedType.valuesById[es]&&(es=er.resolvedType.valuesById[es]),ep.push(underScore(en),es));return ep.length?ei.util.toObject(ep):void 0}}function toDescriptorOptions($,ee){if($){for(var er,en,es=[],eo=0,ep=Object.keys($);eo<ep.length;++eo)if(en=$[er=ep[eo]],"default"!==er){var eu=ee.fields[er];(eu||(eu=ee.fields[er=ei.util.camelCase(er)]))&&es.push(er,en)}return es.length?ee.fromObject(ei.util.toObject(es)):void 0}}function shortname($,ee){var er=$.fullName.split("."),ei=ee.fullName.split("."),eo=0,ep=0,eu=ei.length-1;if(!($ instanceof es)&&ee instanceof en)for(;eo<er.length&&ep<eu&&er[eo]===ei[ep];){var eh=ee.lookup(er[eo++],!0);if(null!==eh&&eh!==ee)break;++ep}else for(;eo<er.length&&ep<eu&&er[eo]===ei[ep];++eo,++ep);return ei.slice(ep).join(".")}function underScore($){return $.substring(0,1)+$.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function($,ee){return"_"+ee.toLowerCase()})}eg.fromDescriptor=function($){return"number"==typeof $.length&&($=ee.MethodDescriptorProto.decode($)),new eg($.name&&$.name.length?$.name:"Method"+eC++,"rpc",$.inputType,$.outputType,!!$.clientStreaming,!!$.serverStreaming,fromDescriptorOptions($.options,ee.MethodOptions))},eg.prototype.toDescriptor=function(){return ee.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:toDescriptorOptions(this.options,ee.MethodOptions)})}},64342:($,ee,er)=>{"use strict";$.exports=er(20052)},34809:$=>{"use strict";$.exports=common;var ee,er=/\/|\./;function common($,ee){er.test($)||($="google/protobuf/"+$+".proto",ee={nested:{google:{nested:{protobuf:{nested:ee}}}}}),common[$]=ee}common("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),common("duration",{Duration:ee={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),common("timestamp",{Timestamp:ee}),common("empty",{Empty:{fields:{}}}),common("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),common("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),common("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),common.get=function($){return common[$]||null}},40815:($,ee,er)=>{"use strict";var ei=ee,en=er(48871),es=er(51987);function genValuePartial_fromObject($,ee,er,ei){var es=!1;if(ee.resolvedType){if(ee.resolvedType instanceof en){$("switch(d%s){",ei);for(var eo=ee.resolvedType.values,ep=Object.keys(eo),eu=0;eu<ep.length;++eu)eo[ep[eu]]!==ee.typeDefault||es||($("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',ei,ei,ei),ee.repeated||$("break"),es=!0),$("case%j:",ep[eu])("case %i:",eo[ep[eu]])("m%s=%j",ei,eo[ep[eu]])("break");$("}")}else $('if(typeof d%s!=="object")',ei)("throw TypeError(%j)",ee.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",ei,er,ei)}else{var eh=!1;switch(ee.type){case"double":case"float":$("m%s=Number(d%s)",ei,ei);break;case"uint32":case"fixed32":$("m%s=d%s>>>0",ei,ei);break;case"int32":case"sint32":case"sfixed32":$("m%s=d%s|0",ei,ei);break;case"uint64":eh=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":$("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",ei,ei,eh)('else if(typeof d%s==="string")',ei)("m%s=parseInt(d%s,10)",ei,ei)('else if(typeof d%s==="number")',ei)("m%s=d%s",ei,ei)('else if(typeof d%s==="object")',ei)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",ei,ei,ei,eh?"true":"");break;case"bytes":$('if(typeof d%s==="string")',ei)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",ei,ei,ei)("else if(d%s.length >= 0)",ei)("m%s=d%s",ei,ei);break;case"string":$("m%s=String(d%s)",ei,ei);break;case"bool":$("m%s=Boolean(d%s)",ei,ei)}}return $}function genValuePartial_toObject($,ee,er,ei){if(ee.resolvedType)ee.resolvedType instanceof en?$("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",ei,er,ei,ei,er,ei,ei):$("d%s=types[%i].toObject(m%s,o)",ei,er,ei);else{var es=!1;switch(ee.type){case"double":case"float":$("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",ei,ei,ei,ei);break;case"uint64":es=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":$('if(typeof m%s==="number")',ei)("d%s=o.longs===String?String(m%s):m%s",ei,ei,ei)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",ei,ei,ei,ei,es?"true":"",ei);break;case"bytes":$("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",ei,ei,ei,ei,ei);break;default:$("d%s=m%s",ei,ei)}}return $}ei.fromObject=function($){var ee=$.fieldsArray,er=es.codegen(["d"],$.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!ee.length)return er("return new this.ctor");er("var m=new this.ctor");for(var ei=0;ei<ee.length;++ei){var eo=ee[ei].resolve(),ep=es.safeProp(eo.name);eo.map?(er("if(d%s){",ep)('if(typeof d%s!=="object")',ep)("throw TypeError(%j)",eo.fullName+": object expected")("m%s={}",ep)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",ep),genValuePartial_fromObject(er,eo,ei,ep+"[ks[i]]")("}")("}")):eo.repeated?(er("if(d%s){",ep)("if(!Array.isArray(d%s))",ep)("throw TypeError(%j)",eo.fullName+": array expected")("m%s=[]",ep)("for(var i=0;i<d%s.length;++i){",ep),genValuePartial_fromObject(er,eo,ei,ep+"[i]")("}")("}")):(eo.resolvedType instanceof en||er("if(d%s!=null){",ep),genValuePartial_fromObject(er,eo,ei,ep),eo.resolvedType instanceof en||er("}"))}return er("return m")},ei.toObject=function($){var ee=$.fieldsArray.slice().sort(es.compareFieldsById);if(!ee.length)return es.codegen()("return {}");for(var er=es.codegen(["m","o"],$.name+"$toObject")("if(!o)")("o={}")("var d={}"),ei=[],eo=[],ep=[],eu=0;eu<ee.length;++eu)ee[eu].partOf||(ee[eu].resolve().repeated?ei:ee[eu].map?eo:ep).push(ee[eu]);if(ei.length){for(er("if(o.arrays||o.defaults){"),eu=0;eu<ei.length;++eu)er("d%s=[]",es.safeProp(ei[eu].name));er("}")}if(eo.length){for(er("if(o.objects||o.defaults){"),eu=0;eu<eo.length;++eu)er("d%s={}",es.safeProp(eo[eu].name));er("}")}if(ep.length){for(er("if(o.defaults){"),eu=0;eu<ep.length;++eu){var eh=ep[eu],em=es.safeProp(eh.name);if(eh.resolvedType instanceof en)er("d%s=o.enums===String?%j:%j",em,eh.resolvedType.valuesById[eh.typeDefault],eh.typeDefault);else if(eh.long)er("if(util.Long){")("var n=new util.Long(%i,%i,%j)",eh.typeDefault.low,eh.typeDefault.high,eh.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",em)("}else")("d%s=o.longs===String?%j:%i",em,eh.typeDefault.toString(),eh.typeDefault.toNumber());else if(eh.bytes){var ef="["+Array.prototype.slice.call(eh.typeDefault).join(",")+"]";er("if(o.bytes===String)d%s=%j",em,String.fromCharCode.apply(String,eh.typeDefault))("else{")("d%s=%s",em,ef)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",em,em)("}")}else er("d%s=%j",em,eh.typeDefault)}er("}")}var eg=!1;for(eu=0;eu<ee.length;++eu){var eh=ee[eu],ey=$._fieldsArray.indexOf(eh),em=es.safeProp(eh.name);eh.map?(eg||(eg=!0,er("var ks2")),er("if(m%s&&(ks2=Object.keys(m%s)).length){",em,em)("d%s={}",em)("for(var j=0;j<ks2.length;++j){"),genValuePartial_toObject(er,eh,ey,em+"[ks2[j]]")("}")):eh.repeated?(er("if(m%s&&m%s.length){",em,em)("d%s=[]",em)("for(var j=0;j<m%s.length;++j){",em),genValuePartial_toObject(er,eh,ey,em+"[j]")("}")):(er("if(m%s!=null&&m.hasOwnProperty(%j)){",em,eh.name),genValuePartial_toObject(er,eh,ey,em),eh.partOf&&er("if(o.oneofs)")("d%s=%j",es.safeProp(eh.partOf.name),eh.name)),er("}")}return er("return d")}},65777:($,ee,er)=>{"use strict";$.exports=decoder;var ei=er(48871),en=er(38586),es=er(51987);function missing($){return"missing required '"+$.name+"'"}function decoder($){var ee=es.codegen(["r","l"],$.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+($.fieldsArray.filter(function($){return $.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");$.group&&ee("if((t&7)===4)")("break"),ee("switch(t>>>3){");for(var er=0;er<$.fieldsArray.length;++er){var eo=$._fieldsArray[er].resolve(),ep=eo.resolvedType instanceof ei?"int32":eo.type,eu="m"+es.safeProp(eo.name);ee("case %i: {",eo.id),eo.map?(ee("if(%s===util.emptyObject)",eu)("%s={}",eu)("var c2 = r.uint32()+r.pos"),void 0!==en.defaults[eo.keyType]?ee("k=%j",en.defaults[eo.keyType]):ee("k=null"),void 0!==en.defaults[ep]?ee("value=%j",en.defaults[ep]):ee("value=null"),ee("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",eo.keyType)("case 2:"),void 0===en.basic[ep]?ee("value=types[%i].decode(r,r.uint32())",er):ee("value=r.%s()",ep),ee("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),ee(void 0!==en.long[eo.keyType]?'%s[typeof k==="object"?util.longToHash(k):k]=value':"%s[k]=value",eu)):eo.repeated?(ee("if(!(%s&&%s.length))",eu,eu)("%s=[]",eu),void 0!==en.packed[ep]&&ee("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",eu,ep)("}else"),void 0===en.basic[ep]?ee(eo.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",eu,er):ee("%s.push(r.%s())",eu,ep)):void 0===en.basic[ep]?ee(eo.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",eu,er):ee("%s=r.%s()",eu,ep),ee("break")("}")}for(ee("default:")("r.skipType(t&7)")("break")("}")("}"),er=0;er<$._fieldsArray.length;++er){var eh=$._fieldsArray[er];eh.required&&ee("if(!m.hasOwnProperty(%j))",eh.name)("throw util.ProtocolError(%j,{instance:m})",missing(eh))}return ee("return m")}},56035:($,ee,er)=>{"use strict";$.exports=encoder;var ei=er(48871),en=er(38586),es=er(51987);function genTypePartial($,ee,er,ei){return ee.resolvedType.group?$("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",er,ei,(ee.id<<3|3)>>>0,(ee.id<<3|4)>>>0):$("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",er,ei,(ee.id<<3|2)>>>0)}function encoder($){for(var ee,er,eo=es.codegen(["m","w"],$.name+"$encode")("if(!w)")("w=Writer.create()"),ep=$.fieldsArray.slice().sort(es.compareFieldsById),ee=0;ee<ep.length;++ee){var eu=ep[ee].resolve(),eh=$._fieldsArray.indexOf(eu),em=eu.resolvedType instanceof ei?"int32":eu.type,ef=en.basic[em];er="m"+es.safeProp(eu.name),eu.map?(eo("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",er,eu.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",er)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(eu.id<<3|2)>>>0,8|en.mapKey[eu.keyType],eu.keyType),void 0===ef?eo("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",eh,er):eo(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|ef,em,er),eo("}")("}")):eu.repeated?(eo("if(%s!=null&&%s.length){",er,er),eu.packed&&void 0!==en.packed[em]?eo("w.uint32(%i).fork()",(eu.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",er)("w.%s(%s[i])",em,er)("w.ldelim()"):(eo("for(var i=0;i<%s.length;++i)",er),void 0===ef?genTypePartial(eo,eu,eh,er+"[i]"):eo("w.uint32(%i).%s(%s[i])",(eu.id<<3|ef)>>>0,em,er)),eo("}")):(eu.optional&&eo("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",er,eu.name),void 0===ef?genTypePartial(eo,eu,eh,er):eo("w.uint32(%i).%s(%s)",(eu.id<<3|ef)>>>0,em,er))}return eo("return w")}},48871:($,ee,er)=>{"use strict";$.exports=Enum;var ei=er(67928);((Enum.prototype=Object.create(ei.prototype)).constructor=Enum).className="Enum";var en=er(45646),es=er(51987);function Enum($,ee,er,en,es,eo){if(ei.call(this,$,er),ee&&"object"!=typeof ee)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=en,this.comments=es||{},this.valuesOptions=eo,this.reserved=void 0,ee)for(var ep=Object.keys(ee),eu=0;eu<ep.length;++eu)"number"==typeof ee[ep[eu]]&&(this.valuesById[this.values[ep[eu]]=ee[ep[eu]]]=ep[eu])}Enum.fromJSON=function($,ee){var er=new Enum($,ee.values,ee.options,ee.comment,ee.comments);return er.reserved=ee.reserved,er},Enum.prototype.toJSON=function($){var ee=!!$&&!!$.keepComments;return es.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",ee?this.comment:void 0,"comments",ee?this.comments:void 0])},Enum.prototype.add=function($,ee,er,ei){if(!es.isString($))throw TypeError("name must be a string");if(!es.isInteger(ee))throw TypeError("id must be an integer");if(void 0!==this.values[$])throw Error("duplicate name '"+$+"' in "+this);if(this.isReservedId(ee))throw Error("id "+ee+" is reserved in "+this);if(this.isReservedName($))throw Error("name '"+$+"' is reserved in "+this);if(void 0!==this.valuesById[ee]){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+ee+" in "+this);this.values[$]=ee}else this.valuesById[this.values[$]=ee]=$;return ei&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[$]=ei||null),this.comments[$]=er||null,this},Enum.prototype.remove=function($){if(!es.isString($))throw TypeError("name must be a string");var ee=this.values[$];if(null==ee)throw Error("name '"+$+"' does not exist in "+this);return delete this.valuesById[ee],delete this.values[$],delete this.comments[$],this.valuesOptions&&delete this.valuesOptions[$],this},Enum.prototype.isReservedId=function($){return en.isReservedId(this.reserved,$)},Enum.prototype.isReservedName=function($){return en.isReservedName(this.reserved,$)}},34964:($,ee,er)=>{"use strict";$.exports=Field;var ei,en=er(67928);((Field.prototype=Object.create(en.prototype)).constructor=Field).className="Field";var es=er(48871),eo=er(38586),ep=er(51987),eu=/^required|optional|repeated$/;function Field($,ee,er,ei,es,eh,em){if(ep.isObject(ei)?(em=es,eh=ei,ei=es=void 0):ep.isObject(es)&&(em=eh,eh=es,es=void 0),en.call(this,$,eh),!ep.isInteger(ee)||ee<0)throw TypeError("id must be a non-negative integer");if(!ep.isString(er))throw TypeError("type must be a string");if(void 0!==ei&&!eu.test(ei=ei.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==es&&!ep.isString(es))throw TypeError("extend must be a string");"proto3_optional"===ei&&(ei="optional"),this.rule=ei&&"optional"!==ei?ei:void 0,this.type=er,this.id=ee,this.extend=es||void 0,this.required="required"===ei,this.optional=!this.required,this.repeated="repeated"===ei,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!ep.Long&&void 0!==eo.long[er],this.bytes="bytes"===er,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=em}Field.fromJSON=function($,ee){return new Field($,ee.id,ee.type,ee.rule,ee.extend,ee.options,ee.comment)},Object.defineProperty(Field.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),Field.prototype.setOption=function($,ee,er){return"packed"===$&&(this._packed=null),en.prototype.setOption.call(this,$,ee,er)},Field.prototype.toJSON=function($){var ee=!!$&&!!$.keepComments;return ep.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",ee?this.comment:void 0])},Field.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=eo.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof ei?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof es&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof es)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=ep.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var $;ep.base64.test(this.typeDefault)?ep.base64.decode(this.typeDefault,$=ep.newBuffer(ep.base64.length(this.typeDefault)),0):ep.utf8.write(this.typeDefault,$=ep.newBuffer(ep.utf8.length(this.typeDefault)),0),this.typeDefault=$}return this.map?this.defaultValue=ep.emptyObject:this.repeated?this.defaultValue=ep.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof ei&&(this.parent.ctor.prototype[this.name]=this.defaultValue),en.prototype.resolve.call(this)},Field.d=function($,ee,er,ei){return"function"==typeof ee?ee=ep.decorateType(ee).name:ee&&"object"==typeof ee&&(ee=ep.decorateEnum(ee).name),function(en,es){ep.decorateType(en.constructor).add(new Field(es,$,ee,er,{default:ei}))}},Field._configure=function($){ei=$}},58484:($,ee,er)=>{"use strict";var ei=$.exports=er(42578);function load($,ee,er){return"function"==typeof ee?(er=ee,ee=new ei.Root):ee||(ee=new ei.Root),ee.load($,er)}function loadSync($,ee){return ee||(ee=new ei.Root),ee.loadSync($)}ei.build="light",ei.load=load,ei.loadSync=loadSync,ei.encoder=er(56035),ei.decoder=er(65777),ei.verifier=er(30054),ei.converter=er(40815),ei.ReflectionObject=er(67928),ei.Namespace=er(45646),ei.Root=er(46862),ei.Enum=er(48871),ei.Type=er(93785),ei.Field=er(34964),ei.OneOf=er(27763),ei.MapField=er(38856),ei.Service=er(17392),ei.Method=er(37474),ei.Message=er(87615),ei.wrappers=er(96704),ei.types=er(38586),ei.util=er(51987),ei.ReflectionObject._configure(ei.Root),ei.Namespace._configure(ei.Type,ei.Service,ei.Enum),ei.Root._configure(ei.Type),ei.Field._configure(ei.Type)},42578:($,ee,er)=>{"use strict";var ei=ee;function configure(){ei.util._configure(),ei.Writer._configure(ei.BufferWriter),ei.Reader._configure(ei.BufferReader)}ei.build="minimal",ei.Writer=er(29946),ei.BufferWriter=er(5632),ei.Reader=er(50225),ei.BufferReader=er(84481),ei.util=er(76467),ei.rpc=er(9152),ei.roots=er(14447),ei.configure=configure,configure()},20052:($,ee,er)=>{"use strict";var ei=$.exports=er(58484);ei.build="full",ei.tokenize=er(63929),ei.parse=er(27878),ei.common=er(34809),ei.Root._configure(ei.Type,ei.parse,ei.common)},38856:($,ee,er)=>{"use strict";$.exports=MapField;var ei=er(34964);((MapField.prototype=Object.create(ei.prototype)).constructor=MapField).className="MapField";var en=er(38586),es=er(51987);function MapField($,ee,er,en,eo,ep){if(ei.call(this,$,ee,en,void 0,void 0,eo,ep),!es.isString(er))throw TypeError("keyType must be a string");this.keyType=er,this.resolvedKeyType=null,this.map=!0}MapField.fromJSON=function($,ee){return new MapField($,ee.id,ee.keyType,ee.type,ee.options,ee.comment)},MapField.prototype.toJSON=function($){var ee=!!$&&!!$.keepComments;return es.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",ee?this.comment:void 0])},MapField.prototype.resolve=function(){if(this.resolved)return this;if(void 0===en.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return ei.prototype.resolve.call(this)},MapField.d=function($,ee,er){return"function"==typeof er?er=es.decorateType(er).name:er&&"object"==typeof er&&(er=es.decorateEnum(er).name),function(ei,en){es.decorateType(ei.constructor).add(new MapField(en,$,ee,er))}}},87615:($,ee,er)=>{"use strict";$.exports=Message;var ei=er(76467);function Message($){if($)for(var ee=Object.keys($),er=0;er<ee.length;++er)this[ee[er]]=$[ee[er]]}Message.create=function($){return this.$type.create($)},Message.encode=function($,ee){return this.$type.encode($,ee)},Message.encodeDelimited=function($,ee){return this.$type.encodeDelimited($,ee)},Message.decode=function($){return this.$type.decode($)},Message.decodeDelimited=function($){return this.$type.decodeDelimited($)},Message.verify=function($){return this.$type.verify($)},Message.fromObject=function($){return this.$type.fromObject($)},Message.toObject=function($,ee){return this.$type.toObject($,ee)},Message.prototype.toJSON=function(){return this.$type.toObject(this,ei.toJSONOptions)}},37474:($,ee,er)=>{"use strict";$.exports=Method;var ei=er(67928);((Method.prototype=Object.create(ei.prototype)).constructor=Method).className="Method";var en=er(51987);function Method($,ee,er,es,eo,ep,eu,eh,em){if(en.isObject(eo)?(eu=eo,eo=ep=void 0):en.isObject(ep)&&(eu=ep,ep=void 0),!(void 0===ee||en.isString(ee)))throw TypeError("type must be a string");if(!en.isString(er))throw TypeError("requestType must be a string");if(!en.isString(es))throw TypeError("responseType must be a string");ei.call(this,$,eu),this.type=ee||"rpc",this.requestType=er,this.requestStream=!!eo||void 0,this.responseType=es,this.responseStream=!!ep||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=eh,this.parsedOptions=em}Method.fromJSON=function($,ee){return new Method($,ee.type,ee.requestType,ee.responseType,ee.requestStream,ee.responseStream,ee.options,ee.comment,ee.parsedOptions)},Method.prototype.toJSON=function($){var ee=!!$&&!!$.keepComments;return en.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",ee?this.comment:void 0,"parsedOptions",this.parsedOptions])},Method.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),ei.prototype.resolve.call(this))}},45646:($,ee,er)=>{"use strict";$.exports=Namespace;var ei,en,es,eo=er(67928);((Namespace.prototype=Object.create(eo.prototype)).constructor=Namespace).className="Namespace";var ep=er(34964),eu=er(51987),eh=er(27763);function arrayToJSON($,ee){if($&&$.length){for(var er={},ei=0;ei<$.length;++ei)er[$[ei].name]=$[ei].toJSON(ee);return er}}function Namespace($,ee){eo.call(this,$,ee),this.nested=void 0,this._nestedArray=null}function clearCache($){return $._nestedArray=null,$}Namespace.fromJSON=function($,ee){return new Namespace($,ee.options).addJSON(ee.nested)},Namespace.arrayToJSON=arrayToJSON,Namespace.isReservedId=function($,ee){if($){for(var er=0;er<$.length;++er)if("string"!=typeof $[er]&&$[er][0]<=ee&&$[er][1]>ee)return!0}return!1},Namespace.isReservedName=function($,ee){if($){for(var er=0;er<$.length;++er)if($[er]===ee)return!0}return!1},Object.defineProperty(Namespace.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=eu.toArray(this.nested))}}),Namespace.prototype.toJSON=function($){return eu.toObject(["options",this.options,"nested",arrayToJSON(this.nestedArray,$)])},Namespace.prototype.addJSON=function($){var ee=this;if($)for(var er,eo=Object.keys($),eu=0;eu<eo.length;++eu)er=$[eo[eu]],ee.add((void 0!==er.fields?ei.fromJSON:void 0!==er.values?es.fromJSON:void 0!==er.methods?en.fromJSON:void 0!==er.id?ep.fromJSON:Namespace.fromJSON)(eo[eu],er));return this},Namespace.prototype.get=function($){return this.nested&&this.nested[$]||null},Namespace.prototype.getEnum=function($){if(this.nested&&this.nested[$]instanceof es)return this.nested[$].values;throw Error("no such enum: "+$)},Namespace.prototype.add=function($){if(!($ instanceof ep&&void 0!==$.extend||$ instanceof ei||$ instanceof eh||$ instanceof es||$ instanceof en||$ instanceof Namespace))throw TypeError("object must be a valid nested object");if(this.nested){var ee=this.get($.name);if(ee){if(ee instanceof Namespace&&$ instanceof Namespace&&!(ee instanceof ei||ee instanceof en)){for(var er=ee.nestedArray,eo=0;eo<er.length;++eo)$.add(er[eo]);this.remove(ee),this.nested||(this.nested={}),$.setOptions(ee.options,!0)}else throw Error("duplicate name '"+$.name+"' in "+this)}}else this.nested={};return this.nested[$.name]=$,$.onAdd(this),clearCache(this)},Namespace.prototype.remove=function($){if(!($ instanceof eo))throw TypeError("object must be a ReflectionObject");if($.parent!==this)throw Error($+" is not a member of "+this);return delete this.nested[$.name],Object.keys(this.nested).length||(this.nested=void 0),$.onRemove(this),clearCache(this)},Namespace.prototype.define=function($,ee){if(eu.isString($))$=$.split(".");else if(!Array.isArray($))throw TypeError("illegal path");if($&&$.length&&""===$[0])throw Error("path must be relative");for(var er=this;$.length>0;){var ei=$.shift();if(er.nested&&er.nested[ei]){if(!((er=er.nested[ei])instanceof Namespace))throw Error("path conflicts with non-namespace objects")}else er.add(er=new Namespace(ei))}return ee&&er.addJSON(ee),er},Namespace.prototype.resolveAll=function(){for(var $=this.nestedArray,ee=0;ee<$.length;)$[ee]instanceof Namespace?$[ee++].resolveAll():$[ee++].resolve();return this.resolve()},Namespace.prototype.lookup=function($,ee,er){if("boolean"==typeof ee?(er=ee,ee=void 0):ee&&!Array.isArray(ee)&&(ee=[ee]),eu.isString($)&&$.length){if("."===$)return this.root;$=$.split(".")}else if(!$.length)return this;if(""===$[0])return this.root.lookup($.slice(1),ee);var ei=this.get($[0]);if(ei){if(1===$.length){if(!ee||ee.indexOf(ei.constructor)>-1)return ei}else if(ei instanceof Namespace&&(ei=ei.lookup($.slice(1),ee,!0)))return ei}else for(var en=0;en<this.nestedArray.length;++en)if(this._nestedArray[en]instanceof Namespace&&(ei=this._nestedArray[en].lookup($,ee,!0)))return ei;return null===this.parent||er?null:this.parent.lookup($,ee)},Namespace.prototype.lookupType=function($){var ee=this.lookup($,[ei]);if(!ee)throw Error("no such type: "+$);return ee},Namespace.prototype.lookupEnum=function($){var ee=this.lookup($,[es]);if(!ee)throw Error("no such Enum '"+$+"' in "+this);return ee},Namespace.prototype.lookupTypeOrEnum=function($){var ee=this.lookup($,[ei,es]);if(!ee)throw Error("no such Type or Enum '"+$+"' in "+this);return ee},Namespace.prototype.lookupService=function($){var ee=this.lookup($,[en]);if(!ee)throw Error("no such Service '"+$+"' in "+this);return ee},Namespace._configure=function($,ee,er){ei=$,en=ee,es=er}},67928:($,ee,er)=>{"use strict";$.exports=ReflectionObject,ReflectionObject.className="ReflectionObject";var ei,en=er(51987);function ReflectionObject($,ee){if(!en.isString($))throw TypeError("name must be a string");if(ee&&!en.isObject(ee))throw TypeError("options must be an object");this.options=ee,this.parsedOptions=null,this.name=$,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(ReflectionObject.prototype,{root:{get:function(){for(var $=this;null!==$.parent;)$=$.parent;return $}},fullName:{get:function(){for(var $=[this.name],ee=this.parent;ee;)$.unshift(ee.name),ee=ee.parent;return $.join(".")}}}),ReflectionObject.prototype.toJSON=function(){throw Error()},ReflectionObject.prototype.onAdd=function($){this.parent&&this.parent!==$&&this.parent.remove(this),this.parent=$,this.resolved=!1;var ee=$.root;ee instanceof ei&&ee._handleAdd(this)},ReflectionObject.prototype.onRemove=function($){var ee=$.root;ee instanceof ei&&ee._handleRemove(this),this.parent=null,this.resolved=!1},ReflectionObject.prototype.resolve=function(){return this.resolved||this.root instanceof ei&&(this.resolved=!0),this},ReflectionObject.prototype.getOption=function($){if(this.options)return this.options[$]},ReflectionObject.prototype.setOption=function($,ee,er){return er&&this.options&&void 0!==this.options[$]||((this.options||(this.options={}))[$]=ee),this},ReflectionObject.prototype.setParsedOption=function($,ee,er){this.parsedOptions||(this.parsedOptions=[]);var ei=this.parsedOptions;if(er){var es=ei.find(function(ee){return Object.prototype.hasOwnProperty.call(ee,$)});if(es){var eo=es[$];en.setProperty(eo,er,ee)}else(es={})[$]=en.setProperty({},er,ee),ei.push(es)}else{var ep={};ep[$]=ee,ei.push(ep)}return this},ReflectionObject.prototype.setOptions=function($,ee){if($)for(var er=Object.keys($),ei=0;ei<er.length;++ei)this.setOption(er[ei],$[er[ei]],ee);return this},ReflectionObject.prototype.toString=function(){var $=this.constructor.className,ee=this.fullName;return ee.length?$+" "+ee:$},ReflectionObject._configure=function($){ei=$}},27763:($,ee,er)=>{"use strict";$.exports=OneOf;var ei=er(67928);((OneOf.prototype=Object.create(ei.prototype)).constructor=OneOf).className="OneOf";var en=er(34964),es=er(51987);function OneOf($,ee,er,en){if(Array.isArray(ee)||(er=ee,ee=void 0),ei.call(this,$,er),!(void 0===ee||Array.isArray(ee)))throw TypeError("fieldNames must be an Array");this.oneof=ee||[],this.fieldsArray=[],this.comment=en}function addFieldsToParent($){if($.parent)for(var ee=0;ee<$.fieldsArray.length;++ee)$.fieldsArray[ee].parent||$.parent.add($.fieldsArray[ee])}OneOf.fromJSON=function($,ee){return new OneOf($,ee.oneof,ee.options,ee.comment)},OneOf.prototype.toJSON=function($){var ee=!!$&&!!$.keepComments;return es.toObject(["options",this.options,"oneof",this.oneof,"comment",ee?this.comment:void 0])},OneOf.prototype.add=function($){if(!($ instanceof en))throw TypeError("field must be a Field");return $.parent&&$.parent!==this.parent&&$.parent.remove($),this.oneof.push($.name),this.fieldsArray.push($),$.partOf=this,addFieldsToParent(this),this},OneOf.prototype.remove=function($){if(!($ instanceof en))throw TypeError("field must be a Field");var ee=this.fieldsArray.indexOf($);if(ee<0)throw Error($+" is not a member of "+this);return this.fieldsArray.splice(ee,1),(ee=this.oneof.indexOf($.name))>-1&&this.oneof.splice(ee,1),$.partOf=null,this},OneOf.prototype.onAdd=function($){ei.prototype.onAdd.call(this,$);for(var ee=this,er=0;er<this.oneof.length;++er){var en=$.get(this.oneof[er]);en&&!en.partOf&&(en.partOf=ee,ee.fieldsArray.push(en))}addFieldsToParent(this)},OneOf.prototype.onRemove=function($){for(var ee,er=0;er<this.fieldsArray.length;++er)(ee=this.fieldsArray[er]).parent&&ee.parent.remove(ee);ei.prototype.onRemove.call(this,$)},OneOf.d=function(){for(var $=Array(arguments.length),ee=0;ee<arguments.length;)$[ee]=arguments[ee++];return function(ee,er){es.decorateType(ee.constructor).add(new OneOf(er,$)),Object.defineProperty(ee,er,{get:es.oneOfGetter($),set:es.oneOfSetter($)})}}},27878:($,ee,er)=>{"use strict";$.exports=parse,parse.filename=null,parse.defaults={keepCase:!1};var ei=er(63929),en=er(46862),es=er(93785),eo=er(34964),ep=er(38856),eu=er(27763),eh=er(48871),em=er(17392),ef=er(37474),eg=er(38586),ey=er(51987),ev=/^[1-9][0-9]*$/,eS=/^-?[1-9][0-9]*$/,e_=/^0[x][0-9a-fA-F]+$/,ew=/^-?0[x][0-9a-fA-F]+$/,eC=/^0[0-7]+$/,eT=/^-?0[0-7]+$/,eE=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,eI=/^[a-zA-Z_][a-zA-Z_0-9]*$/,eD=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,eR=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function parse($,ee,er){ee instanceof en||(er=ee,ee=new en),er||(er=parse.defaults);var eP,eN,eA,ek,eO,eM=er.preferTrailingComment||!1,eF=ei($,er.alternateCommentMode||!1),eL=eF.next,eB=eF.push,eV=eF.peek,eU=eF.skip,ej=eF.cmnt,eq=!0,ez=!1,eW=ee,eH=er.keepCase?function($){return $}:ey.camelCase;function illegal($,ee,er){var ei=parse.filename;return er||(parse.filename=null),Error("illegal "+(ee||"token")+" '"+$+"' ("+(ei?ei+", ":"")+"line "+eF.line+")")}function readString(){var $,ee=[];do{if('"'!==($=eL())&&"'"!==$)throw illegal($);ee.push(eL()),eU($),$=eV()}while('"'===$||"'"===$);return ee.join("")}function readValue($){var ee=eL();switch(ee){case"'":case'"':return eB(ee),readString();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return parseNumber(ee,!0)}catch(er){if($&&eD.test(ee))return ee;throw illegal(ee,"value")}}function readRanges($,ee){var er,ei;do ee&&('"'===(er=eV())||"'"===er)?$.push(readString()):$.push([ei=parseId(eL()),eU("to",!0)?parseId(eL()):ei]);while(eU(",",!0));eU(";")}function parseNumber($,ee){var er=1;switch("-"===$.charAt(0)&&(er=-1,$=$.substring(1)),$){case"inf":case"INF":case"Inf":return er*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(ev.test($))return er*parseInt($,10);if(e_.test($))return er*parseInt($,16);if(eC.test($))return er*parseInt($,8);if(eE.test($))return er*parseFloat($);throw illegal($,"number",ee)}function parseId($,ee){switch($){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!ee&&"-"===$.charAt(0))throw illegal($,"id");if(eS.test($))return parseInt($,10);if(ew.test($))return parseInt($,16);if(eT.test($))return parseInt($,8);throw illegal($,"id")}function parsePackage(){if(void 0!==eN)throw illegal("package");if(eN=eL(),!eD.test(eN))throw illegal(eN,"name");eW=eW.define(eN),eU(";")}function parseImport(){var $,ee=eV();switch(ee){case"weak":$=ek||(ek=[]),eL();break;case"public":eL();default:$=eA||(eA=[])}ee=readString(),eU(";"),$.push(ee)}function parseSyntax(){if(eU("="),!(ez="proto3"===(eO=readString()))&&"proto2"!==eO)throw illegal(eO,"syntax");eU(";")}function parseCommon($,ee){switch(ee){case"option":return parseOption($,ee),eU(";"),!0;case"message":return parseType($,ee),!0;case"enum":return parseEnum($,ee),!0;case"service":return parseService($,ee),!0;case"extend":return parseExtension($,ee),!0}return!1}function ifBlock($,ee,er){var ei,en=eF.line;if($&&("string"!=typeof $.comment&&($.comment=ej()),$.filename=parse.filename),eU("{",!0)){for(;"}"!==(ei=eL());)ee(ei);eU(";",!0)}else er&&er(),eU(";"),$&&("string"!=typeof $.comment||eM)&&($.comment=ej(en)||$.comment)}function parseType($,ee){if(!eI.test(ee=eL()))throw illegal(ee,"type name");var er=new es(ee);ifBlock(er,function($){if(!parseCommon(er,$))switch($){case"map":parseMapField(er,$);break;case"required":case"repeated":parseField(er,$);break;case"optional":ez?parseField(er,"proto3_optional"):parseField(er,"optional");break;case"oneof":parseOneOf(er,$);break;case"extensions":readRanges(er.extensions||(er.extensions=[]));break;case"reserved":readRanges(er.reserved||(er.reserved=[]),!0);break;default:if(!ez||!eD.test($))throw illegal($);eB($),parseField(er,"optional")}}),$.add(er)}function parseField($,ee,er){var ei=eL();if("group"===ei){parseGroup($,ee);return}for(;ei.endsWith(".")||eV().startsWith(".");)ei+=eL();if(!eD.test(ei))throw illegal(ei,"type");var en=eL();if(!eI.test(en))throw illegal(en,"name");en=eH(en),eU("=");var es=new eo(en,parseId(eL()),ei,ee,er);if(ifBlock(es,function($){if("option"===$)parseOption(es,$),eU(";");else throw illegal($)},function(){parseInlineOptions(es)}),"proto3_optional"===ee){var ep=new eu("_"+en);es.setOption("proto3_optional",!0),ep.add(es),$.add(ep)}else $.add(es);!ez&&es.repeated&&(void 0!==eg.packed[ei]||void 0===eg.basic[ei])&&es.setOption("packed",!1,!0)}function parseGroup($,ee){var er=eL();if(!eI.test(er))throw illegal(er,"name");var ei=ey.lcFirst(er);er===ei&&(er=ey.ucFirst(er)),eU("=");var en=parseId(eL()),ep=new es(er);ep.group=!0;var eu=new eo(ei,en,er,ee);eu.filename=parse.filename,ifBlock(ep,function($){switch($){case"option":parseOption(ep,$),eU(";");break;case"required":case"repeated":parseField(ep,$);break;case"optional":ez?parseField(ep,"proto3_optional"):parseField(ep,"optional");break;case"message":parseType(ep,$);break;case"enum":parseEnum(ep,$);break;default:throw illegal($)}}),$.add(ep).add(eu)}function parseMapField($){eU("<");var ee=eL();if(void 0===eg.mapKey[ee])throw illegal(ee,"type");eU(",");var er=eL();if(!eD.test(er))throw illegal(er,"type");eU(">");var ei=eL();if(!eI.test(ei))throw illegal(ei,"name");eU("=");var en=new ep(eH(ei),parseId(eL()),ee,er);ifBlock(en,function($){if("option"===$)parseOption(en,$),eU(";");else throw illegal($)},function(){parseInlineOptions(en)}),$.add(en)}function parseOneOf($,ee){if(!eI.test(ee=eL()))throw illegal(ee,"name");var er=new eu(eH(ee));ifBlock(er,function($){"option"===$?(parseOption(er,$),eU(";")):(eB($),parseField(er,"optional"))}),$.add(er)}function parseEnum($,ee){if(!eI.test(ee=eL()))throw illegal(ee,"name");var er=new eh(ee);ifBlock(er,function($){switch($){case"option":parseOption(er,$),eU(";");break;case"reserved":readRanges(er.reserved||(er.reserved=[]),!0);break;default:parseEnumValue(er,$)}}),$.add(er)}function parseEnumValue($,ee){if(!eI.test(ee))throw illegal(ee,"name");eU("=");var er=parseId(eL(),!0),ei={options:void 0};ei.setOption=function($,ee){void 0===this.options&&(this.options={}),this.options[$]=ee},ifBlock(ei,function($){if("option"===$)parseOption(ei,$),eU(";");else throw illegal($)},function(){parseInlineOptions(ei)}),$.add(ee,er,ei.comment,ei.options)}function parseOption($,ee){var er,ei=eU("(",!0);if(!eD.test(ee=eL()))throw illegal(ee,"name");var en=ee,es=en;ei&&(eU(")"),es=en="("+en+")",ee=eV(),eR.test(ee)&&(er=ee.slice(1),en+=ee,eL())),eU("=");var eo=parseOptionValue($,en);setParsedOption($,es,eo,er)}function parseOptionValue($,ee){if(eU("{",!0)){for(var er={};!eU("}",!0);){if(!eI.test(eP=eL()))throw illegal(eP,"name");if(null===eP)throw illegal(eP,"end of input");var ei,en,es=eP;if(eU(":",!0),"{"===eV())ei=parseOptionValue($,ee+"."+eP);else if("["===eV()){if(ei=[],eU("[",!0)){do en=readValue(!0),ei.push(en);while(eU(",",!0));eU("]"),void 0!==en&&setOption($,ee+"."+eP,en)}}else ei=readValue(!0),setOption($,ee+"."+eP,ei);var eo=er[es];eo&&(ei=[].concat(eo).concat(ei)),er[es]=ei,eU(",",!0),eU(";",!0)}return er}var ep=readValue(!0);return setOption($,ee,ep),ep}function setOption($,ee,er){$.setOption&&$.setOption(ee,er)}function setParsedOption($,ee,er,ei){$.setParsedOption&&$.setParsedOption(ee,er,ei)}function parseInlineOptions($){if(eU("[",!0)){do parseOption($,"option");while(eU(",",!0));eU("]")}return $}function parseService($,ee){if(!eI.test(ee=eL()))throw illegal(ee,"service name");var er=new em(ee);ifBlock(er,function($){if(!parseCommon(er,$)){if("rpc"===$)parseMethod(er,$);else throw illegal($)}}),$.add(er)}function parseMethod($,ee){var er=ej(),ei=ee;if(!eI.test(ee=eL()))throw illegal(ee,"name");var en,es,eo,ep,eu=ee;if(eU("("),eU("stream",!0)&&(es=!0),!eD.test(ee=eL())||(en=ee,eU(")"),eU("returns"),eU("("),eU("stream",!0)&&(ep=!0),!eD.test(ee=eL())))throw illegal(ee);eo=ee,eU(")");var eh=new ef(eu,ei,en,eo,es,ep);eh.comment=er,ifBlock(eh,function($){if("option"===$)parseOption(eh,$),eU(";");else throw illegal($)}),$.add(eh)}function parseExtension($,ee){if(!eD.test(ee=eL()))throw illegal(ee,"reference");var er=ee;ifBlock(null,function(ee){switch(ee){case"required":case"repeated":parseField($,ee,er);break;case"optional":ez?parseField($,"proto3_optional",er):parseField($,"optional",er);break;default:if(!ez||!eD.test(ee))throw illegal(ee);eB(ee),parseField($,"optional",er)}})}for(;null!==(eP=eL());)switch(eP){case"package":if(!eq)throw illegal(eP);parsePackage();break;case"import":if(!eq)throw illegal(eP);parseImport();break;case"syntax":if(!eq)throw illegal(eP);parseSyntax();break;case"option":parseOption(eW,eP),eU(";");break;default:if(parseCommon(eW,eP)){eq=!1;continue}throw illegal(eP)}return parse.filename=null,{package:eN,imports:eA,weakImports:ek,syntax:eO,root:ee}}},50225:($,ee,er)=>{"use strict";$.exports=Reader;var ei,en=er(76467),es=en.LongBits,eo=en.utf8;function indexOutOfRange($,ee){return RangeError("index out of range: "+$.pos+" + "+(ee||1)+" > "+$.len)}function Reader($){this.buf=$,this.pos=0,this.len=$.length}var ep="undefined"!=typeof Uint8Array?function($){if($ instanceof Uint8Array||Array.isArray($))return new Reader($);throw Error("illegal buffer")}:function($){if(Array.isArray($))return new Reader($);throw Error("illegal buffer")},create=function(){return en.Buffer?function($){return(Reader.create=function($){return en.Buffer.isBuffer($)?new ei($):ep($)})($)}:ep};function readLongVarint(){var $=new es(0,0),ee=0;if(this.len-this.pos>4){for(;ee<4;++ee)if($.lo=($.lo|(127&this.buf[this.pos])<<7*ee)>>>0,this.buf[this.pos++]<128)return $;if($.lo=($.lo|(127&this.buf[this.pos])<<28)>>>0,$.hi=($.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return $;ee=0}else{for(;ee<3;++ee){if(this.pos>=this.len)throw indexOutOfRange(this);if($.lo=($.lo|(127&this.buf[this.pos])<<7*ee)>>>0,this.buf[this.pos++]<128)return $}return $.lo=($.lo|(127&this.buf[this.pos++])<<7*ee)>>>0,$}if(this.len-this.pos>4){for(;ee<5;++ee)if($.hi=($.hi|(127&this.buf[this.pos])<<7*ee+3)>>>0,this.buf[this.pos++]<128)return $}else for(;ee<5;++ee){if(this.pos>=this.len)throw indexOutOfRange(this);if($.hi=($.hi|(127&this.buf[this.pos])<<7*ee+3)>>>0,this.buf[this.pos++]<128)return $}throw Error("invalid varint encoding")}function readFixed32_end($,ee){return($[ee-4]|$[ee-3]<<8|$[ee-2]<<16|$[ee-1]<<24)>>>0}function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new es(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader.create=create(),Reader.prototype._slice=en.Array.prototype.subarray||en.Array.prototype.slice,Reader.prototype.uint32=function(){var $=4294967295;return function(){if($=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||($=($|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||($=($|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||($=($|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||($=($|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return $;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return $}}(),Reader.prototype.int32=function(){return 0|this.uint32()},Reader.prototype.sint32=function(){var $=this.uint32();return $>>>1^-(1&$)|0},Reader.prototype.bool=function(){return 0!==this.uint32()},Reader.prototype.fixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader.prototype.sfixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return 0|readFixed32_end(this.buf,this.pos+=4)},Reader.prototype.float=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var $=en.float.readFloatLE(this.buf,this.pos);return this.pos+=4,$},Reader.prototype.double=function(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var $=en.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,$},Reader.prototype.bytes=function(){var $=this.uint32(),ee=this.pos,er=this.pos+$;if(er>this.len)throw indexOutOfRange(this,$);if(this.pos+=$,Array.isArray(this.buf))return this.buf.slice(ee,er);if(ee===er){var ei=en.Buffer;return ei?ei.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,ee,er)},Reader.prototype.string=function(){var $=this.bytes();return eo.read($,0,$.length)},Reader.prototype.skip=function($){if("number"==typeof $){if(this.pos+$>this.len)throw indexOutOfRange(this,$);this.pos+=$}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(128&this.buf[this.pos++]);return this},Reader.prototype.skipType=function($){switch($){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=($=7&this.uint32());)this.skipType($);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+$+" at offset "+this.pos)}return this},Reader._configure=function($){ei=$,Reader.create=create(),ei._configure();var ee=en.Long?"toLong":"toNumber";en.merge(Reader.prototype,{int64:function(){return readLongVarint.call(this)[ee](!1)},uint64:function(){return readLongVarint.call(this)[ee](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[ee](!1)},fixed64:function(){return readFixed64.call(this)[ee](!0)},sfixed64:function(){return readFixed64.call(this)[ee](!1)}})}},84481:($,ee,er)=>{"use strict";$.exports=BufferReader;var ei=er(50225);(BufferReader.prototype=Object.create(ei.prototype)).constructor=BufferReader;var en=er(76467);function BufferReader($){ei.call(this,$)}BufferReader._configure=function(){en.Buffer&&(BufferReader.prototype._slice=en.Buffer.prototype.slice)},BufferReader.prototype.string=function(){var $=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+$,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+$,this.len))},BufferReader._configure()},46862:($,ee,er)=>{"use strict";$.exports=Root;var ei,en,es,eo=er(45646);((Root.prototype=Object.create(eo.prototype)).constructor=Root).className="Root";var ep=er(34964),eu=er(48871),eh=er(27763),em=er(51987);function Root($){eo.call(this,"",$),this.deferred=[],this.files=[]}function SYNC(){}Root.fromJSON=function($,ee){return ee||(ee=new Root),$.options&&ee.setOptions($.options),ee.addJSON($.nested)},Root.prototype.resolvePath=em.path.resolve,Root.prototype.fetch=em.fetch,Root.prototype.load=function load($,ee,er){"function"==typeof ee&&(er=ee,ee=void 0);var ei=this;if(!er)return em.asPromise(load,ei,$,ee);var eo=er===SYNC;function finish($,ee){if(er){var ei=er;if(er=null,eo)throw $;ei($,ee)}}function getBundledFileName($){var ee=$.lastIndexOf("google/protobuf/");if(ee>-1){var er=$.substring(ee);if(er in es)return er}return null}function process($,er){try{if(em.isString(er)&&"{"===er.charAt(0)&&(er=JSON.parse(er)),em.isString(er)){en.filename=$;var es,eu=en(er,ei,ee),eh=0;if(eu.imports)for(;eh<eu.imports.length;++eh)(es=getBundledFileName(eu.imports[eh])||ei.resolvePath($,eu.imports[eh]))&&fetch(es);if(eu.weakImports)for(eh=0;eh<eu.weakImports.length;++eh)(es=getBundledFileName(eu.weakImports[eh])||ei.resolvePath($,eu.weakImports[eh]))&&fetch(es,!0)}else ei.setOptions(er.options).addJSON(er.nested)}catch($){finish($)}eo||ep||finish(null,ei)}function fetch($,ee){if($=getBundledFileName($)||$,!(ei.files.indexOf($)>-1)){if(ei.files.push($),$ in es){eo?process($,es[$]):(++ep,setTimeout(function(){--ep,process($,es[$])}));return}if(eo){var en;try{en=em.fs.readFileSync($).toString("utf8")}catch($){ee||finish($);return}process($,en)}else++ep,ei.fetch($,function(en,es){if(--ep,er){if(en){ee?ep||finish(null,ei):finish(en);return}process($,es)}})}}var ep=0;em.isString($)&&($=[$]);for(var eu,eh=0;eh<$.length;++eh)(eu=ei.resolvePath("",$[eh]))&&fetch(eu);if(eo)return ei;ep||finish(null,ei)},Root.prototype.loadSync=function($,ee){if(!em.isNode)throw Error("not supported");return this.load($,ee,SYNC)},Root.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function($){return"'extend "+$.extend+"' in "+$.parent.fullName}).join(", "));return eo.prototype.resolveAll.call(this)};var ef=/^[A-Z]/;function tryHandleExtension($,ee){var er=ee.parent.lookup(ee.extend);if(er){var ei=new ep(ee.fullName,ee.id,ee.type,ee.rule,void 0,ee.options);return!!er.get(ei.name)||(ei.declaringField=ee,ee.extensionField=ei,er.add(ei),!0)}return!1}Root.prototype._handleAdd=function($){if($ instanceof ep)void 0===$.extend||$.extensionField||tryHandleExtension(this,$)||this.deferred.push($);else if($ instanceof eu)ef.test($.name)&&($.parent[$.name]=$.values);else if(!($ instanceof eh)){if($ instanceof ei)for(var ee=0;ee<this.deferred.length;)tryHandleExtension(this,this.deferred[ee])?this.deferred.splice(ee,1):++ee;for(var er=0;er<$.nestedArray.length;++er)this._handleAdd($._nestedArray[er]);ef.test($.name)&&($.parent[$.name]=$)}},Root.prototype._handleRemove=function($){if($ instanceof ep){if(void 0!==$.extend){if($.extensionField)$.extensionField.parent.remove($.extensionField),$.extensionField=null;else{var ee=this.deferred.indexOf($);ee>-1&&this.deferred.splice(ee,1)}}}else if($ instanceof eu)ef.test($.name)&&delete $.parent[$.name];else if($ instanceof eo){for(var er=0;er<$.nestedArray.length;++er)this._handleRemove($._nestedArray[er]);ef.test($.name)&&delete $.parent[$.name]}},Root._configure=function($,ee,er){ei=$,en=ee,es=er}},14447:$=>{"use strict";$.exports={}},9152:($,ee,er)=>{"use strict";ee.Service=er(30132)},30132:($,ee,er)=>{"use strict";$.exports=Service;var ei=er(76467);function Service($,ee,er){if("function"!=typeof $)throw TypeError("rpcImpl must be a function");ei.EventEmitter.call(this),this.rpcImpl=$,this.requestDelimited=!!ee,this.responseDelimited=!!er}(Service.prototype=Object.create(ei.EventEmitter.prototype)).constructor=Service,Service.prototype.rpcCall=function rpcCall($,ee,er,en,es){if(!en)throw TypeError("request must be specified");var eo=this;if(!es)return ei.asPromise(rpcCall,eo,$,ee,er,en);if(!eo.rpcImpl){setTimeout(function(){es(Error("already ended"))},0);return}try{return eo.rpcImpl($,ee[eo.requestDelimited?"encodeDelimited":"encode"](en).finish(),function(ee,ei){if(ee)return eo.emit("error",ee,$),es(ee);if(null===ei){eo.end(!0);return}if(!(ei instanceof er))try{ei=er[eo.responseDelimited?"decodeDelimited":"decode"](ei)}catch(ee){return eo.emit("error",ee,$),es(ee)}return eo.emit("data",ei,$),es(null,ei)})}catch(ee){eo.emit("error",ee,$),setTimeout(function(){es(ee)},0);return}},Service.prototype.end=function($){return this.rpcImpl&&($||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},17392:($,ee,er)=>{"use strict";$.exports=Service;var ei=er(45646);((Service.prototype=Object.create(ei.prototype)).constructor=Service).className="Service";var en=er(37474),es=er(51987),eo=er(9152);function Service($,ee){ei.call(this,$,ee),this.methods={},this._methodsArray=null}function clearCache($){return $._methodsArray=null,$}Service.fromJSON=function($,ee){var er=new Service($,ee.options);if(ee.methods)for(var ei=Object.keys(ee.methods),es=0;es<ei.length;++es)er.add(en.fromJSON(ei[es],ee.methods[ei[es]]));return ee.nested&&er.addJSON(ee.nested),er.comment=ee.comment,er},Service.prototype.toJSON=function($){var ee=ei.prototype.toJSON.call(this,$),er=!!$&&!!$.keepComments;return es.toObject(["options",ee&&ee.options||void 0,"methods",ei.arrayToJSON(this.methodsArray,$)||{},"nested",ee&&ee.nested||void 0,"comment",er?this.comment:void 0])},Object.defineProperty(Service.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=es.toArray(this.methods))}}),Service.prototype.get=function($){return this.methods[$]||ei.prototype.get.call(this,$)},Service.prototype.resolveAll=function(){for(var $=this.methodsArray,ee=0;ee<$.length;++ee)$[ee].resolve();return ei.prototype.resolve.call(this)},Service.prototype.add=function($){if(this.get($.name))throw Error("duplicate name '"+$.name+"' in "+this);return $ instanceof en?(this.methods[$.name]=$,$.parent=this,clearCache(this)):ei.prototype.add.call(this,$)},Service.prototype.remove=function($){if($ instanceof en){if(this.methods[$.name]!==$)throw Error($+" is not a member of "+this);return delete this.methods[$.name],$.parent=null,clearCache(this)}return ei.prototype.remove.call(this,$)},Service.prototype.create=function($,ee,er){for(var ei,en=new eo.Service($,ee,er),ep=0;ep<this.methodsArray.length;++ep){var eu=es.lcFirst((ei=this._methodsArray[ep]).resolve().name).replace(/[^$\w_]/g,"");en[eu]=es.codegen(["r","c"],es.isReserved(eu)?eu+"_":eu)("return this.rpcCall(m,q,s,r,c)")({m:ei,q:ei.resolvedRequestType.ctor,s:ei.resolvedResponseType.ctor})}return en}},63929:$=>{"use strict";$.exports=tokenize;var ee=/[\s{}=;:[\],'"()<>]/g,er=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,ei=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,en=/^ *[*/]+ */,es=/^\s*\*?\/*/,eo=/\n/g,ep=/\s/,eu=/\\(.?)/g,eh={0:"\x00",r:"\r",n:"\n",t:"	"};function unescape($){return $.replace(eu,function($,ee){switch(ee){case"\\":case"":return ee;default:return eh[ee]||""}})}function tokenize($,eu){$=$.toString();var eh=0,em=$.length,ef=1,eg=0,ey={},ev=[],eS=null;function illegal($){return Error("illegal "+$+" (line "+ef+")")}function readString(){var ee="'"===eS?ei:er;ee.lastIndex=eh-1;var en=ee.exec($);if(!en)throw illegal("string");return eh=ee.lastIndex,push(eS),eS=null,unescape(en[1])}function charAt(ee){return $.charAt(ee)}function setComment(ee,er,ei){var ep,eh,em={type:$.charAt(ee++),lineEmpty:!1,leading:ei},ev=ee-(ep=eu?2:3);do if(--ev<0||"\n"===(eh=$.charAt(ev))){em.lineEmpty=!0;break}while(" "===eh||"	"===eh);for(var eS=$.substring(ee,er).split(eo),e_=0;e_<eS.length;++e_)eS[e_]=eS[e_].replace(eu?es:en,"").trim();em.text=eS.join("\n").trim(),ey[ef]=em,eg=ef}function isDoubleSlashCommentLine(ee){var er=findEndOfLine(ee),ei=$.substring(ee,er);return/^\s*\/\//.test(ei)}function findEndOfLine($){for(var ee=$;ee<em&&"\n"!==charAt(ee);)ee++;return ee}function next(){if(ev.length>0)return ev.shift();if(eS)return readString();var er,ei,en,es,eo,eg=0===eh;do{if(eh===em)return null;for(er=!1;ep.test(en=charAt(eh));)if("\n"===en&&(eg=!0,++ef),++eh===em)return null;if("/"===charAt(eh)){if(++eh===em)throw illegal("comment");if("/"===charAt(eh)){if(eu){if(es=eh,eo=!1,isDoubleSlashCommentLine(eh-1)){eo=!0;do if((eh=findEndOfLine(eh))===em||(eh++,!eg))break;while(isDoubleSlashCommentLine(eh))}else eh=Math.min(em,findEndOfLine(eh)+1);eo&&(setComment(es,eh,eg),eg=!0),ef++,er=!0}else{for(eo="/"===charAt(es=eh+1);"\n"!==charAt(++eh);)if(eh===em)return null;++eh,eo&&(setComment(es,eh-1,eg),eg=!0),++ef,er=!0}}else{if("*"!==(en=charAt(eh)))return"/";es=eh+1,eo=eu||"*"===charAt(es);do{if("\n"===en&&++ef,++eh===em)throw illegal("comment");ei=en,en=charAt(eh)}while("*"!==ei||"/"!==en);++eh,eo&&(setComment(es,eh-2,eg),eg=!0),er=!0}}}while(er);var ey=eh;if(ee.lastIndex=0,!ee.test(charAt(ey++)))for(;ey<em&&!ee.test(charAt(ey));)++ey;var e_=$.substring(eh,eh=ey);return('"'===e_||"'"===e_)&&(eS=e_),e_}function push($){ev.push($)}function peek(){if(!ev.length){var $=next();if(null===$)return null;push($)}return ev[0]}function skip($,ee){var er=peek();if(er===$)return next(),!0;if(!ee)throw illegal("token '"+er+"', '"+$+"' expected");return!1}function cmnt($){var ee,er=null;return void 0===$?(ee=ey[ef-1],delete ey[ef-1],ee&&(eu||"*"===ee.type||ee.lineEmpty)&&(er=ee.leading?ee.text:null)):(eg<$&&peek(),ee=ey[$],delete ey[$],ee&&!ee.lineEmpty&&(eu||"/"===ee.type)&&(er=ee.leading?null:ee.text)),er}return Object.defineProperty({next:next,peek:peek,push:push,skip:skip,cmnt:cmnt},"line",{get:function(){return ef}})}tokenize.unescape=unescape},93785:($,ee,er)=>{"use strict";$.exports=Type;var ei=er(45646);((Type.prototype=Object.create(ei.prototype)).constructor=Type).className="Type";var en=er(48871),es=er(27763),eo=er(34964),ep=er(38856),eu=er(17392),eh=er(87615),em=er(50225),ef=er(29946),eg=er(51987),ey=er(56035),ev=er(65777),eS=er(30054),e_=er(40815),ew=er(96704);function Type($,ee){ei.call(this,$,ee),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function clearCache($){return $._fieldsById=$._fieldsArray=$._oneofsArray=null,delete $.encode,delete $.decode,delete $.verify,$}Object.defineProperties(Type.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var $=Object.keys(this.fields),ee=0;ee<$.length;++ee){var er=this.fields[$[ee]],ei=er.id;if(this._fieldsById[ei])throw Error("duplicate id "+ei+" in "+this);this._fieldsById[ei]=er}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=eg.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=eg.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=Type.generateConstructor(this)())},set:function($){var ee=$.prototype;ee instanceof eh||(($.prototype=new eh).constructor=$,eg.merge($.prototype,ee)),$.$type=$.prototype.$type=this,eg.merge($,eh,!0),this._ctor=$;for(var er=0;er<this.fieldsArray.length;++er)this._fieldsArray[er].resolve();var ei={};for(er=0;er<this.oneofsArray.length;++er)ei[this._oneofsArray[er].resolve().name]={get:eg.oneOfGetter(this._oneofsArray[er].oneof),set:eg.oneOfSetter(this._oneofsArray[er].oneof)};er&&Object.defineProperties($.prototype,ei)}}}),Type.generateConstructor=function($){for(var ee,er=eg.codegen(["p"],$.name),ei=0;ei<$.fieldsArray.length;++ei)(ee=$._fieldsArray[ei]).map?er("this%s={}",eg.safeProp(ee.name)):ee.repeated&&er("this%s=[]",eg.safeProp(ee.name));return er("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},Type.fromJSON=function($,ee){var er=new Type($,ee.options);er.extensions=ee.extensions,er.reserved=ee.reserved;for(var eh=Object.keys(ee.fields),em=0;em<eh.length;++em)er.add((void 0!==ee.fields[eh[em]].keyType?ep.fromJSON:eo.fromJSON)(eh[em],ee.fields[eh[em]]));if(ee.oneofs)for(eh=Object.keys(ee.oneofs),em=0;em<eh.length;++em)er.add(es.fromJSON(eh[em],ee.oneofs[eh[em]]));if(ee.nested)for(eh=Object.keys(ee.nested),em=0;em<eh.length;++em){var ef=ee.nested[eh[em]];er.add((void 0!==ef.id?eo.fromJSON:void 0!==ef.fields?Type.fromJSON:void 0!==ef.values?en.fromJSON:void 0!==ef.methods?eu.fromJSON:ei.fromJSON)(eh[em],ef))}return ee.extensions&&ee.extensions.length&&(er.extensions=ee.extensions),ee.reserved&&ee.reserved.length&&(er.reserved=ee.reserved),ee.group&&(er.group=!0),ee.comment&&(er.comment=ee.comment),er},Type.prototype.toJSON=function($){var ee=ei.prototype.toJSON.call(this,$),er=!!$&&!!$.keepComments;return eg.toObject(["options",ee&&ee.options||void 0,"oneofs",ei.arrayToJSON(this.oneofsArray,$),"fields",ei.arrayToJSON(this.fieldsArray.filter(function($){return!$.declaringField}),$)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",ee&&ee.nested||void 0,"comment",er?this.comment:void 0])},Type.prototype.resolveAll=function(){for(var $=this.fieldsArray,ee=0;ee<$.length;)$[ee++].resolve();var er=this.oneofsArray;for(ee=0;ee<er.length;)er[ee++].resolve();return ei.prototype.resolveAll.call(this)},Type.prototype.get=function($){return this.fields[$]||this.oneofs&&this.oneofs[$]||this.nested&&this.nested[$]||null},Type.prototype.add=function($){if(this.get($.name))throw Error("duplicate name '"+$.name+"' in "+this);if($ instanceof eo&&void 0===$.extend){if(this._fieldsById?this._fieldsById[$.id]:this.fieldsById[$.id])throw Error("duplicate id "+$.id+" in "+this);if(this.isReservedId($.id))throw Error("id "+$.id+" is reserved in "+this);if(this.isReservedName($.name))throw Error("name '"+$.name+"' is reserved in "+this);return $.parent&&$.parent.remove($),this.fields[$.name]=$,$.message=this,$.onAdd(this),clearCache(this)}return $ instanceof es?(this.oneofs||(this.oneofs={}),this.oneofs[$.name]=$,$.onAdd(this),clearCache(this)):ei.prototype.add.call(this,$)},Type.prototype.remove=function($){if($ instanceof eo&&void 0===$.extend){if(!this.fields||this.fields[$.name]!==$)throw Error($+" is not a member of "+this);return delete this.fields[$.name],$.parent=null,$.onRemove(this),clearCache(this)}if($ instanceof es){if(!this.oneofs||this.oneofs[$.name]!==$)throw Error($+" is not a member of "+this);return delete this.oneofs[$.name],$.parent=null,$.onRemove(this),clearCache(this)}return ei.prototype.remove.call(this,$)},Type.prototype.isReservedId=function($){return ei.isReservedId(this.reserved,$)},Type.prototype.isReservedName=function($){return ei.isReservedName(this.reserved,$)},Type.prototype.create=function($){return new this.ctor($)},Type.prototype.setup=function(){for(var $=this.fullName,ee=[],er=0;er<this.fieldsArray.length;++er)ee.push(this._fieldsArray[er].resolve().resolvedType);this.encode=ey(this)({Writer:ef,types:ee,util:eg}),this.decode=ev(this)({Reader:em,types:ee,util:eg}),this.verify=eS(this)({types:ee,util:eg}),this.fromObject=e_.fromObject(this)({types:ee,util:eg}),this.toObject=e_.toObject(this)({types:ee,util:eg});var ei=ew[$];if(ei){var en=Object.create(this);en.fromObject=this.fromObject,this.fromObject=ei.fromObject.bind(en),en.toObject=this.toObject,this.toObject=ei.toObject.bind(en)}return this},Type.prototype.encode=function($,ee){return this.setup().encode($,ee)},Type.prototype.encodeDelimited=function($,ee){return this.encode($,ee&&ee.len?ee.fork():ee).ldelim()},Type.prototype.decode=function($,ee){return this.setup().decode($,ee)},Type.prototype.decodeDelimited=function($){return $ instanceof em||($=em.create($)),this.decode($,$.uint32())},Type.prototype.verify=function($){return this.setup().verify($)},Type.prototype.fromObject=function($){return this.setup().fromObject($)},Type.prototype.toObject=function($,ee){return this.setup().toObject($,ee)},Type.d=function($){return function(ee){eg.decorateType(ee,$)}}},38586:($,ee,er)=>{"use strict";var ei=ee,en=er(51987),es=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function bake($,ee){var er=0,ei={};for(ee|=0;er<$.length;)ei[es[er+ee]]=$[er++];return ei}ei.basic=bake([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),ei.defaults=bake([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",en.emptyArray,null]),ei.long=bake([0,0,0,1,1],7),ei.mapKey=bake([0,0,0,5,5,0,0,0,1,1,0,2],2),ei.packed=bake([1,5,0,0,0,5,5,0,0,0,1,1,0])},51987:($,ee,er)=>{"use strict";var ei,en,es=$.exports=er(76467),eo=er(14447);es.codegen=er(88445),es.fetch=er(22259),es.path=er(87277),es.fs=es.inquire("fs"),es.toArray=function($){if($){for(var ee=Object.keys($),er=Array(ee.length),ei=0;ei<ee.length;)er[ei]=$[ee[ei++]];return er}return[]},es.toObject=function($){for(var ee={},er=0;er<$.length;){var ei=$[er++],en=$[er++];void 0!==en&&(ee[ei]=en)}return ee};var ep=/\\/g,eu=/"/g;es.isReserved=function($){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test($)},es.safeProp=function($){return!/^[$\w_]+$/.test($)||es.isReserved($)?'["'+$.replace(ep,"\\\\").replace(eu,'\\"')+'"]':"."+$},es.ucFirst=function($){return $.charAt(0).toUpperCase()+$.substring(1)};var eh=/_([a-z])/g;es.camelCase=function($){return $.substring(0,1)+$.substring(1).replace(eh,function($,ee){return ee.toUpperCase()})},es.compareFieldsById=function($,ee){return $.id-ee.id},es.decorateType=function($,ee){if($.$type)return ee&&$.$type.name!==ee&&(es.decorateRoot.remove($.$type),$.$type.name=ee,es.decorateRoot.add($.$type)),$.$type;ei||(ei=er(93785));var en=new ei(ee||$.name);return es.decorateRoot.add(en),en.ctor=$,Object.defineProperty($,"$type",{value:en,enumerable:!1}),Object.defineProperty($.prototype,"$type",{value:en,enumerable:!1}),en};var em=0;es.decorateEnum=function($){if($.$type)return $.$type;en||(en=er(48871));var ee=new en("Enum"+em++,$);return es.decorateRoot.add(ee),Object.defineProperty($,"$type",{value:ee,enumerable:!1}),ee},es.setProperty=function($,ee,er){function setProp($,ee,er){var ei=ee.shift();if("__proto__"===ei||"prototype"===ei)return $;if(ee.length>0)$[ei]=setProp($[ei]||{},ee,er);else{var en=$[ei];en&&(er=[].concat(en).concat(er)),$[ei]=er}return $}if("object"!=typeof $)throw TypeError("dst must be an object");if(!ee)throw TypeError("path must be specified");return setProp($,ee=ee.split("."),er)},Object.defineProperty(es,"decorateRoot",{get:function(){return eo.decorated||(eo.decorated=new(er(46862)))}})},30877:($,ee,er)=>{"use strict";$.exports=LongBits;var ei=er(76467);function LongBits($,ee){this.lo=$>>>0,this.hi=ee>>>0}var en=LongBits.zero=new LongBits(0,0);en.toNumber=function(){return 0},en.zzEncode=en.zzDecode=function(){return this},en.length=function(){return 1};var es=LongBits.zeroHash="\x00\x00\x00\x00\x00\x00\x00\x00";LongBits.fromNumber=function($){if(0===$)return en;var ee=$<0;ee&&($=-$);var er=$>>>0,ei=($-er)/4294967296>>>0;return ee&&(ei=~ei>>>0,er=~er>>>0,++er>4294967295&&(er=0,++ei>4294967295&&(ei=0))),new LongBits(er,ei)},LongBits.from=function($){if("number"==typeof $)return LongBits.fromNumber($);if(ei.isString($)){if(!ei.Long)return LongBits.fromNumber(parseInt($,10));$=ei.Long.fromString($)}return $.low||$.high?new LongBits($.low>>>0,$.high>>>0):en},LongBits.prototype.toNumber=function($){if(!$&&this.hi>>>31){var ee=~this.lo+1>>>0,er=~this.hi>>>0;return ee||(er=er+1>>>0),-(ee+4294967296*er)}return this.lo+4294967296*this.hi},LongBits.prototype.toLong=function($){return ei.Long?new ei.Long(0|this.lo,0|this.hi,!!$):{low:0|this.lo,high:0|this.hi,unsigned:!!$}};var eo=String.prototype.charCodeAt;LongBits.fromHash=function($){return $===es?en:new LongBits((eo.call($,0)|eo.call($,1)<<8|eo.call($,2)<<16|eo.call($,3)<<24)>>>0,(eo.call($,4)|eo.call($,5)<<8|eo.call($,6)<<16|eo.call($,7)<<24)>>>0)},LongBits.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},LongBits.prototype.zzEncode=function(){var $=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^$)>>>0,this.lo=(this.lo<<1^$)>>>0,this},LongBits.prototype.zzDecode=function(){var $=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^$)>>>0,this.hi=(this.hi>>>1^$)>>>0,this},LongBits.prototype.length=function(){var $=this.lo,ee=(this.lo>>>28|this.hi<<4)>>>0,er=this.hi>>>24;return 0===er?0===ee?$<16384?$<128?1:2:$<2097152?3:4:ee<16384?ee<128?5:6:ee<2097152?7:8:er<128?9:10}},76467:function($,ee,er){"use strict";var ei=ee;function merge($,ee,er){for(var ei=Object.keys(ee),en=0;en<ei.length;++en)void 0!==$[ei[en]]&&er||($[ei[en]]=ee[ei[en]]);return $}function newError($){function CustomError($,ee){if(!(this instanceof CustomError))return new CustomError($,ee);Object.defineProperty(this,"message",{get:function(){return $}}),Error.captureStackTrace?Error.captureStackTrace(this,CustomError):Object.defineProperty(this,"stack",{value:Error().stack||""}),ee&&merge(this,ee)}return CustomError.prototype=Object.create(Error.prototype,{constructor:{value:CustomError,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return $},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),CustomError}ei.asPromise=er(10303),ei.base64=er(41363),ei.EventEmitter=er(70051),ei.float=er(61940),ei.inquire=er(65301),ei.utf8=er(28453),ei.pool=er(69185),ei.LongBits=er(30877),ei.isNode=!!("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),ei.global=ei.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,ei.emptyArray=Object.freeze?Object.freeze([]):[],ei.emptyObject=Object.freeze?Object.freeze({}):{},ei.isInteger=Number.isInteger||function($){return"number"==typeof $&&isFinite($)&&Math.floor($)===$},ei.isString=function($){return"string"==typeof $||$ instanceof String},ei.isObject=function($){return $&&"object"==typeof $},ei.isset=ei.isSet=function($,ee){var er=$[ee];return!!(null!=er&&$.hasOwnProperty(ee))&&("object"!=typeof er||(Array.isArray(er)?er.length:Object.keys(er).length)>0)},ei.Buffer=function(){try{var $=ei.inquire("buffer").Buffer;return $.prototype.utf8Write?$:null}catch($){return null}}(),ei._Buffer_from=null,ei._Buffer_allocUnsafe=null,ei.newBuffer=function($){return"number"==typeof $?ei.Buffer?ei._Buffer_allocUnsafe($):new ei.Array($):ei.Buffer?ei._Buffer_from($):"undefined"==typeof Uint8Array?$:new Uint8Array($)},ei.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,ei.Long=ei.global.dcodeIO&&ei.global.dcodeIO.Long||ei.global.Long||ei.inquire("long"),ei.key2Re=/^true|false|0|1$/,ei.key32Re=/^-?(?:0|[1-9][0-9]*)$/,ei.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,ei.longToHash=function($){return $?ei.LongBits.from($).toHash():ei.LongBits.zeroHash},ei.longFromHash=function($,ee){var er=ei.LongBits.fromHash($);return ei.Long?ei.Long.fromBits(er.lo,er.hi,ee):er.toNumber(!!ee)},ei.merge=merge,ei.lcFirst=function($){return $.charAt(0).toLowerCase()+$.substring(1)},ei.newError=newError,ei.ProtocolError=newError("ProtocolError"),ei.oneOfGetter=function($){for(var ee={},er=0;er<$.length;++er)ee[$[er]]=1;return function(){for(var $=Object.keys(this),er=$.length-1;er>-1;--er)if(1===ee[$[er]]&&void 0!==this[$[er]]&&null!==this[$[er]])return $[er]}},ei.oneOfSetter=function($){return function(ee){for(var er=0;er<$.length;++er)$[er]!==ee&&delete this[$[er]]}},ei.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},ei._configure=function(){var $=ei.Buffer;if(!$){ei._Buffer_from=ei._Buffer_allocUnsafe=null;return}ei._Buffer_from=$.from!==Uint8Array.from&&$.from||function(ee,er){return new $(ee,er)},ei._Buffer_allocUnsafe=$.allocUnsafe||function(ee){return new $(ee)}}},30054:($,ee,er)=>{"use strict";$.exports=verifier;var ei=er(48871),en=er(51987);function invalid($,ee){return $.name+": "+ee+($.repeated&&"array"!==ee?"[]":$.map&&"object"!==ee?"{k:"+$.keyType+"}":"")+" expected"}function genVerifyValue($,ee,er,en){if(ee.resolvedType){if(ee.resolvedType instanceof ei){$("switch(%s){",en)("default:")("return%j",invalid(ee,"enum value"));for(var es=Object.keys(ee.resolvedType.values),eo=0;eo<es.length;++eo)$("case %i:",ee.resolvedType.values[es[eo]]);$("break")("}")}else $("{")("var e=types[%i].verify(%s);",er,en)("if(e)")("return%j+e",ee.name+".")("}")}else switch(ee.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":$("if(!util.isInteger(%s))",en)("return%j",invalid(ee,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":$("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",en,en,en,en)("return%j",invalid(ee,"integer|Long"));break;case"float":case"double":$('if(typeof %s!=="number")',en)("return%j",invalid(ee,"number"));break;case"bool":$('if(typeof %s!=="boolean")',en)("return%j",invalid(ee,"boolean"));break;case"string":$("if(!util.isString(%s))",en)("return%j",invalid(ee,"string"));break;case"bytes":$('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',en,en,en)("return%j",invalid(ee,"buffer"))}return $}function genVerifyKey($,ee,er){switch(ee.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":$("if(!util.key32Re.test(%s))",er)("return%j",invalid(ee,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":$("if(!util.key64Re.test(%s))",er)("return%j",invalid(ee,"integer|Long key"));break;case"bool":$("if(!util.key2Re.test(%s))",er)("return%j",invalid(ee,"boolean key"))}return $}function verifier($){var ee=en.codegen(["m"],$.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),er=$.oneofsArray,ei={};er.length&&ee("var p={}");for(var es=0;es<$.fieldsArray.length;++es){var eo=$._fieldsArray[es].resolve(),ep="m"+en.safeProp(eo.name);if(eo.optional&&ee("if(%s!=null&&m.hasOwnProperty(%j)){",ep,eo.name),eo.map)ee("if(!util.isObject(%s))",ep)("return%j",invalid(eo,"object"))("var k=Object.keys(%s)",ep)("for(var i=0;i<k.length;++i){"),genVerifyKey(ee,eo,"k[i]"),genVerifyValue(ee,eo,es,ep+"[k[i]]")("}");else if(eo.repeated)ee("if(!Array.isArray(%s))",ep)("return%j",invalid(eo,"array"))("for(var i=0;i<%s.length;++i){",ep),genVerifyValue(ee,eo,es,ep+"[i]")("}");else{if(eo.partOf){var eu=en.safeProp(eo.partOf.name);1===ei[eo.partOf.name]&&ee("if(p%s===1)",eu)("return%j",eo.partOf.name+": multiple values"),ei[eo.partOf.name]=1,ee("p%s=1",eu)}genVerifyValue(ee,eo,es,ep)}eo.optional&&ee("}")}return ee("return null")}},96704:($,ee,er)=>{"use strict";var ei=ee,en=er(87615);ei[".google.protobuf.Any"]={fromObject:function($){if($&&$["@type"]){var ee=$["@type"].substring($["@type"].lastIndexOf("/")+1),er=this.lookup(ee);if(er){var ei="."===$["@type"].charAt(0)?$["@type"].slice(1):$["@type"];return -1===ei.indexOf("/")&&(ei="/"+ei),this.create({type_url:ei,value:er.encode(er.fromObject($)).finish()})}}return this.fromObject($)},toObject:function($,ee){var er="type.googleapis.com/",ei="",es="";if(ee&&ee.json&&$.type_url&&$.value){es=$.type_url.substring($.type_url.lastIndexOf("/")+1),ei=$.type_url.substring(0,$.type_url.lastIndexOf("/")+1);var eo=this.lookup(es);eo&&($=eo.decode($.value))}if(!($ instanceof this.ctor)&&$ instanceof en){var ep=$.$type.toObject($,ee),eu="."===$.$type.fullName[0]?$.$type.fullName.slice(1):$.$type.fullName;return""===ei&&(ei=er),es=ei+eu,ep["@type"]=es,ep}return this.toObject($,ee)}}},29946:($,ee,er)=>{"use strict";$.exports=Writer;var ei,en=er(76467),es=en.LongBits,eo=en.base64,ep=en.utf8;function Op($,ee,er){this.fn=$,this.len=ee,this.next=void 0,this.val=er}function noop(){}function State($){this.head=$.head,this.tail=$.tail,this.len=$.len,this.next=$.states}function Writer(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create=function(){return en.Buffer?function(){return(Writer.create=function(){return new ei})()}:function(){return new Writer}};function writeByte($,ee,er){ee[er]=255&$}function writeVarint32($,ee,er){for(;$>127;)ee[er++]=127&$|128,$>>>=7;ee[er]=$}function VarintOp($,ee){this.len=$,this.next=void 0,this.val=ee}function writeVarint64($,ee,er){for(;$.hi;)ee[er++]=127&$.lo|128,$.lo=($.lo>>>7|$.hi<<25)>>>0,$.hi>>>=7;for(;$.lo>127;)ee[er++]=127&$.lo|128,$.lo=$.lo>>>7;ee[er++]=$.lo}function writeFixed32($,ee,er){ee[er]=255&$,ee[er+1]=$>>>8&255,ee[er+2]=$>>>16&255,ee[er+3]=$>>>24}Writer.create=create(),Writer.alloc=function($){return new en.Array($)},en.Array!==Array&&(Writer.alloc=en.pool(Writer.alloc,en.Array.prototype.subarray)),Writer.prototype._push=function($,ee,er){return this.tail=this.tail.next=new Op($,ee,er),this.len+=ee,this},VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer.prototype.uint32=function($){return this.len+=(this.tail=this.tail.next=new VarintOp(($>>>=0)<128?1:$<16384?2:$<2097152?3:$<268435456?4:5,$)).len,this},Writer.prototype.int32=function($){return $<0?this._push(writeVarint64,10,es.fromNumber($)):this.uint32($)},Writer.prototype.sint32=function($){return this.uint32(($<<1^$>>31)>>>0)},Writer.prototype.uint64=function($){var ee=es.from($);return this._push(writeVarint64,ee.length(),ee)},Writer.prototype.int64=Writer.prototype.uint64,Writer.prototype.sint64=function($){var ee=es.from($).zzEncode();return this._push(writeVarint64,ee.length(),ee)},Writer.prototype.bool=function($){return this._push(writeByte,1,$?1:0)},Writer.prototype.fixed32=function($){return this._push(writeFixed32,4,$>>>0)},Writer.prototype.sfixed32=Writer.prototype.fixed32,Writer.prototype.fixed64=function($){var ee=es.from($);return this._push(writeFixed32,4,ee.lo)._push(writeFixed32,4,ee.hi)},Writer.prototype.sfixed64=Writer.prototype.fixed64,Writer.prototype.float=function($){return this._push(en.float.writeFloatLE,4,$)},Writer.prototype.double=function($){return this._push(en.float.writeDoubleLE,8,$)};var eu=en.Array.prototype.set?function($,ee,er){ee.set($,er)}:function($,ee,er){for(var ei=0;ei<$.length;++ei)ee[er+ei]=$[ei]};Writer.prototype.bytes=function($){var ee=$.length>>>0;if(!ee)return this._push(writeByte,1,0);if(en.isString($)){var er=Writer.alloc(ee=eo.length($));eo.decode($,er,0),$=er}return this.uint32(ee)._push(eu,ee,$)},Writer.prototype.string=function($){var ee=ep.length($);return ee?this.uint32(ee)._push(ep.write,ee,$):this._push(writeByte,1,0)},Writer.prototype.fork=function(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer.prototype.ldelim=function(){var $=this.head,ee=this.tail,er=this.len;return this.reset().uint32(er),er&&(this.tail.next=$.next,this.tail=ee,this.len+=er),this},Writer.prototype.finish=function(){for(var $=this.head.next,ee=this.constructor.alloc(this.len),er=0;$;)$.fn($.val,ee,er),er+=$.len,$=$.next;return ee},Writer._configure=function($){ei=$,Writer.create=create(),ei._configure()}},5632:($,ee,er)=>{"use strict";$.exports=BufferWriter;var ei=er(29946);(BufferWriter.prototype=Object.create(ei.prototype)).constructor=BufferWriter;var en=er(76467);function BufferWriter(){ei.call(this)}function writeStringBuffer($,ee,er){$.length<40?en.utf8.write($,ee,er):ee.utf8Write?ee.utf8Write($,er):ee.write($,er)}BufferWriter._configure=function(){BufferWriter.alloc=en._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=en.Buffer&&en.Buffer.prototype instanceof Uint8Array&&"set"===en.Buffer.prototype.set.name?function($,ee,er){ee.set($,er)}:function($,ee,er){if($.copy)$.copy(ee,er,0,$.length);else for(var ei=0;ei<$.length;)ee[er++]=$[ei++]}},BufferWriter.prototype.bytes=function($){en.isString($)&&($=en._Buffer_from($,"base64"));var ee=$.length>>>0;return this.uint32(ee),ee&&this._push(BufferWriter.writeBytesBuffer,ee,$),this},BufferWriter.prototype.string=function($){var ee=en.Buffer.byteLength($);return this.uint32(ee),ee&&this._push(writeStringBuffer,ee,$),this},BufferWriter._configure()},11008:($,ee,er)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var ei=er(14300),en=ei.Buffer;function copyProps($,ee){for(var er in $)ee[er]=$[er]}function SafeBuffer($,ee,er){return en($,ee,er)}en.from&&en.alloc&&en.allocUnsafe&&en.allocUnsafeSlow?$.exports=ei:(copyProps(ei,ee),ee.Buffer=SafeBuffer),SafeBuffer.prototype=Object.create(en.prototype),copyProps(en,SafeBuffer),SafeBuffer.from=function($,ee,er){if("number"==typeof $)throw TypeError("Argument must not be a number");return en($,ee,er)},SafeBuffer.alloc=function($,ee,er){if("number"!=typeof $)throw TypeError("Argument must be a number");var ei=en($);return void 0!==ee?"string"==typeof er?ei.fill(ee,er):ei.fill(ee):ei.fill(0),ei},SafeBuffer.allocUnsafe=function($){if("number"!=typeof $)throw TypeError("Argument must be a number");return en($)},SafeBuffer.allocUnsafeSlow=function($){if("number"!=typeof $)throw TypeError("Argument must be a number");return ei.SlowBuffer($)}},66534:($,ee,er)=>{"use strict";var ei,en=er(14300),es=en.Buffer,eo={};for(ei in en)en.hasOwnProperty(ei)&&"SlowBuffer"!==ei&&"Buffer"!==ei&&(eo[ei]=en[ei]);var ep=eo.Buffer={};for(ei in es)es.hasOwnProperty(ei)&&"allocUnsafe"!==ei&&"allocUnsafeSlow"!==ei&&(ep[ei]=es[ei]);if(eo.Buffer.prototype=es.prototype,ep.from&&ep.from!==Uint8Array.from||(ep.from=function($,ee,er){if("number"==typeof $)throw TypeError('The "value" argument must not be of type number. Received type '+typeof $);if($&&void 0===$.length)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);return es($,ee,er)}),ep.alloc||(ep.alloc=function($,ee,er){if("number"!=typeof $)throw TypeError('The "size" argument must be of type number. Received type '+typeof $);if($<0||$>=2*1073741824)throw RangeError('The value "'+$+'" is invalid for option "size"');var ei=es($);return ee&&0!==ee.length?"string"==typeof er?ei.fill(ee,er):ei.fill(ee):ei.fill(0),ei}),!eo.kStringMaxLength)try{eo.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch($){}!eo.constants&&(eo.constants={MAX_LENGTH:eo.kMaxLength},eo.kStringMaxLength&&(eo.constants.MAX_STRING_LENGTH=eo.kStringMaxLength)),$.exports=eo},38432:($,ee,er)=>{"use strict";var ei=er(85477),en=er(96797),es={TRANSITIONAL:0,NONTRANSITIONAL:1};function normalize($){return $.split("\x00").map(function($){return $.normalize("NFC")}).join("\x00")}function findStatus($){for(var ee=0,er=en.length-1;ee<=er;){var ei=Math.floor((ee+er)/2),es=en[ei];if(es[0][0]<=$&&es[0][1]>=$)return es;es[0][0]>$?er=ei-1:ee=ei+1}return null}var eo=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function countSymbols($){return $.replace(eo,"_").length}function mapChars($,ee,er){for(var ei=!1,en="",eo=countSymbols($),ep=0;ep<eo;++ep){var eu=$.codePointAt(ep),eh=findStatus(eu);switch(eh[1]){case"disallowed":ei=!0,en+=String.fromCodePoint(eu);break;case"ignored":break;case"mapped":en+=String.fromCodePoint.apply(String,eh[2]);break;case"deviation":er===es.TRANSITIONAL?en+=String.fromCodePoint.apply(String,eh[2]):en+=String.fromCodePoint(eu);break;case"valid":en+=String.fromCodePoint(eu);break;case"disallowed_STD3_mapped":ee?(ei=!0,en+=String.fromCodePoint(eu)):en+=String.fromCodePoint.apply(String,eh[2]);break;case"disallowed_STD3_valid":ee&&(ei=!0),en+=String.fromCodePoint(eu)}}return{string:en,error:ei}}var ep=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDE2C-\uDE37\uDEDF-\uDEEA\uDF01-\uDF03\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDE30-\uDE40\uDEAB-\uDEB7]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD83A[\uDCD0-\uDCD6]|\uDB40[\uDD00-\uDDEF]/;function validateLabel($,ee){"xn--"===$.substr(0,4)&&($=ei.toUnicode($),ee=es.NONTRANSITIONAL);var er=!1;(normalize($)!==$||"-"===$[3]&&"-"===$[4]||"-"===$[0]||"-"===$[$.length-1]||-1!==$.indexOf(".")||0===$.search(ep))&&(er=!0);for(var en=countSymbols($),eo=0;eo<en;++eo){var eu=findStatus($.codePointAt(eo));if(processing===es.TRANSITIONAL&&"valid"!==eu[1]||processing===es.NONTRANSITIONAL&&"valid"!==eu[1]&&"deviation"!==eu[1]){er=!0;break}}return{label:$,error:er}}function processing($,ee,er){var ei=mapChars($,ee,er);ei.string=normalize(ei.string);for(var en=ei.string.split("."),es=0;es<en.length;++es)try{var eo=validateLabel(en[es]);en[es]=eo.label,ei.error=ei.error||eo.error}catch($){ei.error=!0}return{string:en.join("."),error:ei.error}}$.exports.toASCII=function($,ee,er,en){var es=processing($,ee,er),eo=es.string.split(".");if(eo=eo.map(function($){try{return ei.toASCII($)}catch(ee){return es.error=!0,$}}),en){var ep=eo.slice(0,eo.length-1).join(".").length;(ep.length>253||0===ep.length)&&(es.error=!0);for(var eu=0;eu<eo.length;++eu)if(eo.length>63||0===eo.length){es.error=!0;break}}return es.error?null:eo.join(".")},$.exports.toUnicode=function($,ee){var er=processing($,ee,es.NONTRANSITIONAL);return{domain:er.string,error:er.error}},$.exports.PROCESSING_OPTIONS=es},93493:$=>{"use strict";var ee={};function sign($){return $<0?-1:1}function evenRound($){return $%1==.5&&(1&$)==0?Math.floor($):Math.round($)}function createNumberConversion($,ee){!ee.unsigned&&--$;let er=ee.unsigned?0:-Math.pow(2,$),ei=Math.pow(2,$)-1,en=ee.moduloBitLength?Math.pow(2,ee.moduloBitLength):Math.pow(2,$),es=ee.moduloBitLength?Math.pow(2,ee.moduloBitLength-1):Math.pow(2,$-1);return function($,eo){eo||(eo={});let ep=+$;if(eo.enforceRange){if(!Number.isFinite(ep))throw TypeError("Argument is not a finite number");if((ep=sign(ep)*Math.floor(Math.abs(ep)))<er||ep>ei)throw TypeError("Argument is not in byte range");return ep}if(!isNaN(ep)&&eo.clamp)return(ep=evenRound(ep))<er&&(ep=er),ep>ei&&(ep=ei),ep;if(!Number.isFinite(ep)||0===ep)return 0;if(ep=sign(ep)*Math.floor(Math.abs(ep))%en,!ee.unsigned&&ep>=es)return ep-en;if(ee.unsigned){if(ep<0)ep+=en;else if(-0===ep)return 0}return ep}}$.exports=ee,ee.void=function(){},ee.boolean=function($){return!!$},ee.byte=createNumberConversion(8,{unsigned:!1}),ee.octet=createNumberConversion(8,{unsigned:!0}),ee.short=createNumberConversion(16,{unsigned:!1}),ee["unsigned short"]=createNumberConversion(16,{unsigned:!0}),ee.long=createNumberConversion(32,{unsigned:!1}),ee["unsigned long"]=createNumberConversion(32,{unsigned:!0}),ee["long long"]=createNumberConversion(32,{unsigned:!1,moduloBitLength:64}),ee["unsigned long long"]=createNumberConversion(32,{unsigned:!0,moduloBitLength:64}),ee.double=function($){let ee=+$;if(!Number.isFinite(ee))throw TypeError("Argument is not a finite floating-point value");return ee},ee["unrestricted double"]=function($){let ee=+$;if(isNaN(ee))throw TypeError("Argument is NaN");return ee},ee.float=ee.double,ee["unrestricted float"]=ee["unrestricted double"],ee.DOMString=function($,ee){return(ee||(ee={}),ee.treatNullAsEmptyString&&null===$)?"":String($)},ee.ByteString=function($,ee){let er;let ei=String($);for(let $=0;void 0!==(er=ei.codePointAt($));++$)if(er>255)throw TypeError("Argument is not a valid bytestring");return ei},ee.USVString=function($){let ee=String($),er=ee.length,ei=[];for(let $=0;$<er;++$){let en=ee.charCodeAt($);if(en<55296||en>57343)ei.push(String.fromCodePoint(en));else if(56320<=en&&en<=57343)ei.push(String.fromCodePoint(65533));else if($===er-1)ei.push(String.fromCodePoint(65533));else{let er=ee.charCodeAt($+1);if(56320<=er&&er<=57343){let ee=1023&en,es=1023&er;ei.push(String.fromCodePoint(65536+1024*ee+es)),++$}else ei.push(String.fromCodePoint(65533))}}return ei.join("")},ee.Date=function($,ee){if(!($ instanceof Date))throw TypeError("Argument is not a Date object");if(!isNaN($))return $},ee.RegExp=function($,ee){return $ instanceof RegExp||($=new RegExp($)),$}},56457:($,ee,er)=>{"use strict";var ei=er(20463),en=er(61918),es=er(78149),eo={client:function($,ee){return void 0===(ee=ee||{}).masking&&(ee.masking=!0),new en($,ee)},server:function($){return void 0===($=$||{}).requireMasking&&($.requireMasking=!0),new es($)},http:function(){return es.http.apply(es,arguments)},isSecureRequest:function($){return es.isSecureRequest($)},isWebSocket:function($){return ei.isWebSocket($)},validateOptions:function($,ee){ei.validateOptions($,ee)}};$.exports=eo},20463:($,ee,er)=>{"use strict";var ei=er(11008).Buffer,en=er(82361).EventEmitter,es=er(73837),eo=er(74874),ep=er(54617),eu=er(18723),Base=function($,ee,er){en.call(this),Base.validateOptions(er||{},["maxLength","masking","requireMasking","protocols"]),this._request=$,this._reader=new eu,this._options=er||{},this._maxLength=this._options.maxLength||this.MAX_LENGTH,this._headers=new ep,this.__queue=[],this.readyState=0,this.url=ee,this.io=new eo.IO(this),this.messages=new eo.Messages(this),this._bindEventListeners()};es.inherits(Base,en),Base.isWebSocket=function($){var ee=$.headers.connection||"",er=$.headers.upgrade||"";return"GET"===$.method&&ee.toLowerCase().split(/ *, */).indexOf("upgrade")>=0&&"websocket"===er.toLowerCase()},Base.validateOptions=function($,ee){for(var er in $)if(0>ee.indexOf(er))throw Error("Unrecognized option: "+er)};var eh={MAX_LENGTH:67108863,STATES:["connecting","open","closing","closed"],_bindEventListeners:function(){var $=this;this.messages.on("error",function(){}),this.on("message",function(ee){var er=$.messages;er.readable&&er.emit("data",ee.data)}),this.on("error",function(ee){var er=$.messages;er.readable&&er.emit("error",ee)}),this.on("close",function(){var ee=$.messages;ee.readable&&(ee.readable=ee.writable=!1,ee.emit("end"))})},getState:function(){return this.STATES[this.readyState]||null},addExtension:function($){return!1},setHeader:function($,ee){return!(this.readyState>0)&&(this._headers.set($,ee),!0)},start:function(){var $;if(0!==this.readyState)return!1;if(!Base.isWebSocket(this._request))return this._failHandshake(Error("Not a WebSocket request"));try{$=this._handshakeResponse()}catch($){return this._failHandshake($)}return this._write($),-1!==this._stage&&this._open(),!0},_failHandshake:function($){var ee=new ep;return ee.set("Content-Type","text/plain"),ee.set("Content-Length",ei.byteLength($.message,"utf8")),ee=["HTTP/1.1 400 Bad Request",ee.toString(),$.message],this._write(ei.from(ee.join("\r\n"),"utf8")),this._fail("protocol_error",$.message),!1},text:function($){return this.frame($)},binary:function($){return!1},ping:function(){return!1},pong:function(){return!1},close:function($,ee){return 1===this.readyState&&(this.readyState=3,this.emit("close",new Base.CloseEvent(null,null)),!0)},_open:function(){this.readyState=1,this.__queue.forEach(function($){this.frame.apply(this,$)},this),this.__queue=[],this.emit("open",new Base.OpenEvent)},_queue:function($){return this.__queue.push($),!0},_write:function($){var ee=this.io;ee.readable&&ee.emit("data",$)},_fail:function($,ee){this.readyState=2,this.emit("error",Error(ee)),this.close()}};for(var em in eh)Base.prototype[em]=eh[em];Base.ConnectEvent=function(){},Base.OpenEvent=function(){},Base.CloseEvent=function($,ee){this.code=$,this.reason=ee},Base.MessageEvent=function($){this.data=$},Base.PingEvent=function($){this.data=$},Base.PongEvent=function($){this.data=$},$.exports=Base},61918:($,ee,er)=>{"use strict";var ei=er(11008).Buffer,en=er(6113),es=er(57310),eo=er(73837),ep=er(17479),eu=er(20463),eh=er(66776),em=er(73166),Client=function($,ee){this.version="hybi-"+eh.VERSION,eh.call(this,null,$,ee),this.readyState=-1,this._key=Client.generateKey(),this._accept=eh.generateAccept(this._key),this._http=new ep("response");var er=es.parse(this.url),en=er.auth&&ei.from(er.auth,"utf8").toString("base64");if(0>this.VALID_PROTOCOLS.indexOf(er.protocol))throw Error(this.url+" is not a valid WebSocket URL");this._pathname=(er.pathname||"/")+(er.search||""),this._headers.set("Host",er.host),this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Key",this._key),this._headers.set("Sec-WebSocket-Version",eh.VERSION),this._protocols.length>0&&this._headers.set("Sec-WebSocket-Protocol",this._protocols.join(", ")),en&&this._headers.set("Authorization","Basic "+en)};eo.inherits(Client,eh),Client.generateKey=function(){return en.randomBytes(16).toString("base64")};var ef={VALID_PROTOCOLS:["ws:","wss:"],proxy:function($,ee){return new em(this,$,ee)},start:function(){return -1===this.readyState&&(this._write(this._handshakeRequest()),this.readyState=0,!0)},parse:function($){if(3!==this.readyState){if(this.readyState>0)return eh.prototype.parse.call(this,$);this._http.parse($),this._http.isComplete()&&(this._validateHandshake(),3!==this.readyState&&(this._open(),this.parse(this._http.body)))}},_handshakeRequest:function(){var $=this._extensions.generateOffer();$&&this._headers.set("Sec-WebSocket-Extensions",$);var ee=["GET "+this._pathname+" HTTP/1.1",this._headers.toString(),""];return ei.from(ee.join("\r\n"),"utf8")},_failHandshake:function($){$="Error during WebSocket handshake: "+$,this.readyState=3,this.emit("error",Error($)),this.emit("close",new eu.CloseEvent(this.ERRORS.protocol_error,$))},_validateHandshake:function(){if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,this._http.error)return this._failHandshake(this._http.error.message);if(101!==this._http.statusCode)return this._failHandshake("Unexpected response code: "+this._http.statusCode);var $=this._http.headers,ee=$.upgrade||"",er=$.connection||"",ei=$["sec-websocket-accept"]||"",en=$["sec-websocket-protocol"]||"";if(""===ee)return this._failHandshake("'Upgrade' header is missing");if("websocket"!==ee.toLowerCase())return this._failHandshake("'Upgrade' header value is not 'WebSocket'");if(""===er)return this._failHandshake("'Connection' header is missing");if("upgrade"!==er.toLowerCase())return this._failHandshake("'Connection' header value is not 'Upgrade'");if(ei!==this._accept)return this._failHandshake("Sec-WebSocket-Accept mismatch");if(this.protocol=null,""!==en){if(0>this._protocols.indexOf(en))return this._failHandshake("Sec-WebSocket-Protocol mismatch");this.protocol=en}try{this._extensions.activate(this.headers["sec-websocket-extensions"])}catch($){return this._failHandshake($.message)}}};for(var eg in ef)Client.prototype[eg]=ef[eg];$.exports=Client},67503:($,ee,er)=>{"use strict";var ei=er(11008).Buffer,en=er(20463),es=er(73837),Draft75=function($,ee,er){en.apply(this,arguments),this._stage=0,this.version="hixie-75",this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("WebSocket-Origin",this._request.headers.origin),this._headers.set("WebSocket-Location",this.url)};es.inherits(Draft75,en);var eo={close:function(){return 3!==this.readyState&&(this.readyState=3,this.emit("close",new en.CloseEvent(null,null)),!0)},parse:function($){this.readyState>1||(this._reader.put($),this._reader.eachByte(function($){var ee;switch(this._stage){case -1:this._body.push($),this._sendHandshakeBody();break;case 0:this._parseLeadingByte($);break;case 1:if(this._length=(127&$)+128*this._length,this._closing&&0===this._length)return this.close();(128&$)!=128&&(0===this._length?this._stage=0:(this._skipped=0,this._stage=2));break;case 2:if(255===$)this._stage=0,ee=ei.from(this._buffer).toString("utf8",0,this._buffer.length),this.emit("message",new en.MessageEvent(ee));else if(this._length)this._skipped+=1,this._skipped===this._length&&(this._stage=0);else if(this._buffer.push($),this._buffer.length>this._maxLength)return this.close()}},this))},frame:function($){if(0===this.readyState)return this._queue([$]);if(this.readyState>1)return!1;"string"!=typeof $&&($=$.toString());var ee=ei.byteLength($),er=ei.allocUnsafe(ee+2);return er[0]=0,er.write($,1),er[er.length-1]=255,this._write(er),!0},_handshakeResponse:function(){var $=["HTTP/1.1 101 Web Socket Protocol Handshake",this._headers.toString(),""];return ei.from($.join("\r\n"),"utf8")},_parseLeadingByte:function($){(128&$)==128?(this._length=0,this._stage=1):(delete this._length,delete this._skipped,this._buffer=[],this._stage=2)}};for(var ep in eo)Draft75.prototype[ep]=eo[ep];$.exports=Draft75},90871:($,ee,er)=>{"use strict";var ei=er(11008).Buffer,en=er(20463),es=er(67503),eo=er(6113),ep=er(73837),numberFromKey=function($){return parseInt(($.match(/[0-9]/g)||[]).join(""),10)},spacesInKey=function($){return($.match(/ /g)||[]).length},Draft76=function($,ee,er){es.apply(this,arguments),this._stage=-1,this._body=[],this.version="hixie-76",this._headers.clear(),this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Origin",this._request.headers.origin),this._headers.set("Sec-WebSocket-Location",this.url)};ep.inherits(Draft76,es);var eu={BODY_SIZE:8,start:function(){return!!es.prototype.start.call(this)&&(this._started=!0,this._sendHandshakeBody(),!0)},close:function(){return 3!==this.readyState&&(1===this.readyState&&this._write(ei.from([255,0])),this.readyState=3,this.emit("close",new en.CloseEvent(null,null)),!0)},_handshakeResponse:function(){var $=this._request.headers,ee=$["sec-websocket-key1"],er=$["sec-websocket-key2"];if(!ee)throw Error("Missing required header: Sec-WebSocket-Key1");if(!er)throw Error("Missing required header: Sec-WebSocket-Key2");var en=numberFromKey(ee),es=spacesInKey(ee),eo=numberFromKey(er),ep=spacesInKey(er);if(en%es!=0||eo%ep!=0)throw Error("Client sent invalid Sec-WebSocket-Key headers");this._keyValues=[en/es,eo/ep];var $=["HTTP/1.1 101 WebSocket Protocol Handshake",this._headers.toString(),""];return ei.from($.join("\r\n"),"binary")},_handshakeSignature:function(){if(this._body.length<this.BODY_SIZE)return null;var $=eo.createHash("md5"),ee=ei.allocUnsafe(8+this.BODY_SIZE);return ee.writeUInt32BE(this._keyValues[0],0),ee.writeUInt32BE(this._keyValues[1],4),ei.from(this._body).copy(ee,8,0,this.BODY_SIZE),$.update(ee),ei.from($.digest("binary"),"binary")},_sendHandshakeBody:function(){if(this._started){var $=this._handshakeSignature();$&&(this._write($),this._stage=0,this._open(),this._body.length>this.BODY_SIZE&&this.parse(this._body.slice(this.BODY_SIZE)))}},_parseLeadingByte:function($){if(255!==$)return es.prototype._parseLeadingByte.call(this,$);this._closing=!0,this._length=0,this._stage=1}};for(var eh in eu)Draft76.prototype[eh]=eu[eh];$.exports=Draft76},54617:$=>{"use strict";var Headers=function(){this.clear()};Headers.prototype.ALLOWED_DUPLICATES=["set-cookie","set-cookie2","warning","www-authenticate"],Headers.prototype.clear=function(){this._sent={},this._lines=[]},Headers.prototype.set=function($,ee){if(void 0!==ee){$=this._strip($),ee=this._strip(ee);var er=$.toLowerCase();(!this._sent.hasOwnProperty(er)||this.ALLOWED_DUPLICATES.indexOf(er)>=0)&&(this._sent[er]=!0,this._lines.push($+": "+ee+"\r\n"))}},Headers.prototype.toString=function(){return this._lines.join("")},Headers.prototype._strip=function($){return $.toString().replace(/^ */,"").replace(/ *$/,"")},$.exports=Headers},66776:($,ee,er)=>{"use strict";var ei=er(11008).Buffer,en=er(6113),es=er(73837),eo=er(47857),ep=er(20463),eu=er(93250),eh=er(35386),Hybi=function($,ee,er){if(ep.apply(this,arguments),this._extensions=new eo,this._stage=0,this._masking=this._options.masking,this._protocols=this._options.protocols||[],this._requireMasking=this._options.requireMasking,this._pingCallbacks={},"string"==typeof this._protocols&&(this._protocols=this._protocols.split(/ *, */)),this._request){var ei=this._request.headers["sec-websocket-protocol"],en=this._protocols;void 0!==ei&&("string"==typeof ei&&(ei=ei.split(/ *, */)),this.protocol=ei.filter(function($){return en.indexOf($)>=0})[0]),this.version="hybi-"+Hybi.VERSION}};es.inherits(Hybi,ep),Hybi.VERSION="13",Hybi.mask=function($,ee,er){if(!ee||0===ee.length)return $;er=er||0;for(var ei=0,en=$.length-er;ei<en;ei++)$[er+ei]=$[er+ei]^ee[ei%4];return $},Hybi.generateAccept=function($){var ee=en.createHash("sha1");return ee.update($+Hybi.GUID),ee.digest("base64")},Hybi.GUID="258EAFA5-E914-47DA-95CA-C5AB0DC85B11";var em={FIN:128,MASK:128,RSV1:64,RSV2:32,RSV3:16,OPCODE:15,LENGTH:127,OPCODES:{continuation:0,text:1,binary:2,close:8,ping:9,pong:10},OPCODE_CODES:[0,1,2,8,9,10],MESSAGE_OPCODES:[0,1,2],OPENING_OPCODES:[1,2],ERRORS:{normal_closure:1e3,going_away:1001,protocol_error:1002,unacceptable:1003,encoding_error:1007,policy_violation:1008,too_large:1009,extension_error:1010,unexpected_condition:1011},ERROR_CODES:[1e3,1001,1002,1003,1007,1008,1009,1010,1011],DEFAULT_ERROR_CODE:1e3,MIN_RESERVED_ERROR:3e3,MAX_RESERVED_ERROR:4999,UTF8_MATCH:/^([\x00-\x7F]|[\xC2-\xDF][\x80-\xBF]|\xE0[\xA0-\xBF][\x80-\xBF]|[\xE1-\xEC\xEE\xEF][\x80-\xBF]{2}|\xED[\x80-\x9F][\x80-\xBF]|\xF0[\x90-\xBF][\x80-\xBF]{2}|[\xF1-\xF3][\x80-\xBF]{3}|\xF4[\x80-\x8F][\x80-\xBF]{2})*$/,addExtension:function($){return this._extensions.add($),!0},parse:function($){this._reader.put($);for(var ee=!0;ee;)switch(this._stage){case 0:(ee=this._reader.read(1))&&this._parseOpcode(ee[0]);break;case 1:(ee=this._reader.read(1))&&this._parseLength(ee[0]);break;case 2:(ee=this._reader.read(this._frame.lengthBytes))&&this._parseExtendedLength(ee);break;case 3:(ee=this._reader.read(4))&&(this._stage=4,this._frame.maskingKey=ee);break;case 4:(ee=this._reader.read(this._frame.length))&&(this._stage=0,this._emitFrame(ee));break;default:ee=null}},text:function($){return!(this.readyState>1)&&this.frame($,"text")},binary:function($){return!(this.readyState>1)&&this.frame($,"binary")},ping:function($,ee){return!(this.readyState>1)&&($=$||"",ee&&(this._pingCallbacks[$]=ee),this.frame($,"ping"))},pong:function($){return!(this.readyState>1)&&($=$||"",this.frame($,"pong"))},close:function($,ee){return($=$||"",ee=ee||this.ERRORS.normal_closure,this.readyState<=0)?(this.readyState=3,this.emit("close",new ep.CloseEvent(ee,$)),!0):1===this.readyState&&(this.readyState=2,this._extensions.close(function(){this.frame($,"close",ee)},this),!0)},frame:function($,ee,er){if(this.readyState<=0)return this._queue([$,ee,er]);if(this.readyState>2)return!1;$ instanceof Array&&($=ei.from($)),"number"==typeof $&&($=$.toString());var es,eo,ep=new eh,em="string"==typeof $;ep.rsv1=ep.rsv2=ep.rsv3=!1,ep.opcode=this.OPCODES[ee||(em?"text":"binary")],es=em?ei.from($,"utf8"):$,er&&(eo=es,(es=ei.allocUnsafe(2+eo.length)).writeUInt16BE(er,0),eo.copy(es,2)),ep.data=es;var onMessageReady=function($){var ee=new eu;ee.final=!0,ee.rsv1=$.rsv1,ee.rsv2=$.rsv2,ee.rsv3=$.rsv3,ee.opcode=$.opcode,ee.masked=!!this._masking,ee.length=$.data.length,ee.payload=$.data,ee.masked&&(ee.maskingKey=en.randomBytes(4)),this._sendFrame(ee)};return this.MESSAGE_OPCODES.indexOf(ep.opcode)>=0?this._extensions.processOutgoingMessage(ep,function($,ee){if($)return this._fail("extension_error",$.message);onMessageReady.call(this,ee)},this):onMessageReady.call(this,ep),!0},_sendFrame:function($){var ee=$.length,er=ee<=125?2:ee<=65535?4:10,en=er+($.masked?4:0),es=ei.allocUnsafe(en+ee),eo=$.masked?this.MASK:0;es[0]=($.final?this.FIN:0)|($.rsv1?this.RSV1:0)|($.rsv2?this.RSV2:0)|($.rsv3?this.RSV3:0)|$.opcode,ee<=125?es[1]=eo|ee:ee<=65535?(es[1]=126|eo,es.writeUInt16BE(ee,2)):(es[1]=127|eo,es.writeUInt32BE(Math.floor(ee/4294967296),2),es.writeUInt32BE(ee%4294967296,6)),$.payload.copy(es,en),$.masked&&($.maskingKey.copy(es,er),Hybi.mask(es,$.maskingKey,en)),this._write(es)},_handshakeResponse:function(){var $=this._request.headers["sec-websocket-key"],ee=this._request.headers["sec-websocket-version"];if(ee!==Hybi.VERSION)throw Error("Unsupported WebSocket version: "+ee);if("string"!=typeof $)throw Error("Missing handshake request header: Sec-WebSocket-Key");this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Accept",Hybi.generateAccept($)),this.protocol&&this._headers.set("Sec-WebSocket-Protocol",this.protocol);var er=this._extensions.generateResponse(this._request.headers["sec-websocket-extensions"]);er&&this._headers.set("Sec-WebSocket-Extensions",er);var en=["HTTP/1.1 101 Switching Protocols",this._headers.toString(),""];return ei.from(en.join("\r\n"),"utf8")},_shutdown:function($,ee,er){delete this._frame,delete this._message,this._stage=5;var ei=1===this.readyState;this.readyState=2,this._extensions.close(function(){ei&&this.frame(ee,"close",$),this.readyState=3,er&&this.emit("error",Error(ee)),this.emit("close",new ep.CloseEvent($,ee))},this)},_fail:function($,ee){this.readyState>1||this._shutdown(this.ERRORS[$],ee,!0)},_parseOpcode:function($){var ee=[this.RSV1,this.RSV2,this.RSV3].map(function(ee){return($&ee)===ee}),er=this._frame=new eu;return(er.final=($&this.FIN)===this.FIN,er.rsv1=ee[0],er.rsv2=ee[1],er.rsv3=ee[2],er.opcode=$&this.OPCODE,this._stage=1,this._extensions.validFrameRsv(er))?0>this.OPCODE_CODES.indexOf(er.opcode)?this._fail("protocol_error","Unrecognized frame opcode: "+er.opcode):0>this.MESSAGE_OPCODES.indexOf(er.opcode)&&!er.final?this._fail("protocol_error","Received fragmented control frame: opcode = "+er.opcode):this._message&&this.OPENING_OPCODES.indexOf(er.opcode)>=0?this._fail("protocol_error","Received new data frame but previous continuous frame is unfinished"):void 0:this._fail("protocol_error","One or more reserved bits are on: reserved1 = "+(er.rsv1?1:0)+", reserved2 = "+(er.rsv2?1:0)+", reserved3 = "+(er.rsv3?1:0))},_parseLength:function($){var ee=this._frame;if(ee.masked=($&this.MASK)===this.MASK,ee.length=$&this.LENGTH,ee.length>=0&&ee.length<=125){if(this._stage=ee.masked?3:4,!this._checkFrameLength())return}else this._stage=2,ee.lengthBytes=126===ee.length?2:8;if(this._requireMasking&&!ee.masked)return this._fail("unacceptable","Received unmasked frame but masking is required")},_parseExtendedLength:function($){var ee=this._frame;if(ee.length=this._readUInt($),this._stage=ee.masked?3:4,0>this.MESSAGE_OPCODES.indexOf(ee.opcode)&&ee.length>125)return this._fail("protocol_error","Received control frame having too long payload: "+ee.length);if(!this._checkFrameLength())return},_checkFrameLength:function(){return!((this._message?this._message.length:0)+this._frame.length>this._maxLength)||(this._fail("too_large","WebSocket frame length too large"),!1)},_emitFrame:function($){var ee,er,ei,en,es,eo=this._frame,eu=eo.payload=Hybi.mask($,eo.maskingKey),em=eo.opcode;if(delete this._frame,em===this.OPCODES.continuation){if(!this._message)return this._fail("protocol_error","Received unexpected continuation frame");this._message.pushFrame(eo)}if((em===this.OPCODES.text||em===this.OPCODES.binary)&&(this._message=new eh,this._message.pushFrame(eo)),eo.final&&this.MESSAGE_OPCODES.indexOf(em)>=0)return this._emitMessage(this._message);em===this.OPCODES.close&&(er=eu.length>=2?eu.readUInt16BE(0):null,ei=eu.length>2?this._encode(eu.slice(2)):null,0!==eu.length&&!(null!==er&&er>=this.MIN_RESERVED_ERROR&&er<=this.MAX_RESERVED_ERROR)&&0>this.ERROR_CODES.indexOf(er)&&(er=this.ERRORS.protocol_error),(eu.length>125||eu.length>2&&!ei)&&(er=this.ERRORS.protocol_error),this._shutdown(er||this.DEFAULT_ERROR_CODE,ei||"")),em===this.OPCODES.ping&&(this.frame(eu,"pong"),this.emit("ping",new ep.PingEvent(eu.toString()))),em===this.OPCODES.pong&&(es=(en=this._pingCallbacks)[ee=this._encode(eu)],delete en[ee],es&&es(),this.emit("pong",new ep.PongEvent(eu.toString())))},_emitMessage:function($){var $=this._message;$.read(),delete this._message,this._extensions.processIncomingMessage($,function($,ee){if($)return this._fail("extension_error",$.message);var er=ee.data;if(ee.opcode===this.OPCODES.text&&(er=this._encode(er)),null===er)return this._fail("encoding_error","Could not decode a text frame as UTF-8");this.emit("message",new ep.MessageEvent(er))},this)},_encode:function($){try{var ee=$.toString("binary",0,$.length);if(!this.UTF8_MATCH.test(ee))return null}catch($){}return $.toString("utf8",0,$.length)},_readUInt:function($){return 2===$.length?$.readUInt16BE(0):4294967296*$.readUInt32BE(0)+$.readUInt32BE(4)}};for(var ef in em)Hybi.prototype[ef]=em[ef];$.exports=Hybi},93250:$=>{"use strict";var Frame=function(){},ee={final:!1,rsv1:!1,rsv2:!1,rsv3:!1,opcode:null,masked:!1,maskingKey:null,lengthBytes:1,length:0,payload:null};for(var er in ee)Frame.prototype[er]=ee[er];$.exports=Frame},35386:($,ee,er)=>{"use strict";var ei=er(11008).Buffer,Message=function(){this.rsv1=!1,this.rsv2=!1,this.rsv3=!1,this.opcode=null,this.length=0,this._chunks=[]},en={read:function(){return this.data=this.data||ei.concat(this._chunks,this.length)},pushFrame:function($){this.rsv1=this.rsv1||$.rsv1,this.rsv2=this.rsv2||$.rsv2,this.rsv3=this.rsv3||$.rsv3,null===this.opcode&&(this.opcode=$.opcode),this._chunks.push($.payload),this.length+=$.length}};for(var es in en)Message.prototype[es]=en[es];$.exports=Message},73166:($,ee,er)=>{"use strict";var ei=er(11008).Buffer,en=er(12781).Stream,es=er(57310),eo=er(73837),ep=er(20463),eu=er(54617),eh=er(17479),em={"ws:":80,"wss:":443},Proxy=function($,ee,er){this._client=$,this._http=new eh("response"),this._origin="object"==typeof $.url?$.url:es.parse($.url),this._url="object"==typeof ee?ee:es.parse(ee),this._options=er||{},this._state=0,this.readable=this.writable=!0,this._paused=!1,this._headers=new eu,this._headers.set("Host",this._origin.host),this._headers.set("Connection","keep-alive"),this._headers.set("Proxy-Connection","keep-alive");var en=this._url.auth&&ei.from(this._url.auth,"utf8").toString("base64");en&&this._headers.set("Proxy-Authorization","Basic "+en)};eo.inherits(Proxy,en);var ef={setHeader:function($,ee){return 0===this._state&&(this._headers.set($,ee),!0)},start:function(){if(0!==this._state)return!1;this._state=1;var $=this._origin,ee=$.port||em[$.protocol],er=["CONNECT "+$.hostname+":"+ee+" HTTP/1.1",this._headers.toString(),""];return this.emit("data",ei.from(er.join("\r\n"),"utf8")),!0},pause:function(){this._paused=!0},resume:function(){this._paused=!1,this.emit("drain")},write:function($){if(!this.writable)return!1;if(this._http.parse($),!this._http.isComplete())return!this._paused;if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,200===this.statusCode)this.emit("connect",new ep.ConnectEvent);else{var ee="Can't establish a connection to the server at "+this._origin.href;this.emit("error",Error(ee))}return this.end(),!this._paused},end:function($){this.writable&&(void 0!==$&&this.write($),this.readable=this.writable=!1,this.emit("close"),this.emit("end"))},destroy:function(){this.end()}};for(var eg in ef)Proxy.prototype[eg]=ef[eg];$.exports=Proxy},78149:($,ee,er)=>{"use strict";var ei=er(73837),en=er(17479),es=er(20463),eo=er(67503),ep=er(90871),eu=er(66776),Server=function($){es.call(this,null,null,$),this._http=new en("request")};ei.inherits(Server,es);var eh={EVENTS:["open","message","error","close","ping","pong"],_bindEventListeners:function(){this.messages.on("error",function(){}),this.on("error",function(){})},parse:function($){if(this._delegate)return this._delegate.parse($);if(this._http.parse($),this._http.isComplete()){this.method=this._http.method,this.url=this._http.url,this.headers=this._http.headers,this.body=this._http.body;var ee=this;this._delegate=Server.http(this,this._options),this._delegate.messages=this.messages,this._delegate.io=this.io,this._open(),this.EVENTS.forEach(function($){this._delegate.on($,function(er){ee.emit($,er)})},this),this.protocol=this._delegate.protocol,this.version=this._delegate.version,this.parse(this._http.body),this.emit("connect",new es.ConnectEvent)}},_open:function(){this.__queue.forEach(function($){this._delegate[$[0]].apply(this._delegate,$[1])},this),this.__queue=[]}};for(var em in["addExtension","setHeader","start","frame","text","binary","ping","close"].forEach(function($){eh[$]=function(){return this._delegate?this._delegate[$].apply(this._delegate,arguments):(this.__queue.push([$,arguments]),!0)}}),eh)Server.prototype[em]=eh[em];Server.isSecureRequest=function($){if($.connection&&void 0!==$.connection.authorized||$.socket&&$.socket.secure)return!0;var ee=$.headers;return!!ee&&("on"===ee.https||"on"===ee["x-forwarded-ssl"]||"https"===ee["x-forwarded-scheme"]||"https"===ee["x-forwarded-proto"])},Server.determineUrl=function($){return(this.isSecureRequest($)?"wss:":"ws:")+"//"+$.headers.host+$.url},Server.http=function($,ee){void 0===(ee=ee||{}).requireMasking&&(ee.requireMasking=!0);var er=$.headers,ei=er["sec-websocket-version"],en=er["sec-websocket-key"],es=er["sec-websocket-key1"],eh=er["sec-websocket-key2"],em=this.determineUrl($);return ei||en?new eu($,em,ee):es||eh?new ep($,em,ee):new eo($,em,ee)},$.exports=Server},18723:($,ee,er)=>{"use strict";var ei=er(11008).Buffer,StreamReader=function(){this._queue=[],this._queueSize=0,this._offset=0};StreamReader.prototype.put=function($){$&&0!==$.length&&(ei.isBuffer($)||($=ei.from($)),this._queue.push($),this._queueSize+=$.length)},StreamReader.prototype.read=function($){if($>this._queueSize)return null;if(0===$)return ei.alloc(0);this._queueSize-=$;var ee,er,en=this._queue,es=$,eo=en[0];if(eo.length>=$)return eo.length===$?en.shift():(er=eo.slice(0,$),en[0]=eo.slice($),er);for(var ep=0,eu=en.length;ep<eu&&!(es<en[ep].length);ep++)es-=en[ep].length;return ee=en.splice(0,ep),es>0&&en.length>0&&(ee.push(en[0].slice(0,es)),en[0]=en[0].slice(es)),ei.concat(ee,$)},StreamReader.prototype.eachByte=function($,ee){for(var er,ei,en;this._queue.length>0;){for(ei=(er=this._queue[0]).length;this._offset<ei;)en=this._offset,this._offset+=1,$.call(ee,er[en]);this._offset=0,this._queue.shift()}},$.exports=StreamReader},17479:($,ee,er)=>{"use strict";var ei=er(95088).m,en=er(11008).Buffer,es={request:ei.REQUEST||"request",response:ei.RESPONSE||"response"},HttpParser=function($){this._type=$,this._parser=new ei(es[$]),this._complete=!1,this.headers={};var ee=null,er=this;this._parser.onHeaderField=function($,er,ei){ee=$.toString("utf8",er,er+ei).toLowerCase()},this._parser.onHeaderValue=function($,ei,en){var es=$.toString("utf8",ei,ei+en);er.headers.hasOwnProperty(ee)?er.headers[ee]+=", "+es:er.headers[ee]=es},this._parser.onHeadersComplete=this._parser[ei.kOnHeadersComplete]=function($,ee,ei,en,es,eo){var ep=arguments[0];if("object"==typeof ep&&(en=ep.method,es=ep.url,eo=ep.statusCode,ei=ep.headers),er.method="number"==typeof en?HttpParser.METHODS[en]:en,er.statusCode=eo,er.url=es,ei){for(var eu,eh,em=0,ef=ei.length;em<ef;em+=2)eu=ei[em].toLowerCase(),eh=ei[em+1],er.headers.hasOwnProperty(eu)?er.headers[eu]+=", "+eh:er.headers[eu]=eh;er._complete=!0}}};HttpParser.METHODS={0:"DELETE",1:"GET",2:"HEAD",3:"POST",4:"PUT",5:"CONNECT",6:"OPTIONS",7:"TRACE",8:"COPY",9:"LOCK",10:"MKCOL",11:"MOVE",12:"PROPFIND",13:"PROPPATCH",14:"SEARCH",15:"UNLOCK",16:"BIND",17:"REBIND",18:"UNBIND",19:"ACL",20:"REPORT",21:"MKACTIVITY",22:"CHECKOUT",23:"MERGE",24:"M-SEARCH",25:"NOTIFY",26:"SUBSCRIBE",27:"UNSUBSCRIBE",28:"PATCH",29:"PURGE",30:"MKCALENDAR",31:"LINK",32:"UNLINK"};var eo=process.version?process.version.match(/[0-9]+/g).map(function($){return parseInt($,10)}):[];0===eo[0]&&12===eo[1]&&(HttpParser.METHODS[16]="REPORT",HttpParser.METHODS[17]="MKACTIVITY",HttpParser.METHODS[18]="CHECKOUT",HttpParser.METHODS[19]="MERGE",HttpParser.METHODS[20]="M-SEARCH",HttpParser.METHODS[21]="NOTIFY",HttpParser.METHODS[22]="SUBSCRIBE",HttpParser.METHODS[23]="UNSUBSCRIBE",HttpParser.METHODS[24]="PATCH",HttpParser.METHODS[25]="PURGE"),HttpParser.prototype.isComplete=function(){return this._complete},HttpParser.prototype.parse=function($){var ee=this._parser.execute($,0,$.length);if("number"!=typeof ee){this.error=ee,this._complete=!0;return}this._complete&&(this.body=ee<$.length?$.slice(ee):en.alloc(0))},$.exports=HttpParser},74874:($,ee,er)=>{"use strict";var ei=er(12781).Stream,en=er(73837),IO=function($){this.readable=this.writable=!0,this._paused=!1,this._driver=$};en.inherits(IO,ei),IO.prototype.pause=function(){this._paused=!0,this._driver.messages._paused=!0},IO.prototype.resume=function(){this._paused=!1,this.emit("drain");var $=this._driver.messages;$._paused=!1,$.emit("drain")},IO.prototype.write=function($){return!!this.writable&&(this._driver.parse($),!this._paused)},IO.prototype.end=function($){if(this.writable){void 0!==$&&this.write($),this.writable=!1;var ee=this._driver.messages;ee.readable&&(ee.readable=ee.writable=!1,ee.emit("end"))}},IO.prototype.destroy=function(){this.end()};var Messages=function($){this.readable=this.writable=!0,this._paused=!1,this._driver=$};en.inherits(Messages,ei),Messages.prototype.pause=function(){this._driver.io._paused=!0},Messages.prototype.resume=function(){this._driver.io._paused=!1,this._driver.io.emit("drain")},Messages.prototype.write=function($){return!!this.writable&&("string"==typeof $?this._driver.text($):this._driver.binary($),!this._paused)},Messages.prototype.end=function($){void 0!==$&&this.write($)},Messages.prototype.destroy=function(){},ee.IO=IO,ee.Messages=Messages},7271:$=>{"use strict";var ee=/([!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+)/,er=/([^!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z])/g,ei=RegExp(ee.source+"(?:=(?:"+ee.source+"|"+/"((?:\\[\x00-\x7f]|[^\x00-\x08\x0a-\x1f\x7f"\\])*)"/.source+"))?"),en=RegExp(ee.source+"(?: *; *"+ei.source+")*","g"),es=RegExp("^"+en.source+"(?: *, *"+en.source+")*$"),eo=/^-?(0|[1-9][0-9]*)(\.[0-9]+)?$/,ep=Object.prototype.hasOwnProperty,eu={parseHeader:function($){var ee=new Offers;if(""===$||void 0===$)return ee;if(!es.test($))throw SyntaxError("Invalid Sec-WebSocket-Extensions header: "+$);return $.match(en).forEach(function($){var er=$.match(RegExp(ei.source,"g")),en=er.shift(),es={};er.forEach(function($){var ee,er=$.match(ei),en=er[1];ee=void 0!==er[2]?er[2]:void 0===er[3]||er[3].replace(/\\/g,""),eo.test(ee)&&(ee=parseFloat(ee)),ep.call(es,en)?(es[en]=[].concat(es[en]),es[en].push(ee)):es[en]=ee},this),ee.push(en,es)},this),ee},serializeParams:function($,ee){var ei=[],print=function($,ee){ee instanceof Array?ee.forEach(function(ee){print($,ee)}):!0===ee?ei.push($):"number"==typeof ee?ei.push($+"="+ee):er.test(ee)?ei.push($+'="'+ee.replace(/"/g,'\\"')+'"'):ei.push($+"="+ee)};for(var en in ee)print(en,ee[en]);return[$].concat(ei).join("; ")}},Offers=function(){this._byName={},this._inOrder=[]};Offers.prototype.push=function($,ee){ep.call(this._byName,$)||(this._byName[$]=[]),this._byName[$].push(ee),this._inOrder.push({name:$,params:ee})},Offers.prototype.eachOffer=function($,ee){for(var er=this._inOrder,ei=0,en=er.length;ei<en;ei++)$.call(ee,er[ei].name,er[ei].params)},Offers.prototype.byName=function($){return this._byName[$]||[]},Offers.prototype.toArray=function(){return this._inOrder.slice()},$.exports=eu},53529:($,ee,er)=>{"use strict";var ei=er(77886),en=er(97282),Cell=function($){this._ext=$[0],this._session=$[1],this._functors={incoming:new ei(this._session,"processIncomingMessage"),outgoing:new ei(this._session,"processOutgoingMessage")}};Cell.prototype.pending=function($){var ee=this._functors[$];ee._stopped||(ee.pending+=1)},Cell.prototype.incoming=function($,ee,er,ei){this._exec("incoming",$,ee,er,ei)},Cell.prototype.outgoing=function($,ee,er,ei){this._exec("outgoing",$,ee,er,ei)},Cell.prototype.close=function(){return this._closed=this._closed||new en,this._doClose(),this._closed},Cell.prototype._exec=function($,ee,er,ei,en){this._functors[$].call(ee,er,function($,ee){$&&($.message=this._ext.name+": "+$.message),ei.call(en,$,ee),this._doClose()},this)},Cell.prototype._doClose=function(){var $=this._functors.incoming,ee=this._functors.outgoing;this._closed&&$.pending+ee.pending===0&&(this._session&&this._session.close(),this._session=null,this._closed.done())},$.exports=Cell},77886:($,ee,er)=>{"use strict";var ei=er(84020),Functor=function($,ee){this._session=$,this._method=ee,this._queue=new ei(Functor.QUEUE_SIZE),this._stopped=!1,this.pending=0};Functor.QUEUE_SIZE=8,Functor.prototype.call=function($,ee,er,ei){if(!this._stopped){var en={error:$,message:ee,callback:er,context:ei,done:!1},es=!1,eo=this;if(this._queue.push(en),en.error)return en.done=!0,this._stop(),this._flushQueue();var handler=function($,ee){es^(es=!0)&&($?(eo._stop(),en.error=$,en.message=null):en.message=ee,en.done=!0,eo._flushQueue())};try{this._session[this._method](ee,handler)}catch($){handler($)}}},Functor.prototype._stop=function(){this.pending=this._queue.length,this._stopped=!0},Functor.prototype._flushQueue=function(){for(var $,ee=this._queue;ee.length>0&&ee.peek().done;)($=ee.shift()).error?(this.pending=0,ee.clear()):this.pending-=1,$.callback.call($.context,$.error,$.message)},$.exports=Functor},5570:($,ee,er)=>{"use strict";var ei=er(53529),en=er(97282),Pipeline=function($){this._cells=$.map(function($){return new ei($)}),this._stopped={incoming:!1,outgoing:!1}};Pipeline.prototype.processIncomingMessage=function($,ee,er){this._stopped.incoming||this._loop("incoming",this._cells.length-1,-1,-1,$,ee,er)},Pipeline.prototype.processOutgoingMessage=function($,ee,er){this._stopped.outgoing||this._loop("outgoing",0,this._cells.length,1,$,ee,er)},Pipeline.prototype.close=function($,ee){this._stopped={incoming:!0,outgoing:!0};var er=this._cells.map(function($){return $.close()});$&&en.all(er).then(function(){$.call(ee)})},Pipeline.prototype._loop=function($,ee,er,ei,en,es,eo){for(var ep=this._cells,eu=ep.length,eh=this;eu--;)ep[eu].pending($);var pipe=function(ee,en,eu){if(ee===er)return es.call(eo,en,eu);ep[ee][$](en,eu,function(er,en){er&&(eh._stopped[$]=!0),pipe(ee+ei,er,en)})};pipe(ee,null,en)},$.exports=Pipeline},97282:($,ee,er)=>{"use strict";var ei=er(84020),Pledge=function(){this._complete=!1,this._callbacks=new ei(Pledge.QUEUE_SIZE)};Pledge.QUEUE_SIZE=4,Pledge.all=function($){var ee=new Pledge,er=$.length,ei=er;for(0===er&&ee.done();ei--;)$[ei].then(function(){0==(er-=1)&&ee.done()});return ee},Pledge.prototype.then=function($){this._complete?$():this._callbacks.push($)},Pledge.prototype.done=function(){this._complete=!0;for(var $,ee=this._callbacks;$=ee.shift();)$()},$.exports=Pledge},84020:$=>{"use strict";var RingBuffer=function($){this._bufferSize=$,this.clear()};RingBuffer.prototype.clear=function(){this._buffer=Array(this._bufferSize),this._ringOffset=0,this._ringSize=this._bufferSize,this._head=0,this._tail=0,this.length=0},RingBuffer.prototype.push=function($){var ee=!1,er=!1;this._ringSize<this._bufferSize?ee=0===this._tail:this._ringOffset===this._ringSize&&(ee=!0,er=0===this._tail),ee&&(this._tail=this._bufferSize,this._buffer=this._buffer.concat(Array(this._bufferSize)),this._bufferSize=this._buffer.length,er&&(this._ringSize=this._bufferSize)),this._buffer[this._tail]=$,this.length+=1,this._tail<this._ringSize&&(this._ringOffset+=1),this._tail=(this._tail+1)%this._bufferSize},RingBuffer.prototype.peek=function(){if(0!==this.length)return this._buffer[this._head]},RingBuffer.prototype.shift=function(){if(0!==this.length){var $=this._buffer[this._head];return this._buffer[this._head]=void 0,this.length-=1,this._ringOffset-=1,0===this._ringOffset&&this.length>0?(this._head=this._ringSize,this._ringOffset=this.length,this._ringSize=this._bufferSize):this._head=(this._head+1)%this._ringSize,$}},$.exports=RingBuffer},47857:($,ee,er)=>{"use strict";var ei=er(7271),en=er(5570),Extensions=function(){this._rsv1=this._rsv2=this._rsv3=null,this._byName={},this._inOrder=[],this._sessions=[],this._index={}};Extensions.MESSAGE_OPCODES=[1,2];var es={add:function($){if("string"!=typeof $.name)throw TypeError("extension.name must be a string");if("permessage"!==$.type)throw TypeError('extension.type must be "permessage"');if("boolean"!=typeof $.rsv1)throw TypeError("extension.rsv1 must be true or false");if("boolean"!=typeof $.rsv2)throw TypeError("extension.rsv2 must be true or false");if("boolean"!=typeof $.rsv3)throw TypeError("extension.rsv3 must be true or false");if(this._byName.hasOwnProperty($.name))throw TypeError('An extension with name "'+$.name+'" is already registered');this._byName[$.name]=$,this._inOrder.push($)},generateOffer:function(){var $=[],ee=[],er={};return this._inOrder.forEach(function(en){var es=en.createClientSession();if(es){var eo=[en,es];$.push(eo),er[en.name]=eo;var ep=es.generateOffer();ep=ep?[].concat(ep):[],ep.forEach(function($){ee.push(ei.serializeParams(en.name,$))},this)}},this),this._sessions=$,this._index=er,ee.length>0?ee.join(", "):null},activate:function($){var ee=ei.parseHeader($),er=[];ee.eachOffer(function($,ee){var en=this._index[$];if(!en)throw Error('Server sent an extension response for unknown extension "'+$+'"');var es=en[0],eo=en[1],ep=this._reserved(es);if(ep)throw Error("Server sent two extension responses that use the RSV"+ep[0]+' bit: "'+ep[1]+'" and "'+es.name+'"');if(!0!==eo.activate(ee))throw Error("Server sent unacceptable extension parameters: "+ei.serializeParams($,ee));this._reserve(es),er.push(en)},this),this._sessions=er,this._pipeline=new en(er)},generateResponse:function($){var ee=[],er=[],es=ei.parseHeader($);return this._inOrder.forEach(function($){var en=es.byName($.name);if(!(0===en.length||this._reserved($))){var eo=$.createServerSession(en);eo&&(this._reserve($),ee.push([$,eo]),er.push(ei.serializeParams($.name,eo.generateResponse())))}},this),this._sessions=ee,this._pipeline=new en(ee),er.length>0?er.join(", "):null},validFrameRsv:function($){var ee,er={rsv1:!1,rsv2:!1,rsv3:!1};if(Extensions.MESSAGE_OPCODES.indexOf($.opcode)>=0)for(var ei=0,en=this._sessions.length;ei<en;ei++)ee=this._sessions[ei][0],er.rsv1=er.rsv1||ee.rsv1,er.rsv2=er.rsv2||ee.rsv2,er.rsv3=er.rsv3||ee.rsv3;return(er.rsv1||!$.rsv1)&&(er.rsv2||!$.rsv2)&&(er.rsv3||!$.rsv3)},processIncomingMessage:function($,ee,er){this._pipeline.processIncomingMessage($,ee,er)},processOutgoingMessage:function($,ee,er){this._pipeline.processOutgoingMessage($,ee,er)},close:function($,ee){if(!this._pipeline)return $.call(ee);this._pipeline.close($,ee)},_reserve:function($){this._rsv1=this._rsv1||$.rsv1&&$.name,this._rsv2=this._rsv2||$.rsv2&&$.name,this._rsv3=this._rsv3||$.rsv3&&$.name},_reserved:function($){return this._rsv1&&$.rsv1?[1,this._rsv1]:this._rsv2&&$.rsv2?[2,this._rsv2]:!!this._rsv3&&!!$.rsv3&&[3,this._rsv3]}};for(var eo in es)Extensions.prototype[eo]=es[eo];$.exports=Extensions},64542:($,ee,er)=>{"use strict";let ei=er(5148);ee.implementation=class{constructor($){let ee=$[0],er=$[1],en=null;if(void 0!==er&&"failure"===(en=ei.basicURLParse(er)))throw TypeError("Invalid base URL");let es=ei.basicURLParse(ee,{baseURL:en});if("failure"===es)throw TypeError("Invalid URL");this._url=es}get href(){return ei.serializeURL(this._url)}set href($){let ee=ei.basicURLParse($);if("failure"===ee)throw TypeError("Invalid URL");this._url=ee}get origin(){return ei.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol($){ei.basicURLParse($+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username($){ei.cannotHaveAUsernamePasswordPort(this._url)||ei.setTheUsername(this._url,$)}get password(){return this._url.password}set password($){ei.cannotHaveAUsernamePasswordPort(this._url)||ei.setThePassword(this._url,$)}get host(){let $=this._url;return null===$.host?"":null===$.port?ei.serializeHost($.host):ei.serializeHost($.host)+":"+ei.serializeInteger($.port)}set host($){this._url.cannotBeABaseURL||ei.basicURLParse($,{url:this._url,stateOverride:"host"})}get hostname(){return null===this._url.host?"":ei.serializeHost(this._url.host)}set hostname($){this._url.cannotBeABaseURL||ei.basicURLParse($,{url:this._url,stateOverride:"hostname"})}get port(){return null===this._url.port?"":ei.serializeInteger(this._url.port)}set port($){ei.cannotHaveAUsernamePasswordPort(this._url)||(""===$?this._url.port=null:ei.basicURLParse($,{url:this._url,stateOverride:"port"}))}get pathname(){return this._url.cannotBeABaseURL?this._url.path[0]:0===this._url.path.length?"":"/"+this._url.path.join("/")}set pathname($){this._url.cannotBeABaseURL||(this._url.path=[],ei.basicURLParse($,{url:this._url,stateOverride:"path start"}))}get search(){return null===this._url.query||""===this._url.query?"":"?"+this._url.query}set search($){let ee=this._url;if(""===$){ee.query=null;return}let er="?"===$[0]?$.substring(1):$;ee.query="",ei.basicURLParse(er,{url:ee,stateOverride:"query"})}get hash(){return null===this._url.fragment||""===this._url.fragment?"":"#"+this._url.fragment}set hash($){if(""===$){this._url.fragment=null;return}let ee="#"===$[0]?$.substring(1):$;this._url.fragment="",ei.basicURLParse(ee,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}},57220:($,ee,er)=>{"use strict";let ei=er(93493),en=er(67779),es=er(64542),eo=en.implSymbol;function URL(ee){if(!this||this[eo]||!(this instanceof URL))throw TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");if(arguments.length<1)throw TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");let er=[];for(let $=0;$<arguments.length&&$<2;++$)er[$]=arguments[$];er[0]=ei.USVString(er[0]),void 0!==er[1]&&(er[1]=ei.USVString(er[1])),$.exports.setup(this,er)}URL.prototype.toJSON=function(){if(!this||!$.exports.is(this))throw TypeError("Illegal invocation");let ee=[];for(let $=0;$<arguments.length&&$<0;++$)ee[$]=arguments[$];return this[eo].toJSON.apply(this[eo],ee)},Object.defineProperty(URL.prototype,"href",{get(){return this[eo].href},set($){$=ei.USVString($),this[eo].href=$},enumerable:!0,configurable:!0}),URL.prototype.toString=function(){if(!this||!$.exports.is(this))throw TypeError("Illegal invocation");return this.href},Object.defineProperty(URL.prototype,"origin",{get(){return this[eo].origin},enumerable:!0,configurable:!0}),Object.defineProperty(URL.prototype,"protocol",{get(){return this[eo].protocol},set($){$=ei.USVString($),this[eo].protocol=$},enumerable:!0,configurable:!0}),Object.defineProperty(URL.prototype,"username",{get(){return this[eo].username},set($){$=ei.USVString($),this[eo].username=$},enumerable:!0,configurable:!0}),Object.defineProperty(URL.prototype,"password",{get(){return this[eo].password},set($){$=ei.USVString($),this[eo].password=$},enumerable:!0,configurable:!0}),Object.defineProperty(URL.prototype,"host",{get(){return this[eo].host},set($){$=ei.USVString($),this[eo].host=$},enumerable:!0,configurable:!0}),Object.defineProperty(URL.prototype,"hostname",{get(){return this[eo].hostname},set($){$=ei.USVString($),this[eo].hostname=$},enumerable:!0,configurable:!0}),Object.defineProperty(URL.prototype,"port",{get(){return this[eo].port},set($){$=ei.USVString($),this[eo].port=$},enumerable:!0,configurable:!0}),Object.defineProperty(URL.prototype,"pathname",{get(){return this[eo].pathname},set($){$=ei.USVString($),this[eo].pathname=$},enumerable:!0,configurable:!0}),Object.defineProperty(URL.prototype,"search",{get(){return this[eo].search},set($){$=ei.USVString($),this[eo].search=$},enumerable:!0,configurable:!0}),Object.defineProperty(URL.prototype,"hash",{get(){return this[eo].hash},set($){$=ei.USVString($),this[eo].hash=$},enumerable:!0,configurable:!0}),$.exports={is:$=>!!$&&$[eo]instanceof es.implementation,create($,ee){let er=Object.create(URL.prototype);return this.setup(er,$,ee),er},setup($,ee,er){er||(er={}),er.wrapper=$,$[eo]=new es.implementation(ee,er),$[eo][en.wrapperSymbol]=$},interface:URL,expose:{Window:{URL:URL},Worker:{URL:URL}}}},79632:($,ee,er)=>{"use strict";ee.URL=er(57220).interface,ee.serializeURL=er(5148).serializeURL,ee.serializeURLOrigin=er(5148).serializeURLOrigin,ee.basicURLParse=er(5148).basicURLParse,ee.setTheUsername=er(5148).setTheUsername,ee.setThePassword=er(5148).setThePassword,ee.serializeHost=er(5148).serializeHost,ee.serializeInteger=er(5148).serializeInteger,ee.parseURL=er(5148).parseURL},5148:($,ee,er)=>{"use strict";let ei=er(85477),en=er(38432),es={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},eo=Symbol("failure");function countSymbols($){return ei.ucs2.decode($).length}function at($,ee){let er=$[ee];return isNaN(er)?void 0:String.fromCodePoint(er)}function isASCIIDigit($){return $>=48&&$<=57}function isASCIIAlpha($){return $>=65&&$<=90||$>=97&&$<=122}function isASCIIAlphanumeric($){return isASCIIAlpha($)||isASCIIDigit($)}function isASCIIHex($){return isASCIIDigit($)||$>=65&&$<=70||$>=97&&$<=102}function isSingleDot($){return"."===$||"%2e"===$.toLowerCase()}function isDoubleDot($){return".."===($=$.toLowerCase())||"%2e."===$||".%2e"===$||"%2e%2e"===$}function isWindowsDriveLetterCodePoints($,ee){return isASCIIAlpha($)&&(58===ee||124===ee)}function isWindowsDriveLetterString($){return 2===$.length&&isASCIIAlpha($.codePointAt(0))&&(":"===$[1]||"|"===$[1])}function isNormalizedWindowsDriveLetterString($){return 2===$.length&&isASCIIAlpha($.codePointAt(0))&&":"===$[1]}function containsForbiddenHostCodePoint($){return -1!==$.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/)}function containsForbiddenHostCodePointExcludingPercent($){return -1!==$.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/)}function isSpecialScheme($){return void 0!==es[$]}function isSpecial($){return isSpecialScheme($.scheme)}function defaultPort($){return es[$]}function percentEncode($){let ee=$.toString(16).toUpperCase();return 1===ee.length&&(ee="0"+ee),"%"+ee}function utf8PercentEncode($){let ee=new Buffer($),er="";for(let $=0;$<ee.length;++$)er+=percentEncode(ee[$]);return er}function utf8PercentDecode($){let ee=new Buffer($),er=[];for(let $=0;$<ee.length;++$)37!==ee[$]?er.push(ee[$]):37===ee[$]&&isASCIIHex(ee[$+1])&&isASCIIHex(ee[$+2])?(er.push(parseInt(ee.slice($+1,$+3).toString(),16)),$+=2):er.push(ee[$]);return new Buffer(er).toString()}function isC0ControlPercentEncode($){return $<=31||$>126}let ep=new Set([32,34,35,60,62,63,96,123,125]);function isPathPercentEncode($){return isC0ControlPercentEncode($)||ep.has($)}let eu=new Set([47,58,59,61,64,91,92,93,94,124]);function isUserinfoPercentEncode($){return isPathPercentEncode($)||eu.has($)}function percentEncodeChar($,ee){let er=String.fromCodePoint($);return ee($)?utf8PercentEncode(er):er}function parseIPv4Number($){let ee=10;if($.length>=2&&"0"===$.charAt(0)&&"x"===$.charAt(1).toLowerCase()?($=$.substring(2),ee=16):$.length>=2&&"0"===$.charAt(0)&&($=$.substring(1),ee=8),""===$)return 0;let er=10===ee?/[^0-9]/:16===ee?/[^0-9A-Fa-f]/:/[^0-7]/;return er.test($)?eo:parseInt($,ee)}function parseIPv4($){let ee=$.split(".");if(""===ee[ee.length-1]&&ee.length>1&&ee.pop(),ee.length>4)return $;let er=[];for(let ei of ee){if(""===ei)return $;let ee=parseIPv4Number(ei);if(ee===eo)return $;er.push(ee)}for(let $=0;$<er.length-1;++$)if(er[$]>255)return eo;if(er[er.length-1]>=Math.pow(256,5-er.length))return eo;let ei=er.pop(),en=0;for(let $ of er)ei+=$*Math.pow(256,3-en),++en;return ei}function serializeIPv4($){let ee="",er=$;for(let $=1;$<=4;++$)ee=String(er%256)+ee,4!==$&&(ee="."+ee),er=Math.floor(er/256);return ee}function parseIPv6($){let ee=[0,0,0,0,0,0,0,0],er=0,en=null,es=0;if(58===($=ei.ucs2.decode($))[es]){if(58!==$[es+1])return eo;es+=2,en=++er}for(;es<$.length;){if(8===er)return eo;if(58===$[es]){if(null!==en)return eo;++es,en=++er;continue}let ei=0,ep=0;for(;ep<4&&isASCIIHex($[es]);)ei=16*ei+parseInt(at($,es),16),++es,++ep;if(46===$[es]){if(0===ep||(es-=ep,er>6))return eo;let ei=0;for(;void 0!==$[es];){let en=null;if(ei>0){if(46!==$[es]||!(ei<4))return eo;++es}if(!isASCIIDigit($[es]))return eo;for(;isASCIIDigit($[es]);){let ee=parseInt(at($,es));if(null===en)en=ee;else{if(0===en)return eo;en=10*en+ee}if(en>255)return eo;++es}ee[er]=256*ee[er]+en,(2==++ei||4===ei)&&++er}if(4!==ei)return eo;break}if(58===$[es]){if(void 0===$[++es])return eo}else if(void 0!==$[es])return eo;ee[er]=ei,++er}if(null!==en){let $=er-en;for(er=7;0!==er&&$>0;){let ei=ee[en+$-1];ee[en+$-1]=ee[er],ee[er]=ei,--er,--$}}else if(null===en&&8!==er)return eo;return ee}function serializeIPv6($){let ee="",er=findLongestZeroSequence($),ei=er.idx,en=!1;for(let er=0;er<=7;++er)if(!en||0!==$[er]){if(en&&(en=!1),ei===er){let $=0===er?"::":":";ee+=$,en=!0;continue}ee+=$[er].toString(16),7!==er&&(ee+=":")}return ee}function parseHost($,ee){if("["===$[0])return"]"!==$[$.length-1]?eo:parseIPv6($.substring(1,$.length-1));if(!ee)return parseOpaqueHost($);let er=utf8PercentDecode($),ei=en.toASCII(er,!1,en.PROCESSING_OPTIONS.NONTRANSITIONAL,!1);if(null===ei||containsForbiddenHostCodePoint(ei))return eo;let es=parseIPv4(ei);return"number"==typeof es||es===eo?es:ei}function parseOpaqueHost($){if(containsForbiddenHostCodePointExcludingPercent($))return eo;let ee="",er=ei.ucs2.decode($);for(let $=0;$<er.length;++$)ee+=percentEncodeChar(er[$],isC0ControlPercentEncode);return ee}function findLongestZeroSequence($){let ee=null,er=1,ei=null,en=0;for(let es=0;es<$.length;++es)0!==$[es]?(en>er&&(ee=ei,er=en),ei=null,en=0):(null===ei&&(ei=es),++en);return en>er&&(ee=ei,er=en),{idx:ee,len:er}}function serializeHost($){return"number"==typeof $?serializeIPv4($):$ instanceof Array?"["+serializeIPv6($)+"]":$}function trimControlChars($){return $.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"")}function trimTabAndNewline($){return $.replace(/\u0009|\u000A|\u000D/g,"")}function shortenPath($){let ee=$.path;0===ee.length||"file"===$.scheme&&1===ee.length&&isNormalizedWindowsDriveLetter(ee[0])||ee.pop()}function includesCredentials($){return""!==$.username||""!==$.password}function cannotHaveAUsernamePasswordPort($){return null===$.host||""===$.host||$.cannotBeABaseURL||"file"===$.scheme}function isNormalizedWindowsDriveLetter($){return/^[A-Za-z]:$/.test($)}function URLStateMachine($,ee,er,en,es){if(this.pointer=0,this.input=$,this.base=ee||null,this.encodingOverride=er||"utf-8",this.stateOverride=es,this.url=en,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};let $=trimControlChars(this.input);$!==this.input&&(this.parseError=!0),this.input=$}let ep=trimTabAndNewline(this.input);for(ep!==this.input&&(this.parseError=!0),this.input=ep,this.state=es||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=ei.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){let $=this.input[this.pointer],ee=isNaN($)?void 0:String.fromCodePoint($),er=this["parse "+this.state]($,ee);if(er){if(er===eo){this.failure=!0;break}}else break}}URLStateMachine.prototype["parse scheme start"]=function($,ee){if(isASCIIAlpha($))this.buffer+=ee.toLowerCase(),this.state="scheme";else{if(this.stateOverride)return this.parseError=!0,eo;this.state="no scheme",--this.pointer}return!0},URLStateMachine.prototype["parse scheme"]=function($,ee){if(isASCIIAlphanumeric($)||43===$||45===$||46===$)this.buffer+=ee.toLowerCase();else if(58===$){if(this.stateOverride&&(isSpecial(this.url)&&!isSpecialScheme(this.buffer)||!isSpecial(this.url)&&isSpecialScheme(this.buffer)||(includesCredentials(this.url)||null!==this.url.port)&&"file"===this.buffer||"file"===this.url.scheme&&(""===this.url.host||null===this.url.host))||(this.url.scheme=this.buffer,this.buffer="",this.stateOverride))return!1;"file"===this.url.scheme?((47!==this.input[this.pointer+1]||47!==this.input[this.pointer+2])&&(this.parseError=!0),this.state="file"):isSpecial(this.url)&&null!==this.base&&this.base.scheme===this.url.scheme?this.state="special relative or authority":isSpecial(this.url)?this.state="special authority slashes":47===this.input[this.pointer+1]?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else{if(this.stateOverride)return this.parseError=!0,eo;this.buffer="",this.state="no scheme",this.pointer=-1}return!0},URLStateMachine.prototype["parse no scheme"]=function($){return null===this.base||this.base.cannotBeABaseURL&&35!==$?eo:(this.base.cannotBeABaseURL&&35===$?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):("file"===this.base.scheme?this.state="file":this.state="relative",--this.pointer),!0)},URLStateMachine.prototype["parse special relative or authority"]=function($){return 47===$&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},URLStateMachine.prototype["parse path or authority"]=function($){return 47===$?this.state="authority":(this.state="path",--this.pointer),!0},URLStateMachine.prototype["parse relative"]=function($){return this.url.scheme=this.base.scheme,isNaN($)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):47===$?this.state="relative slash":63===$?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===$?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):isSpecial(this.url)&&92===$?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0},URLStateMachine.prototype["parse relative slash"]=function($){return isSpecial(this.url)&&(47===$||92===$)?(92===$&&(this.parseError=!0),this.state="special authority ignore slashes"):47===$?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer),!0},URLStateMachine.prototype["parse special authority slashes"]=function($){return 47===$&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},URLStateMachine.prototype["parse special authority ignore slashes"]=function($){return 47!==$&&92!==$?(this.state="authority",--this.pointer):this.parseError=!0,!0},URLStateMachine.prototype["parse authority"]=function($,ee){if(64===$){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;let $=countSymbols(this.buffer);for(let ee=0;ee<$;++ee){let $=this.buffer.codePointAt(ee);if(58===$&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}let er=percentEncodeChar($,isUserinfoPercentEncode);this.passwordTokenSeenFlag?this.url.password+=er:this.url.username+=er}this.buffer=""}else if(isNaN($)||47===$||63===$||35===$||isSpecial(this.url)&&92===$){if(this.atFlag&&""===this.buffer)return this.parseError=!0,eo;this.pointer-=countSymbols(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=ee;return!0},URLStateMachine.prototype["parse hostname"]=URLStateMachine.prototype["parse host"]=function($,ee){if(this.stateOverride&&"file"===this.url.scheme)--this.pointer,this.state="file host";else if(58!==$||this.arrFlag){if(isNaN($)||47===$||63===$||35===$||isSpecial(this.url)&&92===$){if(--this.pointer,isSpecial(this.url)&&""===this.buffer)return this.parseError=!0,eo;if(this.stateOverride&&""===this.buffer&&(includesCredentials(this.url)||null!==this.url.port))return this.parseError=!0,!1;let $=parseHost(this.buffer,isSpecial(this.url));if($===eo)return eo;if(this.url.host=$,this.buffer="",this.state="path start",this.stateOverride)return!1}else 91===$?this.arrFlag=!0:93===$&&(this.arrFlag=!1),this.buffer+=ee}else{if(""===this.buffer)return this.parseError=!0,eo;let $=parseHost(this.buffer,isSpecial(this.url));if($===eo)return eo;if(this.url.host=$,this.buffer="",this.state="port","hostname"===this.stateOverride)return!1}return!0},URLStateMachine.prototype["parse port"]=function($,ee){if(isASCIIDigit($))this.buffer+=ee;else{if(!(isNaN($)||47===$||63===$||35===$||isSpecial(this.url)&&92===$)&&!this.stateOverride)return this.parseError=!0,eo;if(""!==this.buffer){let $=parseInt(this.buffer);if($>65535)return this.parseError=!0,eo;this.url.port=$===defaultPort(this.url.scheme)?null:$,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}return!0};let eh=new Set([47,92,63,35]);function serializeURL($,ee){let er=$.scheme+":";if(null!==$.host?(er+="//",(""!==$.username||""!==$.password)&&(er+=$.username,""!==$.password&&(er+=":"+$.password),er+="@"),er+=serializeHost($.host),null!==$.port&&(er+=":"+$.port)):null===$.host&&"file"===$.scheme&&(er+="//"),$.cannotBeABaseURL)er+=$.path[0];else for(let ee of $.path)er+="/"+ee;return null!==$.query&&(er+="?"+$.query),ee||null===$.fragment||(er+="#"+$.fragment),er}function serializeOrigin($){let ee=$.scheme+"://";return ee+=serializeHost($.host),null!==$.port&&(ee+=":"+$.port),ee}URLStateMachine.prototype["parse file"]=function($){return this.url.scheme="file",47===$||92===$?(92===$&&(this.parseError=!0),this.state="file slash"):null!==this.base&&"file"===this.base.scheme?isNaN($)?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query):63===$?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===$?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):(this.input.length-this.pointer-1!=0&&isWindowsDriveLetterCodePoints($,this.input[this.pointer+1])&&(!(this.input.length-this.pointer-1>=2)||eh.has(this.input[this.pointer+2]))?this.parseError=!0:(this.url.host=this.base.host,this.url.path=this.base.path.slice(),shortenPath(this.url)),this.state="path",--this.pointer):(this.state="path",--this.pointer),!0},URLStateMachine.prototype["parse file slash"]=function($){return 47===$||92===$?(92===$&&(this.parseError=!0),this.state="file host"):(null!==this.base&&"file"===this.base.scheme&&(isNormalizedWindowsDriveLetterString(this.base.path[0])?this.url.path.push(this.base.path[0]):this.url.host=this.base.host),this.state="path",--this.pointer),!0},URLStateMachine.prototype["parse file host"]=function($,ee){if(isNaN($)||47===$||92===$||63===$||35===$){if(--this.pointer,!this.stateOverride&&isWindowsDriveLetterString(this.buffer))this.parseError=!0,this.state="path";else if(""===this.buffer){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let $=parseHost(this.buffer,isSpecial(this.url));if($===eo)return eo;if("localhost"===$&&($=""),this.url.host=$,this.stateOverride)return!1;this.buffer="",this.state="path start"}}else this.buffer+=ee;return!0},URLStateMachine.prototype["parse path start"]=function($){return isSpecial(this.url)?(92===$&&(this.parseError=!0),this.state="path",47!==$&&92!==$&&--this.pointer):this.stateOverride||63!==$?this.stateOverride||35!==$?void 0!==$&&(this.state="path",47!==$&&--this.pointer):(this.url.fragment="",this.state="fragment"):(this.url.query="",this.state="query"),!0},URLStateMachine.prototype["parse path"]=function($){if(isNaN($)||47===$||isSpecial(this.url)&&92===$||!this.stateOverride&&(63===$||35===$)){if(isSpecial(this.url)&&92===$&&(this.parseError=!0),isDoubleDot(this.buffer)?(shortenPath(this.url),47===$||isSpecial(this.url)&&92===$||this.url.path.push("")):isSingleDot(this.buffer)&&47!==$&&!(isSpecial(this.url)&&92===$)?this.url.path.push(""):isSingleDot(this.buffer)||("file"===this.url.scheme&&0===this.url.path.length&&isWindowsDriveLetterString(this.buffer)&&(""!==this.url.host&&null!==this.url.host&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)),this.buffer="","file"===this.url.scheme&&(void 0===$||63===$||35===$))for(;this.url.path.length>1&&""===this.url.path[0];)this.parseError=!0,this.url.path.shift();63===$&&(this.url.query="",this.state="query"),35===$&&(this.url.fragment="",this.state="fragment")}else 37!==$||isASCIIHex(this.input[this.pointer+1])&&isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=percentEncodeChar($,isPathPercentEncode);return!0},URLStateMachine.prototype["parse cannot-be-a-base-URL path"]=function($){return 63===$?(this.url.query="",this.state="query"):35===$?(this.url.fragment="",this.state="fragment"):(isNaN($)||37===$||(this.parseError=!0),37!==$||isASCIIHex(this.input[this.pointer+1])&&isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),isNaN($)||(this.url.path[0]=this.url.path[0]+percentEncodeChar($,isC0ControlPercentEncode))),!0},URLStateMachine.prototype["parse query"]=function($,ee){if(isNaN($)||!this.stateOverride&&35===$){isSpecial(this.url)&&"ws"!==this.url.scheme&&"wss"!==this.url.scheme||(this.encodingOverride="utf-8");let ee=new Buffer(this.buffer);for(let $=0;$<ee.length;++$)ee[$]<33||ee[$]>126||34===ee[$]||35===ee[$]||60===ee[$]||62===ee[$]?this.url.query+=percentEncode(ee[$]):this.url.query+=String.fromCodePoint(ee[$]);this.buffer="",35===$&&(this.url.fragment="",this.state="fragment")}else 37!==$||isASCIIHex(this.input[this.pointer+1])&&isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=ee;return!0},URLStateMachine.prototype["parse fragment"]=function($){return isNaN($)||(0===$?this.parseError=!0:(37!==$||isASCIIHex(this.input[this.pointer+1])&&isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.url.fragment+=percentEncodeChar($,isC0ControlPercentEncode))),!0},$.exports.serializeURL=serializeURL,$.exports.serializeURLOrigin=function(ee){switch(ee.scheme){case"blob":try{return $.exports.serializeURLOrigin($.exports.parseURL(ee.path[0]))}catch($){return"null"}case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return serializeOrigin({scheme:ee.scheme,host:ee.host,port:ee.port});case"file":return"file://";default:return"null"}},$.exports.basicURLParse=function($,ee){void 0===ee&&(ee={});let er=new URLStateMachine($,ee.baseURL,ee.encodingOverride,ee.url,ee.stateOverride);return er.failure?"failure":er.url},$.exports.setTheUsername=function($,ee){$.username="";let er=ei.ucs2.decode(ee);for(let ee=0;ee<er.length;++ee)$.username+=percentEncodeChar(er[ee],isUserinfoPercentEncode)},$.exports.setThePassword=function($,ee){$.password="";let er=ei.ucs2.decode(ee);for(let ee=0;ee<er.length;++ee)$.password+=percentEncodeChar(er[ee],isUserinfoPercentEncode)},$.exports.serializeHost=serializeHost,$.exports.cannotHaveAUsernamePasswordPort=cannotHaveAUsernamePasswordPort,$.exports.serializeInteger=function($){return String($)},$.exports.parseURL=function(ee,er){return void 0===er&&(er={}),$.exports.basicURLParse(ee,{baseURL:er.baseURL,encodingOverride:er.encodingOverride})}},67779:$=>{"use strict";$.exports.mixin=function($,ee){let er=Object.getOwnPropertyNames(ee);for(let ei=0;ei<er.length;++ei)Object.defineProperty($,er[ei],Object.getOwnPropertyDescriptor(ee,er[ei]))},$.exports.wrapperSymbol=Symbol("wrapper"),$.exports.implSymbol=Symbol("impl"),$.exports.wrapperForImpl=function(ee){return ee[$.exports.wrapperSymbol]},$.exports.implForWrapper=function(ee){return ee[$.exports.implSymbol]}},59616:($,ee)=>{var er,ei=function($){"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;/**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   */var ee=null;try{ee=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch($){}function Long($,ee,er){this.low=0|$,this.high=0|ee,this.unsigned=!!er}function isLong($){return!0===($&&$.__isLong__)}function ctz32($){var ee=Math.clz32($&-$);return $?31-ee:ee}Long.prototype.__isLong__,Object.defineProperty(Long.prototype,"__isLong__",{value:!0}),Long.isLong=isLong;var er={},ei={};function fromInt($,ee){var en,es,eo;return ee?($>>>=0,(eo=0<=$&&$<256)&&(es=ei[$]))?es:(en=fromBits($,0,!0),eo&&(ei[$]=en),en):($|=0,(eo=-128<=$&&$<128)&&(es=er[$]))?es:(en=fromBits($,$<0?-1:0,!1),eo&&(er[$]=en),en)}function fromNumber($,ee){if(isNaN($))return ee?em:eh;if(ee){if($<0)return em;if($>=eo)return eS}else{if($<=-ep)return e_;if($+1>=ep)return ev}return $<0?fromNumber(-$,ee).neg():fromBits($%es|0,$/es|0,ee)}function fromBits($,ee,er){return new Long($,ee,er)}Long.fromInt=fromInt,Long.fromNumber=fromNumber,Long.fromBits=fromBits;var en=Math.pow;function fromString($,ee,er){if(0===$.length)throw Error("empty string");if("number"==typeof ee?(er=ee,ee=!1):ee=!!ee,"NaN"===$||"Infinity"===$||"+Infinity"===$||"-Infinity"===$)return ee?em:eh;if((er=er||10)<2||36<er)throw RangeError("radix");if((ei=$.indexOf("-"))>0)throw Error("interior hyphen");if(0===ei)return fromString($.substring(1),ee,er).neg();for(var ei,es=fromNumber(en(er,8)),eo=eh,ep=0;ep<$.length;ep+=8){var eu=Math.min(8,$.length-ep),ef=parseInt($.substring(ep,ep+eu),er);if(eu<8){var eg=fromNumber(en(er,eu));eo=eo.mul(eg).add(fromNumber(ef))}else eo=(eo=eo.mul(es)).add(fromNumber(ef))}return eo.unsigned=ee,eo}function fromValue($,ee){return"number"==typeof $?fromNumber($,ee):"string"==typeof $?fromString($,ee):fromBits($.low,$.high,"boolean"==typeof ee?ee:$.unsigned)}Long.fromString=fromString,Long.fromValue=fromValue;var es=4294967296,eo=18446744073709552e3,ep=0x7fffffffffffffff,eu=fromInt(16777216),eh=fromInt(0);Long.ZERO=eh;var em=fromInt(0,!0);Long.UZERO=em;var ef=fromInt(1);Long.ONE=ef;var eg=fromInt(1,!0);Long.UONE=eg;var ey=fromInt(-1);Long.NEG_ONE=ey;var ev=fromBits(-1,2147483647,!1);Long.MAX_VALUE=ev;var eS=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=eS;var e_=fromBits(0,-2147483648,!1);Long.MIN_VALUE=e_;var ew=Long.prototype;ew.toInt=function(){return this.unsigned?this.low>>>0:this.low},ew.toNumber=function(){return this.unsigned?(this.high>>>0)*es+(this.low>>>0):this.high*es+(this.low>>>0)},ew.toString=function($){if(($=$||10)<2||36<$)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(!this.eq(e_))return"-"+this.neg().toString($);var ee=fromNumber($),er=this.div(ee),ei=er.mul(ee).sub(this);return er.toString($)+ei.toInt().toString($)}for(var es=fromNumber(en($,6),this.unsigned),eo=this,ep="";;){var eu=eo.div(es),eh=(eo.sub(eu.mul(es)).toInt()>>>0).toString($);if((eo=eu).isZero())return eh+ep;for(;eh.length<6;)eh="0"+eh;ep=""+eh+ep}},ew.getHighBits=function(){return this.high},ew.getHighBitsUnsigned=function(){return this.high>>>0},ew.getLowBits=function(){return this.low},ew.getLowBitsUnsigned=function(){return this.low>>>0},ew.getNumBitsAbs=function(){if(this.isNegative())return this.eq(e_)?64:this.neg().getNumBitsAbs();for(var $=0!=this.high?this.high:this.low,ee=31;ee>0&&($&1<<ee)==0;ee--);return 0!=this.high?ee+33:ee+1},ew.isZero=function(){return 0===this.high&&0===this.low},ew.eqz=ew.isZero,ew.isNegative=function(){return!this.unsigned&&this.high<0},ew.isPositive=function(){return this.unsigned||this.high>=0},ew.isOdd=function(){return(1&this.low)==1},ew.isEven=function(){return(1&this.low)==0},ew.equals=function($){return isLong($)||($=fromValue($)),(this.unsigned===$.unsigned||this.high>>>31!=1||$.high>>>31!=1)&&this.high===$.high&&this.low===$.low},ew.eq=ew.equals,ew.notEquals=function($){return!this.eq($)},ew.neq=ew.notEquals,ew.ne=ew.notEquals,ew.lessThan=function($){return 0>this.comp($)},ew.lt=ew.lessThan,ew.lessThanOrEqual=function($){return 0>=this.comp($)},ew.lte=ew.lessThanOrEqual,ew.le=ew.lessThanOrEqual,ew.greaterThan=function($){return this.comp($)>0},ew.gt=ew.greaterThan,ew.greaterThanOrEqual=function($){return this.comp($)>=0},ew.gte=ew.greaterThanOrEqual,ew.ge=ew.greaterThanOrEqual,ew.compare=function($){if(isLong($)||($=fromValue($)),this.eq($))return 0;var ee=this.isNegative(),er=$.isNegative();return ee&&!er?-1:!ee&&er?1:this.unsigned?$.high>>>0>this.high>>>0||$.high===this.high&&$.low>>>0>this.low>>>0?-1:1:this.sub($).isNegative()?-1:1},ew.comp=ew.compare,ew.negate=function(){return!this.unsigned&&this.eq(e_)?e_:this.not().add(ef)},ew.neg=ew.negate,ew.add=function($){isLong($)||($=fromValue($));var ee,er,ei=this.high>>>16,en=65535&this.high,es=this.low>>>16,eo=65535&this.low,ep=$.high>>>16,eu=65535&$.high,eh=$.low>>>16,em=65535&$.low,ef=0,eg=0;return ee=0+((er=0+(eo+em))>>>16),er&=65535,ee+=es+eh,eg+=ee>>>16,ee&=65535,eg+=en+eu,ef+=eg>>>16,eg&=65535,ef+=ei+ep,fromBits(ee<<16|er,(ef&=65535)<<16|eg,this.unsigned)},ew.subtract=function($){return isLong($)||($=fromValue($)),this.add($.neg())},ew.sub=ew.subtract,ew.multiply=function($){if(this.isZero())return this;if(isLong($)||($=fromValue($)),ee)return fromBits(ee.mul(this.low,this.high,$.low,$.high),ee.get_high(),this.unsigned);if($.isZero())return this.unsigned?em:eh;if(this.eq(e_))return $.isOdd()?e_:eh;if($.eq(e_))return this.isOdd()?e_:eh;if(this.isNegative())return $.isNegative()?this.neg().mul($.neg()):this.neg().mul($).neg();if($.isNegative())return this.mul($.neg()).neg();if(this.lt(eu)&&$.lt(eu))return fromNumber(this.toNumber()*$.toNumber(),this.unsigned);var er,ei,en=this.high>>>16,es=65535&this.high,eo=this.low>>>16,ep=65535&this.low,ef=$.high>>>16,eg=65535&$.high,ey=$.low>>>16,ev=65535&$.low,eS=0,ew=0;return er=0+((ei=0+ep*ev)>>>16),ei&=65535,er+=eo*ev,ew+=er>>>16,er&=65535,er+=ep*ey,ew+=er>>>16,er&=65535,ew+=es*ev,eS+=ew>>>16,ew&=65535,ew+=eo*ey,eS+=ew>>>16,ew&=65535,ew+=ep*eg,eS+=ew>>>16,ew&=65535,eS+=en*ev+es*ey+eo*eg+ep*ef,fromBits(er<<16|ei,(eS&=65535)<<16|ew,this.unsigned)},ew.mul=ew.multiply,ew.divide=function($){if(isLong($)||($=fromValue($)),$.isZero())throw Error("division by zero");if(ee){var er,ei,es;return this.unsigned||-2147483648!==this.high||-1!==$.low||-1!==$.high?fromBits((this.unsigned?ee.div_u:ee.div_s)(this.low,this.high,$.low,$.high),ee.get_high(),this.unsigned):this}if(this.isZero())return this.unsigned?em:eh;if(this.unsigned){if($.unsigned||($=$.toUnsigned()),$.gt(this))return em;if($.gt(this.shru(1)))return eg;es=em}else{if(this.eq(e_))return $.eq(ef)||$.eq(ey)?e_:$.eq(e_)?ef:(er=this.shr(1).div($).shl(1)).eq(eh)?$.isNegative()?ef:ey:(ei=this.sub($.mul(er)),es=er.add(ei.div($)));if($.eq(e_))return this.unsigned?em:eh;if(this.isNegative())return $.isNegative()?this.neg().div($.neg()):this.neg().div($).neg();if($.isNegative())return this.div($.neg()).neg();es=eh}for(ei=this;ei.gte($);){for(var eo=Math.ceil(Math.log(er=Math.max(1,Math.floor(ei.toNumber()/$.toNumber())))/Math.LN2),ep=eo<=48?1:en(2,eo-48),eu=fromNumber(er),ev=eu.mul($);ev.isNegative()||ev.gt(ei);)er-=ep,ev=(eu=fromNumber(er,this.unsigned)).mul($);eu.isZero()&&(eu=ef),es=es.add(eu),ei=ei.sub(ev)}return es},ew.div=ew.divide,ew.modulo=function($){return(isLong($)||($=fromValue($)),ee)?fromBits((this.unsigned?ee.rem_u:ee.rem_s)(this.low,this.high,$.low,$.high),ee.get_high(),this.unsigned):this.sub(this.div($).mul($))},ew.mod=ew.modulo,ew.rem=ew.modulo,ew.not=function(){return fromBits(~this.low,~this.high,this.unsigned)},ew.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},ew.clz=ew.countLeadingZeros,ew.countTrailingZeros=function(){return this.low?ctz32(this.low):ctz32(this.high)+32},ew.ctz=ew.countTrailingZeros,ew.and=function($){return isLong($)||($=fromValue($)),fromBits(this.low&$.low,this.high&$.high,this.unsigned)},ew.or=function($){return isLong($)||($=fromValue($)),fromBits(this.low|$.low,this.high|$.high,this.unsigned)},ew.xor=function($){return isLong($)||($=fromValue($)),fromBits(this.low^$.low,this.high^$.high,this.unsigned)},ew.shiftLeft=function($){return(isLong($)&&($=$.toInt()),0==($&=63))?this:$<32?fromBits(this.low<<$,this.high<<$|this.low>>>32-$,this.unsigned):fromBits(0,this.low<<$-32,this.unsigned)},ew.shl=ew.shiftLeft,ew.shiftRight=function($){return(isLong($)&&($=$.toInt()),0==($&=63))?this:$<32?fromBits(this.low>>>$|this.high<<32-$,this.high>>$,this.unsigned):fromBits(this.high>>$-32,this.high>=0?0:-1,this.unsigned)},ew.shr=ew.shiftRight,ew.shiftRightUnsigned=function($){return(isLong($)&&($=$.toInt()),0==($&=63))?this:$<32?fromBits(this.low>>>$|this.high<<32-$,this.high>>>$,this.unsigned):32===$?fromBits(this.high,0,this.unsigned):fromBits(this.high>>>$-32,0,this.unsigned)},ew.shru=ew.shiftRightUnsigned,ew.shr_u=ew.shiftRightUnsigned,ew.rotateLeft=function($){var ee;return(isLong($)&&($=$.toInt()),0==($&=63))?this:32===$?fromBits(this.high,this.low,this.unsigned):$<32?(ee=32-$,fromBits(this.low<<$|this.high>>>ee,this.high<<$|this.low>>>ee,this.unsigned)):($-=32,ee=32-$,fromBits(this.high<<$|this.low>>>ee,this.low<<$|this.high>>>ee,this.unsigned))},ew.rotl=ew.rotateLeft,ew.rotateRight=function($){var ee;return(isLong($)&&($=$.toInt()),0==($&=63))?this:32===$?fromBits(this.high,this.low,this.unsigned):$<32?(ee=32-$,fromBits(this.high<<ee|this.low>>>$,this.low<<ee|this.high>>>$,this.unsigned)):($-=32,ee=32-$,fromBits(this.low<<ee|this.high>>>$,this.high<<ee|this.low>>>$,this.unsigned))},ew.rotr=ew.rotateRight,ew.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this},ew.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)},ew.toBytes=function($){return $?this.toBytesLE():this.toBytesBE()},ew.toBytesLE=function(){var $=this.high,ee=this.low;return[255&ee,ee>>>8&255,ee>>>16&255,ee>>>24,255&$,$>>>8&255,$>>>16&255,$>>>24]},ew.toBytesBE=function(){var $=this.high,ee=this.low;return[$>>>24,$>>>16&255,$>>>8&255,255&$,ee>>>24,ee>>>16&255,ee>>>8&255,255&ee]},Long.fromBytes=function($,ee,er){return er?Long.fromBytesLE($,ee):Long.fromBytesBE($,ee)},Long.fromBytesLE=function($,ee){return new Long($[0]|$[1]<<8|$[2]<<16|$[3]<<24,$[4]|$[5]<<8|$[6]<<16|$[7]<<24,ee)},Long.fromBytesBE=function($,ee){return new Long($[4]<<24|$[5]<<16|$[6]<<8|$[7],$[0]<<24|$[1]<<16|$[2]<<8|$[3],ee)};var eC=Long;return $.default=eC,"default"in $?$.default:$}({});void 0!==(er=(function(){return ei}).apply(ee,[]))&&($.exports=er)},25662:($,ee,er)=>{"use strict";let ei,en;er.d(ee,{Jn:()=>e4,qX:()=>_getProvider,Xd:()=>_registerComponent,Mq:()=>getApp,ZF:()=>initializeApp,KN:()=>registerVersion});var es=er(86860),eo=er(11648),ep=er(38465);let instanceOfAny=($,ee)=>ee.some(ee=>$ instanceof ee);function getIdbProxyableTypes(){return ei||(ei=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return en||(en=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}let eu=new WeakMap,eh=new WeakMap,em=new WeakMap,ef=new WeakMap,eg=new WeakMap;function promisifyRequest($){let ee=new Promise((ee,er)=>{let unlisten=()=>{$.removeEventListener("success",success),$.removeEventListener("error",error)},success=()=>{ee(wrap_idb_value_wrap($.result)),unlisten()},error=()=>{er($.error),unlisten()};$.addEventListener("success",success),$.addEventListener("error",error)});return ee.then(ee=>{ee instanceof IDBCursor&&eu.set(ee,$)}).catch(()=>{}),eg.set(ee,$),ee}function cacheDonePromiseForTransaction($){if(eh.has($))return;let ee=new Promise((ee,er)=>{let unlisten=()=>{$.removeEventListener("complete",complete),$.removeEventListener("error",error),$.removeEventListener("abort",error)},complete=()=>{ee(),unlisten()},error=()=>{er($.error||new DOMException("AbortError","AbortError")),unlisten()};$.addEventListener("complete",complete),$.addEventListener("error",error),$.addEventListener("abort",error)});eh.set($,ee)}let ey={get($,ee,er){if($ instanceof IDBTransaction){if("done"===ee)return eh.get($);if("objectStoreNames"===ee)return $.objectStoreNames||em.get($);if("store"===ee)return er.objectStoreNames[1]?void 0:er.objectStore(er.objectStoreNames[0])}return wrap_idb_value_wrap($[ee])},set:($,ee,er)=>($[ee]=er,!0),has:($,ee)=>$ instanceof IDBTransaction&&("done"===ee||"store"===ee)||ee in $};function replaceTraps($){ey=$(ey)}function wrapFunction($){return $!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?getCursorAdvanceMethods().includes($)?function(...ee){return $.apply(unwrap(this),ee),wrap_idb_value_wrap(eu.get(this))}:function(...ee){return wrap_idb_value_wrap($.apply(unwrap(this),ee))}:function(ee,...er){let ei=$.call(unwrap(this),ee,...er);return em.set(ei,ee.sort?ee.sort():[ee]),wrap_idb_value_wrap(ei)}}function transformCachableValue($){return"function"==typeof $?wrapFunction($):($ instanceof IDBTransaction&&cacheDonePromiseForTransaction($),instanceOfAny($,getIdbProxyableTypes()))?new Proxy($,ey):$}function wrap_idb_value_wrap($){if($ instanceof IDBRequest)return promisifyRequest($);if(ef.has($))return ef.get($);let ee=transformCachableValue($);return ee!==$&&(ef.set($,ee),eg.set(ee,$)),ee}let unwrap=$=>eg.get($);function openDB($,ee,{blocked:er,upgrade:ei,blocking:en,terminated:es}={}){let eo=indexedDB.open($,ee),ep=wrap_idb_value_wrap(eo);return ei&&eo.addEventListener("upgradeneeded",$=>{ei(wrap_idb_value_wrap(eo.result),$.oldVersion,$.newVersion,wrap_idb_value_wrap(eo.transaction),$)}),er&&eo.addEventListener("blocked",$=>er($.oldVersion,$.newVersion,$)),ep.then($=>{es&&$.addEventListener("close",()=>es()),en&&$.addEventListener("versionchange",$=>en($.oldVersion,$.newVersion,$))}).catch(()=>{}),ep}let ev=["get","getKey","getAll","getAllKeys","count"],eS=["put","add","delete","clear"],e_=new Map;function getMethod($,ee){if(!($ instanceof IDBDatabase&&!(ee in $)&&"string"==typeof ee))return;if(e_.get(ee))return e_.get(ee);let er=ee.replace(/FromIndex$/,""),ei=ee!==er,en=eS.includes(er);if(!(er in(ei?IDBIndex:IDBObjectStore).prototype)||!(en||ev.includes(er)))return;let method=async function($,...ee){let es=this.transaction($,en?"readwrite":"readonly"),eo=es.store;return ei&&(eo=eo.index(ee.shift())),(await Promise.all([eo[er](...ee),en&&es.done]))[0]};return e_.set(ee,method),method}replaceTraps($=>({...$,get:(ee,er,ei)=>getMethod(ee,er)||$.get(ee,er,ei),has:(ee,er)=>!!getMethod(ee,er)||$.has(ee,er)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PlatformLoggerServiceImpl=class PlatformLoggerServiceImpl{constructor($){this.container=$}getPlatformInfoString(){let $=this.container.getProviders();return $.map($=>{if(!isVersionServiceProvider($))return null;{let ee=$.getImmediate();return`${ee.library}/${ee.version}`}}).filter($=>$).join(" ")}};function isVersionServiceProvider($){let ee=$.getComponent();return(null==ee?void 0:ee.type)==="VERSION"}let ew="@firebase/app",eC="0.9.20",eT=new eo.Yd("@firebase/app"),eE="@firebase/app-compat",eI="@firebase/analytics-compat",eD="@firebase/analytics",eR="@firebase/app-check-compat",eP="@firebase/app-check",eN="@firebase/auth",eA="@firebase/auth-compat",ek="@firebase/database",eO="@firebase/database-compat",eM="@firebase/functions",eF="@firebase/functions-compat",eL="@firebase/installations",eB="@firebase/installations-compat",eV="@firebase/messaging",eU="@firebase/messaging-compat",ej="@firebase/performance",eq="@firebase/performance-compat",ez="@firebase/remote-config",eW="@firebase/remote-config-compat",eH="@firebase/storage",eG="@firebase/storage-compat",eK="@firebase/firestore",e$="@firebase/firestore-compat",eQ="firebase",eY="10.5.0",eJ="[DEFAULT]",eX={[ew]:"fire-core",[eE]:"fire-core-compat",[eD]:"fire-analytics",[eI]:"fire-analytics-compat",[eP]:"fire-app-check",[eR]:"fire-app-check-compat",[eN]:"fire-auth",[eA]:"fire-auth-compat",[ek]:"fire-rtdb",[eO]:"fire-rtdb-compat",[eM]:"fire-fn",[eF]:"fire-fn-compat",[eL]:"fire-iid",[eB]:"fire-iid-compat",[eV]:"fire-fcm",[eU]:"fire-fcm-compat",[ej]:"fire-perf",[eq]:"fire-perf-compat",[ez]:"fire-rc",[eW]:"fire-rc-compat",[eH]:"fire-gcs",[eG]:"fire-gcs-compat",[eK]:"fire-fst",[e$]:"fire-fst-compat","fire-js":"fire-js",[eQ]:"fire-js-all"},eZ=new Map,e1=new Map;function _addComponent($,ee){try{$.container.addComponent(ee)}catch(er){eT.debug(`Component ${ee.name} failed to register with FirebaseApp ${$.name}`,er)}}function _registerComponent($){let ee=$.name;if(e1.has(ee))return eT.debug(`There were multiple attempts to register component ${ee}.`),!1;for(let er of(e1.set(ee,$),eZ.values()))_addComponent(er,$);return!0}function _getProvider($,ee){let er=$.container.getProvider("heartbeat").getImmediate({optional:!0});return er&&er.triggerHeartbeat(),$.container.getProvider(ee)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},e2=new ep.LL("app","Firebase",e0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FirebaseAppImpl=class FirebaseAppImpl{constructor($,ee,er){this._isDeleted=!1,this._options=Object.assign({},$),this._config=Object.assign({},ee),this._name=ee.name,this._automaticDataCollectionEnabled=ee.automaticDataCollectionEnabled,this._container=er,this.container.addComponent(new es.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($){this.checkDestroyed(),this._automaticDataCollectionEnabled=$}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($){this._isDeleted=$}checkDestroyed(){if(this.isDeleted)throw e2.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e4=eY;function initializeApp($,ee={}){let er=$;if("object"!=typeof ee){let $=ee;ee={name:$}}let ei=Object.assign({name:eJ,automaticDataCollectionEnabled:!1},ee),en=ei.name;if("string"!=typeof en||!en)throw e2.create("bad-app-name",{appName:String(en)});if(er||(er=(0,ep.aH)()),!er)throw e2.create("no-options");let eo=eZ.get(en);if(eo){if((0,ep.vZ)(er,eo.options)&&(0,ep.vZ)(ei,eo.config))return eo;throw e2.create("duplicate-app",{appName:en})}let eu=new es.H0(en);for(let $ of e1.values())eu.addComponent($);let eh=new FirebaseAppImpl(er,ei,eu);return eZ.set(en,eh),eh}function getApp($=eJ){let ee=eZ.get($);if(!ee&&$===eJ&&(0,ep.aH)())return initializeApp();if(!ee)throw e2.create("no-app",{appName:$});return ee}function registerVersion($,ee,er){var ei;let en=null!==(ei=eX[$])&&void 0!==ei?ei:$;er&&(en+=`-${er}`);let eo=en.match(/\s|\//),ep=ee.match(/\s|\//);if(eo||ep){let $=[`Unable to register library "${en}" with version "${ee}":`];eo&&$.push(`library name "${en}" contains illegal characters (whitespace or "/")`),eo&&ep&&$.push("and"),ep&&$.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),eT.warn($.join(" "));return}_registerComponent(new es.wA(`${en}-version`,()=>({library:en,version:ee}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e6="firebase-heartbeat-database",e8=1,e9="firebase-heartbeat-store",e3=null;function getDbPromise(){return e3||(e3=openDB(e6,e8,{upgrade:($,ee)=>{0===ee&&$.createObjectStore(e9)}}).catch($=>{throw e2.create("idb-open",{originalErrorMessage:$.message})})),e3}async function readHeartbeatsFromIndexedDB($){try{let ee=await getDbPromise(),er=await ee.transaction(e9).objectStore(e9).get(computeKey($));return er}catch($){if($ instanceof ep.ZR)eT.warn($.message);else{let ee=e2.create("idb-get",{originalErrorMessage:null==$?void 0:$.message});eT.warn(ee.message)}}}async function writeHeartbeatsToIndexedDB($,ee){try{let er=await getDbPromise(),ei=er.transaction(e9,"readwrite"),en=ei.objectStore(e9);await en.put(ee,computeKey($)),await ei.done}catch($){if($ instanceof ep.ZR)eT.warn($.message);else{let ee=e2.create("idb-set",{originalErrorMessage:null==$?void 0:$.message});eT.warn(ee.message)}}}function computeKey($){return`${$.name}!${$.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e5=1024,e7=2592e6;let HeartbeatServiceImpl=class HeartbeatServiceImpl{constructor($){this.container=$,this._heartbeatsCache=null;let ee=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(ee),this._heartbeatsCachePromise=this._storage.read().then($=>(this._heartbeatsCache=$,$))}async triggerHeartbeat(){let $=this.container.getProvider("platform-logger").getImmediate(),ee=$.getPlatformInfoString(),er=getUTCDateString();return(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate===er||this._heartbeatsCache.heartbeats.some($=>$.date===er))?void 0:(this._heartbeatsCache.heartbeats.push({date:er,agent:ee}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter($=>{let ee=new Date($.date).valueOf(),er=Date.now();return er-ee<=e7}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";let $=getUTCDateString(),{heartbeatsToSend:ee,unsentEntries:er}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),ei=(0,ep.L)(JSON.stringify({version:2,heartbeats:ee}));return this._heartbeatsCache.lastSentHeartbeatDate=$,er.length>0?(this._heartbeatsCache.heartbeats=er,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),ei}};function getUTCDateString(){let $=new Date;return $.toISOString().substring(0,10)}function extractHeartbeatsForHeader($,ee=e5){let er=[],ei=$.slice();for(let en of $){let $=er.find($=>$.agent===en.agent);if($){if($.dates.push(en.date),countBytes(er)>ee){$.dates.pop();break}}else if(er.push({agent:en.agent,dates:[en.date]}),countBytes(er)>ee){er.pop();break}ei=ei.slice(1)}return{heartbeatsToSend:er,unsentEntries:ei}}let HeartbeatStorageImpl=class HeartbeatStorageImpl{constructor($){this.app=$,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,ep.hl)()&&(0,ep.eu)().then(()=>!0).catch(()=>!1)}async read(){let $=await this._canUseIndexedDBPromise;if(!$)return{heartbeats:[]};{let $=await readHeartbeatsFromIndexedDB(this.app);return $||{heartbeats:[]}}}async overwrite($){var ee;let er=await this._canUseIndexedDBPromise;if(er){let er=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:null!==(ee=$.lastSentHeartbeatDate)&&void 0!==ee?ee:er.lastSentHeartbeatDate,heartbeats:$.heartbeats})}}async add($){var ee;let er=await this._canUseIndexedDBPromise;if(er){let er=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:null!==(ee=$.lastSentHeartbeatDate)&&void 0!==ee?ee:er.lastSentHeartbeatDate,heartbeats:[...er.heartbeats,...$.heartbeats]})}}};function countBytes($){return(0,ep.L)(JSON.stringify({version:2,heartbeats:$})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function($){_registerComponent(new es.wA("platform-logger",$=>new PlatformLoggerServiceImpl($),"PRIVATE")),_registerComponent(new es.wA("heartbeat",$=>new HeartbeatServiceImpl($),"PRIVATE")),registerVersion(ew,eC,""),registerVersion(ew,eC,"esm2017"),registerVersion("fire-js","")})(0)},86860:($,ee,er)=>{"use strict";er.d(ee,{H0:()=>ComponentContainer,wA:()=>Component});var ei=er(38465);let Component=class Component{constructor($,ee,er){this.name=$,this.instanceFactory=ee,this.type=er,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let en="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Provider=class Provider{constructor($,ee){this.name=$,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){let ee=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(ee)){let $=new ei.BH;if(this.instancesDeferred.set(ee,$),this.isInitialized(ee)||this.shouldAutoInitialize())try{let er=this.getOrInitializeService({instanceIdentifier:ee});er&&$.resolve(er)}catch($){}}return this.instancesDeferred.get(ee).promise}getImmediate($){var ee;let er=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),ei=null!==(ee=null==$?void 0:$.optional)&&void 0!==ee&&ee;if(this.isInitialized(er)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:er})}catch($){if(ei)return null;throw $}else{if(ei)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(isComponentEager($))try{this.getOrInitializeService({instanceIdentifier:en})}catch($){}for(let[$,ee]of this.instancesDeferred.entries()){let er=this.normalizeInstanceIdentifier($);try{let $=this.getOrInitializeService({instanceIdentifier:er});ee.resolve($)}catch($){}}}}clearInstance($=en){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}async delete(){let $=Array.from(this.instances.values());await Promise.all([...$.filter($=>"INTERNAL"in $).map($=>$.INTERNAL.delete()),...$.filter($=>"_delete"in $).map($=>$._delete())])}isComponentSet(){return null!=this.component}isInitialized($=en){return this.instances.has($)}getOptions($=en){return this.instancesOptions.get($)||{}}initialize($={}){let{options:ee={}}=$,er=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(er))throw Error(`${this.name}(${er}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let ei=this.getOrInitializeService({instanceIdentifier:er,options:ee});for(let[$,ee]of this.instancesDeferred.entries()){let en=this.normalizeInstanceIdentifier($);er===en&&ee.resolve(ei)}return ei}onInit($,ee){var er;let ei=this.normalizeInstanceIdentifier(ee),en=null!==(er=this.onInitCallbacks.get(ei))&&void 0!==er?er:new Set;en.add($),this.onInitCallbacks.set(ei,en);let es=this.instances.get(ei);return es&&$(es,ei),()=>{en.delete($)}}invokeOnInitCallbacks($,ee){let er=this.onInitCallbacks.get(ee);if(er)for(let ei of er)try{ei($,ee)}catch($){}}getOrInitializeService({instanceIdentifier:$,options:ee={}}){let er=this.instances.get($);if(!er&&this.component&&(er=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory($),options:ee}),this.instances.set($,er),this.instancesOptions.set($,ee),this.invokeOnInitCallbacks(er,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,er)}catch($){}return er||null}normalizeInstanceIdentifier($=en){return this.component?this.component.multipleInstances?$:en:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}};function normalizeIdentifierForFactory($){return $===en?void 0:$}function isComponentEager($){return"EAGER"===$.instantiationMode}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ComponentContainer=class ComponentContainer{constructor($){this.name=$,this.providers=new Map}addComponent($){let ee=this.getProvider($.name);if(ee.isComponentSet())throw Error(`Component ${$.name} has already been registered with ${this.name}`);ee.setComponent($)}addOrOverwriteComponent($){let ee=this.getProvider($.name);ee.isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);let ee=new Provider($,this);return this.providers.set($,ee),ee}getProviders(){return Array.from(this.providers.values())}}},11648:($,ee,er)=>{"use strict";var ei;er.d(ee,{Yd:()=>Logger,in:()=>ei});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let en=[];!function($){$[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT"}(ei||(ei={}));let es={debug:ei.DEBUG,verbose:ei.VERBOSE,info:ei.INFO,warn:ei.WARN,error:ei.ERROR,silent:ei.SILENT},eo=ei.INFO,ep={[ei.DEBUG]:"log",[ei.VERBOSE]:"log",[ei.INFO]:"info",[ei.WARN]:"warn",[ei.ERROR]:"error"},defaultLogHandler=($,ee,...er)=>{if(ee<$.logLevel)return;let ei=new Date().toISOString(),en=ep[ee];if(en)console[en](`[${ei}]  ${$.name}:`,...er);else throw Error(`Attempted to log a message with an invalid logType (value: ${ee})`)};let Logger=class Logger{constructor($){this.name=$,this._logLevel=eo,this._logHandler=defaultLogHandler,this._userLogHandler=null,en.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in ei))throw TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?es[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,ei.DEBUG,...$),this._logHandler(this,ei.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,ei.VERBOSE,...$),this._logHandler(this,ei.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,ei.INFO,...$),this._logHandler(this,ei.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,ei.WARN,...$),this._logHandler(this,ei.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,ei.ERROR,...$),this._logHandler(this,ei.ERROR,...$)}}},38465:($,ee,er)=>{"use strict";er.d(ee,{BH:()=>Deferred,DV:()=>safeGet,GJ:()=>isAdmin,L:()=>base64urlEncodeWithoutPadding,LL:()=>ErrorFactory,P0:()=>getDefaultEmulatorHostnameAndPort,Sg:()=>createMockUserToken,UI:()=>map,US:()=>en,Wl:()=>stringify,Yr:()=>isNodeSdk,ZR:()=>FirebaseError,aH:()=>getDefaultAppConfig,b$:()=>isReactNative,cI:()=>jsonEval,dS:()=>stringToByteArray,eu:()=>validateIndexedDBOpenable,g5:()=>assertionError,gK:()=>errorPrefix,gQ:()=>Sha1,h$:()=>base64Encode,hl:()=>isIndexedDBAvailable,hu:()=>assert,m9:()=>getModularInstance,ne:()=>createSubscribe,p$:()=>deepCopy,pd:()=>extractQuerystring,q4:()=>getDefaultEmulatorHost,r3:()=>contains,ru:()=>isBrowserExtension,tV:()=>base64Decode,uI:()=>isMobileCordova,ug:()=>stringLength,vZ:()=>deepEqual,w9:()=>isValidFormat,xO:()=>querystring,xb:()=>isEmpty,z$:()=>getUA,zd:()=>querystringDecode});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ei={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},assert=function($,ee){if(!$)throw assertionError(ee)},assertionError=function($){return Error("Firebase Database ("+ei.SDK_VERSION+") INTERNAL ASSERT FAILED: "+$)},stringToByteArray$1=function($){let ee=[],er=0;for(let ei=0;ei<$.length;ei++){let en=$.charCodeAt(ei);en<128?ee[er++]=en:(en<2048?ee[er++]=en>>6|192:((64512&en)==55296&&ei+1<$.length&&(64512&$.charCodeAt(ei+1))==56320?(en=65536+((1023&en)<<10)+(1023&$.charCodeAt(++ei)),ee[er++]=en>>18|240,ee[er++]=en>>12&63|128):ee[er++]=en>>12|224,ee[er++]=en>>6&63|128),ee[er++]=63&en|128)}return ee},byteArrayToString=function($){let ee=[],er=0,ei=0;for(;er<$.length;){let en=$[er++];if(en<128)ee[ei++]=String.fromCharCode(en);else if(en>191&&en<224){let es=$[er++];ee[ei++]=String.fromCharCode((31&en)<<6|63&es)}else if(en>239&&en<365){let es=$[er++],eo=$[er++],ep=$[er++],eu=((7&en)<<18|(63&es)<<12|(63&eo)<<6|63&ep)-65536;ee[ei++]=String.fromCharCode(55296+(eu>>10)),ee[ei++]=String.fromCharCode(56320+(1023&eu))}else{let es=$[er++],eo=$[er++];ee[ei++]=String.fromCharCode((15&en)<<12|(63&es)<<6|63&eo)}}return ee.join("")},en={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,ee){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();let er=ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,ei=[];for(let ee=0;ee<$.length;ee+=3){let en=$[ee],es=ee+1<$.length,eo=es?$[ee+1]:0,ep=ee+2<$.length,eu=ep?$[ee+2]:0,eh=en>>2,em=(3&en)<<4|eo>>4,ef=(15&eo)<<2|eu>>6,eg=63&eu;ep||(eg=64,es||(ef=64)),ei.push(er[eh],er[em],er[ef],er[eg])}return ei.join("")},encodeString($,ee){return this.HAS_NATIVE_SUPPORT&&!ee?btoa($):this.encodeByteArray(stringToByteArray$1($),ee)},decodeString($,ee){return this.HAS_NATIVE_SUPPORT&&!ee?atob($):byteArrayToString(this.decodeStringToByteArray($,ee))},decodeStringToByteArray($,ee){this.init_();let er=ee?this.charToByteMapWebSafe_:this.charToByteMap_,ei=[];for(let ee=0;ee<$.length;){let en=er[$.charAt(ee++)],es=ee<$.length,eo=es?er[$.charAt(ee)]:0;++ee;let ep=ee<$.length,eu=ep?er[$.charAt(ee)]:64;++ee;let eh=ee<$.length,em=eh?er[$.charAt(ee)]:64;if(++ee,null==en||null==eo||null==eu||null==em)throw new DecodeBase64StringError;let ef=en<<2|eo>>4;if(ei.push(ef),64!==eu){let $=eo<<4&240|eu>>2;if(ei.push($),64!==em){let $=eu<<6&192|em;ei.push($)}}}return ei},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};let DecodeBase64StringError=class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};let base64Encode=function($){let ee=stringToByteArray$1($);return en.encodeByteArray(ee,!0)},base64urlEncodeWithoutPadding=function($){return base64Encode($).replace(/\./g,"")},base64Decode=function($){try{return en.decodeString($,!0)}catch($){console.error("base64Decode failed: ",$)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function deepCopy($){return deepExtend(void 0,$)}function deepExtend($,ee){if(!(ee instanceof Object))return ee;switch(ee.constructor){case Date:let er=ee;return new Date(er.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return ee}for(let er in ee)ee.hasOwnProperty(er)&&isValidKey(er)&&($[er]=deepExtend($[er],ee[er]));return $}function isValidKey($){return"__proto__"!==$}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if("undefined"==typeof process||void 0===process.env)return;let $=process.env.__FIREBASE_DEFAULTS__;if($)return JSON.parse($)},getDefaultsFromCookie=()=>{let $;if("undefined"==typeof document)return;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch($){return}let ee=$&&base64Decode($[1]);return ee&&JSON.parse(ee)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch($){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`);return}},getDefaultEmulatorHost=$=>{var ee,er;return null===(er=null===(ee=getDefaults())||void 0===ee?void 0:ee.emulatorHosts)||void 0===er?void 0:er[$]},getDefaultEmulatorHostnameAndPort=$=>{let ee=getDefaultEmulatorHost($);if(!ee)return;let er=ee.lastIndexOf(":");if(er<=0||er+1===ee.length)throw Error(`Invalid host ${ee} with no separate hostname and port!`);let ei=parseInt(ee.substring(er+1),10);return"["===ee[0]?[ee.substring(1,er-1),ei]:[ee.substring(0,er),ei]},getDefaultAppConfig=()=>{var $;return null===($=getDefaults())||void 0===$?void 0:$.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Deferred=class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,ee)=>{this.resolve=$,this.reject=ee})}wrapCallback($){return(ee,er)=>{ee?this.reject(ee):this.resolve(er),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(ee):$(ee,er))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken($,ee){if($.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let er={alg:"none",type:"JWT"},ei=ee||"demo-project",en=$.iat||0,es=$.sub||$.user_id;if(!es)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let eo=Object.assign({iss:`https://securetoken.google.com/${ei}`,aud:ei,iat:en,exp:en+3600,auth_time:en,sub:es,user_id:es,firebase:{sign_in_provider:"custom",identities:{}}},$),ep="";return[base64urlEncodeWithoutPadding(JSON.stringify(er)),base64urlEncodeWithoutPadding(JSON.stringify(eo)),ep].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function isMobileCordova(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isBrowserExtension(){let $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function isReactNative(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function isNodeSdk(){return!0===ei.NODE_CLIENT||!0===ei.NODE_ADMIN}function isIndexedDBAvailable(){try{return"object"==typeof indexedDB}catch($){return!1}}function validateIndexedDBOpenable(){return new Promise(($,ee)=>{try{let er=!0,ei="validate-browser-context-for-indexeddb-analytics-module",en=self.indexedDB.open(ei);en.onsuccess=()=>{en.result.close(),er||self.indexedDB.deleteDatabase(ei),$(!0)},en.onupgradeneeded=()=>{er=!1},en.onerror=()=>{var $;ee((null===($=en.error)||void 0===$?void 0:$.message)||"")}}catch($){ee($)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let es="FirebaseError";let FirebaseError=class FirebaseError extends Error{constructor($,ee,er){super(ee),this.code=$,this.customData=er,this.name=es,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}};let ErrorFactory=class ErrorFactory{constructor($,ee,er){this.service=$,this.serviceName=ee,this.errors=er}create($,...ee){let er=ee[0]||{},ei=`${this.service}/${$}`,en=this.errors[$],es=en?replaceTemplate(en,er):"Error",eo=`${this.serviceName}: ${es} (${ei}).`,ep=new FirebaseError(ei,eo,er);return ep}};function replaceTemplate($,ee){return $.replace(eo,($,er)=>{let ei=ee[er];return null!=ei?String(ei):`<${er}?>`})}let eo=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonEval($){return JSON.parse($)}function stringify($){return JSON.stringify($)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let decode=function($){let ee={},er={},ei={},en="";try{let es=$.split(".");ee=jsonEval(base64Decode(es[0])||""),er=jsonEval(base64Decode(es[1])||""),en=es[2],ei=er.d||{},delete er.d}catch($){}return{header:ee,claims:er,data:ei,signature:en}},isValidFormat=function($){let ee=decode($),er=ee.claims;return!!er&&"object"==typeof er&&er.hasOwnProperty("iat")},isAdmin=function($){let ee=decode($).claims;return"object"==typeof ee&&!0===ee.admin};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function contains($,ee){return Object.prototype.hasOwnProperty.call($,ee)}function safeGet($,ee){return Object.prototype.hasOwnProperty.call($,ee)?$[ee]:void 0}function isEmpty($){for(let ee in $)if(Object.prototype.hasOwnProperty.call($,ee))return!1;return!0}function map($,ee,er){let ei={};for(let en in $)Object.prototype.hasOwnProperty.call($,en)&&(ei[en]=ee.call(er,$[en],en,$));return ei}function deepEqual($,ee){if($===ee)return!0;let er=Object.keys($),ei=Object.keys(ee);for(let en of er){if(!ei.includes(en))return!1;let er=$[en],es=ee[en];if(isObject(er)&&isObject(es)){if(!deepEqual(er,es))return!1}else if(er!==es)return!1}for(let $ of ei)if(!er.includes($))return!1;return!0}function isObject($){return null!==$&&"object"==typeof $}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring($){let ee=[];for(let[er,ei]of Object.entries($))Array.isArray(ei)?ei.forEach($=>{ee.push(encodeURIComponent(er)+"="+encodeURIComponent($))}):ee.push(encodeURIComponent(er)+"="+encodeURIComponent(ei));return ee.length?"&"+ee.join("&"):""}function querystringDecode($){let ee={},er=$.replace(/^\?/,"").split("&");return er.forEach($=>{if($){let[er,ei]=$.split("=");ee[decodeURIComponent(er)]=decodeURIComponent(ei)}}),ee}function extractQuerystring($){let ee=$.indexOf("?");if(!ee)return"";let er=$.indexOf("#",ee);return $.substring(ee,er>0?er:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sha1=class Sha1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let $=1;$<this.blockSize;++$)this.pad_[$]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_($,ee){let er,ei;ee||(ee=0);let en=this.W_;if("string"==typeof $)for(let er=0;er<16;er++)en[er]=$.charCodeAt(ee)<<24|$.charCodeAt(ee+1)<<16|$.charCodeAt(ee+2)<<8|$.charCodeAt(ee+3),ee+=4;else for(let er=0;er<16;er++)en[er]=$[ee]<<24|$[ee+1]<<16|$[ee+2]<<8|$[ee+3],ee+=4;for(let $=16;$<80;$++){let ee=en[$-3]^en[$-8]^en[$-14]^en[$-16];en[$]=(ee<<1|ee>>>31)&4294967295}let es=this.chain_[0],eo=this.chain_[1],ep=this.chain_[2],eu=this.chain_[3],eh=this.chain_[4];for(let $=0;$<80;$++){$<40?$<20?(er=eu^eo&(ep^eu),ei=1518500249):(er=eo^ep^eu,ei=1859775393):$<60?(er=eo&ep|eu&(eo|ep),ei=2400959708):(er=eo^ep^eu,ei=3395469782);let ee=(es<<5|es>>>27)+er+eh+ei+en[$]&4294967295;eh=eu,eu=ep,ep=(eo<<30|eo>>>2)&4294967295,eo=es,es=ee}this.chain_[0]=this.chain_[0]+es&4294967295,this.chain_[1]=this.chain_[1]+eo&4294967295,this.chain_[2]=this.chain_[2]+ep&4294967295,this.chain_[3]=this.chain_[3]+eu&4294967295,this.chain_[4]=this.chain_[4]+eh&4294967295}update($,ee){if(null==$)return;void 0===ee&&(ee=$.length);let er=ee-this.blockSize,ei=0,en=this.buf_,es=this.inbuf_;for(;ei<ee;){if(0===es)for(;ei<=er;)this.compress_($,ei),ei+=this.blockSize;if("string"==typeof $){for(;ei<ee;)if(en[es]=$.charCodeAt(ei),++es,++ei,es===this.blockSize){this.compress_(en),es=0;break}}else for(;ei<ee;)if(en[es]=$[ei],++es,++ei,es===this.blockSize){this.compress_(en),es=0;break}}this.inbuf_=es,this.total_+=ee}digest(){let $=[],ee=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let $=this.blockSize-1;$>=56;$--)this.buf_[$]=255&ee,ee/=256;this.compress_(this.buf_);let er=0;for(let ee=0;ee<5;ee++)for(let ei=24;ei>=0;ei-=8)$[er]=this.chain_[ee]>>ei&255,++er;return $}};function createSubscribe($,ee){let er=new ObserverProxy($,ee);return er.subscribe.bind(er)}let ObserverProxy=class ObserverProxy{constructor($,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{$(this)}).catch($=>{this.error($)})}next($){this.forEachObserver(ee=>{ee.next($)})}error($){this.forEachObserver(ee=>{ee.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,ee,er){let ei;if(void 0===$&&void 0===ee&&void 0===er)throw Error("Missing Observer.");void 0===(ei=implementsAnyMethods($,["next","error","complete"])?$:{next:$,error:ee,complete:er}).next&&(ei.next=noop),void 0===ei.error&&(ei.error=noop),void 0===ei.complete&&(ei.complete=noop);let en=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ei.error(this.finalError):ei.complete()}catch($){}}),this.observers.push(ei),en}unsubscribeOne($){void 0!==this.observers&&void 0!==this.observers[$]&&(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,$)}sendOne($,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{ee(this.observers[$])}catch($){"undefined"!=typeof console&&console.error&&console.error($)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function implementsAnyMethods($,ee){if("object"!=typeof $||null===$)return!1;for(let er of ee)if(er in $&&"function"==typeof $[er])return!0;return!1}function noop(){}function errorPrefix($,ee){return`${$} failed: ${ee} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let stringToByteArray=function($){let ee=[],er=0;for(let ei=0;ei<$.length;ei++){let en=$.charCodeAt(ei);if(en>=55296&&en<=56319){let ee=en-55296;assert(++ei<$.length,"Surrogate pair missing trail surrogate.");let er=$.charCodeAt(ei)-56320;en=65536+(ee<<10)+er}en<128?ee[er++]=en:(en<2048?ee[er++]=en>>6|192:(en<65536?ee[er++]=en>>12|224:(ee[er++]=en>>18|240,ee[er++]=en>>12&63|128),ee[er++]=en>>6&63|128),ee[er++]=63&en|128)}return ee},stringLength=function($){let ee=0;for(let er=0;er<$.length;er++){let ei=$.charCodeAt(er);ei<128?ee++:ei<2048?ee+=2:ei>=55296&&ei<=56319?(ee+=4,er++):ee+=3}return ee};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance($){return $&&$._delegate?$._delegate:$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei.NODE_CLIENT=!0},40858:($,ee,er)=>{"use strict";er.d(ee,{ZF:()=>ei.ZF});var ei=er(25662),en="firebase",es="10.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(0,ei.KN)(en,es,"app")},24556:($,ee,er)=>{"use strict";er.d(ee,{v0:()=>getAuth});var ei=er(38465),en=er(25662),extendStatics=function($,ee){return(extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function($,ee){$.__proto__=ee}||function($,ee){for(var er in ee)Object.prototype.hasOwnProperty.call(ee,er)&&($[er]=ee[er])})($,ee)},__assign=function(){return(__assign=Object.assign||function($){for(var ee,er=1,ei=arguments.length;er<ei;er++)for(var en in ee=arguments[er])Object.prototype.hasOwnProperty.call(ee,en)&&($[en]=ee[en]);return $}).apply(this,arguments)};function __rest($,ee){var er={};for(var ei in $)Object.prototype.hasOwnProperty.call($,ei)&&0>ee.indexOf(ei)&&(er[ei]=$[ei]);if(null!=$&&"function"==typeof Object.getOwnPropertySymbols)for(var en=0,ei=Object.getOwnPropertySymbols($);en<ei.length;en++)0>ee.indexOf(ei[en])&&Object.prototype.propertyIsEnumerable.call($,ei[en])&&(er[ei[en]]=$[ei[en]]);return er}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var es=er(86860),eo=er(85465),ep=er(11648);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isEnterprise($){return void 0!==$&&void 0!==$.enterprise}let RecaptchaConfig=class RecaptchaConfig{constructor($){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===$.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=$.recaptchaKey.split("/")[3],this.emailPasswordEnabled=$.recaptchaEnforcementState.some($=>"EMAIL_PASSWORD_PROVIDER"===$.provider&&"OFF"!==$.enforcementState)}};function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let eu=_prodErrorMap,eh=new ei.LL("auth","Firebase",_prodErrorMap()),em=new ep.Yd("@firebase/auth");function _logWarn($,...ee){em.logLevel<=ep.in.WARN&&em.warn(`Auth (${en.Jn}): ${$}`,...ee)}function _logError($,...ee){em.logLevel<=ep.in.ERROR&&em.error(`Auth (${en.Jn}): ${$}`,...ee)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail($,...ee){throw createErrorInternal($,...ee)}function _createError($,...ee){return createErrorInternal($,...ee)}function _errorWithCustomMessage($,ee,er){let en=Object.assign(Object.assign({},eu()),{[ee]:er}),es=new ei.LL("auth","Firebase",en);return es.create(ee,{appName:$.name})}function createErrorInternal($,...ee){if("string"!=typeof $){let er=ee[0],ei=[...ee.slice(1)];return ei[0]&&(ei[0].appName=$.name),$._errorFactory.create(er,...ei)}return eh.create($,...ee)}function _assert($,ee,...er){if(!$)throw createErrorInternal(ee,...er)}function debugFail($){let ee="INTERNAL ASSERTION FAILED: "+$;throw _logError(ee),Error(ee)}function debugAssert($,ee){$||debugFail(ee)}function _isHttpOrHttps(){return"http:"===_getCurrentScheme()||"https:"===_getCurrentScheme()}function _getCurrentScheme(){var $;return"undefined"!=typeof self&&(null===($=self.location)||void 0===$?void 0:$.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_isHttpOrHttps()||(0,ei.ru)()||"connection"in navigator))||navigator.onLine}function _getUserLanguage(){if("undefined"==typeof navigator)return null;let $=navigator;return $.languages&&$.languages[0]||$.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Delay=class Delay{constructor($,ee){this.shortDelay=$,this.longDelay=ee,debugAssert(ee>$,"Short delay should be less than long delay!"),this.isMobile=(0,ei.uI)()||(0,ei.b$)()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl($,ee){debugAssert($.emulator,"Emulator should always be set here");let{url:er}=$.emulator;return ee?`${er}${ee.startsWith("/")?ee.slice(1):ee}`:er}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FetchProvider=class FetchProvider{static initialize($,ee,er){this.fetchImpl=$,ee&&(this.headersImpl=ee),er&&(this.responseImpl=er)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},eg=new Delay(3e4,6e4);function _addTidIfNecessary($,ee){return $.tenantId&&!ee.tenantId?Object.assign(Object.assign({},ee),{tenantId:$.tenantId}):ee}async function _performApiRequest($,ee,er,en,es={}){return _performFetchWithErrorHandling($,es,async()=>{let es={},eo={};en&&("GET"===ee?eo=en:es={body:JSON.stringify(en)});let ep=(0,ei.xO)(Object.assign({key:$.config.apiKey},eo)).slice(1),eu=await $._getAdditionalHeaders();return eu["Content-Type"]="application/json",$.languageCode&&(eu["X-Firebase-Locale"]=$.languageCode),FetchProvider.fetch()(_getFinalTarget($,$.config.apiHost,er,ep),Object.assign({method:ee,headers:eu,referrerPolicy:"no-referrer"},es))})}async function _performFetchWithErrorHandling($,ee,er){$._canInitEmulator=!1;let en=Object.assign(Object.assign({},ef),ee);try{let ee=new NetworkTimeout($),ei=await Promise.race([er(),ee.promise]);ee.clearNetworkTimeout();let es=await ei.json();if("needConfirmation"in es)throw _makeTaggedError($,"account-exists-with-different-credential",es);if(ei.ok&&!("errorMessage"in es))return es;{let ee=ei.ok?es.errorMessage:es.error.message,[er,eo]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===er)throw _makeTaggedError($,"credential-already-in-use",es);if("EMAIL_EXISTS"===er)throw _makeTaggedError($,"email-already-in-use",es);if("USER_DISABLED"===er)throw _makeTaggedError($,"user-disabled",es);let ep=en[er]||er.toLowerCase().replace(/[_\s]+/g,"-");if(eo)throw _errorWithCustomMessage($,ep,eo);_fail($,ep)}}catch(ee){if(ee instanceof ei.ZR)throw ee;_fail($,"network-request-failed",{message:String(ee)})}}async function _performSignInRequest($,ee,er,ei,en={}){let es=await _performApiRequest($,ee,er,ei,en);return"mfaPendingCredential"in es&&_fail($,"multi-factor-auth-required",{_serverResponse:es}),es}function _getFinalTarget($,ee,er,ei){let en=`${ee}${er}?${ei}`;return $.config.emulator?_emulatorUrl($.config,en):`${$.config.apiScheme}://${en}`}let NetworkTimeout=class NetworkTimeout{constructor($){this.auth=$,this.timer=null,this.promise=new Promise(($,ee)=>{this.timer=setTimeout(()=>ee(_createError(this.auth,"network-request-failed")),eg.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function _makeTaggedError($,ee,er){let ei={appName:$.name};er.email&&(ei.email=er.email),er.phoneNumber&&(ei.phoneNumber=er.phoneNumber);let en=_createError($,ee,ei);return en.customData._tokenResponse=er,en}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getRecaptchaConfig($,ee){return _performApiRequest($,"GET","/v2/recaptchaConfig",_addTidIfNecessary($,ee))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount($,ee){return _performApiRequest($,"POST","/v1/accounts:delete",ee)}async function getAccountInfo($,ee){return _performApiRequest($,"POST","/v1/accounts:lookup",ee)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString($){if($)try{let ee=new Date(Number($));if(!isNaN(ee.getTime()))return ee.toUTCString()}catch($){}}async function getIdTokenResult($,ee=!1){let er=(0,ei.m9)($),en=await er.getIdToken(ee),es=_parseToken(en);_assert(es&&es.exp&&es.auth_time&&es.iat,er.auth,"internal-error");let eo="object"==typeof es.firebase?es.firebase:void 0,ep=null==eo?void 0:eo.sign_in_provider;return{claims:es,token:en,authTime:utcTimestampToDateString(secondsStringToMilliseconds(es.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(es.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(es.exp)),signInProvider:ep||null,signInSecondFactor:(null==eo?void 0:eo.sign_in_second_factor)||null}}function secondsStringToMilliseconds($){return 1e3*Number($)}function _parseToken($){let[ee,er,en]=$.split(".");if(void 0===ee||void 0===er||void 0===en)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{let $=(0,ei.tV)(er);if(!$)return _logError("Failed to decode base64 JWT payload"),null;return JSON.parse($)}catch($){return _logError("Caught error parsing JWT payload as JSON",null==$?void 0:$.toString()),null}}function _tokenExpiresIn($){let ee=_parseToken($);return _assert(ee,"internal-error"),_assert(void 0!==ee.exp,"internal-error"),_assert(void 0!==ee.iat,"internal-error"),Number(ee.exp)-Number(ee.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated($,ee,er=!1){if(er)return ee;try{return await ee}catch(ee){throw ee instanceof ei.ZR&&isUserInvalidated(ee)&&$.auth.currentUser===$&&await $.auth.signOut(),ee}}function isUserInvalidated({code:$}){return"auth/user-disabled"===$||"auth/user-token-expired"===$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ProactiveRefresh=class ProactiveRefresh{constructor($){this.user=$,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval($){var ee;if($){let $=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),$}{this.errorBackoff=3e4;let $=null!==(ee=this.user.stsTokenManager.expirationTime)&&void 0!==ee?ee:0,er=$-Date.now()-3e5;return Math.max(0,er)}}schedule($=!1){if(!this.isRunning)return;let ee=this.getInterval($);this.timerId=setTimeout(async()=>{await this.iteration()},ee)}async iteration(){try{await this.user.getIdToken(!0)}catch($){(null==$?void 0:$.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UserMetadata=class UserMetadata{constructor($,ee){this.createdAt=$,this.lastLoginAt=ee,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy($){this.createdAt=$.createdAt,this.lastLoginAt=$.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving($){var ee;let er=$.auth,ei=await $.getIdToken(),en=await _logoutIfInvalidated($,getAccountInfo(er,{idToken:ei}));_assert(null==en?void 0:en.users.length,er,"internal-error");let es=en.users[0];$._notifyReloadListener(es);let eo=(null===(ee=es.providerUserInfo)||void 0===ee?void 0:ee.length)?extractProviderData(es.providerUserInfo):[],ep=mergeProviderData($.providerData,eo),eu=$.isAnonymous,eh=!($.email&&es.passwordHash)&&!(null==ep?void 0:ep.length),em=!!eu&&eh,ef={uid:es.localId,displayName:es.displayName||null,photoURL:es.photoUrl||null,email:es.email||null,emailVerified:es.emailVerified||!1,phoneNumber:es.phoneNumber||null,tenantId:es.tenantId||null,providerData:ep,metadata:new UserMetadata(es.createdAt,es.lastLoginAt),isAnonymous:em};Object.assign($,ef)}async function reload($){let ee=(0,ei.m9)($);await _reloadWithoutSaving(ee),await ee.auth._persistUserIfCurrent(ee),ee.auth._notifyListenersIfCurrent(ee)}function mergeProviderData($,ee){let er=$.filter($=>!ee.some(ee=>ee.providerId===$.providerId));return[...er,...ee]}function extractProviderData($){return $.map($=>{var{providerId:ee}=$,er=__rest($,["providerId"]);return{providerId:ee,uid:er.rawId||"",displayName:er.displayName||null,email:er.email||null,phoneNumber:er.phoneNumber||null,photoURL:er.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken($,ee){let er=await _performFetchWithErrorHandling($,{},async()=>{let er=(0,ei.xO)({grant_type:"refresh_token",refresh_token:ee}).slice(1),{tokenApiHost:en,apiKey:es}=$.config,eo=_getFinalTarget($,en,"/v1/token",`key=${es}`),ep=await $._getAdditionalHeaders();return ep["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(eo,{method:"POST",headers:ep,body:er})});return{accessToken:er.access_token,expiresIn:er.expires_in,refreshToken:er.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let StsTokenManager=class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse($){_assert($.idToken,"internal-error"),_assert(void 0!==$.idToken,"internal-error"),_assert(void 0!==$.refreshToken,"internal-error");let ee="expiresIn"in $&&void 0!==$.expiresIn?Number($.expiresIn):_tokenExpiresIn($.idToken);this.updateTokensAndExpiration($.idToken,$.refreshToken,ee)}async getToken($,ee=!1){return(_assert(!this.accessToken||this.refreshToken,$,"user-token-expired"),ee||!this.accessToken||this.isExpired)?this.refreshToken?(await this.refresh($,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh($,ee){let{accessToken:er,refreshToken:ei,expiresIn:en}=await requestStsToken($,ee);this.updateTokensAndExpiration(er,ei,Number(en))}updateTokensAndExpiration($,ee,er){this.refreshToken=ee||null,this.accessToken=$||null,this.expirationTime=Date.now()+1e3*er}static fromJSON($,ee){let{refreshToken:er,accessToken:ei,expirationTime:en}=ee,es=new StsTokenManager;return er&&(_assert("string"==typeof er,"internal-error",{appName:$}),es.refreshToken=er),ei&&(_assert("string"==typeof ei,"internal-error",{appName:$}),es.accessToken=ei),en&&(_assert("number"==typeof en,"internal-error",{appName:$}),es.expirationTime=en),es}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign($){this.accessToken=$.accessToken,this.refreshToken=$.refreshToken,this.expirationTime=$.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined($,ee){_assert("string"==typeof $||void 0===$,"internal-error",{appName:ee})}let UserImpl=class UserImpl{constructor($){var{uid:ee,auth:er,stsTokenManager:ei}=$,en=__rest($,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=ee,this.auth=er,this.stsTokenManager=ei,this.accessToken=ei.accessToken,this.displayName=en.displayName||null,this.email=en.email||null,this.emailVerified=en.emailVerified||!1,this.phoneNumber=en.phoneNumber||null,this.photoURL=en.photoURL||null,this.isAnonymous=en.isAnonymous||!1,this.tenantId=en.tenantId||null,this.providerData=en.providerData?[...en.providerData]:[],this.metadata=new UserMetadata(en.createdAt||void 0,en.lastLoginAt||void 0)}async getIdToken($){let ee=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,$));return _assert(ee,this.auth,"internal-error"),this.accessToken!==ee&&(this.accessToken=ee,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),ee}getIdTokenResult($){return getIdTokenResult(this,$)}reload(){return reload(this)}_assign($){this!==$&&(_assert(this.uid===$.uid,this.auth,"internal-error"),this.displayName=$.displayName,this.photoURL=$.photoURL,this.email=$.email,this.emailVerified=$.emailVerified,this.phoneNumber=$.phoneNumber,this.isAnonymous=$.isAnonymous,this.tenantId=$.tenantId,this.providerData=$.providerData.map($=>Object.assign({},$)),this.metadata._copy($.metadata),this.stsTokenManager._assign($.stsTokenManager))}_clone($){let ee=new UserImpl(Object.assign(Object.assign({},this),{auth:$,stsTokenManager:this.stsTokenManager._clone()}));return ee.metadata._copy(this.metadata),ee}_onReload($){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=$,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener($){this.reloadListener?this.reloadListener($):this.reloadUserInfo=$}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary($,ee=!1){let er=!1;$.idToken&&$.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse($),er=!0),ee&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),er&&this.auth._notifyListenersIfCurrent(this)}async delete(){let $=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:$})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map($=>Object.assign({},$)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON($,ee){var er,ei,en,es,eo,ep,eu,eh;let em=null!==(er=ee.displayName)&&void 0!==er?er:void 0,ef=null!==(ei=ee.email)&&void 0!==ei?ei:void 0,eg=null!==(en=ee.phoneNumber)&&void 0!==en?en:void 0,ey=null!==(es=ee.photoURL)&&void 0!==es?es:void 0,ev=null!==(eo=ee.tenantId)&&void 0!==eo?eo:void 0,eS=null!==(ep=ee._redirectEventId)&&void 0!==ep?ep:void 0,e_=null!==(eu=ee.createdAt)&&void 0!==eu?eu:void 0,ew=null!==(eh=ee.lastLoginAt)&&void 0!==eh?eh:void 0,{uid:eC,emailVerified:eT,isAnonymous:eE,providerData:eI,stsTokenManager:eD}=ee;_assert(eC&&eD,$,"internal-error");let eR=StsTokenManager.fromJSON(this.name,eD);_assert("string"==typeof eC,$,"internal-error"),assertStringOrUndefined(em,$.name),assertStringOrUndefined(ef,$.name),_assert("boolean"==typeof eT,$,"internal-error"),_assert("boolean"==typeof eE,$,"internal-error"),assertStringOrUndefined(eg,$.name),assertStringOrUndefined(ey,$.name),assertStringOrUndefined(ev,$.name),assertStringOrUndefined(eS,$.name),assertStringOrUndefined(e_,$.name),assertStringOrUndefined(ew,$.name);let eP=new UserImpl({uid:eC,auth:$,email:ef,emailVerified:eT,displayName:em,isAnonymous:eE,photoURL:ey,phoneNumber:eg,tenantId:ev,stsTokenManager:eR,createdAt:e_,lastLoginAt:ew});return eI&&Array.isArray(eI)&&(eP.providerData=eI.map($=>Object.assign({},$))),eS&&(eP._redirectEventId=eS),eP}static async _fromIdTokenResponse($,ee,er=!1){let ei=new StsTokenManager;ei.updateFromServerResponse(ee);let en=new UserImpl({uid:ee.localId,auth:$,stsTokenManager:ei,isAnonymous:er});return await _reloadWithoutSaving(en),en}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ey=new Map;function _getInstance($){debugAssert($ instanceof Function,"Expected a class definition");let ee=ey.get($);return ee?debugAssert(ee instanceof $,"Instance stored in cache mismatched with class"):(ee=new $,ey.set($,ee)),ee}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let InMemoryPersistence=class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set($,ee){this.storage[$]=ee}async _get($){let ee=this.storage[$];return void 0===ee?null:ee}async _remove($){delete this.storage[$]}_addListener($,ee){}_removeListener($,ee){}};InMemoryPersistence.type="NONE";let ev=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName($,ee,er){return`firebase:${$}:${ee}:${er}`}let PersistenceUserManager=class PersistenceUserManager{constructor($,ee,er){this.persistence=$,this.auth=ee,this.userKey=er;let{config:ei,name:en}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,ei.apiKey,en),this.fullPersistenceKey=_persistenceKeyName("persistence",ei.apiKey,en),this.boundEventHandler=ee._onStorageEvent.bind(ee),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser($){return this.persistence._set(this.fullUserKey,$.toJSON())}async getCurrentUser(){let $=await this.persistence._get(this.fullUserKey);return $?UserImpl._fromJSON(this.auth,$):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence($){if(this.persistence===$)return;let ee=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=$,ee)return this.setCurrentUser(ee)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create($,ee,er="authUser"){if(!ee.length)return new PersistenceUserManager(_getInstance(ev),$,er);let ei=(await Promise.all(ee.map(async $=>{if(await $._isAvailable())return $}))).filter($=>$),en=ei[0]||_getInstance(ev),es=_persistenceKeyName(er,$.config.apiKey,$.name),eo=null;for(let er of ee)try{let ee=await er._get(es);if(ee){let ei=UserImpl._fromJSON($,ee);er!==en&&(eo=ei),en=er;break}}catch($){}let ep=ei.filter($=>$._shouldAllowMigration);return en._shouldAllowMigration&&ep.length&&(en=ep[0],eo&&await en._set(es,eo.toJSON()),await Promise.all(ee.map(async $=>{if($!==en)try{await $._remove(es)}catch($){}}))),new PersistenceUserManager(en,$,er)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName($){let ee=$.toLowerCase();if(ee.includes("opera/")||ee.includes("opr/")||ee.includes("opios/"))return"Opera";if(_isIEMobile(ee))return"IEMobile";if(ee.includes("msie")||ee.includes("trident/"))return"IE";{if(ee.includes("edge/"))return"Edge";if(_isFirefox(ee))return"Firefox";if(ee.includes("silk/"))return"Silk";if(_isBlackBerry(ee))return"Blackberry";if(_isWebOS(ee))return"Webos";if(_isSafari(ee))return"Safari";if((ee.includes("chrome/")||_isChromeIOS(ee))&&!ee.includes("edge/"))return"Chrome";if(_isAndroid(ee))return"Android";let er=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,ei=$.match(er);if((null==ei?void 0:ei.length)===2)return ei[1]}return"Other"}function _isFirefox($=(0,ei.z$)()){return/firefox\//i.test($)}function _isSafari($=(0,ei.z$)()){let ee=$.toLowerCase();return ee.includes("safari/")&&!ee.includes("chrome/")&&!ee.includes("crios/")&&!ee.includes("android")}function _isChromeIOS($=(0,ei.z$)()){return/crios\//i.test($)}function _isIEMobile($=(0,ei.z$)()){return/iemobile/i.test($)}function _isAndroid($=(0,ei.z$)()){return/android/i.test($)}function _isBlackBerry($=(0,ei.z$)()){return/blackberry/i.test($)}function _isWebOS($=(0,ei.z$)()){return/webos/i.test($)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion($,ee=[]){let er;switch($){case"Browser":er=_getBrowserName((0,ei.z$)());break;case"Worker":er=`${_getBrowserName((0,ei.z$)())}-${$}`;break;default:er=$}let es=ee.length?ee.join(","):"FirebaseCore-web";return`${er}/JsCore/${en.Jn}/${es}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AuthMiddlewareQueue=class AuthMiddlewareQueue{constructor($){this.auth=$,this.queue=[]}pushCallback($,ee){let wrappedCallback=ee=>new Promise((er,ei)=>{try{let ei=$(ee);er(ei)}catch($){ei($)}});wrappedCallback.onAbort=ee,this.queue.push(wrappedCallback);let er=this.queue.length-1;return()=>{this.queue[er]=()=>Promise.resolve()}}async runMiddleware($){if(this.auth.currentUser===$)return;let ee=[];try{for(let er of this.queue)await er($),er.onAbort&&ee.push(er.onAbort)}catch($){for(let $ of(ee.reverse(),ee))try{$()}catch($){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==$?void 0:$.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy($,ee={}){return _performApiRequest($,"GET","/v2/passwordPolicy",_addTidIfNecessary($,ee))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eS=6;let PasswordPolicyImpl=class PasswordPolicyImpl{constructor($){var ee,er,ei,en;let es=$.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(ee=es.minPasswordLength)&&void 0!==ee?ee:eS,es.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=es.maxPasswordLength),void 0!==es.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=es.containsLowercaseCharacter),void 0!==es.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=es.containsUppercaseCharacter),void 0!==es.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=es.containsNumericCharacter),void 0!==es.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=es.containsNonAlphanumericCharacter),this.enforcementState=$.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(ei=null===(er=$.allowedNonAlphanumericCharacters)||void 0===er?void 0:er.join(""))&&void 0!==ei?ei:"",this.forceUpgradeOnSignin=null!==(en=$.forceUpgradeOnSignin)&&void 0!==en&&en,this.schemaVersion=$.schemaVersion}validatePassword($){var ee,er,ei,en,es,eo;let ep={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions($,ep),this.validatePasswordCharacterOptions($,ep),ep.isValid&&(ep.isValid=null===(ee=ep.meetsMinPasswordLength)||void 0===ee||ee),ep.isValid&&(ep.isValid=null===(er=ep.meetsMaxPasswordLength)||void 0===er||er),ep.isValid&&(ep.isValid=null===(ei=ep.containsLowercaseLetter)||void 0===ei||ei),ep.isValid&&(ep.isValid=null===(en=ep.containsUppercaseLetter)||void 0===en||en),ep.isValid&&(ep.isValid=null===(es=ep.containsNumericCharacter)||void 0===es||es),ep.isValid&&(ep.isValid=null===(eo=ep.containsNonAlphanumericCharacter)||void 0===eo||eo),ep}validatePasswordLengthOptions($,ee){let er=this.customStrengthOptions.minPasswordLength,ei=this.customStrengthOptions.maxPasswordLength;er&&(ee.meetsMinPasswordLength=$.length>=er),ei&&(ee.meetsMaxPasswordLength=$.length<=ei)}validatePasswordCharacterOptions($,ee){let er;this.updatePasswordCharacterOptionsStatuses(ee,!1,!1,!1,!1);for(let ei=0;ei<$.length;ei++)er=$.charAt(ei),this.updatePasswordCharacterOptionsStatuses(ee,er>="a"&&er<="z",er>="A"&&er<="Z",er>="0"&&er<="9",this.allowedNonAlphanumericCharacters.includes(er))}updatePasswordCharacterOptionsStatuses($,ee,er,ei,en){this.customStrengthOptions.containsLowercaseLetter&&($.containsLowercaseLetter||($.containsLowercaseLetter=ee)),this.customStrengthOptions.containsUppercaseLetter&&($.containsUppercaseLetter||($.containsUppercaseLetter=er)),this.customStrengthOptions.containsNumericCharacter&&($.containsNumericCharacter||($.containsNumericCharacter=ei)),this.customStrengthOptions.containsNonAlphanumericCharacter&&($.containsNonAlphanumericCharacter||($.containsNonAlphanumericCharacter=en))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AuthImpl=class AuthImpl{constructor($,ee,er,ei){this.app=$,this.heartbeatServiceProvider=ee,this.appCheckServiceProvider=er,this.config=ei,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eh,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=$.name,this.clientVersion=ei.sdkClientVersion}_initializeWithPersistence($,ee){return ee&&(this._popupRedirectResolver=_getInstance(ee)),this._initializationPromise=this.queue(async()=>{var er,ei;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,$),!this._deleted)){if(null===(er=this._popupRedirectResolver)||void 0===er?void 0:er._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch($){}await this.initializeCurrentUser(ee),this.lastNotifiedUid=(null===(ei=this.currentUser)||void 0===ei?void 0:ei.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let $=await this.assertedPersistence.getCurrentUser();if(this.currentUser||$){if(this.currentUser&&$&&this.currentUser.uid===$.uid){this._currentUser._assign($),await this.currentUser.getIdToken();return}await this._updateCurrentUser($,!0)}}async initializeCurrentUser($){var ee;let er=await this.assertedPersistence.getCurrentUser(),ei=er,en=!1;if($&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let er=null===(ee=this.redirectUser)||void 0===ee?void 0:ee._redirectEventId,es=null==ei?void 0:ei._redirectEventId,eo=await this.tryRedirectSignIn($);(!er||er===es)&&(null==eo?void 0:eo.user)&&(ei=eo.user,en=!0)}if(!ei)return this.directlySetCurrentUser(null);if(!ei._redirectEventId){if(en)try{await this.beforeStateQueue.runMiddleware(ei)}catch($){ei=er,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject($))}return ei?this.reloadAndSetCurrentUserOrClear(ei):this.directlySetCurrentUser(null)}return(_assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===ei._redirectEventId)?this.directlySetCurrentUser(ei):this.reloadAndSetCurrentUserOrClear(ei)}async tryRedirectSignIn($){let ee=null;try{ee=await this._popupRedirectResolver._completeRedirectFn(this,$,!0)}catch($){await this._setRedirectUser(null)}return ee}async reloadAndSetCurrentUserOrClear($){try{await _reloadWithoutSaving($)}catch($){if((null==$?void 0:$.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser($)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser($){let ee=$?(0,ei.m9)($):null;return ee&&_assert(ee.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(ee&&ee._clone(this))}async _updateCurrentUser($,ee=!1){if(!this._deleted)return $&&_assert(this.tenantId===$.tenantId,this,"tenant-id-mismatch"),ee||await this.beforeStateQueue.runMiddleware($),this.queue(async()=>{await this.directlySetCurrentUser($),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence($){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance($))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword($){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let ee=this._getPasswordPolicyInternal();return ee.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):ee.validatePassword($)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let $=await _getPasswordPolicy(this),ee=new PasswordPolicyImpl($);null===this.tenantId?this._projectPasswordPolicy=ee:this._tenantPasswordPolicies[this.tenantId]=ee}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap($){this._errorFactory=new ei.LL("auth","Firebase",$())}onAuthStateChanged($,ee,er){return this.registerStateListener(this.authStateSubscription,$,ee,er)}beforeAuthStateChanged($,ee){return this.beforeStateQueue.pushCallback($,ee)}onIdTokenChanged($,ee,er){return this.registerStateListener(this.idTokenSubscription,$,ee,er)}authStateReady(){return new Promise(($,ee)=>{if(this.currentUser)$();else{let er=this.onAuthStateChanged(()=>{er(),$()},ee)}})}toJSON(){var $;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===($=this._currentUser)||void 0===$?void 0:$.toJSON()}}async _setRedirectUser($,ee){let er=await this.getOrInitRedirectPersistenceManager(ee);return null===$?er.removeCurrentUser():er.setCurrentUser($)}async getOrInitRedirectPersistenceManager($){if(!this.redirectPersistenceManager){let ee=$&&_getInstance($)||this._popupRedirectResolver;_assert(ee,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(ee._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId($){var ee,er;return(this._isInitialized&&await this.queue(async()=>{}),(null===(ee=this._currentUser)||void 0===ee?void 0:ee._redirectEventId)===$)?this._currentUser:(null===(er=this.redirectUser)||void 0===er?void 0:er._redirectEventId)===$?this.redirectUser:null}async _persistUserIfCurrent($){if($===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser($))}_notifyListenersIfCurrent($){$===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var $,ee;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let er=null!==(ee=null===($=this.currentUser)||void 0===$?void 0:$.uid)&&void 0!==ee?ee:null;this.lastNotifiedUid!==er&&(this.lastNotifiedUid=er,this.authStateSubscription.next(this.currentUser))}registerStateListener($,ee,er,ei){if(this._deleted)return()=>{};let en="function"==typeof ee?ee:ee.next.bind(ee),es=!1,eo=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(eo,this,"internal-error"),eo.then(()=>{es||en(this.currentUser)}),"function"==typeof ee){let en=$.addObserver(ee,er,ei);return()=>{es=!0,en()}}{let er=$.addObserver(ee);return()=>{es=!0,er()}}}async directlySetCurrentUser($){this.currentUser&&this.currentUser!==$&&this._currentUser._stopProactiveRefresh(),$&&this.isProactiveRefreshEnabled&&$._startProactiveRefresh(),this.currentUser=$,$?await this.assertedPersistence.setCurrentUser($):await this.assertedPersistence.removeCurrentUser()}queue($){return this.operations=this.operations.then($,$),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework($){!$||this.frameworks.includes($)||(this.frameworks.push($),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var $;let ee={"X-Client-Version":this.clientVersion};this.app.options.appId&&(ee["X-Firebase-gmpid"]=this.app.options.appId);let er=await (null===($=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===$?void 0:$.getHeartbeatsHeader());er&&(ee["X-Firebase-Client"]=er);let ei=await this._getAppCheckToken();return ei&&(ee["X-Firebase-AppCheck"]=ei),ee}async _getAppCheckToken(){var $;let ee=await (null===($=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===$?void 0:$.getToken());return(null==ee?void 0:ee.error)&&_logWarn(`Error while retrieving App Check token: ${ee.error}`),null==ee?void 0:ee.token}};function _castAuth($){return(0,ei.m9)($)}let Subscription=class Subscription{constructor($){this.auth=$,this.observer=null,this.addObserver=(0,ei.ne)($=>this.observer=$)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getScriptParentElement(){var $,ee;return null!==(ee=null===($=document.getElementsByTagName("head"))||void 0===$?void 0:$[0])&&void 0!==ee?ee:document}function _loadJS($){return new Promise((ee,er)=>{let ei=document.createElement("script");ei.setAttribute("src",$),ei.onload=ee,ei.onerror=$=>{let ee=_createError("internal-error");ee.customData=$,er(ee)},ei.type="text/javascript",ei.charset="UTF-8",getScriptParentElement().appendChild(ei)})}let e_="https://www.google.com/recaptcha/enterprise.js?render=",ew="recaptcha-enterprise",eC="NO_RECAPTCHA";let RecaptchaEnterpriseVerifier=class RecaptchaEnterpriseVerifier{constructor($){this.type=ew,this.auth=_castAuth($)}async verify($="verify",ee=!1){async function retrieveSiteKey($){if(!ee){if(null==$.tenantId&&null!=$._agentRecaptchaConfig)return $._agentRecaptchaConfig.siteKey;if(null!=$.tenantId&&void 0!==$._tenantRecaptchaConfigs[$.tenantId])return $._tenantRecaptchaConfigs[$.tenantId].siteKey}return new Promise(async(ee,er)=>{getRecaptchaConfig($,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ei=>{if(void 0===ei.recaptchaKey)er(Error("recaptcha Enterprise site key undefined"));else{let er=new RecaptchaConfig(ei);return null==$.tenantId?$._agentRecaptchaConfig=er:$._tenantRecaptchaConfigs[$.tenantId]=er,ee(er.siteKey)}}).catch($=>{er($)})})}function retrieveRecaptchaToken(ee,er,ei){let en=window.grecaptcha;isEnterprise(en)?en.enterprise.ready(()=>{en.enterprise.execute(ee,{action:$}).then($=>{er($)}).catch(()=>{er(eC)})}):ei(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(($,er)=>{retrieveSiteKey(this.auth).then(ei=>{if(!ee&&isEnterprise(window.grecaptcha))retrieveRecaptchaToken(ei,$,er);else{if("undefined"==typeof window){er(Error("RecaptchaVerifier is only supported in browser"));return}_loadJS(e_+ei).then(()=>{retrieveRecaptchaToken(ei,$,er)}).catch($=>{er($)})}}).catch($=>{er($)})})}};async function injectRecaptchaFields($,ee,er,ei=!1){let en;let es=new RecaptchaEnterpriseVerifier($);try{en=await es.verify(er)}catch($){en=await es.verify(er,!0)}let eo=Object.assign({},ee);return ei?Object.assign(eo,{captchaResp:en}):Object.assign(eo,{captchaResponse:en}),Object.assign(eo,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(eo,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),eo}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth($,ee){let er=(0,en.qX)($,"auth");if(er.isInitialized()){let $=er.getImmediate(),en=er.getOptions();if((0,ei.vZ)(en,null!=ee?ee:{}))return $;_fail($,"already-initialized")}let es=er.initialize({options:ee});return es}function _initializeAuthInstance($,ee){let er=(null==ee?void 0:ee.persistence)||[],ei=(Array.isArray(er)?er:[er]).map(_getInstance);(null==ee?void 0:ee.errorMap)&&$._updateErrorMap(ee.errorMap),$._initializeWithPersistence(ei,null==ee?void 0:ee.popupRedirectResolver)}function connectAuthEmulator($,ee,er){let ei=_castAuth($);_assert(ei._canInitEmulator,ei,"emulator-config-failed"),_assert(/^https?:\/\//.test(ee),ei,"invalid-emulator-scheme");let en=!!(null==er?void 0:er.disableWarnings),es=extractProtocol(ee),{host:eo,port:ep}=extractHostAndPort(ee),eu=null===ep?"":`:${ep}`;ei.config.emulator={url:`${es}//${eo}${eu}/`},ei.settings.appVerificationDisabledForTesting=!0,ei.emulatorConfig=Object.freeze({host:eo,port:ep,protocol:es.replace(":",""),options:Object.freeze({disableWarnings:en})}),en||emitEmulatorWarning()}function extractProtocol($){let ee=$.indexOf(":");return ee<0?"":$.substr(0,ee+1)}function extractHostAndPort($){let ee=extractProtocol($),er=/(\/\/)?([^?#/]+)/.exec($.substr(ee.length));if(!er)return{host:"",port:null};let ei=er[2].split("@").pop()||"",en=/^(\[[^\]]+\])(:|$)/.exec(ei);if(en){let $=en[1];return{host:$,port:parsePort(ei.substr($.length+1))}}{let[$,ee]=ei.split(":");return{host:$,port:parsePort(ee)}}}function parsePort($){if(!$)return null;let ee=Number($);return isNaN(ee)?null:ee}function emitEmulatorWarning(){function attachBanner(){let $=document.createElement("p"),ee=$.style;$.innerText="Running in emulator mode. Do not use with production credentials.",ee.position="fixed",ee.width="100%",ee.backgroundColor="#ffffff",ee.border=".1em solid #000000",ee.color="#b50000",ee.bottom="0px",ee.left="0px",ee.margin="0px",ee.zIndex="10000",ee.textAlign="center",$.classList.add("firebase-emulator-warning"),document.body.appendChild($)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",attachBanner):attachBanner())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AuthCredential=class AuthCredential{constructor($,ee){this.providerId=$,this.signInMethod=ee}toJSON(){return debugFail("not implemented")}_getIdTokenResponse($){return debugFail("not implemented")}_linkToIdToken($,ee){return debugFail("not implemented")}_getReauthenticationResolver($){return debugFail("not implemented")}};async function updateEmailPassword($,ee){return _performApiRequest($,"POST","/v1/accounts:update",ee)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword($,ee){return _performSignInRequest($,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary($,ee))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1($,ee){return _performSignInRequest($,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary($,ee))}async function signInWithEmailLinkForLinking($,ee){return _performSignInRequest($,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary($,ee))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EmailAuthCredential=class EmailAuthCredential extends AuthCredential{constructor($,ee,er,ei=null){super("password",er),this._email=$,this._password=ee,this._tenantId=ei}static _fromEmailAndPassword($,ee){return new EmailAuthCredential($,ee,"password")}static _fromEmailAndCode($,ee,er=null){return new EmailAuthCredential($,ee,"emailLink",er)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON($){let ee="string"==typeof $?JSON.parse($):$;if((null==ee?void 0:ee.email)&&(null==ee?void 0:ee.password)){if("password"===ee.signInMethod)return this._fromEmailAndPassword(ee.email,ee.password);if("emailLink"===ee.signInMethod)return this._fromEmailAndCode(ee.email,ee.password,ee.tenantId)}return null}async _getIdTokenResponse($){var ee;switch(this.signInMethod){case"password":let er={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(ee=$._getRecaptchaConfig())||void 0===ee||!ee.emailPasswordEnabled)return signInWithPassword($,er).catch(async ee=>{if("auth/missing-recaptcha-token"!==ee.code)return Promise.reject(ee);{console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");let ee=await injectRecaptchaFields($,er,"signInWithPassword");return signInWithPassword($,ee)}});{let ee=await injectRecaptchaFields($,er,"signInWithPassword");return signInWithPassword($,ee)}case"emailLink":return signInWithEmailLink$1($,{email:this._email,oobCode:this._password});default:_fail($,"internal-error")}}async _linkToIdToken($,ee){switch(this.signInMethod){case"password":return updateEmailPassword($,{idToken:ee,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return signInWithEmailLinkForLinking($,{idToken:ee,email:this._email,oobCode:this._password});default:_fail($,"internal-error")}}_getReauthenticationResolver($){return this._getIdTokenResponse($)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp($,ee){return _performSignInRequest($,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary($,ee))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eT="http://localhost";let OAuthCredential=class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams($){let ee=new OAuthCredential($.providerId,$.signInMethod);return $.idToken||$.accessToken?($.idToken&&(ee.idToken=$.idToken),$.accessToken&&(ee.accessToken=$.accessToken),$.nonce&&!$.pendingToken&&(ee.nonce=$.nonce),$.pendingToken&&(ee.pendingToken=$.pendingToken)):$.oauthToken&&$.oauthTokenSecret?(ee.accessToken=$.oauthToken,ee.secret=$.oauthTokenSecret):_fail("argument-error"),ee}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON($){let ee="string"==typeof $?JSON.parse($):$,{providerId:er,signInMethod:ei}=ee,en=__rest(ee,["providerId","signInMethod"]);if(!er||!ei)return null;let es=new OAuthCredential(er,ei);return es.idToken=en.idToken||void 0,es.accessToken=en.accessToken||void 0,es.secret=en.secret,es.nonce=en.nonce,es.pendingToken=en.pendingToken||null,es}_getIdTokenResponse($){let ee=this.buildRequest();return signInWithIdp($,ee)}_linkToIdToken($,ee){let er=this.buildRequest();return er.idToken=ee,signInWithIdp($,er)}_getReauthenticationResolver($){let ee=this.buildRequest();return ee.autoCreate=!1,signInWithIdp($,ee)}buildRequest(){let $={requestUri:eT,returnSecureToken:!0};if(this.pendingToken)$.pendingToken=this.pendingToken;else{let ee={};this.idToken&&(ee.id_token=this.idToken),this.accessToken&&(ee.access_token=this.accessToken),this.secret&&(ee.oauth_token_secret=this.secret),ee.providerId=this.providerId,this.nonce&&!this.pendingToken&&(ee.nonce=this.nonce),$.postBody=(0,ei.xO)(ee)}return $}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode($){switch($){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink($){let ee=(0,ei.zd)((0,ei.pd)($)).link,er=ee?(0,ei.zd)((0,ei.pd)(ee)).deep_link_id:null,en=(0,ei.zd)((0,ei.pd)($)).deep_link_id,es=en?(0,ei.zd)((0,ei.pd)(en)).link:null;return es||en||er||ee||$}let ActionCodeURL=class ActionCodeURL{constructor($){var ee,er,en,es,eo,ep;let eu=(0,ei.zd)((0,ei.pd)($)),eh=null!==(ee=eu.apiKey)&&void 0!==ee?ee:null,em=null!==(er=eu.oobCode)&&void 0!==er?er:null,ef=parseMode(null!==(en=eu.mode)&&void 0!==en?en:null);_assert(eh&&em&&ef,"argument-error"),this.apiKey=eh,this.operation=ef,this.code=em,this.continueUrl=null!==(es=eu.continueUrl)&&void 0!==es?es:null,this.languageCode=null!==(eo=eu.languageCode)&&void 0!==eo?eo:null,this.tenantId=null!==(ep=eu.tenantId)&&void 0!==ep?ep:null}static parseLink($){let ee=parseDeepLink($);try{return new ActionCodeURL(ee)}catch($){return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EmailAuthProvider=class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential($,ee){return EmailAuthCredential._fromEmailAndPassword($,ee)}static credentialWithLink($,ee){let er=ActionCodeURL.parseLink(ee);return _assert(er,"argument-error"),EmailAuthCredential._fromEmailAndCode($,er.code,er.tenantId)}};EmailAuthProvider.PROVIDER_ID="password",EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password",EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FederatedAuthProvider=class FederatedAuthProvider{constructor($){this.providerId=$,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage($){this.defaultLanguageCode=$}setCustomParameters($){return this.customParameters=$,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BaseOAuthProvider=class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope($){return this.scopes.includes($)||this.scopes.push($),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FacebookAuthProvider=class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential($){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:$})}static credentialFromResult($){return FacebookAuthProvider.credentialFromTaggedObject($)}static credentialFromError($){return FacebookAuthProvider.credentialFromTaggedObject($.customData||{})}static credentialFromTaggedObject({_tokenResponse:$}){if(!$||!("oauthAccessToken"in $)||!$.oauthAccessToken)return null;try{return FacebookAuthProvider.credential($.oauthAccessToken)}catch($){return null}}};FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com",FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GoogleAuthProvider=class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential($,ee){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:$,accessToken:ee})}static credentialFromResult($){return GoogleAuthProvider.credentialFromTaggedObject($)}static credentialFromError($){return GoogleAuthProvider.credentialFromTaggedObject($.customData||{})}static credentialFromTaggedObject({_tokenResponse:$}){if(!$)return null;let{oauthIdToken:ee,oauthAccessToken:er}=$;if(!ee&&!er)return null;try{return GoogleAuthProvider.credential(ee,er)}catch($){return null}}};GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com",GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GithubAuthProvider=class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential($){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:$})}static credentialFromResult($){return GithubAuthProvider.credentialFromTaggedObject($)}static credentialFromError($){return GithubAuthProvider.credentialFromTaggedObject($.customData||{})}static credentialFromTaggedObject({_tokenResponse:$}){if(!$||!("oauthAccessToken"in $)||!$.oauthAccessToken)return null;try{return GithubAuthProvider.credential($.oauthAccessToken)}catch($){return null}}};GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com",GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TwitterAuthProvider=class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential($,ee){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:$,oauthTokenSecret:ee})}static credentialFromResult($){return TwitterAuthProvider.credentialFromTaggedObject($)}static credentialFromError($){return TwitterAuthProvider.credentialFromTaggedObject($.customData||{})}static credentialFromTaggedObject({_tokenResponse:$}){if(!$)return null;let{oauthAccessToken:ee,oauthTokenSecret:er}=$;if(!ee||!er)return null;try{return TwitterAuthProvider.credential(ee,er)}catch($){return null}}};TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com",TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UserCredentialImpl=class UserCredentialImpl{constructor($){this.user=$.user,this.providerId=$.providerId,this._tokenResponse=$._tokenResponse,this.operationType=$.operationType}static async _fromIdTokenResponse($,ee,er,ei=!1){let en=await UserImpl._fromIdTokenResponse($,er,ei),es=providerIdForResponse(er),eo=new UserCredentialImpl({user:en,providerId:es,_tokenResponse:er,operationType:ee});return eo}static async _forOperation($,ee,er){await $._updateTokensIfNecessary(er,!0);let ei=providerIdForResponse(er);return new UserCredentialImpl({user:$,providerId:ei,_tokenResponse:er,operationType:ee})}};function providerIdForResponse($){return $.providerId?$.providerId:"phoneNumber"in $?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MultiFactorError=class MultiFactorError extends null{constructor($,ee,er,ei){var en;super(ee.code,ee.message),this.operationType=er,this.user=ei,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:$.name,tenantId:null!==(en=$.tenantId)&&void 0!==en?en:void 0,_serverResponse:ee.customData._serverResponse,operationType:er}}static _fromErrorAndOperation($,ee,er,ei){return new MultiFactorError($,ee,er,ei)}};function _processCredentialSavingMfaContextIfNecessary($,ee,er,ei){let en="reauthenticate"===ee?er._getReauthenticationResolver($):er._getIdTokenResponse($);return en.catch(er=>{if("auth/multi-factor-auth-required"===er.code)throw MultiFactorError._fromErrorAndOperation($,er,ee,ei);throw er})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MultiFactorInfoImpl=class MultiFactorInfoImpl{constructor($,ee){this.factorId=$,this.uid=ee.mfaEnrollmentId,this.enrollmentTime=new Date(ee.enrolledAt).toUTCString(),this.displayName=ee.displayName}static _fromServerResponse($,ee){return"phoneInfo"in ee?PhoneMultiFactorInfoImpl._fromServerResponse($,ee):"totpInfo"in ee?TotpMultiFactorInfoImpl._fromServerResponse($,ee):_fail($,"internal-error")}};let PhoneMultiFactorInfoImpl=class PhoneMultiFactorInfoImpl extends null{constructor($){super("phone",$),this.phoneNumber=$.phoneInfo}static _fromServerResponse($,ee){return new PhoneMultiFactorInfoImpl(ee)}};let TotpMultiFactorInfoImpl=class TotpMultiFactorInfoImpl extends null{constructor($){super("totp",$)}static _fromServerResponse($,ee){return new TotpMultiFactorInfoImpl(ee)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MultiFactorSessionImpl=class MultiFactorSessionImpl{constructor($,ee,er){this.type=$,this.credential=ee,this.user=er}static _fromIdtoken($,ee){return new MultiFactorSessionImpl("enroll",$,ee)}static _fromMfaPendingCredential($){return new MultiFactorSessionImpl("signin",$)}toJSON(){let $="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[$]:this.credential}}}static fromJSON($){var ee,er;if(null==$?void 0:$.multiFactorSession){if(null===(ee=$.multiFactorSession)||void 0===ee?void 0:ee.pendingCredential)return MultiFactorSessionImpl._fromMfaPendingCredential($.multiFactorSession.pendingCredential);if(null===(er=$.multiFactorSession)||void 0===er?void 0:er.idToken)return MultiFactorSessionImpl._fromIdtoken($.multiFactorSession.idToken)}return null}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MultiFactorResolverImpl=class MultiFactorResolverImpl{constructor($,ee,er){this.session=$,this.hints=ee,this.signInResolver=er}static _fromError($,ee){let er=_castAuth($),ei=ee.customData._serverResponse,en=(ei.mfaInfo||[]).map($=>MultiFactorInfoImpl._fromServerResponse(er,$));_assert(ei.mfaPendingCredential,er,"internal-error");let es=MultiFactorSessionImpl._fromMfaPendingCredential(ei.mfaPendingCredential);return new MultiFactorResolverImpl(es,en,async $=>{let en=await $._process(er,es);delete ei.mfaInfo,delete ei.mfaPendingCredential;let eo=Object.assign(Object.assign({},ei),{idToken:en.idToken,refreshToken:en.refreshToken});switch(ee.operationType){case"signIn":let ep=await UserCredentialImpl._fromIdTokenResponse(er,ee.operationType,eo);return await er._updateCurrentUser(ep.user),ep;case"reauthenticate":return _assert(ee.user,er,"internal-error"),UserCredentialImpl._forOperation(ee.user,ee.operationType,eo);default:_fail(er,"internal-error")}})}async resolveSignIn($){let ee=$;return this.signInResolver(ee)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function startEnrollTotpMfa($,ee){return _performApiRequest($,"POST","/v2/accounts/mfaEnrollment:start",_addTidIfNecessary($,ee))}function finalizeEnrollTotpMfa($,ee){return _performApiRequest($,"POST","/v2/accounts/mfaEnrollment:finalize",_addTidIfNecessary($,ee))}function withdrawMfa($,ee){return _performApiRequest($,"POST","/v2/accounts/mfaEnrollment:withdraw",_addTidIfNecessary($,ee))}let MultiFactorUserImpl=class MultiFactorUserImpl{constructor($){this.user=$,this.enrolledFactors=[],$._onReload(ee=>{ee.mfaInfo&&(this.enrolledFactors=ee.mfaInfo.map(ee=>MultiFactorInfoImpl._fromServerResponse($.auth,ee)))})}static _fromUser($){return new MultiFactorUserImpl($)}async getSession(){return MultiFactorSessionImpl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll($,ee){let er=$,ei=await this.getSession(),en=await _logoutIfInvalidated(this.user,er._process(this.user.auth,ei,ee));return await this.user._updateTokensIfNecessary(en),this.user.reload()}async unenroll($){let ee="string"==typeof $?$:$.uid,er=await this.user.getIdToken();try{let $=await _logoutIfInvalidated(this.user,withdrawMfa(this.user.auth,{idToken:er,mfaEnrollmentId:ee}));this.enrolledFactors=this.enrolledFactors.filter(({uid:$})=>$!==ee),await this.user._updateTokensIfNecessary($),await this.user.reload()}catch($){throw $}}};new WeakMap;var eE="@firebase/auth",eI="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AuthInterop=class AuthInterop{constructor($){this.auth=$,this.internalListeners=new Map}getUid(){var $;return this.assertAuthConfigured(),(null===($=this.auth.currentUser)||void 0===$?void 0:$.uid)||null}async getToken($){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;let ee=await this.auth.currentUser.getIdToken($);return{accessToken:ee}}addAuthTokenListener($){if(this.assertAuthConfigured(),this.internalListeners.has($))return;let ee=this.auth.onIdTokenChanged(ee=>{$((null==ee?void 0:ee.stsTokenManager.accessToken)||null)});this.internalListeners.set($,ee),this.updateProactiveRefresh()}removeAuthTokenListener($){this.assertAuthConfigured();let ee=this.internalListeners.get($);ee&&(this.internalListeners.delete($),ee(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform($){switch($){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function registerAuth($){(0,en.Xd)(new es.wA("auth",(ee,{options:er})=>{let ei=ee.getProvider("app").getImmediate(),en=ee.getProvider("heartbeat"),es=ee.getProvider("app-check-internal"),{apiKey:eo,authDomain:ep}=ei.options;_assert(eo&&!eo.includes(":"),"invalid-api-key",{appName:ei.name});let eu={apiKey:eo,authDomain:ep,clientPlatform:$,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion($)},eh=new AuthImpl(ei,en,es,eu);return _initializeAuthInstance(eh,er),eh},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(($,ee,er)=>{let ei=$.getProvider("auth-internal");ei.initialize()})),(0,en.Xd)(new es.wA("auth-internal",$=>{var ee;let er=_castAuth($.getProvider("auth").getImmediate());return ee=er,new AuthInterop(ee)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,en.KN)(eE,eI,getVersionForPlatform($)),(0,en.KN)(eE,eI,"esm2017")}function getAuth($=(0,en.Mq)()){let ee=(0,en.qX)($,"auth");if(ee.isInitialized())return ee.getImmediate();let er=initializeAuth($),es=(0,ei.q4)("auth");return es&&connectAuthEmulator(er,`http://${es}`),er}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function finalizeSignInTotpMfa($,ee){return _performApiRequest($,"POST","/v2/accounts/mfaSignIn:finalize",_addTidIfNecessary($,ee))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */FetchProvider.initialize(eo,eo.Headers,eo.Response),registerAuth("Node"),_createError("operation-not-supported-in-this-environment"),AuthImpl.prototype.setPersistence=async()=>{};let MultiFactorAssertionImpl=class MultiFactorAssertionImpl{constructor($){this.factorId=$}_process($,ee,er){switch(ee.type){case"enroll":return this._finalizeEnroll($,ee.credential,er);case"signin":return this._finalizeSignIn($,ee.credential);default:return debugFail("unexpected MultiFactorSessionType")}}};let TotpMultiFactorGenerator=class TotpMultiFactorGenerator{static assertionForEnrollment($,ee){return TotpMultiFactorAssertionImpl._fromSecret($,ee)}static assertionForSignIn($,ee){return TotpMultiFactorAssertionImpl._fromEnrollmentId($,ee)}static async generateSecret($){var ee;let er=$;_assert(void 0!==(null===(ee=er.user)||void 0===ee?void 0:ee.auth),"internal-error");let ei=await startEnrollTotpMfa(er.user.auth,{idToken:er.credential,totpEnrollmentInfo:{}});return TotpSecret._fromStartTotpMfaEnrollmentResponse(ei,er.user.auth)}};TotpMultiFactorGenerator.FACTOR_ID="totp";let TotpMultiFactorAssertionImpl=class TotpMultiFactorAssertionImpl extends MultiFactorAssertionImpl{constructor($,ee,er){super("totp"),this.otp=$,this.enrollmentId=ee,this.secret=er}static _fromSecret($,ee){return new TotpMultiFactorAssertionImpl(ee,void 0,$)}static _fromEnrollmentId($,ee){return new TotpMultiFactorAssertionImpl(ee,$)}async _finalizeEnroll($,ee,er){return _assert(void 0!==this.secret,$,"argument-error"),finalizeEnrollTotpMfa($,{idToken:ee,displayName:er,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn($,ee){_assert(void 0!==this.enrollmentId&&void 0!==this.otp,$,"argument-error");let er={verificationCode:this.otp};return finalizeSignInTotpMfa($,{mfaPendingCredential:ee,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:er})}};let TotpSecret=class TotpSecret{constructor($,ee,er,ei,en,es,eo){this.sessionInfo=es,this.auth=eo,this.secretKey=$,this.hashingAlgorithm=ee,this.codeLength=er,this.codeIntervalSeconds=ei,this.enrollmentCompletionDeadline=en}static _fromStartTotpMfaEnrollmentResponse($,ee){return new TotpSecret($.totpSessionInfo.sharedSecretKey,$.totpSessionInfo.hashingAlgorithm,$.totpSessionInfo.verificationCodeLength,$.totpSessionInfo.periodSec,new Date($.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),$.totpSessionInfo.sessionInfo,ee)}_makeTotpVerificationInfo($){return{sessionInfo:this.sessionInfo,verificationCode:$}}generateQrCodeUrl($,ee){var er;let ei=!1;return(_isEmptyString($)||_isEmptyString(ee))&&(ei=!0),ei&&(_isEmptyString($)&&($=(null===(er=this.auth.currentUser)||void 0===er?void 0:er.email)||"unknownuser"),_isEmptyString(ee)&&(ee=this.auth.name)),`otpauth://totp/${ee}:${$}?secret=${this.secretKey}&issuer=${ee}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};function _isEmptyString($){return void 0===$||(null==$?void 0:$.length)===0}},60334:($,ee,er)=>{"use strict";let ei,en,es,eo,ep,eu,eh,em,ef,eg;er.d(ee,{N8:()=>getDatabase});var ey,ev=er(83369),eS=er(38465),e_=er(11648),ew=er(25662),eC=er(86860);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eT="5",eE="v",eI="s",eD="r",eR="f",eP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,eN="ls",eA="p",ek="ac",eO="websocket",eM="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DOMStorageWrapper=class DOMStorageWrapper{constructor($){this.domStorage_=$,this.prefix_="firebase:"}set($,ee){null==ee?this.domStorage_.removeItem(this.prefixedName_($)):this.domStorage_.setItem(this.prefixedName_($),(0,eS.Wl)(ee))}get($){let ee=this.domStorage_.getItem(this.prefixedName_($));return null==ee?null:(0,eS.cI)(ee)}remove($){this.domStorage_.removeItem(this.prefixedName_($))}prefixedName_($){return this.prefix_+$}toString(){return this.domStorage_.toString()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MemoryStorage=class MemoryStorage{constructor(){this.cache_={},this.isInMemoryStorage=!0}set($,ee){null==ee?delete this.cache_[$]:this.cache_[$]=ee}get($){return(0,eS.r3)(this.cache_,$)?this.cache_[$]:null}remove($){delete this.cache_[$]}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let createStoragefor=function($){try{if("undefined"!=typeof window&&void 0!==window[$]){let ee=window[$];return ee.setItem("firebase:sentinel","cache"),ee.removeItem("firebase:sentinel"),new DOMStorageWrapper(ee)}}catch($){}return new MemoryStorage},eF=createStoragefor("localStorage"),eL=createStoragefor("sessionStorage"),eB=new e_.Yd("@firebase/database"),eV=function(){let $=1;return function(){return $++}}(),sha1=function($){let ee=(0,eS.dS)($),er=new eS.gQ;er.update(ee);let ei=er.digest();return eS.US.encodeByteArray(ei)},buildLogMessage_=function(...$){let ee="";for(let er=0;er<$.length;er++){let ei=$[er];Array.isArray(ei)||ei&&"object"==typeof ei&&"number"==typeof ei.length?ee+=buildLogMessage_.apply(null,ei):"object"==typeof ei?ee+=(0,eS.Wl)(ei):ee+=ei,ee+=" "}return ee},eU=null,ej=!0,enableLogging$1=function($,ee){(0,eS.hu)(!ee||!0===$||!1===$,"Can't turn on custom loggers persistently."),!0===$?(eB.logLevel=e_.in.VERBOSE,eU=eB.log.bind(eB),ee&&eL.set("logging_enabled",!0)):"function"==typeof $?eU=$:(eU=null,eL.remove("logging_enabled"))},log=function(...$){if(!0===ej&&(ej=!1,null===eU&&!0===eL.get("logging_enabled")&&enableLogging$1(!0)),eU){let ee=buildLogMessage_.apply(null,$);eU(ee)}},logWrapper=function($){return function(...ee){log($,...ee)}},error=function(...$){let ee="FIREBASE INTERNAL ERROR: "+buildLogMessage_(...$);eB.error(ee)},fatal=function(...$){let ee=`FIREBASE FATAL ERROR: ${buildLogMessage_(...$)}`;throw eB.error(ee),Error(ee)},warn=function(...$){let ee="FIREBASE WARNING: "+buildLogMessage_(...$);eB.warn(ee)},warnIfPageIsSecure=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&warn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},isInvalidJSONNumber=function($){return"number"==typeof $&&($!=$||$===Number.POSITIVE_INFINITY||$===Number.NEGATIVE_INFINITY)},executeWhenDOMReady=function($){if((0,eS.Yr)()||"complete"===document.readyState)$();else{let ee=!1,wrappedFn=function(){if(!document.body){setTimeout(wrappedFn,Math.floor(10));return}ee||(ee=!0,$())};document.addEventListener?(document.addEventListener("DOMContentLoaded",wrappedFn,!1),window.addEventListener("load",wrappedFn,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&wrappedFn()}),window.attachEvent("onload",wrappedFn))}},eq="[MIN_NAME]",ez="[MAX_NAME]",nameCompare=function($,ee){if($===ee)return 0;if($===eq||ee===ez)return -1;if(ee===eq||$===ez)return 1;{let er=tryParseInt($),ei=tryParseInt(ee);return null!==er?null!==ei?er-ei==0?$.length-ee.length:er-ei:-1:null!==ei?1:$<ee?-1:1}},stringCompare=function($,ee){return $===ee?0:$<ee?-1:1},requireKey=function($,ee){if(ee&&$ in ee)return ee[$];throw Error("Missing required key ("+$+") in object: "+(0,eS.Wl)(ee))},ObjectToUniqueKey=function($){if("object"!=typeof $||null===$)return(0,eS.Wl)($);let ee=[];for(let er in $)ee.push(er);ee.sort();let er="{";for(let ei=0;ei<ee.length;ei++)0!==ei&&(er+=","),er+=(0,eS.Wl)(ee[ei])+":"+ObjectToUniqueKey($[ee[ei]]);return er+"}"},splitStringBySize=function($,ee){let er=$.length;if(er<=ee)return[$];let ei=[];for(let en=0;en<er;en+=ee)en+ee>er?ei.push($.substring(en,er)):ei.push($.substring(en,en+ee));return ei};function each($,ee){for(let er in $)$.hasOwnProperty(er)&&ee(er,$[er])}let doubleToIEEE754String=function($){let ee,er,ei,en,es;(0,eS.hu)(!isInvalidJSONNumber($),"Invalid JSON number");let eo=11,ep=52,eu=(1<<eo-1)-1;0===$?(er=0,ei=0,ee=1/$==-1/0?1:0):(ee=$<0,($=Math.abs($))>=Math.pow(2,1-eu)?(er=(en=Math.min(Math.floor(Math.log($)/Math.LN2),eu))+eu,ei=Math.round($*Math.pow(2,ep-en)-Math.pow(2,ep))):(er=0,ei=Math.round($/Math.pow(2,1-eu-ep))));let eh=[];for(es=ep;es;es-=1)eh.push(ei%2?1:0),ei=Math.floor(ei/2);for(es=eo;es;es-=1)eh.push(er%2?1:0),er=Math.floor(er/2);eh.push(ee?1:0),eh.reverse();let em=eh.join(""),ef="";for(es=0;es<64;es+=8){let $=parseInt(em.substr(es,8),2).toString(16);1===$.length&&($="0"+$),ef+=$}return ef.toLowerCase()},isChromeExtensionContentScript=function(){return!!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},isWindowsStoreApp=function(){return"object"==typeof Windows&&"object"==typeof Windows.UI};function errorForServerCode($,ee){let er="Unknown Error";"too_big"===$?er="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===$?er="Client doesn't have permission to access the desired data.":"unavailable"===$&&(er="The service is unavailable");let ei=Error($+" at "+ee._path.toString()+": "+er);return ei.code=$.toUpperCase(),ei}let eW=RegExp("^-?(0*)\\d{1,10}$"),eH=-2147483648,eG=2147483647,tryParseInt=function($){if(eW.test($)){let ee=Number($);if(ee>=eH&&ee<=eG)return ee}return null},exceptionGuard=function($){try{$()}catch($){setTimeout(()=>{let ee=$.stack||"";throw warn("Exception was thrown by user callback.",ee),$},Math.floor(0))}},beingCrawled=function(){let $="object"==typeof window&&window.navigator&&window.navigator.userAgent||"";return $.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},setTimeoutNonBlocking=function($,ee){let er=setTimeout($,ee);return"number"==typeof er&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(er):"object"==typeof er&&er.unref&&er.unref(),er};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RepoInfo=class RepoInfo{constructor($,ee,er,ei,en=!1,es="",eo=!1,ep=!1){this.secure=ee,this.namespace=er,this.webSocketOnly=ei,this.nodeAdmin=en,this.persistenceKey=es,this.includeNamespaceInQueryParams=eo,this.isUsingEmulator=ep,this._host=$.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=eF.get("host:"+$)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host($){$!==this.internalHost&&(this.internalHost=$,this.isCacheableHost()&&eF.set("host:"+this._host,this.internalHost))}toString(){let $=this.toURLString();return this.persistenceKey&&($+="<"+this.persistenceKey+">"),$}toURLString(){let $=this.secure?"https://":"http://",ee=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${$}${this.host}/${ee}`}};function repoInfoNeedsQueryParam($){return $.host!==$.internalHost||$.isCustomHost()||$.includeNamespaceInQueryParams}function repoInfoConnectionURL($,ee,er){let ei;if((0,eS.hu)("string"==typeof ee,"typeof type must == string"),(0,eS.hu)("object"==typeof er,"typeof params must == object"),ee===eO)ei=($.secure?"wss://":"ws://")+$.internalHost+"/.ws?";else if(ee===eM)ei=($.secure?"https://":"http://")+$.internalHost+"/.lp?";else throw Error("Unknown connection type: "+ee);repoInfoNeedsQueryParam($)&&(er.ns=$.namespace);let en=[];return each(er,($,ee)=>{en.push($+"="+ee)}),ei+en.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let StatsCollection=class StatsCollection{constructor(){this.counters_={}}incrementCounter($,ee=1){(0,eS.r3)(this.counters_,$)||(this.counters_[$]=0),this.counters_[$]+=ee}get(){return(0,eS.p$)(this.counters_)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eK={},e$={};function statsManagerGetCollection($){let ee=$.toString();return eK[ee]||(eK[ee]=new StatsCollection),eK[ee]}function statsManagerGetOrCreateReporter($,ee){let er=$.toString();return e$[er]||(e$[er]=ee()),e$[er]}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eQ="";function setSDKVersion($){eQ=$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eY=16384,eJ=45e3,eX=null;function setWebSocketImpl($){eX=$}"undefined"!=typeof MozWebSocket?eX=MozWebSocket:"undefined"!=typeof WebSocket&&(eX=WebSocket);let WebSocketConnection=class WebSocketConnection{constructor($,ee,er,ei,en,es,eo){this.connId=$,this.applicationId=er,this.appCheckToken=ei,this.authToken=en,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=logWrapper(this.connId),this.stats_=statsManagerGetCollection(ee),this.connURL=WebSocketConnection.connectionURL_(ee,es,eo,ei,er),this.nodeAdmin=ee.nodeAdmin}static connectionURL_($,ee,er,ei,en){let es={};return es[eE]=eT,!(0,eS.Yr)()&&"undefined"!=typeof location&&location.hostname&&eP.test(location.hostname)&&(es[eD]=eR),ee&&(es[eI]=ee),er&&(es[eN]=er),ei&&(es[ek]=ei),en&&(es[eA]=en),repoInfoConnectionURL($,eO,es)}open($,ee){this.onDisconnect=ee,this.onMessage=$,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,eF.set("previous_websocket_failure",!0);try{let $;if((0,eS.Yr)()){let ee=this.nodeAdmin?"AdminNode":"Node";$={headers:{"User-Agent":`Firebase/${eT}/${eQ}/${process.platform}/${ee}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&($.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&($.headers["X-Firebase-AppCheck"]=this.appCheckToken);let er=process.env,ei=0===this.connURL.indexOf("wss://")?er.HTTPS_PROXY||er.https_proxy:er.HTTP_PROXY||er.http_proxy;ei&&($.proxy={origin:ei})}this.mySock=new eX(this.connURL,[],$)}catch(ee){this.log_("Error instantiating WebSocket.");let $=ee.message||ee.data;$&&this.log_($),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=$=>{this.handleIncomingFrame($)},this.mySock.onerror=$=>{this.log_("WebSocket error.  Closing connection.");let ee=$.message||$.data;ee&&this.log_(ee),this.onClosed_()}}start(){}static forceDisallow(){WebSocketConnection.forceDisallow_=!0}static isAvailable(){let $=!1;if("undefined"!=typeof navigator&&navigator.userAgent){let ee=/Android ([0-9]{0,}\.[0-9]{0,})/,er=navigator.userAgent.match(ee);er&&er.length>1&&4.4>parseFloat(er[1])&&($=!0)}return!$&&null!==eX&&!WebSocketConnection.forceDisallow_}static previouslyFailed(){return eF.isInMemoryStorage||!0===eF.get("previous_websocket_failure")}markConnectionHealthy(){eF.remove("previous_websocket_failure")}appendFrame_($){if(this.frames.push($),this.frames.length===this.totalFrames){let $=this.frames.join("");this.frames=null;let ee=(0,eS.cI)($);this.onMessage(ee)}}handleNewFrameCount_($){this.totalFrames=$,this.frames=[]}extractFrameCount_($){if((0,eS.hu)(null===this.frames,"We already have a frame buffer"),$.length<=6){let ee=Number($);if(!isNaN(ee))return this.handleNewFrameCount_(ee),null}return this.handleNewFrameCount_(1),$}handleIncomingFrame($){if(null===this.mySock)return;let ee=$.data;if(this.bytesReceived+=ee.length,this.stats_.incrementCounter("bytes_received",ee.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(ee);else{let $=this.extractFrameCount_(ee);null!==$&&this.appendFrame_($)}}send($){this.resetKeepAlive();let ee=(0,eS.Wl)($);this.bytesSent+=ee.length,this.stats_.incrementCounter("bytes_sent",ee.length);let er=splitStringBySize(ee,eY);er.length>1&&this.sendString_(String(er.length));for(let $=0;$<er.length;$++)this.sendString_(er[$])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){!this.isClosed_&&(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(eJ))}sendString_($){try{this.mySock.send($)}catch($){this.log_("Exception thrown from WebSocket.send():",$.message||$.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}};WebSocketConnection.responsesRequiredToBeHealthy=2,WebSocketConnection.healthyTimeout=3e4;let eZ="@firebase/database",e1="1.0.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AppCheckTokenProvider=class AppCheckTokenProvider{constructor($,ee){this.appName_=$,this.appCheckProvider=ee,this.appCheck=null==ee?void 0:ee.getImmediate({optional:!0}),this.appCheck||null==ee||ee.get().then($=>this.appCheck=$)}getToken($){return this.appCheck?this.appCheck.getToken($):new Promise((ee,er)=>{setTimeout(()=>{this.appCheck?this.getToken($).then(ee,er):ee(null)},0)})}addTokenChangeListener($){var ee;null===(ee=this.appCheckProvider)||void 0===ee||ee.get().then(ee=>ee.addTokenListener($))}notifyForInvalidToken(){warn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FirebaseAuthTokenProvider=class FirebaseAuthTokenProvider{constructor($,ee,er){this.appName_=$,this.firebaseOptions_=ee,this.authProvider_=er,this.auth_=null,this.auth_=er.getImmediate({optional:!0}),this.auth_||er.onInit($=>this.auth_=$)}getToken($){return this.auth_?this.auth_.getToken($).catch($=>$&&"auth/token-not-initialized"===$.code?(log("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject($)):new Promise((ee,er)=>{setTimeout(()=>{this.auth_?this.getToken($).then(ee,er):ee(null)},0)})}addTokenChangeListener($){this.auth_?this.auth_.addAuthTokenListener($):this.authProvider_.get().then(ee=>ee.addAuthTokenListener($))}removeTokenChangeListener($){this.authProvider_.get().then(ee=>ee.removeAuthTokenListener($))}notifyForInvalidToken(){let $='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?$+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?$+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':$+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',warn($)}};let EmulatorTokenProvider=class EmulatorTokenProvider{constructor($){this.accessToken=$}getToken($){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener($){$(this.accessToken)}removeTokenChangeListener($){}notifyForInvalidToken(){}};EmulatorTokenProvider.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PacketReceiver=class PacketReceiver{constructor($){this.onMessage_=$,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter($,ee){this.closeAfterResponse=$,this.onClose=ee,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse($,ee){for(this.pendingResponses[$]=ee;this.pendingResponses[this.currentResponseNum];){let $=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let ee=0;ee<$.length;++ee)$[ee]&&exceptionGuard(()=>{this.onMessage_($[ee])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e0="start",e2="close",e4="pLPCommand",e6="pRTLPCB",e8="id",e9="pw",e3="ser",e5="cb",e7="seg",te="ts",tt="d",tr="dframe",ti=1870,ts=30,tl=ti-ts,tp=25e3,tu=3e4;let BrowserPollConnection=class BrowserPollConnection{constructor($,ee,er,ei,en,es,eo){this.connId=$,this.repoInfo=ee,this.applicationId=er,this.appCheckToken=ei,this.authToken=en,this.transportSessionId=es,this.lastSessionId=eo,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=logWrapper($),this.stats_=statsManagerGetCollection(ee),this.urlFn=$=>(this.appCheckToken&&($[ek]=this.appCheckToken),repoInfoConnectionURL(ee,eM,$))}open($,ee){this.curSegmentNum=0,this.onDisconnect_=ee,this.myPacketOrderer=new PacketReceiver($),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(tu)),executeWhenDOMReady(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FirebaseIFrameScriptHolder((...$)=>{let[ee,er,ei,en,es]=$;if(this.incrementIncomingBytes_($),this.scriptTagHolder){if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,ee===e0)this.id=er,this.password=ei;else if(ee===e2)er?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(er,()=>{this.onClosed_()})):this.onClosed_();else throw Error("Unrecognized command received: "+ee)}},(...$)=>{let[ee,er]=$;this.incrementIncomingBytes_($),this.myPacketOrderer.handleResponse(ee,er)},()=>{this.onClosed_()},this.urlFn);let $={};$[e0]="t",$[e3]=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&($[e5]=this.scriptTagHolder.uniqueCallbackIdentifier),$[eE]=eT,this.transportSessionId&&($[eI]=this.transportSessionId),this.lastSessionId&&($[eN]=this.lastSessionId),this.applicationId&&($[eA]=this.applicationId),this.appCheckToken&&($[ek]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&eP.test(location.hostname)&&($[eD]=eR);let ee=this.urlFn($);this.log_("Connecting via long-poll to "+ee),this.scriptTagHolder.addTag(ee,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){BrowserPollConnection.forceAllow_=!0}static forceDisallow(){BrowserPollConnection.forceDisallow_=!0}static isAvailable(){return!(0,eS.Yr)()&&(!!BrowserPollConnection.forceAllow_||!BrowserPollConnection.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!isChromeExtensionContentScript()&&!isWindowsStoreApp())}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){!this.isClosed_&&(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send($){let ee=(0,eS.Wl)($);this.bytesSent+=ee.length,this.stats_.incrementCounter("bytes_sent",ee.length);let er=(0,eS.h$)(ee),ei=splitStringBySize(er,tl);for(let $=0;$<ei.length;$++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,ei.length,ei[$]),this.curSegmentNum++}addDisconnectPingFrame($,ee){if((0,eS.Yr)())return;this.myDisconnFrame=document.createElement("iframe");let er={};er[tr]="t",er[e8]=$,er[e9]=ee,this.myDisconnFrame.src=this.urlFn(er),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_($){let ee=(0,eS.Wl)($).length;this.bytesReceived+=ee,this.stats_.incrementCounter("bytes_received",ee)}};let FirebaseIFrameScriptHolder=class FirebaseIFrameScriptHolder{constructor($,ee,er,ei){if(this.onDisconnect=er,this.urlFn=ei,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,eS.Yr)())this.commandCB=$,this.onMessageCB=ee;else{this.uniqueCallbackIdentifier=eV(),window[e4+this.uniqueCallbackIdentifier]=$,window[e6+this.uniqueCallbackIdentifier]=ee,this.myIFrame=FirebaseIFrameScriptHolder.createIFrame_();let er="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){let $=document.domain;er='<script>document.domain="'+$+'";</script>'}let ei="<html><body>"+er+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(ei),this.myIFrame.doc.close()}catch($){log("frame writing exception"),$.stack&&log($.stack),log($)}}}static createIFrame_(){let $=document.createElement("iframe");if($.style.display="none",document.body){document.body.appendChild($);try{let ee=$.contentWindow.document;ee||log("No IE domain setting required")}catch(er){let ee=document.domain;$.src="javascript:void((function(){document.open();document.domain='"+ee+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return $.contentDocument?$.doc=$.contentDocument:$.contentWindow?$.doc=$.contentWindow.document:$.document&&($.doc=$.document),$}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let $=this.onDisconnect;$&&(this.onDisconnect=null,$())}startLongPoll($,ee){for(this.myID=$,this.myPW=ee,this.alive=!0;this.newRequest_(););}newRequest_(){if(!this.alive||!this.sendNewPolls||!(this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)))return!1;{this.currentSerial++;let $={};$[e8]=this.myID,$[e9]=this.myPW,$[e3]=this.currentSerial;let ee=this.urlFn($),er="",ei=0;for(;this.pendingSegs.length>0;){let $=this.pendingSegs[0];if($.d.length+ts+er.length<=ti){let $=this.pendingSegs.shift();er=er+"&"+e7+ei+"="+$.seg+"&"+te+ei+"="+$.ts+"&"+tt+ei+"="+$.d,ei++}else break}return ee+=er,this.addLongPollTag_(ee,this.currentSerial),!0}}enqueueSegment($,ee,er){this.pendingSegs.push({seg:$,ts:ee,d:er}),this.alive&&this.newRequest_()}addLongPollTag_($,ee){this.outstandingRequests.add(ee);let doNewRequest=()=>{this.outstandingRequests.delete(ee),this.newRequest_()},er=setTimeout(doNewRequest,Math.floor(tp)),readyStateCB=()=>{clearTimeout(er),doNewRequest()};this.addTag($,readyStateCB)}addTag($,ee){(0,eS.Yr)()?this.doNodeLongPoll($,ee):setTimeout(()=>{try{if(!this.sendNewPolls)return;let er=this.myIFrame.doc.createElement("script");er.type="text/javascript",er.async=!0,er.src=$,er.onload=er.onreadystatechange=function(){let $=er.readyState;$&&"loaded"!==$&&"complete"!==$||(er.onload=er.onreadystatechange=null,er.parentNode&&er.parentNode.removeChild(er),ee())},er.onerror=()=>{log("Long-poll script failed to load: "+$),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(er)}catch($){}},Math.floor(1))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TransportManager=class TransportManager{constructor($){this.initTransports_($)}static get ALL_TRANSPORTS(){return[BrowserPollConnection,WebSocketConnection]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_($){let ee=WebSocketConnection&&WebSocketConnection.isAvailable(),er=ee&&!WebSocketConnection.previouslyFailed();if($.webSocketOnly&&(ee||warn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),er=!0),er)this.transports_=[WebSocketConnection];else{let $=this.transports_=[];for(let ee of TransportManager.ALL_TRANSPORTS)ee&&ee.isAvailable()&&$.push(ee);TransportManager.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}};TransportManager.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=6e4,tm=5e3,tf=10240,tg=102400,ty="t",tv="d",tS="s",t_="r",tw="e",tC="o",tT="a",tE="n",tI="p",tD="h";let Connection=class Connection{constructor($,ee,er,ei,en,es,eo,ep,eu,eh){this.id=$,this.repoInfo_=ee,this.applicationId_=er,this.appCheckToken_=ei,this.authToken_=en,this.onMessage_=es,this.onReady_=eo,this.onDisconnect_=ep,this.onKill_=eu,this.lastSessionId=eh,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=logWrapper("c:"+this.id+":"),this.transportManager_=new TransportManager(ee),this.log_("Connection created"),this.start_()}start_(){let $=this.transportManager_.initialTransport();this.conn_=new $(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=$.responsesRequiredToBeHealthy||0;let ee=this.connReceiver_(this.conn_),er=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(ee,er)},Math.floor(0));let ei=$.healthyTimeout||0;ei>0&&(this.healthyTimeout_=setTimeoutNonBlocking(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>tg?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>tf?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(ei)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_($){return ee=>{$===this.conn_?this.onConnectionLost_(ee):$===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_($){return ee=>{2!==this.state_&&($===this.rx_?this.onPrimaryMessageReceived_(ee):$===this.secondaryConn_?this.onSecondaryMessageReceived_(ee):this.log_("message on old connection"))}}sendRequest($){let ee={t:"d",d:$};this.sendData_(ee)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_($){if(ty in $){let ee=$[ty];ee===tT?this.upgradeIfSecondaryHealthy_():ee===t_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):ee===tC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_($){let ee=requireKey("t",$),er=requireKey("d",$);if("c"===ee)this.onSecondaryControl_(er);else if("d"===ee)this.pendingDataMessages.push(er);else throw Error("Unknown protocol layer: "+ee)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:tI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:tT,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:tE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_($){let ee=requireKey("t",$),er=requireKey("d",$);"c"===ee?this.onControl_(er):"d"===ee&&this.onDataMessage_(er)}onDataMessage_($){this.onPrimaryResponse_(),this.onMessage_($)}onPrimaryResponse_(){!this.isHealthy_&&(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_($){let ee=requireKey(ty,$);if(tv in $){let er=$[tv];if(ee===tD){let $=Object.assign({},er);this.repoInfo_.isUsingEmulator&&($.h=this.repoInfo_.host),this.onHandshake_($)}else if(ee===tE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let $=0;$<this.pendingDataMessages.length;++$)this.onDataMessage_(this.pendingDataMessages[$]);this.pendingDataMessages=[],this.tryCleanupConnection()}else ee===tS?this.onConnectionShutdown_(er):ee===t_?this.onReset_(er):ee===tw?error("Server Error: "+er):ee===tC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):error("Unknown control packet command: "+ee)}}onHandshake_($){let ee=$.ts,er=$.v,ei=$.h;this.sessionId=$.s,this.repoInfo_.host=ei,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,ee),eT!==er&&warn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let $=this.transportManager_.upgradeTransport();$&&this.startUpgrade_($)}startUpgrade_($){this.secondaryConn_=new $(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=$.responsesRequiredToBeHealthy||0;let ee=this.connReceiver_(this.secondaryConn_),er=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(ee,er),setTimeoutNonBlocking(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(th))}onReset_($){this.log_("Reset packet received.  New host: "+$),this.repoInfo_.host=$,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_($,ee){this.log_("Realtime connection established."),this.conn_=$,this.state_=1,this.onReady_&&(this.onReady_(ee,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):setTimeoutNonBlocking(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tm))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:tI,d:{}}}))}onSecondaryConnectionLost_(){let $=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===$||this.rx_===$)&&this.close()}onConnectionLost_($){this.conn_=null,$||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(eF.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_($){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_($),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_($){if(1!==this.state_)throw"Connection is not connected";this.tx_.send($)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ServerActions=class ServerActions{put($,ee,er,ei){}merge($,ee,er,ei){}refreshAuthToken($){}refreshAppCheckToken($){}onDisconnectPut($,ee,er){}onDisconnectMerge($,ee,er){}onDisconnectCancel($,ee){}reportStats($){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EventEmitter=class EventEmitter{constructor($){this.allowedEvents_=$,this.listeners_={},(0,eS.hu)(Array.isArray($)&&$.length>0,"Requires a non-empty array")}trigger($,...ee){if(Array.isArray(this.listeners_[$])){let er=[...this.listeners_[$]];for(let $=0;$<er.length;$++)er[$].callback.apply(er[$].context,ee)}}on($,ee,er){this.validateEventType_($),this.listeners_[$]=this.listeners_[$]||[],this.listeners_[$].push({callback:ee,context:er});let ei=this.getInitialEvent($);ei&&ee.apply(er,ei)}off($,ee,er){this.validateEventType_($);let ei=this.listeners_[$]||[];for(let $=0;$<ei.length;$++)if(ei[$].callback===ee&&(!er||er===ei[$].context)){ei.splice($,1);return}}validateEventType_($){(0,eS.hu)(this.allowedEvents_.find(ee=>ee===$),"Unknown event: "+$)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OnlineMonitor=class OnlineMonitor extends EventEmitter{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,eS.uI)()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new OnlineMonitor}getInitialEvent($){return(0,eS.hu)("online"===$,"Unknown event type: "+$),[this.online_]}currentlyOnline(){return this.online_}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tR=32,tP=768;let Path=class Path{constructor($,ee){if(void 0===ee){this.pieces_=$.split("/");let ee=0;for(let $=0;$<this.pieces_.length;$++)this.pieces_[$].length>0&&(this.pieces_[ee]=this.pieces_[$],ee++);this.pieces_.length=ee,this.pieceNum_=0}else this.pieces_=$,this.pieceNum_=ee}toString(){let $="";for(let ee=this.pieceNum_;ee<this.pieces_.length;ee++)""!==this.pieces_[ee]&&($+="/"+this.pieces_[ee]);return $||"/"}};function newEmptyPath(){return new Path("")}function pathGetFront($){return $.pieceNum_>=$.pieces_.length?null:$.pieces_[$.pieceNum_]}function pathGetLength($){return $.pieces_.length-$.pieceNum_}function pathPopFront($){let ee=$.pieceNum_;return ee<$.pieces_.length&&ee++,new Path($.pieces_,ee)}function pathGetBack($){return $.pieceNum_<$.pieces_.length?$.pieces_[$.pieces_.length-1]:null}function pathToUrlEncodedString($){let ee="";for(let er=$.pieceNum_;er<$.pieces_.length;er++)""!==$.pieces_[er]&&(ee+="/"+encodeURIComponent(String($.pieces_[er])));return ee||"/"}function pathSlice($,ee=0){return $.pieces_.slice($.pieceNum_+ee)}function pathParent($){if($.pieceNum_>=$.pieces_.length)return null;let ee=[];for(let er=$.pieceNum_;er<$.pieces_.length-1;er++)ee.push($.pieces_[er]);return new Path(ee,0)}function pathChild($,ee){let er=[];for(let ee=$.pieceNum_;ee<$.pieces_.length;ee++)er.push($.pieces_[ee]);if(ee instanceof Path)for(let $=ee.pieceNum_;$<ee.pieces_.length;$++)er.push(ee.pieces_[$]);else{let $=ee.split("/");for(let ee=0;ee<$.length;ee++)$[ee].length>0&&er.push($[ee])}return new Path(er,0)}function pathIsEmpty($){return $.pieceNum_>=$.pieces_.length}function newRelativePath($,ee){let er=pathGetFront($),ei=pathGetFront(ee);if(null===er)return ee;if(er===ei)return newRelativePath(pathPopFront($),pathPopFront(ee));throw Error("INTERNAL ERROR: innerPath ("+ee+") is not within outerPath ("+$+")")}function pathCompare($,ee){let er=pathSlice($,0),ei=pathSlice(ee,0);for(let $=0;$<er.length&&$<ei.length;$++){let ee=nameCompare(er[$],ei[$]);if(0!==ee)return ee}return er.length===ei.length?0:er.length<ei.length?-1:1}function pathEquals($,ee){if(pathGetLength($)!==pathGetLength(ee))return!1;for(let er=$.pieceNum_,ei=ee.pieceNum_;er<=$.pieces_.length;er++,ei++)if($.pieces_[er]!==ee.pieces_[ei])return!1;return!0}function pathContains($,ee){let er=$.pieceNum_,ei=ee.pieceNum_;if(pathGetLength($)>pathGetLength(ee))return!1;for(;er<$.pieces_.length;){if($.pieces_[er]!==ee.pieces_[ei])return!1;++er,++ei}return!0}let ValidationPath=class ValidationPath{constructor($,ee){this.errorPrefix_=ee,this.parts_=pathSlice($,0),this.byteLength_=Math.max(1,this.parts_.length);for(let $=0;$<this.parts_.length;$++)this.byteLength_+=(0,eS.ug)(this.parts_[$]);validationPathCheckValid(this)}};function validationPathPush($,ee){$.parts_.length>0&&($.byteLength_+=1),$.parts_.push(ee),$.byteLength_+=(0,eS.ug)(ee),validationPathCheckValid($)}function validationPathPop($){let ee=$.parts_.pop();$.byteLength_-=(0,eS.ug)(ee),$.parts_.length>0&&($.byteLength_-=1)}function validationPathCheckValid($){if($.byteLength_>tP)throw Error($.errorPrefix_+"has a key path longer than "+tP+" bytes ("+$.byteLength_+").");if($.parts_.length>tR)throw Error($.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+tR+") or object contains a cycle "+validationPathToErrorString($))}function validationPathToErrorString($){return 0===$.parts_.length?"":"in property '"+$.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VisibilityMonitor=class VisibilityMonitor extends EventEmitter{constructor(){let $,ee;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(ee="visibilitychange",$="hidden"):void 0!==document.mozHidden?(ee="mozvisibilitychange",$="mozHidden"):void 0!==document.msHidden?(ee="msvisibilitychange",$="msHidden"):void 0!==document.webkitHidden&&(ee="webkitvisibilitychange",$="webkitHidden")),this.visible_=!0,ee&&document.addEventListener(ee,()=>{let ee=!document[$];ee!==this.visible_&&(this.visible_=ee,this.trigger("visible",ee))},!1)}static getInstance(){return new VisibilityMonitor}getInitialEvent($){return(0,eS.hu)("visible"===$,"Unknown event type: "+$),[this.visible_]}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tN=1e3,tA=3e5,tk=3e4,tO=1.3,tM=3e4,tF="server_kill",tL=3;let PersistentConnection=class PersistentConnection extends ServerActions{constructor($,ee,er,ei,en,es,eo,ep){if(super(),this.repoInfo_=$,this.applicationId_=ee,this.onDataUpdate_=er,this.onConnectStatus_=ei,this.onServerInfoUpdate_=en,this.authTokenProvider_=es,this.appCheckTokenProvider_=eo,this.authOverride_=ep,this.id=PersistentConnection.nextPersistentConnectionId_++,this.log_=logWrapper("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=tN,this.maxReconnectDelay_=tA,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,ep&&!(0,eS.Yr)())throw Error("Auth override specified in options, but not supported on non Node.js platforms");VisibilityMonitor.getInstance().on("visible",this.onVisible_,this),-1===$.host.indexOf("fblocal")&&OnlineMonitor.getInstance().on("online",this.onOnline_,this)}sendRequest($,ee,er){let ei=++this.requestNumber_,en={r:ei,a:$,b:ee};this.log_((0,eS.Wl)(en)),(0,eS.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(en),er&&(this.requestCBHash_[ei]=er)}get($){this.initConnection_();let ee=new eS.BH,er={p:$._path.toString(),q:$._queryObject},ei={action:"g",request:er,onComplete:$=>{let er=$.d;"ok"===$.s?ee.resolve(er):ee.reject(er)}};this.outstandingGets_.push(ei),this.outstandingGetCount_++;let en=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(en),ee.promise}listen($,ee,er,ei){this.initConnection_();let en=$._queryIdentifier,es=$._path.toString();this.log_("Listen called for "+es+" "+en),this.listens.has(es)||this.listens.set(es,new Map),(0,eS.hu)($._queryParams.isDefault()||!$._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,eS.hu)(!this.listens.get(es).has(en),"listen() called twice for same path/queryId.");let eo={onComplete:ei,hashFn:ee,query:$,tag:er};this.listens.get(es).set(en,eo),this.connected_&&this.sendListen_(eo)}sendGet_($){let ee=this.outstandingGets_[$];this.sendRequest("g",ee.request,er=>{delete this.outstandingGets_[$],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),ee.onComplete&&ee.onComplete(er)})}sendListen_($){let ee=$.query,er=ee._path.toString(),ei=ee._queryIdentifier;this.log_("Listen on "+er+" for "+ei);let en={p:er},es="q";$.tag&&(en.q=ee._queryObject,en.t=$.tag),en.h=$.hashFn(),this.sendRequest(es,en,en=>{let es=en.d,eo=en.s;PersistentConnection.warnOnListenWarnings_(es,ee);let ep=this.listens.get(er)&&this.listens.get(er).get(ei);ep===$&&(this.log_("listen response",en),"ok"!==eo&&this.removeListen_(er,ei),$.onComplete&&$.onComplete(eo,es))})}static warnOnListenWarnings_($,ee){if($&&"object"==typeof $&&(0,eS.r3)($,"w")){let er=(0,eS.DV)($,"w");if(Array.isArray(er)&&~er.indexOf("no_index")){let $='".indexOn": "'+ee._queryParams.getIndex().toString()+'"',er=ee._path.toString();warn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${$} at ${er} to your security rules for better performance.`)}}}refreshAuthToken($){this.authToken_=$,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_($)}reduceReconnectDelayIfAdminCredential_($){let ee=$&&40===$.length;(ee||(0,eS.GJ)($))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=tk)}refreshAppCheckToken($){this.appCheckToken_=$,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let $=this.authToken_,ee=(0,eS.w9)($)?"auth":"gauth",er={cred:$};null===this.authOverride_?er.noauth=!0:"object"==typeof this.authOverride_&&(er.authvar=this.authOverride_),this.sendRequest(ee,er,ee=>{let er=ee.s,ei=ee.d||"error";this.authToken_===$&&("ok"===er?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(er,ei))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},$=>{let ee=$.s,er=$.d||"error";"ok"===ee?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(ee,er)})}unlisten($,ee){let er=$._path.toString(),ei=$._queryIdentifier;this.log_("Unlisten called for "+er+" "+ei),(0,eS.hu)($._queryParams.isDefault()||!$._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");let en=this.removeListen_(er,ei);en&&this.connected_&&this.sendUnlisten_(er,ei,$._queryObject,ee)}sendUnlisten_($,ee,er,ei){this.log_("Unlisten on "+$+" for "+ee);let en={p:$},es="n";ei&&(en.q=er,en.t=ei),this.sendRequest(es,en)}onDisconnectPut($,ee,er){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",$,ee,er):this.onDisconnectRequestQueue_.push({pathString:$,action:"o",data:ee,onComplete:er})}onDisconnectMerge($,ee,er){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",$,ee,er):this.onDisconnectRequestQueue_.push({pathString:$,action:"om",data:ee,onComplete:er})}onDisconnectCancel($,ee){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",$,null,ee):this.onDisconnectRequestQueue_.push({pathString:$,action:"oc",data:null,onComplete:ee})}sendOnDisconnect_($,ee,er,ei){let en={p:ee,d:er};this.log_("onDisconnect "+$,en),this.sendRequest($,en,$=>{ei&&setTimeout(()=>{ei($.s,$.d)},Math.floor(0))})}put($,ee,er,ei){this.putInternal("p",$,ee,er,ei)}merge($,ee,er,ei){this.putInternal("m",$,ee,er,ei)}putInternal($,ee,er,ei,en){this.initConnection_();let es={p:ee,d:er};void 0!==en&&(es.h=en),this.outstandingPuts_.push({action:$,request:es,onComplete:ei}),this.outstandingPutCount_++;let eo=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(eo):this.log_("Buffering put: "+ee)}sendPut_($){let ee=this.outstandingPuts_[$].action,er=this.outstandingPuts_[$].request,ei=this.outstandingPuts_[$].onComplete;this.outstandingPuts_[$].queued=this.connected_,this.sendRequest(ee,er,er=>{this.log_(ee+" response",er),delete this.outstandingPuts_[$],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),ei&&ei(er.s,er.d)})}reportStats($){if(this.connected_){let ee={c:$};this.log_("reportStats",ee),this.sendRequest("s",ee,$=>{let ee=$.s;if("ok"!==ee){let ee=$.d;this.log_("reportStats","Error sending stats: "+ee)}})}}onDataMessage_($){if("r"in $){this.log_("from server: "+(0,eS.Wl)($));let ee=$.r,er=this.requestCBHash_[ee];er&&(delete this.requestCBHash_[ee],er($.b))}else if("error"in $)throw"A server-side error has occurred: "+$.error;else"a"in $&&this.onDataPush_($.a,$.b)}onDataPush_($,ee){this.log_("handleServerMessage",$,ee),"d"===$?this.onDataUpdate_(ee.p,ee.d,!1,ee.t):"m"===$?this.onDataUpdate_(ee.p,ee.d,!0,ee.t):"c"===$?this.onListenRevoked_(ee.p,ee.q):"ac"===$?this.onAuthRevoked_(ee.s,ee.d):"apc"===$?this.onAppCheckRevoked_(ee.s,ee.d):"sd"===$?this.onSecurityDebugPacket_(ee):error("Unrecognized action received from server: "+(0,eS.Wl)($)+"\nAre you using the latest client?")}onReady_($,ee){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_($),this.lastSessionId=ee,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_($){(0,eS.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor($))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_($){!$||this.visible_||this.reconnectDelay_!==this.maxReconnectDelay_||(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=tN,this.realtime_||this.scheduleConnect_(0)),this.visible_=$}onOnline_($){$?(this.log_("Browser went online."),this.reconnectDelay_=tN,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){let $=new Date().getTime()-this.lastConnectionEstablishedTime_;$>tM&&(this.reconnectDelay_=tN),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();let $=new Date().getTime()-this.lastConnectionAttemptTime_,ee=Math.max(0,this.reconnectDelay_-$);ee=Math.random()*ee,this.log_("Trying to reconnect in "+ee+"ms"),this.scheduleConnect_(ee),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*tO)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let $=this.onDataMessage_.bind(this),ee=this.onReady_.bind(this),er=this.onRealtimeDisconnect_.bind(this),ei=this.id+":"+PersistentConnection.nextConnectionId_++,en=this.lastSessionId,es=!1,eo=null,closeFn=function(){eo?eo.close():(es=!0,er())},sendRequestFn=function($){(0,eS.hu)(eo,"sendRequest call when we're not connected not allowed."),eo.sendRequest($)};this.realtime_={close:closeFn,sendRequest:sendRequestFn};let ep=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[eu,eh]=await Promise.all([this.authTokenProvider_.getToken(ep),this.appCheckTokenProvider_.getToken(ep)]);es?log("getToken() completed but was canceled"):(log("getToken() completed. Creating connection."),this.authToken_=eu&&eu.accessToken,this.appCheckToken_=eh&&eh.token,eo=new Connection(ei,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,$,ee,er,$=>{warn($+" ("+this.repoInfo_.toString()+")"),this.interrupt(tF)},en))}catch($){this.log_("Failed to get token: "+$),es||(this.repoInfo_.nodeAdmin&&warn($),closeFn())}}}interrupt($){log("Interrupting connection for reason: "+$),this.interruptReasons_[$]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume($){log("Resuming connection for reason: "+$),delete this.interruptReasons_[$],(0,eS.xb)(this.interruptReasons_)&&(this.reconnectDelay_=tN,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_($){let ee=$-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:ee})}cancelSentTransactions_(){for(let $=0;$<this.outstandingPuts_.length;$++){let ee=this.outstandingPuts_[$];ee&&"h"in ee.request&&ee.queued&&(ee.onComplete&&ee.onComplete("disconnect"),delete this.outstandingPuts_[$],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_($,ee){let er;er=ee?ee.map($=>ObjectToUniqueKey($)).join("$"):"default";let ei=this.removeListen_($,er);ei&&ei.onComplete&&ei.onComplete("permission_denied")}removeListen_($,ee){let er;let ei=new Path($).toString();if(this.listens.has(ei)){let $=this.listens.get(ei);er=$.get(ee),$.delete(ee),0===$.size&&this.listens.delete(ei)}else er=void 0;return er}onAuthRevoked_($,ee){log("Auth token revoked: "+$+"/"+ee),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===$||"permission_denied"===$)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=tL&&(this.reconnectDelay_=tk,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_($,ee){log("App check token revoked: "+$+"/"+ee),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===$||"permission_denied"===$)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=tL&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_($){this.securityDebugCallback_?this.securityDebugCallback_($):"msg"in $&&console.log("FIREBASE: "+$.msg.replace("\n","\nFIREBASE: "))}restoreState_(){for(let $ of(this.tryAuth(),this.tryAppCheck(),this.listens.values()))for(let ee of $.values())this.sendListen_(ee);for(let $=0;$<this.outstandingPuts_.length;$++)this.outstandingPuts_[$]&&this.sendPut_($);for(;this.onDisconnectRequestQueue_.length;){let $=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_($.action,$.pathString,$.data,$.onComplete)}for(let $=0;$<this.outstandingGets_.length;$++)this.outstandingGets_[$]&&this.sendGet_($)}sendConnectStats_(){let $={},ee="js";(0,eS.Yr)()&&(ee=this.repoInfo_.nodeAdmin?"admin_node":"node"),$["sdk."+ee+"."+eQ.replace(/\./g,"-")]=1,(0,eS.uI)()?$["framework.cordova"]=1:(0,eS.b$)()&&($["framework.reactnative"]=1),this.reportStats($)}shouldReconnect_(){let $=OnlineMonitor.getInstance().currentlyOnline();return(0,eS.xb)(this.interruptReasons_)&&$}};PersistentConnection.nextPersistentConnectionId_=0,PersistentConnection.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NamedNode=class NamedNode{constructor($,ee){this.name=$,this.node=ee}static Wrap($,ee){return new NamedNode($,ee)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Index=class Index{getCompare(){return this.compare.bind(this)}indexedValueChanged($,ee){let er=new NamedNode(eq,$),ei=new NamedNode(eq,ee);return 0!==this.compare(er,ei)}minPost(){return NamedNode.MIN}};let KeyIndex=class KeyIndex extends Index{static get __EMPTY_NODE(){return ei}static set __EMPTY_NODE($){ei=$}compare($,ee){return nameCompare($.name,ee.name)}isDefinedOn($){throw(0,eS.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged($,ee){return!1}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(ez,ei)}makePost($,ee){return(0,eS.hu)("string"==typeof $,"KeyIndex indexValue must always be a string."),new NamedNode($,ei)}toString(){return".key"}};let tB=new KeyIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SortedMapIterator=class SortedMapIterator{constructor($,ee,er,ei,en=null){this.isReverse_=ei,this.resultGenerator_=en,this.nodeStack_=[];let es=1;for(;!$.isEmpty();)if(es=ee?er($.key,ee):1,ei&&(es*=-1),es<0)$=this.isReverse_?$.left:$.right;else if(0===es){this.nodeStack_.push($);break}else this.nodeStack_.push($),$=this.isReverse_?$.right:$.left}getNext(){let $;if(0===this.nodeStack_.length)return null;let ee=this.nodeStack_.pop();if($=this.resultGenerator_?this.resultGenerator_(ee.key,ee.value):{key:ee.key,value:ee.value},this.isReverse_)for(ee=ee.left;!ee.isEmpty();)this.nodeStack_.push(ee),ee=ee.right;else for(ee=ee.right;!ee.isEmpty();)this.nodeStack_.push(ee),ee=ee.left;return $}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;let $=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_($.key,$.value):{key:$.key,value:$.value}}};let LLRBNode=class LLRBNode{constructor($,ee,er,ei,en){this.key=$,this.value=ee,this.color=null!=er?er:LLRBNode.RED,this.left=null!=ei?ei:SortedMap.EMPTY_NODE,this.right=null!=en?en:SortedMap.EMPTY_NODE}copy($,ee,er,ei,en){return new LLRBNode(null!=$?$:this.key,null!=ee?ee:this.value,null!=er?er:this.color,null!=ei?ei:this.left,null!=en?en:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal($){return this.left.inorderTraversal($)||!!$(this.key,this.value)||this.right.inorderTraversal($)}reverseTraversal($){return this.right.reverseTraversal($)||$(this.key,this.value)||this.left.reverseTraversal($)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert($,ee,er){let ei=this,en=er($,ei.key);return(ei=en<0?ei.copy(null,null,null,ei.left.insert($,ee,er),null):0===en?ei.copy(null,ee,null,null,null):ei.copy(null,null,null,null,ei.right.insert($,ee,er))).fixUp_()}removeMin_(){if(this.left.isEmpty())return SortedMap.EMPTY_NODE;let $=this;return $.left.isRed_()||$.left.left.isRed_()||($=$.moveRedLeft_()),($=$.copy(null,null,null,$.left.removeMin_(),null)).fixUp_()}remove($,ee){let er,ei;if(er=this,0>ee($,er.key))er.left.isEmpty()||er.left.isRed_()||er.left.left.isRed_()||(er=er.moveRedLeft_()),er=er.copy(null,null,null,er.left.remove($,ee),null);else{if(er.left.isRed_()&&(er=er.rotateRight_()),er.right.isEmpty()||er.right.isRed_()||er.right.left.isRed_()||(er=er.moveRedRight_()),0===ee($,er.key)){if(er.right.isEmpty())return SortedMap.EMPTY_NODE;ei=er.right.min_(),er=er.copy(ei.key,ei.value,null,null,er.right.removeMin_())}er=er.copy(null,null,null,null,er.right.remove($,ee))}return er.fixUp_()}isRed_(){return this.color}fixUp_(){let $=this;return $.right.isRed_()&&!$.left.isRed_()&&($=$.rotateLeft_()),$.left.isRed_()&&$.left.left.isRed_()&&($=$.rotateRight_()),$.left.isRed_()&&$.right.isRed_()&&($=$.colorFlip_()),$}moveRedLeft_(){let $=this.colorFlip_();return $.right.left.isRed_()&&($=($=($=$.copy(null,null,null,null,$.right.rotateRight_())).rotateLeft_()).colorFlip_()),$}moveRedRight_(){let $=this.colorFlip_();return $.left.left.isRed_()&&($=($=$.rotateRight_()).colorFlip_()),$}rotateLeft_(){let $=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,$,null)}rotateRight_(){let $=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,$)}colorFlip_(){let $=this.left.copy(null,null,!this.left.color,null,null),ee=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,$,ee)}checkMaxDepth_(){let $=this.check_();return Math.pow(2,$)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw Error("Right child of ("+this.key+","+this.value+") is red");let $=this.left.check_();if($===this.right.check_())return $+(this.isRed_()?0:1);throw Error("Black depths differ")}};LLRBNode.RED=!0,LLRBNode.BLACK=!1;let LLRBEmptyNode=class LLRBEmptyNode{copy($,ee,er,ei,en){return this}insert($,ee,er){return new LLRBNode($,ee,null)}remove($,ee){return this}count(){return 0}isEmpty(){return!0}inorderTraversal($){return!1}reverseTraversal($){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};let SortedMap=class SortedMap{constructor($,ee=SortedMap.EMPTY_NODE){this.comparator_=$,this.root_=ee}insert($,ee){return new SortedMap(this.comparator_,this.root_.insert($,ee,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}remove($){return new SortedMap(this.comparator_,this.root_.remove($,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}get($){let ee;let er=this.root_;for(;!er.isEmpty();){if(0===(ee=this.comparator_($,er.key)))return er.value;ee<0?er=er.left:ee>0&&(er=er.right)}return null}getPredecessorKey($){let ee,er=this.root_,ei=null;for(;!er.isEmpty();){if(0===(ee=this.comparator_($,er.key))){if(er.left.isEmpty()){if(ei)return ei.key;return null}for(er=er.left;!er.right.isEmpty();)er=er.right;return er.key}ee<0?er=er.left:ee>0&&(ei=er,er=er.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal($){return this.root_.inorderTraversal($)}reverseTraversal($){return this.root_.reverseTraversal($)}getIterator($){return new SortedMapIterator(this.root_,null,this.comparator_,!1,$)}getIteratorFrom($,ee){return new SortedMapIterator(this.root_,$,this.comparator_,!1,ee)}getReverseIteratorFrom($,ee){return new SortedMapIterator(this.root_,$,this.comparator_,!0,ee)}getReverseIterator($){return new SortedMapIterator(this.root_,null,this.comparator_,!0,$)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NAME_ONLY_COMPARATOR($,ee){return nameCompare($.name,ee.name)}function NAME_COMPARATOR($,ee){return nameCompare($,ee)}function setMaxNode$1($){en=$}SortedMap.EMPTY_NODE=new LLRBEmptyNode;let priorityHashText=function($){return"number"==typeof $?"number:"+doubleToIEEE754String($):"string:"+$},validatePriorityNode=function($){if($.isLeafNode()){let ee=$.val();(0,eS.hu)("string"==typeof ee||"number"==typeof ee||"object"==typeof ee&&(0,eS.r3)(ee,".sv"),"Priority must be a string or number.")}else(0,eS.hu)($===en||$.isEmpty(),"priority of unexpected type.");(0,eS.hu)($===en||$.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let LeafNode=class LeafNode{constructor($,ee=LeafNode.__childrenNodeConstructor.EMPTY_NODE){this.value_=$,this.priorityNode_=ee,this.lazyHash_=null,(0,eS.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),validatePriorityNode(this.priorityNode_)}static set __childrenNodeConstructor($){es=$}static get __childrenNodeConstructor(){return es}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority($){return new LeafNode(this.value_,$)}getImmediateChild($){return".priority"===$?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}getChild($){return pathIsEmpty($)?this:".priority"===pathGetFront($)?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName($,ee){return null}updateImmediateChild($,ee){return".priority"===$?this.updatePriority(ee):ee.isEmpty()&&".priority"!==$?this:LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild($,ee).updatePriority(this.priorityNode_)}updateChild($,ee){let er=pathGetFront($);return null===er?ee:ee.isEmpty()&&".priority"!==er?this:((0,eS.hu)(".priority"!==er||1===pathGetLength($),".priority must be the last token in a path"),this.updateImmediateChild(er,LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateChild(pathPopFront($),ee)))}isEmpty(){return!1}numChildren(){return 0}forEachChild($,ee){return!1}val($){return $&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let $="";this.priorityNode_.isEmpty()||($+="priority:"+priorityHashText(this.priorityNode_.val())+":");let ee=typeof this.value_;$+=ee+":","number"===ee?$+=doubleToIEEE754String(this.value_):$+=this.value_,this.lazyHash_=sha1($)}return this.lazyHash_}getValue(){return this.value_}compareTo($){return $===LeafNode.__childrenNodeConstructor.EMPTY_NODE?1:$ instanceof LeafNode.__childrenNodeConstructor?-1:((0,eS.hu)($.isLeafNode(),"Unknown node type"),this.compareToLeafNode_($))}compareToLeafNode_($){let ee=typeof $.value_,er=typeof this.value_,ei=LeafNode.VALUE_TYPE_ORDER.indexOf(ee),en=LeafNode.VALUE_TYPE_ORDER.indexOf(er);return((0,eS.hu)(ei>=0,"Unknown leaf type: "+ee),(0,eS.hu)(en>=0,"Unknown leaf type: "+er),ei!==en)?en-ei:"object"===er?0:this.value_<$.value_?-1:this.value_===$.value_?0:1}withIndex(){return this}isIndexed(){return!0}equals($){if($===this)return!0;if(!$.isLeafNode())return!1;{let ee=$;return this.value_===ee.value_&&this.priorityNode_.equals(ee.priorityNode_)}}};function setNodeFromJSON($){eo=$}function setMaxNode($){ep=$}LeafNode.VALUE_TYPE_ORDER=["object","boolean","number","string"];let PriorityIndex=class PriorityIndex extends Index{compare($,ee){let er=$.node.getPriority(),ei=ee.node.getPriority(),en=er.compareTo(ei);return 0===en?nameCompare($.name,ee.name):en}isDefinedOn($){return!$.getPriority().isEmpty()}indexedValueChanged($,ee){return!$.getPriority().equals(ee.getPriority())}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(ez,new LeafNode("[PRIORITY-POST]",ep))}makePost($,ee){let er=eo($);return new NamedNode(ee,new LeafNode("[PRIORITY-POST]",er))}toString(){return".priority"}};let tV=new PriorityIndex,tU=Math.log(2);let Base12Num=class Base12Num{constructor($){let logBase2=$=>parseInt(Math.log($)/tU,10),bitMask=$=>parseInt(Array($+1).join("1"),2);this.count=logBase2($+1),this.current_=this.count-1;let ee=bitMask(this.count);this.bits_=$+1&ee}nextBitIsOne(){let $=!(this.bits_&1<<this.current_);return this.current_--,$}};let buildChildSet=function($,ee,er,ei){$.sort(ee);let buildBalancedTree=function(ee,ei){let en,es;let eo=ei-ee;if(0===eo)return null;if(1===eo)return en=$[ee],es=er?er(en):en,new LLRBNode(es,en.node,LLRBNode.BLACK,null,null);{let ep=parseInt(eo/2,10)+ee,eu=buildBalancedTree(ee,ep),eh=buildBalancedTree(ep+1,ei);return en=$[ep],es=er?er(en):en,new LLRBNode(es,en.node,LLRBNode.BLACK,eu,eh)}},buildFrom12Array=function(ee){let ei=null,en=null,es=$.length,buildPennant=function(ee,ei){let en=es-ee,eo=es;es-=ee;let ep=buildBalancedTree(en+1,eo),eu=$[en],eh=er?er(eu):eu;attachPennant(new LLRBNode(eh,eu.node,ei,null,ep))},attachPennant=function($){ei?ei.left=$:en=$,ei=$};for(let $=0;$<ee.count;++$){let er=ee.nextBitIsOne(),ei=Math.pow(2,ee.count-($+1));er?buildPennant(ei,LLRBNode.BLACK):(buildPennant(ei,LLRBNode.BLACK),buildPennant(ei,LLRBNode.RED))}return en},en=new Base12Num($.length),es=buildFrom12Array(en);return new SortedMap(ei||ee,es)},tj={};let IndexMap=class IndexMap{constructor($,ee){this.indexes_=$,this.indexSet_=ee}static get Default(){return(0,eS.hu)(tj&&tV,"ChildrenNode.ts has not been loaded"),eu=eu||new IndexMap({".priority":tj},{".priority":tV})}get($){let ee=(0,eS.DV)(this.indexes_,$);if(!ee)throw Error("No index defined for "+$);return ee instanceof SortedMap?ee:null}hasIndex($){return(0,eS.r3)(this.indexSet_,$.toString())}addIndex($,ee){let er;(0,eS.hu)($!==tB,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let ei=[],en=!1,es=ee.getIterator(NamedNode.Wrap),eo=es.getNext();for(;eo;)en=en||$.isDefinedOn(eo.node),ei.push(eo),eo=es.getNext();er=en?buildChildSet(ei,$.getCompare()):tj;let ep=$.toString(),eu=Object.assign({},this.indexSet_);eu[ep]=$;let eh=Object.assign({},this.indexes_);return eh[ep]=er,new IndexMap(eh,eu)}addToIndexes($,ee){let er=(0,eS.UI)(this.indexes_,(er,ei)=>{let en=(0,eS.DV)(this.indexSet_,ei);if((0,eS.hu)(en,"Missing index implementation for "+ei),er===tj){if(!en.isDefinedOn($.node))return tj;{let er=[],ei=ee.getIterator(NamedNode.Wrap),es=ei.getNext();for(;es;)es.name!==$.name&&er.push(es),es=ei.getNext();return er.push($),buildChildSet(er,en.getCompare())}}{let ei=ee.get($.name),en=er;return ei&&(en=en.remove(new NamedNode($.name,ei))),en.insert($,$.node)}});return new IndexMap(er,this.indexSet_)}removeFromIndexes($,ee){let er=(0,eS.UI)(this.indexes_,er=>{if(er===tj)return er;{let ei=ee.get($.name);return ei?er.remove(new NamedNode($.name,ei)):er}});return new IndexMap(er,this.indexSet_)}};let ChildrenNode=class ChildrenNode{constructor($,ee,er){this.children_=$,this.priorityNode_=ee,this.indexMap_=er,this.lazyHash_=null,this.priorityNode_&&validatePriorityNode(this.priorityNode_),this.children_.isEmpty()&&(0,eS.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return eh||(eh=new ChildrenNode(new SortedMap(NAME_COMPARATOR),null,IndexMap.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||eh}updatePriority($){return this.children_.isEmpty()?this:new ChildrenNode(this.children_,$,this.indexMap_)}getImmediateChild($){if(".priority"===$)return this.getPriority();{let ee=this.children_.get($);return null===ee?eh:ee}}getChild($){let ee=pathGetFront($);return null===ee?this:this.getImmediateChild(ee).getChild(pathPopFront($))}hasChild($){return null!==this.children_.get($)}updateImmediateChild($,ee){if((0,eS.hu)(ee,"We should always be passing snapshot nodes"),".priority"===$)return this.updatePriority(ee);{let er,ei;let en=new NamedNode($,ee);ee.isEmpty()?(er=this.children_.remove($),ei=this.indexMap_.removeFromIndexes(en,this.children_)):(er=this.children_.insert($,ee),ei=this.indexMap_.addToIndexes(en,this.children_));let es=er.isEmpty()?eh:this.priorityNode_;return new ChildrenNode(er,es,ei)}}updateChild($,ee){let er=pathGetFront($);if(null===er)return ee;{(0,eS.hu)(".priority"!==pathGetFront($)||1===pathGetLength($),".priority must be the last token in a path");let ei=this.getImmediateChild(er).updateChild(pathPopFront($),ee);return this.updateImmediateChild(er,ei)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val($){if(this.isEmpty())return null;let ee={},er=0,ei=0,en=!0;if(this.forEachChild(tV,(es,eo)=>{ee[es]=eo.val($),er++,en&&ChildrenNode.INTEGER_REGEXP_.test(es)?ei=Math.max(ei,Number(es)):en=!1}),$||!en||!(ei<2*er))return $&&!this.getPriority().isEmpty()&&(ee[".priority"]=this.getPriority().val()),ee;{let $=[];for(let er in ee)$[er]=ee[er];return $}}hash(){if(null===this.lazyHash_){let $="";this.getPriority().isEmpty()||($+="priority:"+priorityHashText(this.getPriority().val())+":"),this.forEachChild(tV,(ee,er)=>{let ei=er.hash();""!==ei&&($+=":"+ee+":"+ei)}),this.lazyHash_=""===$?"":sha1($)}return this.lazyHash_}getPredecessorChildName($,ee,er){let ei=this.resolveIndex_(er);if(!ei)return this.children_.getPredecessorKey($);{let er=ei.getPredecessorKey(new NamedNode($,ee));return er?er.name:null}}getFirstChildName($){let ee=this.resolveIndex_($);if(!ee)return this.children_.minKey();{let $=ee.minKey();return $&&$.name}}getFirstChild($){let ee=this.getFirstChildName($);return ee?new NamedNode(ee,this.children_.get(ee)):null}getLastChildName($){let ee=this.resolveIndex_($);if(!ee)return this.children_.maxKey();{let $=ee.maxKey();return $&&$.name}}getLastChild($){let ee=this.getLastChildName($);return ee?new NamedNode(ee,this.children_.get(ee)):null}forEachChild($,ee){let er=this.resolveIndex_($);return er?er.inorderTraversal($=>ee($.name,$.node)):this.children_.inorderTraversal(ee)}getIterator($){return this.getIteratorFrom($.minPost(),$)}getIteratorFrom($,ee){let er=this.resolveIndex_(ee);if(er)return er.getIteratorFrom($,$=>$);{let er=this.children_.getIteratorFrom($.name,NamedNode.Wrap),ei=er.peek();for(;null!=ei&&0>ee.compare(ei,$);)er.getNext(),ei=er.peek();return er}}getReverseIterator($){return this.getReverseIteratorFrom($.maxPost(),$)}getReverseIteratorFrom($,ee){let er=this.resolveIndex_(ee);if(er)return er.getReverseIteratorFrom($,$=>$);{let er=this.children_.getReverseIteratorFrom($.name,NamedNode.Wrap),ei=er.peek();for(;null!=ei&&ee.compare(ei,$)>0;)er.getNext(),ei=er.peek();return er}}compareTo($){return this.isEmpty()?$.isEmpty()?0:-1:$.isLeafNode()||$.isEmpty()?1:$===tq?-1:0}withIndex($){if($===tB||this.indexMap_.hasIndex($))return this;{let ee=this.indexMap_.addIndex($,this.children_);return new ChildrenNode(this.children_,this.priorityNode_,ee)}}isIndexed($){return $===tB||this.indexMap_.hasIndex($)}equals($){if($===this)return!0;if($.isLeafNode())return!1;{let ee=$;if(!this.getPriority().equals(ee.getPriority())||this.children_.count()!==ee.children_.count())return!1;{let $=this.getIterator(tV),er=ee.getIterator(tV),ei=$.getNext(),en=er.getNext();for(;ei&&en;){if(ei.name!==en.name||!ei.node.equals(en.node))return!1;ei=$.getNext(),en=er.getNext()}return null===ei&&null===en}}}resolveIndex_($){return $===tB?null:this.indexMap_.get($.toString())}};ChildrenNode.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;let MaxNode=class MaxNode extends ChildrenNode{constructor(){super(new SortedMap(NAME_COMPARATOR),ChildrenNode.EMPTY_NODE,IndexMap.Default)}compareTo($){return $===this?0:1}equals($){return $===this}getPriority(){return this}getImmediateChild($){return ChildrenNode.EMPTY_NODE}isEmpty(){return!1}};let tq=new MaxNode;Object.defineProperties(NamedNode,{MIN:{value:new NamedNode(eq,ChildrenNode.EMPTY_NODE)},MAX:{value:new NamedNode(ez,tq)}}),KeyIndex.__EMPTY_NODE=ChildrenNode.EMPTY_NODE,LeafNode.__childrenNodeConstructor=ChildrenNode,setMaxNode$1(tq),setMaxNode(tq);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tz=!0;function nodeFromJSON($,ee=null){if(null===$)return ChildrenNode.EMPTY_NODE;if("object"==typeof $&&".priority"in $&&(ee=$[".priority"]),(0,eS.hu)(null===ee||"string"==typeof ee||"number"==typeof ee||"object"==typeof ee&&".sv"in ee,"Invalid priority type found: "+typeof ee),"object"==typeof $&&".value"in $&&null!==$[".value"]&&($=$[".value"]),"object"!=typeof $||".sv"in $){let er=$;return new LeafNode(er,nodeFromJSON(ee))}if($ instanceof Array||!tz){let er=ChildrenNode.EMPTY_NODE;return each($,(ee,ei)=>{if((0,eS.r3)($,ee)&&"."!==ee.substring(0,1)){let $=nodeFromJSON(ei);($.isLeafNode()||!$.isEmpty())&&(er=er.updateImmediateChild(ee,$))}}),er.updatePriority(nodeFromJSON(ee))}{let er=[],ei=!1,en=$;if(each(en,($,ee)=>{if("."!==$.substring(0,1)){let en=nodeFromJSON(ee);en.isEmpty()||(ei=ei||!en.getPriority().isEmpty(),er.push(new NamedNode($,en)))}}),0===er.length)return ChildrenNode.EMPTY_NODE;let es=buildChildSet(er,NAME_ONLY_COMPARATOR,$=>$.name,NAME_COMPARATOR);if(!ei)return new ChildrenNode(es,nodeFromJSON(ee),IndexMap.Default);{let $=buildChildSet(er,tV.getCompare());return new ChildrenNode(es,nodeFromJSON(ee),new IndexMap({".priority":$},{".priority":tV}))}}}setNodeFromJSON(nodeFromJSON);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PathIndex=class PathIndex extends Index{constructor($){super(),this.indexPath_=$,(0,eS.hu)(!pathIsEmpty($)&&".priority"!==pathGetFront($),"Can't create PathIndex with empty path or .priority key")}extractChild($){return $.getChild(this.indexPath_)}isDefinedOn($){return!$.getChild(this.indexPath_).isEmpty()}compare($,ee){let er=this.extractChild($.node),ei=this.extractChild(ee.node),en=er.compareTo(ei);return 0===en?nameCompare($.name,ee.name):en}makePost($,ee){let er=nodeFromJSON($),ei=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,er);return new NamedNode(ee,ei)}maxPost(){let $=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,tq);return new NamedNode(ez,$)}toString(){return pathSlice(this.indexPath_,0).join("/")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ValueIndex=class ValueIndex extends Index{compare($,ee){let er=$.node.compareTo(ee.node);return 0===er?nameCompare($.name,ee.name):er}isDefinedOn($){return!0}indexedValueChanged($,ee){return!$.equals(ee)}minPost(){return NamedNode.MIN}maxPost(){return NamedNode.MAX}makePost($,ee){let er=nodeFromJSON($);return new NamedNode(ee,er)}toString(){return".value"}};let tW=new ValueIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function changeValue($){return{type:"value",snapshotNode:$}}function changeChildAdded($,ee){return{type:"child_added",snapshotNode:ee,childName:$}}function changeChildRemoved($,ee){return{type:"child_removed",snapshotNode:ee,childName:$}}function changeChildChanged($,ee,er){return{type:"child_changed",snapshotNode:ee,childName:$,oldSnap:er}}function changeChildMoved($,ee){return{type:"child_moved",snapshotNode:ee,childName:$}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IndexedFilter=class IndexedFilter{constructor($){this.index_=$}updateChild($,ee,er,ei,en,es){assert($.isIndexed(this.index_),"A node must be indexed if only a child is updated");let eo=$.getImmediateChild(ee);return eo.getChild(ei).equals(er.getChild(ei))&&eo.isEmpty()===er.isEmpty()?$:(null!=es&&(er.isEmpty()?$.hasChild(ee)?es.trackChildChange(changeChildRemoved(ee,eo)):assert($.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):eo.isEmpty()?es.trackChildChange(changeChildAdded(ee,er)):es.trackChildChange(changeChildChanged(ee,er,eo))),$.isLeafNode()&&er.isEmpty())?$:$.updateImmediateChild(ee,er).withIndex(this.index_)}updateFullNode($,ee,er){return null==er||($.isLeafNode()||$.forEachChild(tV,($,ei)=>{ee.hasChild($)||er.trackChildChange(changeChildRemoved($,ei))}),ee.isLeafNode()||ee.forEachChild(tV,(ee,ei)=>{if($.hasChild(ee)){let en=$.getImmediateChild(ee);en.equals(ei)||er.trackChildChange(changeChildChanged(ee,ei,en))}else er.trackChildChange(changeChildAdded(ee,ei))})),ee.withIndex(this.index_)}updatePriority($,ee){return $.isEmpty()?ChildrenNode.EMPTY_NODE:$.updatePriority(ee)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RangedFilter=class RangedFilter{constructor($){this.indexedFilter_=new IndexedFilter($.getIndex()),this.index_=$.getIndex(),this.startPost_=RangedFilter.getStartPost_($),this.endPost_=RangedFilter.getEndPost_($),this.startIsInclusive_=!$.startAfterSet_,this.endIsInclusive_=!$.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches($){let ee=this.startIsInclusive_?0>=this.index_.compare(this.getStartPost(),$):0>this.index_.compare(this.getStartPost(),$),er=this.endIsInclusive_?0>=this.index_.compare($,this.getEndPost()):0>this.index_.compare($,this.getEndPost());return ee&&er}updateChild($,ee,er,ei,en,es){return this.matches(new NamedNode(ee,er))||(er=ChildrenNode.EMPTY_NODE),this.indexedFilter_.updateChild($,ee,er,ei,en,es)}updateFullNode($,ee,er){ee.isLeafNode()&&(ee=ChildrenNode.EMPTY_NODE);let ei=ee.withIndex(this.index_);ei=ei.updatePriority(ChildrenNode.EMPTY_NODE);let en=this;return ee.forEachChild(tV,($,ee)=>{en.matches(new NamedNode($,ee))||(ei=ei.updateImmediateChild($,ChildrenNode.EMPTY_NODE))}),this.indexedFilter_.updateFullNode($,ei,er)}updatePriority($,ee){return $}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_($){if(!$.hasStart())return $.getIndex().minPost();{let ee=$.getIndexStartName();return $.getIndex().makePost($.getIndexStartValue(),ee)}}static getEndPost_($){if(!$.hasEnd())return $.getIndex().maxPost();{let ee=$.getIndexEndName();return $.getIndex().makePost($.getIndexEndValue(),ee)}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LimitedFilter=class LimitedFilter{constructor($){this.withinDirectionalStart=$=>this.reverse_?this.withinEndPost($):this.withinStartPost($),this.withinDirectionalEnd=$=>this.reverse_?this.withinStartPost($):this.withinEndPost($),this.withinStartPost=$=>{let ee=this.index_.compare(this.rangedFilter_.getStartPost(),$);return this.startIsInclusive_?ee<=0:ee<0},this.withinEndPost=$=>{let ee=this.index_.compare($,this.rangedFilter_.getEndPost());return this.endIsInclusive_?ee<=0:ee<0},this.rangedFilter_=new RangedFilter($),this.index_=$.getIndex(),this.limit_=$.getLimit(),this.reverse_=!$.isViewFromLeft(),this.startIsInclusive_=!$.startAfterSet_,this.endIsInclusive_=!$.endBeforeSet_}updateChild($,ee,er,ei,en,es){return(this.rangedFilter_.matches(new NamedNode(ee,er))||(er=ChildrenNode.EMPTY_NODE),$.getImmediateChild(ee).equals(er))?$:$.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild($,ee,er,ei,en,es):this.fullLimitUpdateChild_($,ee,er,en,es)}updateFullNode($,ee,er){let ei;if(ee.isLeafNode()||ee.isEmpty())ei=ChildrenNode.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<ee.numChildren()&&ee.isIndexed(this.index_)){let $;ei=ChildrenNode.EMPTY_NODE.withIndex(this.index_),$=this.reverse_?ee.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):ee.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let er=0;for(;$.hasNext()&&er<this.limit_;){let ee=$.getNext();if(this.withinDirectionalStart(ee)){if(this.withinDirectionalEnd(ee))ei=ei.updateImmediateChild(ee.name,ee.node),er++;else break}}}else{let $;ei=(ei=ee.withIndex(this.index_)).updatePriority(ChildrenNode.EMPTY_NODE),$=this.reverse_?ei.getReverseIterator(this.index_):ei.getIterator(this.index_);let er=0;for(;$.hasNext();){let ee=$.getNext(),en=er<this.limit_&&this.withinDirectionalStart(ee)&&this.withinDirectionalEnd(ee);en?er++:ei=ei.updateImmediateChild(ee.name,ChildrenNode.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode($,ei,er)}updatePriority($,ee){return $}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_($,ee,er,ei,en){let es;if(this.reverse_){let $=this.index_.getCompare();es=(ee,er)=>$(er,ee)}else es=this.index_.getCompare();let eo=$;assert(eo.numChildren()===this.limit_,"");let ep=new NamedNode(ee,er),eu=this.reverse_?eo.getFirstChild(this.index_):eo.getLastChild(this.index_),eh=this.rangedFilter_.matches(ep);if(eo.hasChild(ee)){let $=eo.getImmediateChild(ee),em=ei.getChildAfterChild(this.index_,eu,this.reverse_);for(;null!=em&&(em.name===ee||eo.hasChild(em.name));)em=ei.getChildAfterChild(this.index_,em,this.reverse_);let ef=null==em?1:es(em,ep),eg=eh&&!er.isEmpty()&&ef>=0;if(eg)return null!=en&&en.trackChildChange(changeChildChanged(ee,er,$)),eo.updateImmediateChild(ee,er);{null!=en&&en.trackChildChange(changeChildRemoved(ee,$));let er=eo.updateImmediateChild(ee,ChildrenNode.EMPTY_NODE),ei=null!=em&&this.rangedFilter_.matches(em);return ei?(null!=en&&en.trackChildChange(changeChildAdded(em.name,em.node)),er.updateImmediateChild(em.name,em.node)):er}}return er.isEmpty()?$:eh&&es(eu,ep)>=0?(null!=en&&(en.trackChildChange(changeChildRemoved(eu.name,eu.node)),en.trackChildChange(changeChildAdded(ee,er))),eo.updateImmediateChild(ee,er).updateImmediateChild(eu.name,ChildrenNode.EMPTY_NODE)):$}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QueryParams=class QueryParams{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tV}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,eS.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return((0,eS.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_)?this.indexStartName_:eq}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,eS.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return((0,eS.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_)?this.indexEndName_:ez}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,eS.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===tV}copy(){let $=new QueryParams;return $.limitSet_=this.limitSet_,$.limit_=this.limit_,$.startSet_=this.startSet_,$.startAfterSet_=this.startAfterSet_,$.indexStartValue_=this.indexStartValue_,$.startNameSet_=this.startNameSet_,$.indexStartName_=this.indexStartName_,$.endSet_=this.endSet_,$.endBeforeSet_=this.endBeforeSet_,$.indexEndValue_=this.indexEndValue_,$.endNameSet_=this.endNameSet_,$.indexEndName_=this.indexEndName_,$.index_=this.index_,$.viewFrom_=this.viewFrom_,$}};function queryParamsGetNodeFilter($){return $.loadsAllData()?new IndexedFilter($.getIndex()):$.hasLimit()?new LimitedFilter($):new RangedFilter($)}function queryParamsStartAt($,ee,er){let ei=$.copy();return ei.startSet_=!0,void 0===ee&&(ee=null),ei.indexStartValue_=ee,null!=er?(ei.startNameSet_=!0,ei.indexStartName_=er):(ei.startNameSet_=!1,ei.indexStartName_=""),ei}function queryParamsEndAt($,ee,er){let ei=$.copy();return ei.endSet_=!0,void 0===ee&&(ee=null),ei.indexEndValue_=ee,void 0!==er?(ei.endNameSet_=!0,ei.indexEndName_=er):(ei.endNameSet_=!1,ei.indexEndName_=""),ei}function queryParamsToRestQueryStringParameters($){let ee;let er={};if($.isDefault())return er;if($.index_===tV?ee="$priority":$.index_===tW?ee="$value":$.index_===tB?ee="$key":((0,eS.hu)($.index_ instanceof PathIndex,"Unrecognized index type!"),ee=$.index_.toString()),er.orderBy=(0,eS.Wl)(ee),$.startSet_){let ee=$.startAfterSet_?"startAfter":"startAt";er[ee]=(0,eS.Wl)($.indexStartValue_),$.startNameSet_&&(er[ee]+=","+(0,eS.Wl)($.indexStartName_))}if($.endSet_){let ee=$.endBeforeSet_?"endBefore":"endAt";er[ee]=(0,eS.Wl)($.indexEndValue_),$.endNameSet_&&(er[ee]+=","+(0,eS.Wl)($.indexEndName_))}return $.limitSet_&&($.isViewFromLeft()?er.limitToFirst=$.limit_:er.limitToLast=$.limit_),er}function queryParamsGetQueryObject($){let ee={};if($.startSet_&&(ee.sp=$.indexStartValue_,$.startNameSet_&&(ee.sn=$.indexStartName_),ee.sin=!$.startAfterSet_),$.endSet_&&(ee.ep=$.indexEndValue_,$.endNameSet_&&(ee.en=$.indexEndName_),ee.ein=!$.endBeforeSet_),$.limitSet_){ee.l=$.limit_;let er=$.viewFrom_;""===er&&(er=$.isViewFromLeft()?"l":"r"),ee.vf=er}return $.index_!==tV&&(ee.i=$.index_.toString()),ee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ReadonlyRestClient=class ReadonlyRestClient extends ServerActions{constructor($,ee,er,ei){super(),this.repoInfo_=$,this.onDataUpdate_=ee,this.authTokenProvider_=er,this.appCheckTokenProvider_=ei,this.log_=logWrapper("p:rest:"),this.listens_={}}reportStats($){throw Error("Method not implemented.")}static getListenId_($,ee){return void 0!==ee?"tag$"+ee:((0,eS.hu)($._queryParams.isDefault(),"should have a tag if it's not a default query."),$._path.toString())}listen($,ee,er,ei){let en=$._path.toString();this.log_("Listen called for "+en+" "+$._queryIdentifier);let es=ReadonlyRestClient.getListenId_($,er),eo={};this.listens_[es]=eo;let ep=queryParamsToRestQueryStringParameters($._queryParams);this.restRequest_(en+".json",ep,($,ee)=>{let ep=ee;if(404===$&&(ep=null,$=null),null===$&&this.onDataUpdate_(en,ep,!1,er),(0,eS.DV)(this.listens_,es)===eo){let ee;ei(ee=$?401===$?"permission_denied":"rest_error:"+$:"ok",null)}})}unlisten($,ee){let er=ReadonlyRestClient.getListenId_($,ee);delete this.listens_[er]}get($){let ee=queryParamsToRestQueryStringParameters($._queryParams),er=$._path.toString(),ei=new eS.BH;return this.restRequest_(er+".json",ee,($,ee)=>{let en=ee;404===$&&(en=null,$=null),null===$?(this.onDataUpdate_(er,en,!1,null),ei.resolve(en)):ei.reject(Error(en))}),ei.promise}refreshAuthToken($){}restRequest_($,ee={},er){return ee.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([ei,en])=>{ei&&ei.accessToken&&(ee.auth=ei.accessToken),en&&en.token&&(ee.ac=en.token);let es=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+$+"?ns="+this.repoInfo_.namespace+(0,eS.xO)(ee);this.log_("Sending REST request for "+es);let eo=new XMLHttpRequest;eo.onreadystatechange=()=>{if(er&&4===eo.readyState){this.log_("REST Response for "+es+" received. status:",eo.status,"response:",eo.responseText);let $=null;if(eo.status>=200&&eo.status<300){try{$=(0,eS.cI)(eo.responseText)}catch($){warn("Failed to parse JSON response for "+es+": "+eo.responseText)}er(null,$)}else 401!==eo.status&&404!==eo.status&&warn("Got unsuccessful REST response for "+es+" Status: "+eo.status),er(eo.status);er=null}},eo.open("GET",es,!0),eo.send()})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SnapshotHolder=class SnapshotHolder{constructor(){this.rootNode_=ChildrenNode.EMPTY_NODE}getNode($){return this.rootNode_.getChild($)}updateSnapshot($,ee){this.rootNode_=this.rootNode_.updateChild($,ee)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newSparseSnapshotTree(){return{value:null,children:new Map}}function sparseSnapshotTreeRemember($,ee,er){if(pathIsEmpty(ee))$.value=er,$.children.clear();else if(null!==$.value)$.value=$.value.updateChild(ee,er);else{let ei=pathGetFront(ee);$.children.has(ei)||$.children.set(ei,newSparseSnapshotTree());let en=$.children.get(ei);sparseSnapshotTreeRemember(en,ee=pathPopFront(ee),er)}}function sparseSnapshotTreeForget($,ee){if(pathIsEmpty(ee))return $.value=null,$.children.clear(),!0;if(null!==$.value){if($.value.isLeafNode())return!1;{let er=$.value;return $.value=null,er.forEachChild(tV,(ee,er)=>{sparseSnapshotTreeRemember($,new Path(ee),er)}),sparseSnapshotTreeForget($,ee)}}if(!($.children.size>0))return!0;{let er=pathGetFront(ee);if(ee=pathPopFront(ee),$.children.has(er)){let ei=sparseSnapshotTreeForget($.children.get(er),ee);ei&&$.children.delete(er)}return 0===$.children.size}}function sparseSnapshotTreeForEachTree($,ee,er){null!==$.value?er(ee,$.value):sparseSnapshotTreeForEachChild($,($,ei)=>{let en=new Path(ee.toString()+"/"+$);sparseSnapshotTreeForEachTree(ei,en,er)})}function sparseSnapshotTreeForEachChild($,ee){$.children.forEach(($,er)=>{ee(er,$)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let StatsListener=class StatsListener{constructor($){this.collection_=$,this.last_=null}get(){let $=this.collection_.get(),ee=Object.assign({},$);return this.last_&&each(this.last_,($,er)=>{ee[$]=ee[$]-er}),this.last_=$,ee}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tH=1e4,tG=3e4,tK=3e5;let StatsReporter=class StatsReporter{constructor($,ee){this.server_=ee,this.statsToReport_={},this.statsListener_=new StatsListener($);let er=tH+(tG-tH)*Math.random();setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(er))}reportStats_(){let $=this.statsListener_.get(),ee={},er=!1;each($,($,ei)=>{ei>0&&(0,eS.r3)(this.statsToReport_,$)&&(ee[$]=ei,er=!0)}),er&&this.server_.reportStats(ee),setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(2*Math.random()*tK))}};function newOperationSourceUser(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function newOperationSourceServer(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function newOperationSourceServerTaggedQuery($){return{fromUser:!1,fromServer:!0,queryId:$,tagged:!0}}!function($){$[$.OVERWRITE=0]="OVERWRITE",$[$.MERGE=1]="MERGE",$[$.ACK_USER_WRITE=2]="ACK_USER_WRITE",$[$.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ey||(ey={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AckUserWrite=class AckUserWrite{constructor($,ee,er){this.path=$,this.affectedTree=ee,this.revert=er,this.type=ey.ACK_USER_WRITE,this.source=newOperationSourceUser()}operationForChild($){if(!pathIsEmpty(this.path))return(0,eS.hu)(pathGetFront(this.path)===$,"operationForChild called for unrelated child."),new AckUserWrite(pathPopFront(this.path),this.affectedTree,this.revert);if(null!=this.affectedTree.value)return(0,eS.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let ee=this.affectedTree.subtree(new Path($));return new AckUserWrite(newEmptyPath(),ee,this.revert)}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ListenComplete=class ListenComplete{constructor($,ee){this.source=$,this.path=ee,this.type=ey.LISTEN_COMPLETE}operationForChild($){return pathIsEmpty(this.path)?new ListenComplete(this.source,newEmptyPath()):new ListenComplete(this.source,pathPopFront(this.path))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Overwrite=class Overwrite{constructor($,ee,er){this.source=$,this.path=ee,this.snap=er,this.type=ey.OVERWRITE}operationForChild($){return pathIsEmpty(this.path)?new Overwrite(this.source,newEmptyPath(),this.snap.getImmediateChild($)):new Overwrite(this.source,pathPopFront(this.path),this.snap)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Merge=class Merge{constructor($,ee,er){this.source=$,this.path=ee,this.children=er,this.type=ey.MERGE}operationForChild($){if(!pathIsEmpty(this.path))return(0,eS.hu)(pathGetFront(this.path)===$,"Can't get a merge for a child not on the path of the operation"),new Merge(this.source,pathPopFront(this.path),this.children);{let ee=this.children.subtree(new Path($));return ee.isEmpty()?null:ee.value?new Overwrite(this.source,newEmptyPath(),ee.value):new Merge(this.source,newEmptyPath(),ee)}}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CacheNode=class CacheNode{constructor($,ee,er){this.node_=$,this.fullyInitialized_=ee,this.filtered_=er}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath($){if(pathIsEmpty($))return this.isFullyInitialized()&&!this.filtered_;let ee=pathGetFront($);return this.isCompleteForChild(ee)}isCompleteForChild($){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild($)}getNode(){return this.node_}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EventGenerator=class EventGenerator{constructor($){this.query_=$,this.index_=this.query_._queryParams.getIndex()}};function eventGeneratorGenerateEventsForChanges($,ee,er,ei){let en=[],es=[];return ee.forEach(ee=>{"child_changed"===ee.type&&$.index_.indexedValueChanged(ee.oldSnap,ee.snapshotNode)&&es.push(changeChildMoved(ee.childName,ee.snapshotNode))}),eventGeneratorGenerateEventsForType($,en,"child_removed",ee,ei,er),eventGeneratorGenerateEventsForType($,en,"child_added",ee,ei,er),eventGeneratorGenerateEventsForType($,en,"child_moved",es,ei,er),eventGeneratorGenerateEventsForType($,en,"child_changed",ee,ei,er),eventGeneratorGenerateEventsForType($,en,"value",ee,ei,er),en}function eventGeneratorGenerateEventsForType($,ee,er,ei,en,es){let eo=ei.filter($=>$.type===er);eo.sort((ee,er)=>eventGeneratorCompareChanges($,ee,er)),eo.forEach(er=>{let ei=eventGeneratorMaterializeSingleChange($,er,es);en.forEach(en=>{en.respondsTo(er.type)&&ee.push(en.createEvent(ei,$.query_))})})}function eventGeneratorMaterializeSingleChange($,ee,er){return"value"===ee.type||"child_removed"===ee.type||(ee.prevName=er.getPredecessorChildName(ee.childName,ee.snapshotNode,$.index_)),ee}function eventGeneratorCompareChanges($,ee,er){if(null==ee.childName||null==er.childName)throw(0,eS.g5)("Should only compare child_ events.");let ei=new NamedNode(ee.childName,ee.snapshotNode),en=new NamedNode(er.childName,er.snapshotNode);return $.index_.compare(ei,en)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newViewCache($,ee){return{eventCache:$,serverCache:ee}}function viewCacheUpdateEventSnap($,ee,er,ei){return newViewCache(new CacheNode(ee,er,ei),$.serverCache)}function viewCacheUpdateServerSnap($,ee,er,ei){return newViewCache($.eventCache,new CacheNode(ee,er,ei))}function viewCacheGetCompleteEventSnap($){return $.eventCache.isFullyInitialized()?$.eventCache.getNode():null}function viewCacheGetCompleteServerSnap($){return $.serverCache.isFullyInitialized()?$.serverCache.getNode():null}let EmptyChildren=()=>(em||(em=new SortedMap(stringCompare)),em);let ImmutableTree=class ImmutableTree{constructor($,ee=EmptyChildren()){this.value=$,this.children=ee}static fromObject($){let ee=new ImmutableTree(null);return each($,($,er)=>{ee=ee.set(new Path($),er)}),ee}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue($,ee){if(null!=this.value&&ee(this.value))return{path:newEmptyPath(),value:this.value};if(pathIsEmpty($))return null;{let er=pathGetFront($),ei=this.children.get(er);if(null===ei)return null;{let en=ei.findRootMostMatchingPathAndValue(pathPopFront($),ee);if(null==en)return null;{let $=pathChild(new Path(er),en.path);return{path:$,value:en.value}}}}}findRootMostValueAndPath($){return this.findRootMostMatchingPathAndValue($,()=>!0)}subtree($){if(pathIsEmpty($))return this;{let ee=pathGetFront($),er=this.children.get(ee);return null!==er?er.subtree(pathPopFront($)):new ImmutableTree(null)}}set($,ee){if(pathIsEmpty($))return new ImmutableTree(ee,this.children);{let er=pathGetFront($),ei=this.children.get(er)||new ImmutableTree(null),en=ei.set(pathPopFront($),ee),es=this.children.insert(er,en);return new ImmutableTree(this.value,es)}}remove($){if(pathIsEmpty($))return this.children.isEmpty()?new ImmutableTree(null):new ImmutableTree(null,this.children);{let ee=pathGetFront($),er=this.children.get(ee);if(!er)return this;{let ei;let en=er.remove(pathPopFront($));return(ei=en.isEmpty()?this.children.remove(ee):this.children.insert(ee,en),null===this.value&&ei.isEmpty())?new ImmutableTree(null):new ImmutableTree(this.value,ei)}}}get($){if(pathIsEmpty($))return this.value;{let ee=pathGetFront($),er=this.children.get(ee);return er?er.get(pathPopFront($)):null}}setTree($,ee){if(pathIsEmpty($))return ee;{let er;let ei=pathGetFront($),en=this.children.get(ei)||new ImmutableTree(null),es=en.setTree(pathPopFront($),ee);return er=es.isEmpty()?this.children.remove(ei):this.children.insert(ei,es),new ImmutableTree(this.value,er)}}fold($){return this.fold_(newEmptyPath(),$)}fold_($,ee){let er={};return this.children.inorderTraversal((ei,en)=>{er[ei]=en.fold_(pathChild($,ei),ee)}),ee($,this.value,er)}findOnPath($,ee){return this.findOnPath_($,newEmptyPath(),ee)}findOnPath_($,ee,er){let ei=!!this.value&&er(ee,this.value);if(ei)return ei;if(pathIsEmpty($))return null;{let ei=pathGetFront($),en=this.children.get(ei);return en?en.findOnPath_(pathPopFront($),pathChild(ee,ei),er):null}}foreachOnPath($,ee){return this.foreachOnPath_($,newEmptyPath(),ee)}foreachOnPath_($,ee,er){if(pathIsEmpty($))return this;{this.value&&er(ee,this.value);let ei=pathGetFront($),en=this.children.get(ei);return en?en.foreachOnPath_(pathPopFront($),pathChild(ee,ei),er):new ImmutableTree(null)}}foreach($){this.foreach_(newEmptyPath(),$)}foreach_($,ee){this.children.inorderTraversal((er,ei)=>{ei.foreach_(pathChild($,er),ee)}),this.value&&ee($,this.value)}foreachChild($){this.children.inorderTraversal((ee,er)=>{er.value&&$(ee,er.value)})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CompoundWrite=class CompoundWrite{constructor($){this.writeTree_=$}static empty(){return new CompoundWrite(new ImmutableTree(null))}};function compoundWriteAddWrite($,ee,er){if(pathIsEmpty(ee))return new CompoundWrite(new ImmutableTree(er));{let ei=$.writeTree_.findRootMostValueAndPath(ee);if(null!=ei){let en=ei.path,es=ei.value,eo=newRelativePath(en,ee);return es=es.updateChild(eo,er),new CompoundWrite($.writeTree_.set(en,es))}{let ei=new ImmutableTree(er),en=$.writeTree_.setTree(ee,ei);return new CompoundWrite(en)}}}function compoundWriteAddWrites($,ee,er){let ei=$;return each(er,($,er)=>{ei=compoundWriteAddWrite(ei,pathChild(ee,$),er)}),ei}function compoundWriteRemoveWrite($,ee){if(pathIsEmpty(ee))return CompoundWrite.empty();{let er=$.writeTree_.setTree(ee,new ImmutableTree(null));return new CompoundWrite(er)}}function compoundWriteHasCompleteWrite($,ee){return null!=compoundWriteGetCompleteNode($,ee)}function compoundWriteGetCompleteNode($,ee){let er=$.writeTree_.findRootMostValueAndPath(ee);return null!=er?$.writeTree_.get(er.path).getChild(newRelativePath(er.path,ee)):null}function compoundWriteGetCompleteChildren($){let ee=[],er=$.writeTree_.value;return null!=er?er.isLeafNode()||er.forEachChild(tV,($,er)=>{ee.push(new NamedNode($,er))}):$.writeTree_.children.inorderTraversal(($,er)=>{null!=er.value&&ee.push(new NamedNode($,er.value))}),ee}function compoundWriteChildCompoundWrite($,ee){if(pathIsEmpty(ee))return $;{let er=compoundWriteGetCompleteNode($,ee);return new CompoundWrite(null!=er?new ImmutableTree(er):$.writeTree_.subtree(ee))}}function compoundWriteIsEmpty($){return $.writeTree_.isEmpty()}function compoundWriteApply($,ee){return applySubtreeWrite(newEmptyPath(),$.writeTree_,ee)}function applySubtreeWrite($,ee,er){if(null!=ee.value)return er.updateChild($,ee.value);{let ei=null;return ee.children.inorderTraversal((ee,en)=>{".priority"===ee?((0,eS.hu)(null!==en.value,"Priority writes must always be leaf nodes"),ei=en.value):er=applySubtreeWrite(pathChild($,ee),en,er)}),er.getChild($).isEmpty()||null===ei||(er=er.updateChild(pathChild($,".priority"),ei)),er}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function writeTreeChildWrites($,ee){return newWriteTreeRef(ee,$)}function writeTreeAddOverwrite($,ee,er,ei,en){(0,eS.hu)(ei>$.lastWriteId,"Stacking an older write on top of newer ones"),void 0===en&&(en=!0),$.allWrites.push({path:ee,snap:er,writeId:ei,visible:en}),en&&($.visibleWrites=compoundWriteAddWrite($.visibleWrites,ee,er)),$.lastWriteId=ei}function writeTreeAddMerge($,ee,er,ei){assert(ei>$.lastWriteId,"Stacking an older merge on top of newer ones"),$.allWrites.push({path:ee,children:er,writeId:ei,visible:!0}),$.visibleWrites=compoundWriteAddWrites($.visibleWrites,ee,er),$.lastWriteId=ei}function writeTreeGetWrite($,ee){for(let er=0;er<$.allWrites.length;er++){let ei=$.allWrites[er];if(ei.writeId===ee)return ei}return null}function writeTreeRemoveWrite($,ee){let er=$.allWrites.findIndex($=>$.writeId===ee);(0,eS.hu)(er>=0,"removeWrite called with nonexistent writeId.");let ei=$.allWrites[er];$.allWrites.splice(er,1);let en=ei.visible,es=!1,eo=$.allWrites.length-1;for(;en&&eo>=0;){let ee=$.allWrites[eo];ee.visible&&(eo>=er&&writeTreeRecordContainsPath_(ee,ei.path)?en=!1:pathContains(ei.path,ee.path)&&(es=!0)),eo--}if(!en)return!1;if(es)return writeTreeResetTree_($),!0;if(ei.snap)$.visibleWrites=compoundWriteRemoveWrite($.visibleWrites,ei.path);else{let ee=ei.children;each(ee,ee=>{$.visibleWrites=compoundWriteRemoveWrite($.visibleWrites,pathChild(ei.path,ee))})}return!0}function writeTreeRecordContainsPath_($,ee){if($.snap)return pathContains($.path,ee);for(let er in $.children)if($.children.hasOwnProperty(er)&&pathContains(pathChild($.path,er),ee))return!0;return!1}function writeTreeResetTree_($){$.visibleWrites=writeTreeLayerTree_($.allWrites,writeTreeDefaultFilter_,newEmptyPath()),$.allWrites.length>0?$.lastWriteId=$.allWrites[$.allWrites.length-1].writeId:$.lastWriteId=-1}function writeTreeDefaultFilter_($){return $.visible}function writeTreeLayerTree_($,ee,er){let ei=CompoundWrite.empty();for(let en=0;en<$.length;++en){let es=$[en];if(ee(es)){let $;let ee=es.path;if(es.snap)pathContains(er,ee)?ei=compoundWriteAddWrite(ei,$=newRelativePath(er,ee),es.snap):pathContains(ee,er)&&($=newRelativePath(ee,er),ei=compoundWriteAddWrite(ei,newEmptyPath(),es.snap.getChild($)));else if(es.children){if(pathContains(er,ee))ei=compoundWriteAddWrites(ei,$=newRelativePath(er,ee),es.children);else if(pathContains(ee,er)){if(pathIsEmpty($=newRelativePath(ee,er)))ei=compoundWriteAddWrites(ei,newEmptyPath(),es.children);else{let ee=(0,eS.DV)(es.children,pathGetFront($));if(ee){let er=ee.getChild(pathPopFront($));ei=compoundWriteAddWrite(ei,newEmptyPath(),er)}}}}else throw(0,eS.g5)("WriteRecord should have .snap or .children")}}return ei}function writeTreeCalcCompleteEventCache($,ee,er,ei,en){if(ei||en){let es=compoundWriteChildCompoundWrite($.visibleWrites,ee);if(!en&&compoundWriteIsEmpty(es))return er;if(!en&&null==er&&!compoundWriteHasCompleteWrite(es,newEmptyPath()))return null;{let filter=function($){return($.visible||en)&&(!ei||!~ei.indexOf($.writeId))&&(pathContains($.path,ee)||pathContains(ee,$.path))},es=writeTreeLayerTree_($.allWrites,filter,ee),eo=er||ChildrenNode.EMPTY_NODE;return compoundWriteApply(es,eo)}}{let ei=compoundWriteGetCompleteNode($.visibleWrites,ee);if(null!=ei)return ei;{let ei=compoundWriteChildCompoundWrite($.visibleWrites,ee);if(compoundWriteIsEmpty(ei))return er;if(null==er&&!compoundWriteHasCompleteWrite(ei,newEmptyPath()))return null;{let $=er||ChildrenNode.EMPTY_NODE;return compoundWriteApply(ei,$)}}}}function writeTreeCalcCompleteEventChildren($,ee,er){let ei=ChildrenNode.EMPTY_NODE,en=compoundWriteGetCompleteNode($.visibleWrites,ee);if(en)return en.isLeafNode()||en.forEachChild(tV,($,ee)=>{ei=ei.updateImmediateChild($,ee)}),ei;if(er){let en=compoundWriteChildCompoundWrite($.visibleWrites,ee);return er.forEachChild(tV,($,ee)=>{let er=compoundWriteApply(compoundWriteChildCompoundWrite(en,new Path($)),ee);ei=ei.updateImmediateChild($,er)}),compoundWriteGetCompleteChildren(en).forEach($=>{ei=ei.updateImmediateChild($.name,$.node)}),ei}{let er=compoundWriteChildCompoundWrite($.visibleWrites,ee);return compoundWriteGetCompleteChildren(er).forEach($=>{ei=ei.updateImmediateChild($.name,$.node)}),ei}}function writeTreeCalcEventCacheAfterServerOverwrite($,ee,er,ei,en){(0,eS.hu)(ei||en,"Either existingEventSnap or existingServerSnap must exist");let es=pathChild(ee,er);if(compoundWriteHasCompleteWrite($.visibleWrites,es))return null;{let ee=compoundWriteChildCompoundWrite($.visibleWrites,es);return compoundWriteIsEmpty(ee)?en.getChild(er):compoundWriteApply(ee,en.getChild(er))}}function writeTreeCalcCompleteChild($,ee,er,ei){let en=pathChild(ee,er),es=compoundWriteGetCompleteNode($.visibleWrites,en);if(null!=es)return es;if(!ei.isCompleteForChild(er))return null;{let ee=compoundWriteChildCompoundWrite($.visibleWrites,en);return compoundWriteApply(ee,ei.getNode().getImmediateChild(er))}}function writeTreeShadowingWrite($,ee){return compoundWriteGetCompleteNode($.visibleWrites,ee)}function writeTreeCalcIndexedSlice($,ee,er,ei,en,es,eo){let ep;let eu=compoundWriteChildCompoundWrite($.visibleWrites,ee),eh=compoundWriteGetCompleteNode(eu,newEmptyPath());if(null!=eh)ep=eh;else{if(null==er)return[];ep=compoundWriteApply(eu,er)}if((ep=ep.withIndex(eo)).isEmpty()||ep.isLeafNode())return[];{let $=[],ee=eo.getCompare(),er=es?ep.getReverseIteratorFrom(ei,eo):ep.getIteratorFrom(ei,eo),eu=er.getNext();for(;eu&&$.length<en;)0!==ee(eu,ei)&&$.push(eu),eu=er.getNext();return $}}function newWriteTree(){return{visibleWrites:CompoundWrite.empty(),allWrites:[],lastWriteId:-1}}function writeTreeRefCalcCompleteEventCache($,ee,er,ei){return writeTreeCalcCompleteEventCache($.writeTree,$.treePath,ee,er,ei)}function writeTreeRefCalcCompleteEventChildren($,ee){return writeTreeCalcCompleteEventChildren($.writeTree,$.treePath,ee)}function writeTreeRefCalcEventCacheAfterServerOverwrite($,ee,er,ei){return writeTreeCalcEventCacheAfterServerOverwrite($.writeTree,$.treePath,ee,er,ei)}function writeTreeRefShadowingWrite($,ee){return writeTreeShadowingWrite($.writeTree,pathChild($.treePath,ee))}function writeTreeRefCalcIndexedSlice($,ee,er,ei,en,es){return writeTreeCalcIndexedSlice($.writeTree,$.treePath,ee,er,ei,en,es)}function writeTreeRefCalcCompleteChild($,ee,er){return writeTreeCalcCompleteChild($.writeTree,$.treePath,ee,er)}function writeTreeRefChild($,ee){return newWriteTreeRef(pathChild($.treePath,ee),$.writeTree)}function newWriteTreeRef($,ee){return{treePath:$,writeTree:ee}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ChildChangeAccumulator=class ChildChangeAccumulator{constructor(){this.changeMap=new Map}trackChildChange($){let ee=$.type,er=$.childName;(0,eS.hu)("child_added"===ee||"child_changed"===ee||"child_removed"===ee,"Only child changes supported for tracking"),(0,eS.hu)(".priority"!==er,"Only non-priority child changes can be tracked.");let ei=this.changeMap.get(er);if(ei){let en=ei.type;if("child_added"===ee&&"child_removed"===en)this.changeMap.set(er,changeChildChanged(er,$.snapshotNode,ei.snapshotNode));else if("child_removed"===ee&&"child_added"===en)this.changeMap.delete(er);else if("child_removed"===ee&&"child_changed"===en)this.changeMap.set(er,changeChildRemoved(er,ei.oldSnap));else if("child_changed"===ee&&"child_added"===en)this.changeMap.set(er,changeChildAdded(er,$.snapshotNode));else if("child_changed"===ee&&"child_changed"===en)this.changeMap.set(er,changeChildChanged(er,$.snapshotNode,ei.oldSnap));else throw(0,eS.g5)("Illegal combination of changes: "+$+" occurred after "+ei)}else this.changeMap.set(er,$)}getChanges(){return Array.from(this.changeMap.values())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NoCompleteChildSource_=class NoCompleteChildSource_{getCompleteChild($){return null}getChildAfterChild($,ee,er){return null}};let t$=new NoCompleteChildSource_;let WriteTreeCompleteChildSource=class WriteTreeCompleteChildSource{constructor($,ee,er=null){this.writes_=$,this.viewCache_=ee,this.optCompleteServerCache_=er}getCompleteChild($){let ee=this.viewCache_.eventCache;if(ee.isCompleteForChild($))return ee.getNode().getImmediateChild($);{let ee=null!=this.optCompleteServerCache_?new CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return writeTreeRefCalcCompleteChild(this.writes_,$,ee)}}getChildAfterChild($,ee,er){let ei=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:viewCacheGetCompleteServerSnap(this.viewCache_),en=writeTreeRefCalcIndexedSlice(this.writes_,ei,ee,1,er,$);return 0===en.length?null:en[0]}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newViewProcessor($){return{filter:$}}function viewProcessorAssertIndexed($,ee){(0,eS.hu)(ee.eventCache.getNode().isIndexed($.filter.getIndex()),"Event snap not indexed"),(0,eS.hu)(ee.serverCache.getNode().isIndexed($.filter.getIndex()),"Server snap not indexed")}function viewProcessorApplyOperation($,ee,er,ei,en){let es,eo;let ep=new ChildChangeAccumulator;if(er.type===ey.OVERWRITE){let eu=er;eu.source.fromUser?es=viewProcessorApplyUserOverwrite($,ee,eu.path,eu.snap,ei,en,ep):((0,eS.hu)(eu.source.fromServer,"Unknown source."),eo=eu.source.tagged||ee.serverCache.isFiltered()&&!pathIsEmpty(eu.path),es=viewProcessorApplyServerOverwrite($,ee,eu.path,eu.snap,ei,en,eo,ep))}else if(er.type===ey.MERGE){let eu=er;eu.source.fromUser?es=viewProcessorApplyUserMerge($,ee,eu.path,eu.children,ei,en,ep):((0,eS.hu)(eu.source.fromServer,"Unknown source."),eo=eu.source.tagged||ee.serverCache.isFiltered(),es=viewProcessorApplyServerMerge($,ee,eu.path,eu.children,ei,en,eo,ep))}else if(er.type===ey.ACK_USER_WRITE){let eo=er;es=eo.revert?viewProcessorRevertUserWrite($,ee,eo.path,ei,en,ep):viewProcessorAckUserWrite($,ee,eo.path,eo.affectedTree,ei,en,ep)}else if(er.type===ey.LISTEN_COMPLETE)es=viewProcessorListenComplete($,ee,er.path,ei,ep);else throw(0,eS.g5)("Unknown operation type: "+er.type);let eu=ep.getChanges();return viewProcessorMaybeAddValueEvent(ee,es,eu),{viewCache:es,changes:eu}}function viewProcessorMaybeAddValueEvent($,ee,er){let ei=ee.eventCache;if(ei.isFullyInitialized()){let en=ei.getNode().isLeafNode()||ei.getNode().isEmpty(),es=viewCacheGetCompleteEventSnap($);!(er.length>0)&&$.eventCache.isFullyInitialized()&&(!en||ei.getNode().equals(es))&&ei.getNode().getPriority().equals(es.getPriority())||er.push(changeValue(viewCacheGetCompleteEventSnap(ee)))}}function viewProcessorGenerateEventCacheAfterServerEvent($,ee,er,ei,en,es){let eo=ee.eventCache;if(null!=writeTreeRefShadowingWrite(ei,er))return ee;{let ep,eu;if(pathIsEmpty(er)){if((0,eS.hu)(ee.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),ee.serverCache.isFiltered()){let er=viewCacheGetCompleteServerSnap(ee),en=er instanceof ChildrenNode?er:ChildrenNode.EMPTY_NODE,eo=writeTreeRefCalcCompleteEventChildren(ei,en);ep=$.filter.updateFullNode(ee.eventCache.getNode(),eo,es)}else{let er=writeTreeRefCalcCompleteEventCache(ei,viewCacheGetCompleteServerSnap(ee));ep=$.filter.updateFullNode(ee.eventCache.getNode(),er,es)}}else{let eh=pathGetFront(er);if(".priority"===eh){(0,eS.hu)(1===pathGetLength(er),"Can't have a priority with additional path components");let en=eo.getNode();eu=ee.serverCache.getNode();let es=writeTreeRefCalcEventCacheAfterServerOverwrite(ei,er,en,eu);ep=null!=es?$.filter.updatePriority(en,es):eo.getNode()}else{let em;let ef=pathPopFront(er);if(eo.isCompleteForChild(eh)){eu=ee.serverCache.getNode();let $=writeTreeRefCalcEventCacheAfterServerOverwrite(ei,er,eo.getNode(),eu);em=null!=$?eo.getNode().getImmediateChild(eh).updateChild(ef,$):eo.getNode().getImmediateChild(eh)}else em=writeTreeRefCalcCompleteChild(ei,eh,ee.serverCache);ep=null!=em?$.filter.updateChild(eo.getNode(),eh,em,ef,en,es):eo.getNode()}}return viewCacheUpdateEventSnap(ee,ep,eo.isFullyInitialized()||pathIsEmpty(er),$.filter.filtersNodes())}}function viewProcessorApplyServerOverwrite($,ee,er,ei,en,es,eo,ep){let eu;let eh=ee.serverCache,em=eo?$.filter:$.filter.getIndexedFilter();if(pathIsEmpty(er))eu=em.updateFullNode(eh.getNode(),ei,null);else if(em.filtersNodes()&&!eh.isFiltered()){let $=eh.getNode().updateChild(er,ei);eu=em.updateFullNode(eh.getNode(),$,null)}else{let $=pathGetFront(er);if(!eh.isCompleteForPath(er)&&pathGetLength(er)>1)return ee;let en=pathPopFront(er),es=eh.getNode().getImmediateChild($),eo=es.updateChild(en,ei);eu=".priority"===$?em.updatePriority(eh.getNode(),eo):em.updateChild(eh.getNode(),$,eo,en,t$,null)}let ef=viewCacheUpdateServerSnap(ee,eu,eh.isFullyInitialized()||pathIsEmpty(er),em.filtersNodes()),eg=new WriteTreeCompleteChildSource(en,ef,es);return viewProcessorGenerateEventCacheAfterServerEvent($,ef,er,en,eg,ep)}function viewProcessorApplyUserOverwrite($,ee,er,ei,en,es,eo){let ep,eu;let eh=ee.eventCache,em=new WriteTreeCompleteChildSource(en,ee,es);if(pathIsEmpty(er))eu=$.filter.updateFullNode(ee.eventCache.getNode(),ei,eo),ep=viewCacheUpdateEventSnap(ee,eu,!0,$.filter.filtersNodes());else{let en=pathGetFront(er);if(".priority"===en)eu=$.filter.updatePriority(ee.eventCache.getNode(),ei),ep=viewCacheUpdateEventSnap(ee,eu,eh.isFullyInitialized(),eh.isFiltered());else{let es;let eu=pathPopFront(er),ef=eh.getNode().getImmediateChild(en);if(pathIsEmpty(eu))es=ei;else{let $=em.getCompleteChild(en);es=null!=$?".priority"===pathGetBack(eu)&&$.getChild(pathParent(eu)).isEmpty()?$:$.updateChild(eu,ei):ChildrenNode.EMPTY_NODE}if(ef.equals(es))ep=ee;else{let er=$.filter.updateChild(eh.getNode(),en,es,eu,em,eo);ep=viewCacheUpdateEventSnap(ee,er,eh.isFullyInitialized(),$.filter.filtersNodes())}}}return ep}function viewProcessorCacheHasChild($,ee){return $.eventCache.isCompleteForChild(ee)}function viewProcessorApplyUserMerge($,ee,er,ei,en,es,eo){let ep=ee;return ei.foreach((ei,eu)=>{let eh=pathChild(er,ei);viewProcessorCacheHasChild(ee,pathGetFront(eh))&&(ep=viewProcessorApplyUserOverwrite($,ep,eh,eu,en,es,eo))}),ei.foreach((ei,eu)=>{let eh=pathChild(er,ei);viewProcessorCacheHasChild(ee,pathGetFront(eh))||(ep=viewProcessorApplyUserOverwrite($,ep,eh,eu,en,es,eo))}),ep}function viewProcessorApplyMerge($,ee,er){return er.foreach(($,er)=>{ee=ee.updateChild($,er)}),ee}function viewProcessorApplyServerMerge($,ee,er,ei,en,es,eo,ep){let eu;if(ee.serverCache.getNode().isEmpty()&&!ee.serverCache.isFullyInitialized())return ee;let eh=ee;eu=pathIsEmpty(er)?ei:new ImmutableTree(null).setTree(er,ei);let em=ee.serverCache.getNode();return eu.children.inorderTraversal((er,ei)=>{if(em.hasChild(er)){let eu=ee.serverCache.getNode().getImmediateChild(er),em=viewProcessorApplyMerge($,eu,ei);eh=viewProcessorApplyServerOverwrite($,eh,new Path(er),em,en,es,eo,ep)}}),eu.children.inorderTraversal((er,ei)=>{let eu=!ee.serverCache.isCompleteForChild(er)&&null===ei.value;if(!em.hasChild(er)&&!eu){let eu=ee.serverCache.getNode().getImmediateChild(er),em=viewProcessorApplyMerge($,eu,ei);eh=viewProcessorApplyServerOverwrite($,eh,new Path(er),em,en,es,eo,ep)}}),eh}function viewProcessorAckUserWrite($,ee,er,ei,en,es,eo){if(null!=writeTreeRefShadowingWrite(en,er))return ee;let ep=ee.serverCache.isFiltered(),eu=ee.serverCache;if(null!=ei.value){if(pathIsEmpty(er)&&eu.isFullyInitialized()||eu.isCompleteForPath(er))return viewProcessorApplyServerOverwrite($,ee,er,eu.getNode().getChild(er),en,es,ep,eo);if(!pathIsEmpty(er))return ee;{let ei=new ImmutableTree(null);return eu.getNode().forEachChild(tB,($,ee)=>{ei=ei.set(new Path($),ee)}),viewProcessorApplyServerMerge($,ee,er,ei,en,es,ep,eo)}}{let eh=new ImmutableTree(null);return ei.foreach(($,ee)=>{let ei=pathChild(er,$);eu.isCompleteForPath(ei)&&(eh=eh.set($,eu.getNode().getChild(ei)))}),viewProcessorApplyServerMerge($,ee,er,eh,en,es,ep,eo)}}function viewProcessorListenComplete($,ee,er,ei,en){let es=ee.serverCache,eo=viewCacheUpdateServerSnap(ee,es.getNode(),es.isFullyInitialized()||pathIsEmpty(er),es.isFiltered());return viewProcessorGenerateEventCacheAfterServerEvent($,eo,er,ei,t$,en)}function viewProcessorRevertUserWrite($,ee,er,ei,en,es){let eo;if(null!=writeTreeRefShadowingWrite(ei,er))return ee;{let ep;let eu=new WriteTreeCompleteChildSource(ei,ee,en),eh=ee.eventCache.getNode();if(pathIsEmpty(er)||".priority"===pathGetFront(er)){let er;if(ee.serverCache.isFullyInitialized())er=writeTreeRefCalcCompleteEventCache(ei,viewCacheGetCompleteServerSnap(ee));else{let $=ee.serverCache.getNode();(0,eS.hu)($ instanceof ChildrenNode,"serverChildren would be complete if leaf node"),er=writeTreeRefCalcCompleteEventChildren(ei,$)}ep=$.filter.updateFullNode(eh,er,es)}else{let en=pathGetFront(er),em=writeTreeRefCalcCompleteChild(ei,en,ee.serverCache);null==em&&ee.serverCache.isCompleteForChild(en)&&(em=eh.getImmediateChild(en)),(ep=null!=em?$.filter.updateChild(eh,en,em,pathPopFront(er),eu,es):ee.eventCache.getNode().hasChild(en)?$.filter.updateChild(eh,en,ChildrenNode.EMPTY_NODE,pathPopFront(er),eu,es):eh).isEmpty()&&ee.serverCache.isFullyInitialized()&&(eo=writeTreeRefCalcCompleteEventCache(ei,viewCacheGetCompleteServerSnap(ee))).isLeafNode()&&(ep=$.filter.updateFullNode(ep,eo,es))}return eo=ee.serverCache.isFullyInitialized()||null!=writeTreeRefShadowingWrite(ei,newEmptyPath()),viewCacheUpdateEventSnap(ee,ep,eo,$.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let View=class View{constructor($,ee){this.query_=$,this.eventRegistrations_=[];let er=this.query_._queryParams,ei=new IndexedFilter(er.getIndex()),en=queryParamsGetNodeFilter(er);this.processor_=newViewProcessor(en);let es=ee.serverCache,eo=ee.eventCache,ep=ei.updateFullNode(ChildrenNode.EMPTY_NODE,es.getNode(),null),eu=en.updateFullNode(ChildrenNode.EMPTY_NODE,eo.getNode(),null),eh=new CacheNode(ep,es.isFullyInitialized(),ei.filtersNodes()),em=new CacheNode(eu,eo.isFullyInitialized(),en.filtersNodes());this.viewCache_=newViewCache(em,eh),this.eventGenerator_=new EventGenerator(this.query_)}get query(){return this.query_}};function viewGetServerCache($){return $.viewCache_.serverCache.getNode()}function viewGetCompleteNode($){return viewCacheGetCompleteEventSnap($.viewCache_)}function viewGetCompleteServerCache($,ee){let er=viewCacheGetCompleteServerSnap($.viewCache_);return er&&($.query._queryParams.loadsAllData()||!pathIsEmpty(ee)&&!er.getImmediateChild(pathGetFront(ee)).isEmpty())?er.getChild(ee):null}function viewIsEmpty($){return 0===$.eventRegistrations_.length}function viewAddEventRegistration($,ee){$.eventRegistrations_.push(ee)}function viewRemoveEventRegistration($,ee,er){let ei=[];if(er){assert(null==ee,"A cancel should cancel all event registrations.");let en=$.query._path;$.eventRegistrations_.forEach($=>{let ee=$.createCancelEvent(er,en);ee&&ei.push(ee)})}if(ee){let er=[];for(let ei=0;ei<$.eventRegistrations_.length;++ei){let en=$.eventRegistrations_[ei];if(en.matches(ee)){if(ee.hasAnyCallback()){er=er.concat($.eventRegistrations_.slice(ei+1));break}}else er.push(en)}$.eventRegistrations_=er}else $.eventRegistrations_=[];return ei}function viewApplyOperation($,ee,er,ei){ee.type===ey.MERGE&&null!==ee.source.queryId&&((0,eS.hu)(viewCacheGetCompleteServerSnap($.viewCache_),"We should always have a full cache before handling merges"),(0,eS.hu)(viewCacheGetCompleteEventSnap($.viewCache_),"Missing event cache, even though we have a server cache"));let en=$.viewCache_,es=viewProcessorApplyOperation($.processor_,en,ee,er,ei);return viewProcessorAssertIndexed($.processor_,es.viewCache),(0,eS.hu)(es.viewCache.serverCache.isFullyInitialized()||!en.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),$.viewCache_=es.viewCache,viewGenerateEventsForChanges_($,es.changes,es.viewCache.eventCache.getNode(),null)}function viewGetInitialEvents($,ee){let er=$.viewCache_.eventCache,ei=[];if(!er.getNode().isLeafNode()){let $=er.getNode();$.forEachChild(tV,($,ee)=>{ei.push(changeChildAdded($,ee))})}return er.isFullyInitialized()&&ei.push(changeValue(er.getNode())),viewGenerateEventsForChanges_($,ei,er.getNode(),ee)}function viewGenerateEventsForChanges_($,ee,er,ei){let en=ei?[ei]:$.eventRegistrations_;return eventGeneratorGenerateEventsForChanges($.eventGenerator_,ee,er,en)}let SyncPoint=class SyncPoint{constructor(){this.views=new Map}};function syncPointSetReferenceConstructor($){(0,eS.hu)(!ef,"__referenceConstructor has already been defined"),ef=$}function syncPointGetReferenceConstructor(){return assert(ef,"Reference.ts has not been loaded"),ef}function syncPointIsEmpty($){return 0===$.views.size}function syncPointApplyOperation($,ee,er,ei){let en=ee.source.queryId;if(null!==en){let es=$.views.get(en);return(0,eS.hu)(null!=es,"SyncTree gave us an op for an invalid query."),viewApplyOperation(es,ee,er,ei)}{let en=[];for(let es of $.views.values())en=en.concat(viewApplyOperation(es,ee,er,ei));return en}}function syncPointGetView($,ee,er,ei,en){let es=ee._queryIdentifier,eo=$.views.get(es);if(!eo){let $=writeTreeRefCalcCompleteEventCache(er,en?ei:null),es=!1;$?es=!0:($=ei instanceof ChildrenNode?writeTreeRefCalcCompleteEventChildren(er,ei):ChildrenNode.EMPTY_NODE,es=!1);let eo=newViewCache(new CacheNode($,es,!1),new CacheNode(ei,en,!1));return new View(ee,eo)}return eo}function syncPointAddEventRegistration($,ee,er,ei,en,es){let eo=syncPointGetView($,ee,ei,en,es);return $.views.has(ee._queryIdentifier)||$.views.set(ee._queryIdentifier,eo),viewAddEventRegistration(eo,er),viewGetInitialEvents(eo,er)}function syncPointRemoveEventRegistration($,ee,er,ei){let en=ee._queryIdentifier,es=[],eo=[],ep=syncPointHasCompleteView($);if("default"===en)for(let[ee,en]of $.views.entries())eo=eo.concat(viewRemoveEventRegistration(en,er,ei)),viewIsEmpty(en)&&($.views.delete(ee),en.query._queryParams.loadsAllData()||es.push(en.query));else{let ee=$.views.get(en);ee&&(eo=eo.concat(viewRemoveEventRegistration(ee,er,ei)),viewIsEmpty(ee)&&($.views.delete(en),ee.query._queryParams.loadsAllData()||es.push(ee.query)))}return ep&&!syncPointHasCompleteView($)&&es.push(new(syncPointGetReferenceConstructor())(ee._repo,ee._path)),{removed:es,events:eo}}function syncPointGetQueryViews($){let ee=[];for(let er of $.views.values())er.query._queryParams.loadsAllData()||ee.push(er);return ee}function syncPointGetCompleteServerCache($,ee){let er=null;for(let ei of $.views.values())er=er||viewGetCompleteServerCache(ei,ee);return er}function syncPointViewForQuery($,ee){let er=ee._queryParams;if(er.loadsAllData())return syncPointGetCompleteView($);{let er=ee._queryIdentifier;return $.views.get(er)}}function syncPointViewExistsForQuery($,ee){return null!=syncPointViewForQuery($,ee)}function syncPointHasCompleteView($){return null!=syncPointGetCompleteView($)}function syncPointGetCompleteView($){for(let ee of $.views.values())if(ee.query._queryParams.loadsAllData())return ee;return null}function syncTreeSetReferenceConstructor($){(0,eS.hu)(!eg,"__referenceConstructor has already been defined"),eg=$}function syncTreeGetReferenceConstructor(){return assert(eg,"Reference.ts has not been loaded"),eg}let tQ=1;let SyncTree=class SyncTree{constructor($){this.listenProvider_=$,this.syncPointTree_=new ImmutableTree(null),this.pendingWriteTree_=newWriteTree(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function syncTreeApplyUserOverwrite($,ee,er,ei,en){return(writeTreeAddOverwrite($.pendingWriteTree_,ee,er,ei,en),en)?syncTreeApplyOperationToSyncPoints_($,new Overwrite(newOperationSourceUser(),ee,er)):[]}function syncTreeAckUserWrite($,ee,er=!1){let ei=writeTreeGetWrite($.pendingWriteTree_,ee),en=writeTreeRemoveWrite($.pendingWriteTree_,ee);if(!en)return[];{let ee=new ImmutableTree(null);return null!=ei.snap?ee=ee.set(newEmptyPath(),!0):each(ei.children,$=>{ee=ee.set(new Path($),!0)}),syncTreeApplyOperationToSyncPoints_($,new AckUserWrite(ei.path,ee,er))}}function syncTreeApplyServerOverwrite($,ee,er){return syncTreeApplyOperationToSyncPoints_($,new Overwrite(newOperationSourceServer(),ee,er))}function syncTreeApplyServerMerge($,ee,er){let ei=ImmutableTree.fromObject(er);return syncTreeApplyOperationToSyncPoints_($,new Merge(newOperationSourceServer(),ee,ei))}function syncTreeApplyListenComplete($,ee){return syncTreeApplyOperationToSyncPoints_($,new ListenComplete(newOperationSourceServer(),ee))}function syncTreeApplyTaggedListenComplete($,ee,er){let ei=syncTreeQueryKeyForTag_($,er);if(!ei)return[];{let er=syncTreeParseQueryKey_(ei),en=er.path,es=er.queryId,eo=newRelativePath(en,ee),ep=new ListenComplete(newOperationSourceServerTaggedQuery(es),eo);return syncTreeApplyTaggedOperation_($,en,ep)}}function syncTreeRemoveEventRegistration($,ee,er,ei,en=!1){let es=ee._path,eo=$.syncPointTree_.get(es),ep=[];if(eo&&("default"===ee._queryIdentifier||syncPointViewExistsForQuery(eo,ee))){let eu=syncPointRemoveEventRegistration(eo,ee,er,ei);syncPointIsEmpty(eo)&&($.syncPointTree_=$.syncPointTree_.remove(es));let eh=eu.removed;if(ep=eu.events,!en){let er=-1!==eh.findIndex($=>$._queryParams.loadsAllData()),en=$.syncPointTree_.findOnPath(es,($,ee)=>syncPointHasCompleteView(ee));if(er&&!en){let ee=$.syncPointTree_.subtree(es);if(!ee.isEmpty()){let er=syncTreeCollectDistinctViewsForSubTree_(ee);for(let ee=0;ee<er.length;++ee){let ei=er[ee],en=ei.query,es=syncTreeCreateListenerForView_($,ei);$.listenProvider_.startListening(syncTreeQueryForListening_(en),syncTreeTagForQuery($,en),es.hashFn,es.onComplete)}}}if(!en&&eh.length>0&&!ei){if(er){let er=null;$.listenProvider_.stopListening(syncTreeQueryForListening_(ee),er)}else eh.forEach(ee=>{let er=$.queryToTagMap.get(syncTreeMakeQueryKey_(ee));$.listenProvider_.stopListening(syncTreeQueryForListening_(ee),er)})}}syncTreeRemoveTags_($,eh)}return ep}function syncTreeApplyTaggedQueryOverwrite($,ee,er,ei){let en=syncTreeQueryKeyForTag_($,ei);if(null==en)return[];{let ei=syncTreeParseQueryKey_(en),es=ei.path,eo=ei.queryId,ep=newRelativePath(es,ee),eu=new Overwrite(newOperationSourceServerTaggedQuery(eo),ep,er);return syncTreeApplyTaggedOperation_($,es,eu)}}function syncTreeApplyTaggedQueryMerge($,ee,er,ei){let en=syncTreeQueryKeyForTag_($,ei);if(!en)return[];{let ei=syncTreeParseQueryKey_(en),es=ei.path,eo=ei.queryId,ep=newRelativePath(es,ee),eu=ImmutableTree.fromObject(er),eh=new Merge(newOperationSourceServerTaggedQuery(eo),ep,eu);return syncTreeApplyTaggedOperation_($,es,eh)}}function syncTreeAddEventRegistration($,ee,er,ei=!1){let en;let es=ee._path,eo=null,ep=!1;$.syncPointTree_.foreachOnPath(es,($,ee)=>{let er=newRelativePath($,es);eo=eo||syncPointGetCompleteServerCache(ee,er),ep=ep||syncPointHasCompleteView(ee)});let eu=$.syncPointTree_.get(es);if(eu?(ep=ep||syncPointHasCompleteView(eu),eo=eo||syncPointGetCompleteServerCache(eu,newEmptyPath())):(eu=new SyncPoint,$.syncPointTree_=$.syncPointTree_.set(es,eu)),null!=eo)en=!0;else{en=!1,eo=ChildrenNode.EMPTY_NODE;let ee=$.syncPointTree_.subtree(es);ee.foreachChild(($,ee)=>{let er=syncPointGetCompleteServerCache(ee,newEmptyPath());er&&(eo=eo.updateImmediateChild($,er))})}let eh=syncPointViewExistsForQuery(eu,ee);if(!eh&&!ee._queryParams.loadsAllData()){let er=syncTreeMakeQueryKey_(ee);assert(!$.queryToTagMap.has(er),"View does not exist, but we have a tag");let ei=syncTreeGetNextQueryTag_();$.queryToTagMap.set(er,ei),$.tagToQueryMap.set(ei,er)}let em=writeTreeChildWrites($.pendingWriteTree_,es),ef=syncPointAddEventRegistration(eu,ee,er,em,eo,en);if(!eh&&!ep&&!ei){let er=syncPointViewForQuery(eu,ee);ef=ef.concat(syncTreeSetupListener_($,ee,er))}return ef}function syncTreeCalcCompleteEventCache($,ee,er){let ei=!0,en=$.pendingWriteTree_,es=$.syncPointTree_.findOnPath(ee,($,er)=>{let ei=newRelativePath($,ee),en=syncPointGetCompleteServerCache(er,ei);if(en)return en});return writeTreeCalcCompleteEventCache(en,ee,es,er,ei)}function syncTreeApplyOperationToSyncPoints_($,ee){return syncTreeApplyOperationHelper_(ee,$.syncPointTree_,null,writeTreeChildWrites($.pendingWriteTree_,newEmptyPath()))}function syncTreeApplyOperationHelper_($,ee,er,ei){if(pathIsEmpty($.path))return syncTreeApplyOperationDescendantsHelper_($,ee,er,ei);{let en=ee.get(newEmptyPath());null==er&&null!=en&&(er=syncPointGetCompleteServerCache(en,newEmptyPath()));let es=[],eo=pathGetFront($.path),ep=$.operationForChild(eo),eu=ee.children.get(eo);if(eu&&ep){let $=er?er.getImmediateChild(eo):null,ee=writeTreeRefChild(ei,eo);es=es.concat(syncTreeApplyOperationHelper_(ep,eu,$,ee))}return en&&(es=es.concat(syncPointApplyOperation(en,$,ei,er))),es}}function syncTreeApplyOperationDescendantsHelper_($,ee,er,ei){let en=ee.get(newEmptyPath());null==er&&null!=en&&(er=syncPointGetCompleteServerCache(en,newEmptyPath()));let es=[];return ee.children.inorderTraversal((ee,en)=>{let eo=er?er.getImmediateChild(ee):null,ep=writeTreeRefChild(ei,ee),eu=$.operationForChild(ee);eu&&(es=es.concat(syncTreeApplyOperationDescendantsHelper_(eu,en,eo,ep)))}),en&&(es=es.concat(syncPointApplyOperation(en,$,ei,er))),es}function syncTreeCreateListenerForView_($,ee){let er=ee.query,ei=syncTreeTagForQuery($,er);return{hashFn:()=>{let $=viewGetServerCache(ee)||ChildrenNode.EMPTY_NODE;return $.hash()},onComplete:ee=>{if("ok"===ee)return ei?syncTreeApplyTaggedListenComplete($,er._path,ei):syncTreeApplyListenComplete($,er._path);{let ei=errorForServerCode(ee,er);return syncTreeRemoveEventRegistration($,er,null,ei)}}}}function syncTreeTagForQuery($,ee){let er=syncTreeMakeQueryKey_(ee);return $.queryToTagMap.get(er)}function syncTreeMakeQueryKey_($){return $._path.toString()+"$"+$._queryIdentifier}function syncTreeQueryKeyForTag_($,ee){return $.tagToQueryMap.get(ee)}function syncTreeParseQueryKey_($){let ee=$.indexOf("$");return(0,eS.hu)(-1!==ee&&ee<$.length-1,"Bad queryKey."),{queryId:$.substr(ee+1),path:new Path($.substr(0,ee))}}function syncTreeApplyTaggedOperation_($,ee,er){let ei=$.syncPointTree_.get(ee);(0,eS.hu)(ei,"Missing sync point for query tag that we're tracking");let en=writeTreeChildWrites($.pendingWriteTree_,ee);return syncPointApplyOperation(ei,er,en,null)}function syncTreeCollectDistinctViewsForSubTree_($){return $.fold(($,ee,er)=>{if(ee&&syncPointHasCompleteView(ee)){let $=syncPointGetCompleteView(ee);return[$]}{let $=[];return ee&&($=syncPointGetQueryViews(ee)),each(er,(ee,er)=>{$=$.concat(er)}),$}})}function syncTreeQueryForListening_($){return $._queryParams.loadsAllData()&&!$._queryParams.isDefault()?new(syncTreeGetReferenceConstructor())($._repo,$._path):$}function syncTreeRemoveTags_($,ee){for(let er=0;er<ee.length;++er){let ei=ee[er];if(!ei._queryParams.loadsAllData()){let ee=syncTreeMakeQueryKey_(ei),er=$.queryToTagMap.get(ee);$.queryToTagMap.delete(ee),$.tagToQueryMap.delete(er)}}}function syncTreeGetNextQueryTag_(){return tQ++}function syncTreeSetupListener_($,ee,er){let ei=ee._path,en=syncTreeTagForQuery($,ee),es=syncTreeCreateListenerForView_($,er),eo=$.listenProvider_.startListening(syncTreeQueryForListening_(ee),en,es.hashFn,es.onComplete),ep=$.syncPointTree_.subtree(ei);if(en)assert(!syncPointHasCompleteView(ep.value),"If we're adding a query, it shouldn't be shadowed");else{let ee=ep.fold(($,ee,er)=>{if(!pathIsEmpty($)&&ee&&syncPointHasCompleteView(ee))return[syncPointGetCompleteView(ee).query];{let $=[];return ee&&($=$.concat(syncPointGetQueryViews(ee).map($=>$.query))),each(er,(ee,er)=>{$=$.concat(er)}),$}});for(let er=0;er<ee.length;++er){let ei=ee[er];$.listenProvider_.stopListening(syncTreeQueryForListening_(ei),syncTreeTagForQuery($,ei))}}return eo}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ExistingValueProvider=class ExistingValueProvider{constructor($){this.node_=$}getImmediateChild($){let ee=this.node_.getImmediateChild($);return new ExistingValueProvider(ee)}node(){return this.node_}};let DeferredValueProvider=class DeferredValueProvider{constructor($,ee){this.syncTree_=$,this.path_=ee}getImmediateChild($){let ee=pathChild(this.path_,$);return new DeferredValueProvider(this.syncTree_,ee)}node(){return syncTreeCalcCompleteEventCache(this.syncTree_,this.path_)}};let generateWithValues=function($){return($=$||{}).timestamp=$.timestamp||new Date().getTime(),$},resolveDeferredLeafValue=function($,ee,er){return $&&"object"==typeof $?((0,eS.hu)(".sv"in $,"Unexpected leaf node or priority contents"),"string"==typeof $[".sv"])?resolveScalarDeferredValue($[".sv"],ee,er):"object"==typeof $[".sv"]?resolveComplexDeferredValue($[".sv"],ee):void(0,eS.hu)(!1,"Unexpected server value: "+JSON.stringify($,null,2)):$},resolveScalarDeferredValue=function($,ee,er){if("timestamp"===$)return er.timestamp;(0,eS.hu)(!1,"Unexpected server value: "+$)},resolveComplexDeferredValue=function($,ee,er){$.hasOwnProperty("increment")||(0,eS.hu)(!1,"Unexpected server value: "+JSON.stringify($,null,2));let ei=$.increment;"number"!=typeof ei&&(0,eS.hu)(!1,"Unexpected increment value: "+ei);let en=ee.node();if((0,eS.hu)(null!=en,"Expected ChildrenNode.EMPTY_NODE for nulls"),!en.isLeafNode())return ei;let es=en,eo=es.getValue();return"number"!=typeof eo?ei:eo+ei},resolveDeferredValueTree=function($,ee,er,ei){return resolveDeferredValue(ee,new DeferredValueProvider(er,$),ei)},resolveDeferredValueSnapshot=function($,ee,er){return resolveDeferredValue($,new ExistingValueProvider(ee),er)};function resolveDeferredValue($,ee,er){let ei;let en=$.getPriority().val(),es=resolveDeferredLeafValue(en,ee.getImmediateChild(".priority"),er);if($.isLeafNode()){let ei=$,en=resolveDeferredLeafValue(ei.getValue(),ee,er);return en!==ei.getValue()||es!==ei.getPriority().val()?new LeafNode(en,nodeFromJSON(es)):$}{let en=$;return ei=en,es!==en.getPriority().val()&&(ei=ei.updatePriority(new LeafNode(es))),en.forEachChild(tV,($,en)=>{let es=resolveDeferredValue(en,ee.getImmediateChild($),er);es!==en&&(ei=ei.updateImmediateChild($,es))}),ei}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tree=class Tree{constructor($="",ee=null,er={children:{},childCount:0}){this.name=$,this.parent=ee,this.node=er}};function treeSubTree($,ee){let er=ee instanceof Path?ee:new Path(ee),ei=$,en=pathGetFront(er);for(;null!==en;){let $=(0,eS.DV)(ei.node.children,en)||{children:{},childCount:0};ei=new Tree(en,ei,$),en=pathGetFront(er=pathPopFront(er))}return ei}function treeGetValue($){return $.node.value}function treeSetValue($,ee){$.node.value=ee,treeUpdateParents($)}function treeHasChildren($){return $.node.childCount>0}function treeIsEmpty($){return void 0===treeGetValue($)&&!treeHasChildren($)}function treeForEachChild($,ee){each($.node.children,(er,ei)=>{ee(new Tree(er,$,ei))})}function treeForEachDescendant($,ee,er,ei){er&&!ei&&ee($),treeForEachChild($,$=>{treeForEachDescendant($,ee,!0,ei)}),er&&ei&&ee($)}function treeForEachAncestor($,ee,er){let ei=er?$:$.parent;for(;null!==ei;){if(ee(ei))return!0;ei=ei.parent}return!1}function treeGetPath($){return new Path(null===$.parent?$.name:treeGetPath($.parent)+"/"+$.name)}function treeUpdateParents($){null!==$.parent&&treeUpdateChild($.parent,$.name,$)}function treeUpdateChild($,ee,er){let ei=treeIsEmpty(er),en=(0,eS.r3)($.node.children,ee);ei&&en?(delete $.node.children[ee],$.node.childCount--,treeUpdateParents($)):ei||en||($.node.children[ee]=er.node,$.node.childCount++,treeUpdateParents($))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tY=/[\[\].#$\/\u0000-\u001F\u007F]/,tJ=/[\[\].#$\u0000-\u001F\u007F]/,tX=10485760,isValidKey=function($){return"string"==typeof $&&0!==$.length&&!tY.test($)},isValidPathString=function($){return"string"==typeof $&&0!==$.length&&!tJ.test($)},isValidRootPathString=function($){return $&&($=$.replace(/^\/*\.info(\/|$)/,"/")),isValidPathString($)},isValidPriority=function($){return null===$||"string"==typeof $||"number"==typeof $&&!isInvalidJSONNumber($)||$&&"object"==typeof $&&contains($,".sv")},validateFirebaseDataArg=function($,ee,er,ei){ei&&void 0===ee||validateFirebaseData(errorPrefix($,"value"),ee,er)},validateFirebaseData=function($,ee,er){let ei=er instanceof Path?new ValidationPath(er,$):er;if(void 0===ee)throw Error($+"contains undefined "+validationPathToErrorString(ei));if("function"==typeof ee)throw Error($+"contains a function "+validationPathToErrorString(ei)+" with contents = "+ee.toString());if(isInvalidJSONNumber(ee))throw Error($+"contains "+ee.toString()+" "+validationPathToErrorString(ei));if("string"==typeof ee&&ee.length>tX/3&&(0,eS.ug)(ee)>tX)throw Error($+"contains a string greater than "+tX+" utf8 bytes "+validationPathToErrorString(ei)+" ('"+ee.substring(0,50)+"...')");if(ee&&"object"==typeof ee){let er=!1,en=!1;if(each(ee,(ee,es)=>{if(".value"===ee)er=!0;else if(".priority"!==ee&&".sv"!==ee&&(en=!0,!isValidKey(ee)))throw Error($+" contains an invalid key ("+ee+") "+validationPathToErrorString(ei)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');validationPathPush(ei,ee),validateFirebaseData($,es,ei),validationPathPop(ei)}),er&&en)throw Error($+' contains ".value" child '+validationPathToErrorString(ei)+" in addition to actual children.")}},validateFirebaseMergePaths=function($,ee){let er,ei;for(er=0;er<ee.length;er++){ei=ee[er];let en=pathSlice(ei);for(let ee=0;ee<en.length;ee++)if(".priority"===en[ee]&&ee===en.length-1);else if(!isValidKey(en[ee]))throw Error($+"contains an invalid key ("+en[ee]+") in path "+ei.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}ee.sort(pathCompare);let en=null;for(er=0;er<ee.length;er++){if(ei=ee[er],null!==en&&pathContains(en,ei))throw Error($+"contains a path "+en.toString()+" that is ancestor of another path "+ei.toString());en=ei}},validatePathString=function($,ee,er,ei){if((!ei||void 0!==er)&&!isValidPathString(er))throw Error(errorPrefix($,ee)+'was an invalid path = "'+er+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},validateRootPathString=function($,ee,er,ei){er&&(er=er.replace(/^\/*\.info(\/|$)/,"/")),validatePathString($,ee,er,ei)},validateUrl=function($,ee){let er=ee.path.toString();if("string"!=typeof ee.repoInfo.host||0===ee.repoInfo.host.length||!isValidKey(ee.repoInfo.namespace)&&"localhost"!==ee.repoInfo.host.split(":")[0]||0!==er.length&&!isValidRootPathString(er))throw Error((0,eS.gK)($,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EventQueue=class EventQueue{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function eventQueueQueueEvents($,ee){let er=null;for(let ei=0;ei<ee.length;ei++){let en=ee[ei],es=en.getPath();null===er||pathEquals(es,er.path)||($.eventLists_.push(er),er=null),null===er&&(er={events:[],path:es}),er.events.push(en)}er&&$.eventLists_.push(er)}function eventQueueRaiseEventsAtPath($,ee,er){eventQueueQueueEvents($,er),eventQueueRaiseQueuedEventsMatchingPredicate($,$=>pathEquals($,ee))}function eventQueueRaiseEventsForChangedPath($,ee,er){eventQueueQueueEvents($,er),eventQueueRaiseQueuedEventsMatchingPredicate($,$=>pathContains($,ee)||pathContains(ee,$))}function eventQueueRaiseQueuedEventsMatchingPredicate($,ee){$.recursionDepth_++;let er=!0;for(let ei=0;ei<$.eventLists_.length;ei++){let en=$.eventLists_[ei];if(en){let es=en.path;ee(es)?(eventListRaise($.eventLists_[ei]),$.eventLists_[ei]=null):er=!1}}er&&($.eventLists_=[]),$.recursionDepth_--}function eventListRaise($){for(let ee=0;ee<$.events.length;ee++){let er=$.events[ee];if(null!==er){$.events[ee]=null;let ei=er.getEventRunner();eU&&log("event: "+er.toString()),exceptionGuard(ei)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tZ="repo_interrupt",t1=25;let Repo=class Repo{constructor($,ee,er,ei){this.repoInfo_=$,this.forceRestClient_=ee,this.authTokenProvider_=er,this.appCheckProvider_=ei,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=newSparseSnapshotTree(),this.transactionQueueTree_=new Tree,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function repoStart($,ee,er){if($.stats_=statsManagerGetCollection($.repoInfo_),$.forceRestClient_||beingCrawled())$.server_=new ReadonlyRestClient($.repoInfo_,(ee,er,ei,en)=>{repoOnDataUpdate($,ee,er,ei,en)},$.authTokenProvider_,$.appCheckProvider_),setTimeout(()=>repoOnConnectStatus($,!0),0);else{if(null!=er){if("object"!=typeof er)throw Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,eS.Wl)(er)}catch($){throw Error("Invalid authOverride provided: "+$)}}$.persistentConnection_=new PersistentConnection($.repoInfo_,ee,(ee,er,ei,en)=>{repoOnDataUpdate($,ee,er,ei,en)},ee=>{repoOnConnectStatus($,ee)},ee=>{repoOnServerInfoUpdate($,ee)},$.authTokenProvider_,$.appCheckProvider_,er),$.server_=$.persistentConnection_}$.authTokenProvider_.addTokenChangeListener(ee=>{$.server_.refreshAuthToken(ee)}),$.appCheckProvider_.addTokenChangeListener(ee=>{$.server_.refreshAppCheckToken(ee.token)}),$.statsReporter_=statsManagerGetOrCreateReporter($.repoInfo_,()=>new StatsReporter($.stats_,$.server_)),$.infoData_=new SnapshotHolder,$.infoSyncTree_=new SyncTree({startListening:(ee,er,ei,en)=>{let es=[],eo=$.infoData_.getNode(ee._path);return eo.isEmpty()||(es=syncTreeApplyServerOverwrite($.infoSyncTree_,ee._path,eo),setTimeout(()=>{en("ok")},0)),es},stopListening:()=>{}}),repoUpdateInfo($,"connected",!1),$.serverSyncTree_=new SyncTree({startListening:(ee,er,ei,en)=>($.server_.listen(ee,ei,er,(er,ei)=>{let es=en(er,ei);eventQueueRaiseEventsForChangedPath($.eventQueue_,ee._path,es)}),[]),stopListening:(ee,er)=>{$.server_.unlisten(ee,er)}})}function repoServerTime($){let ee=$.infoData_.getNode(new Path(".info/serverTimeOffset")),er=ee.val()||0;return new Date().getTime()+er}function repoGenerateServerValues($){return generateWithValues({timestamp:repoServerTime($)})}function repoOnDataUpdate($,ee,er,ei,en){$.dataUpdateCount++;let es=new Path(ee);er=$.interceptServerDataCallback_?$.interceptServerDataCallback_(ee,er):er;let eo=[];if(en){if(ei){let ee=(0,eS.UI)(er,$=>nodeFromJSON($));eo=syncTreeApplyTaggedQueryMerge($.serverSyncTree_,es,ee,en)}else{let ee=nodeFromJSON(er);eo=syncTreeApplyTaggedQueryOverwrite($.serverSyncTree_,es,ee,en)}}else if(ei){let ee=(0,eS.UI)(er,$=>nodeFromJSON($));eo=syncTreeApplyServerMerge($.serverSyncTree_,es,ee)}else{let ee=nodeFromJSON(er);eo=syncTreeApplyServerOverwrite($.serverSyncTree_,es,ee)}let ep=es;eo.length>0&&(ep=repoRerunTransactions($,es)),eventQueueRaiseEventsForChangedPath($.eventQueue_,ep,eo)}function repoOnConnectStatus($,ee){repoUpdateInfo($,"connected",ee),!1===ee&&repoRunOnDisconnectEvents($)}function repoOnServerInfoUpdate($,ee){each(ee,(ee,er)=>{repoUpdateInfo($,ee,er)})}function repoUpdateInfo($,ee,er){let ei=new Path("/.info/"+ee),en=nodeFromJSON(er);$.infoData_.updateSnapshot(ei,en);let es=syncTreeApplyServerOverwrite($.infoSyncTree_,ei,en);eventQueueRaiseEventsForChangedPath($.eventQueue_,ei,es)}function repoGetNextWriteId($){return $.nextWriteId_++}function repoRunOnDisconnectEvents($){repoLog($,"onDisconnectEvents");let ee=repoGenerateServerValues($),er=newSparseSnapshotTree();sparseSnapshotTreeForEachTree($.onDisconnect_,newEmptyPath(),(ei,en)=>{let es=resolveDeferredValueTree(ei,en,$.serverSyncTree_,ee);sparseSnapshotTreeRemember(er,ei,es)});let ei=[];sparseSnapshotTreeForEachTree(er,newEmptyPath(),(ee,er)=>{ei=ei.concat(syncTreeApplyServerOverwrite($.serverSyncTree_,ee,er));let en=repoAbortTransactions($,ee);repoRerunTransactions($,en)}),$.onDisconnect_=newSparseSnapshotTree(),eventQueueRaiseEventsForChangedPath($.eventQueue_,newEmptyPath(),ei)}function repoAddEventCallbackForQuery($,ee,er){let ei;ei=".info"===pathGetFront(ee._path)?syncTreeAddEventRegistration($.infoSyncTree_,ee,er):syncTreeAddEventRegistration($.serverSyncTree_,ee,er),eventQueueRaiseEventsAtPath($.eventQueue_,ee._path,ei)}function repoRemoveEventCallbackForQuery($,ee,er){let ei;ei=".info"===pathGetFront(ee._path)?syncTreeRemoveEventRegistration($.infoSyncTree_,ee,er):syncTreeRemoveEventRegistration($.serverSyncTree_,ee,er),eventQueueRaiseEventsAtPath($.eventQueue_,ee._path,ei)}function repoInterrupt($){$.persistentConnection_&&$.persistentConnection_.interrupt(tZ)}function repoLog($,...ee){let er="";$.persistentConnection_&&(er=$.persistentConnection_.id+":"),log(er,...ee)}function repoCallOnCompleteCallback($,ee,er,ei){ee&&exceptionGuard(()=>{if("ok"===er)ee(null);else{let $=(er||"error").toUpperCase(),en=$;ei&&(en+=": "+ei);let es=Error(en);es.code=$,ee(es)}})}function repoGetLatestState($,ee,er){return syncTreeCalcCompleteEventCache($.serverSyncTree_,ee,er)||ChildrenNode.EMPTY_NODE}function repoSendReadyTransactions($,ee=$.transactionQueueTree_){if(ee||repoPruneCompletedTransactionsBelowNode($,ee),treeGetValue(ee)){let er=repoBuildTransactionQueue($,ee);(0,eS.hu)(er.length>0,"Sending zero length transaction queue");let ei=er.every($=>0===$.status);ei&&repoSendTransactionQueue($,treeGetPath(ee),er)}else treeHasChildren(ee)&&treeForEachChild(ee,ee=>{repoSendReadyTransactions($,ee)})}function repoSendTransactionQueue($,ee,er){let ei=er.map($=>$.currentWriteId),en=repoGetLatestState($,ee,ei),es=en,eo=en.hash();for(let $=0;$<er.length;$++){let ei=er[$];(0,eS.hu)(0===ei.status,"tryToSendTransactionQueue_: items in queue should all be run."),ei.status=1,ei.retryCount++;let en=newRelativePath(ee,ei.path);es=es.updateChild(en,ei.currentOutputSnapshotRaw)}let ep=es.val(!0),eu=ee;$.server_.put(eu.toString(),ep,ei=>{repoLog($,"transaction put response",{path:eu.toString(),status:ei});let en=[];if("ok"===ei){let ei=[];for(let ee=0;ee<er.length;ee++)er[ee].status=2,en=en.concat(syncTreeAckUserWrite($.serverSyncTree_,er[ee].currentWriteId)),er[ee].onComplete&&ei.push(()=>er[ee].onComplete(null,!0,er[ee].currentOutputSnapshotResolved)),er[ee].unwatcher();repoPruneCompletedTransactionsBelowNode($,treeSubTree($.transactionQueueTree_,ee)),repoSendReadyTransactions($,$.transactionQueueTree_),eventQueueRaiseEventsForChangedPath($.eventQueue_,ee,en);for(let $=0;$<ei.length;$++)exceptionGuard(ei[$])}else{if("datastale"===ei)for(let $=0;$<er.length;$++)3===er[$].status?er[$].status=4:er[$].status=0;else{warn("transaction at "+eu.toString()+" failed: "+ei);for(let $=0;$<er.length;$++)er[$].status=4,er[$].abortReason=ei}repoRerunTransactions($,ee)}},eo)}function repoRerunTransactions($,ee){let er=repoGetAncestorTransactionNode($,ee),ei=treeGetPath(er),en=repoBuildTransactionQueue($,er);return repoRerunTransactionQueue($,en,ei),ei}function repoRerunTransactionQueue($,ee,er){if(0===ee.length)return;let ei=[],en=[],es=ee.filter($=>0===$.status),eo=es.map($=>$.currentWriteId);for(let es=0;es<ee.length;es++){let ep=ee[es],eu=newRelativePath(er,ep.path),eh=!1,em;if((0,eS.hu)(null!==eu,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ep.status)eh=!0,em=ep.abortReason,en=en.concat(syncTreeAckUserWrite($.serverSyncTree_,ep.currentWriteId,!0));else if(0===ep.status){if(ep.retryCount>=t1)eh=!0,em="maxretry",en=en.concat(syncTreeAckUserWrite($.serverSyncTree_,ep.currentWriteId,!0));else{let er=repoGetLatestState($,ep.path,eo);ep.currentInputSnapshot=er;let ei=ee[es].update(er.val());if(void 0!==ei){validateFirebaseData("transaction failed: Data returned ",ei,ep.path);let ee=nodeFromJSON(ei),es="object"==typeof ei&&null!=ei&&(0,eS.r3)(ei,".priority");es||(ee=ee.updatePriority(er.getPriority()));let eu=ep.currentWriteId,eh=repoGenerateServerValues($),em=resolveDeferredValueSnapshot(ee,er,eh);ep.currentOutputSnapshotRaw=ee,ep.currentOutputSnapshotResolved=em,ep.currentWriteId=repoGetNextWriteId($),eo.splice(eo.indexOf(eu),1),en=(en=en.concat(syncTreeApplyUserOverwrite($.serverSyncTree_,ep.path,em,ep.currentWriteId,ep.applyLocally))).concat(syncTreeAckUserWrite($.serverSyncTree_,eu,!0))}else eh=!0,em="nodata",en=en.concat(syncTreeAckUserWrite($.serverSyncTree_,ep.currentWriteId,!0))}}eventQueueRaiseEventsForChangedPath($.eventQueue_,er,en),en=[],eh&&(ee[es].status=2,function($){setTimeout($,Math.floor(0))}(ee[es].unwatcher),ee[es].onComplete&&("nodata"===em?ei.push(()=>ee[es].onComplete(null,!1,ee[es].currentInputSnapshot)):ei.push(()=>ee[es].onComplete(Error(em),!1,null))))}repoPruneCompletedTransactionsBelowNode($,$.transactionQueueTree_);for(let $=0;$<ei.length;$++)exceptionGuard(ei[$]);repoSendReadyTransactions($,$.transactionQueueTree_)}function repoGetAncestorTransactionNode($,ee){let er;let ei=$.transactionQueueTree_;for(er=pathGetFront(ee);null!==er&&void 0===treeGetValue(ei);)ei=treeSubTree(ei,er),er=pathGetFront(ee=pathPopFront(ee));return ei}function repoBuildTransactionQueue($,ee){let er=[];return repoAggregateTransactionQueuesForNode($,ee,er),er.sort(($,ee)=>$.order-ee.order),er}function repoAggregateTransactionQueuesForNode($,ee,er){let ei=treeGetValue(ee);if(ei)for(let $=0;$<ei.length;$++)er.push(ei[$]);treeForEachChild(ee,ee=>{repoAggregateTransactionQueuesForNode($,ee,er)})}function repoPruneCompletedTransactionsBelowNode($,ee){let er=treeGetValue(ee);if(er){let $=0;for(let ee=0;ee<er.length;ee++)2!==er[ee].status&&(er[$]=er[ee],$++);er.length=$,treeSetValue(ee,er.length>0?er:void 0)}treeForEachChild(ee,ee=>{repoPruneCompletedTransactionsBelowNode($,ee)})}function repoAbortTransactions($,ee){let er=treeGetPath(repoGetAncestorTransactionNode($,ee)),ei=treeSubTree($.transactionQueueTree_,ee);return treeForEachAncestor(ei,ee=>{repoAbortTransactionsOnNode($,ee)}),repoAbortTransactionsOnNode($,ei),treeForEachDescendant(ei,ee=>{repoAbortTransactionsOnNode($,ee)}),er}function repoAbortTransactionsOnNode($,ee){let er=treeGetValue(ee);if(er){let ei=[],en=[],es=-1;for(let ee=0;ee<er.length;ee++)3===er[ee].status||(1===er[ee].status?((0,eS.hu)(es===ee-1,"All SENT items should be at beginning of queue."),es=ee,er[ee].status=3,er[ee].abortReason="set"):((0,eS.hu)(0===er[ee].status,"Unexpected transaction status in abort"),er[ee].unwatcher(),en=en.concat(syncTreeAckUserWrite($.serverSyncTree_,er[ee].currentWriteId,!0)),er[ee].onComplete&&ei.push(er[ee].onComplete.bind(null,Error("set"),!1,null))));-1===es?treeSetValue(ee,void 0):er.length=es+1,eventQueueRaiseEventsForChangedPath($.eventQueue_,treeGetPath(ee),en);for(let $=0;$<ei.length;$++)exceptionGuard(ei[$])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodePath($){let ee="",er=$.split("/");for(let $=0;$<er.length;$++)if(er[$].length>0){let ei=er[$];try{ei=decodeURIComponent(ei.replace(/\+/g," "))}catch($){}ee+="/"+ei}return ee}function decodeQuery($){let ee={};for(let er of("?"===$.charAt(0)&&($=$.substring(1)),$.split("&"))){if(0===er.length)continue;let ei=er.split("=");2===ei.length?ee[decodeURIComponent(ei[0])]=decodeURIComponent(ei[1]):warn(`Invalid query segment '${er}' in query '${$}'`)}return ee}let parseRepoInfo=function($,ee){let er=parseDatabaseURL($),ei=er.namespace;"firebase.com"===er.domain&&fatal(er.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),ei&&"undefined"!==ei||"localhost"===er.domain||fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),er.secure||warnIfPageIsSecure();let en="ws"===er.scheme||"wss"===er.scheme;return{repoInfo:new RepoInfo(er.host,er.secure,ei,en,ee,"",ei!==er.subdomain),path:new Path(er.pathString)}},parseDatabaseURL=function($){let ee="",er="",ei="",en="",es="",eo=!0,ep="https",eu=443;if("string"==typeof $){let eh=$.indexOf("//");eh>=0&&(ep=$.substring(0,eh-1),$=$.substring(eh+2));let em=$.indexOf("/");-1===em&&(em=$.length);let ef=$.indexOf("?");-1===ef&&(ef=$.length),ee=$.substring(0,Math.min(em,ef)),em<ef&&(en=decodePath($.substring(em,ef)));let eg=decodeQuery($.substring(Math.min($.length,ef)));(eh=ee.indexOf(":"))>=0?(eo="https"===ep||"wss"===ep,eu=parseInt(ee.substring(eh+1),10)):eh=ee.length;let ey=ee.slice(0,eh);if("localhost"===ey.toLowerCase())er="localhost";else if(ey.split(".").length<=2)er=ey;else{let $=ee.indexOf(".");ei=ee.substring(0,$).toLowerCase(),er=ee.substring($+1),es=ei}"ns"in eg&&(es=eg.ns)}return{host:ee,port:eu,domain:er,subdomain:ei,secure:eo,scheme:ep,pathString:en,namespace:es}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DataEvent=class DataEvent{constructor($,ee,er,ei){this.eventType=$,this.eventRegistration=ee,this.snapshot=er,this.prevName=ei}getPath(){let $=this.snapshot.ref;return"value"===this.eventType?$._path:$.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+stringify(this.snapshot.exportVal())}};let CancelEvent=class CancelEvent{constructor($,ee,er){this.eventRegistration=$,this.error=ee,this.path=er}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CallbackContext=class CallbackContext{constructor($,ee){this.snapshotCallback=$,this.cancelCallback=ee}onValue($,ee){this.snapshotCallback.call(null,$,ee)}onCancel($){return assert(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,$)}get hasCancelCallback(){return!!this.cancelCallback}matches($){return this.snapshotCallback===$.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===$.snapshotCallback.userCallback&&this.snapshotCallback.context===$.snapshotCallback.context}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QueryImpl=class QueryImpl{constructor($,ee,er,ei){this._repo=$,this._path=ee,this._queryParams=er,this._orderByCalled=ei}get key(){return pathIsEmpty(this._path)?null:pathGetBack(this._path)}get ref(){return new ReferenceImpl(this._repo,this._path)}get _queryIdentifier(){let $=queryParamsGetQueryObject(this._queryParams),ee=ObjectToUniqueKey($);return"{}"===ee?"default":ee}get _queryObject(){return queryParamsGetQueryObject(this._queryParams)}isEqual($){if(!(($=(0,eS.m9)($))instanceof QueryImpl))return!1;let ee=this._repo===$._repo,er=pathEquals(this._path,$._path),ei=this._queryIdentifier===$._queryIdentifier;return ee&&er&&ei}toJSON(){return this.toString()}toString(){return this._repo.toString()+pathToUrlEncodedString(this._path)}};function validateQueryEndpoints($){let ee=null,er=null;if($.hasStart()&&(ee=$.getIndexStartValue()),$.hasEnd()&&(er=$.getIndexEndValue()),$.getIndex()===tB){let ei="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",en="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if($.hasStart()){let er=$.getIndexStartName();if(er!==eq)throw Error(ei);if("string"!=typeof ee)throw Error(en)}if($.hasEnd()){let ee=$.getIndexEndName();if(ee!==ez)throw Error(ei);if("string"!=typeof er)throw Error(en)}}else if($.getIndex()===tV){if(null!=ee&&!isValidPriority(ee)||null!=er&&!isValidPriority(er))throw Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(assert($.getIndex() instanceof PathIndex||$.getIndex()===tW,"unknown index type."),null!=ee&&"object"==typeof ee||null!=er&&"object"==typeof er)throw Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function validateLimit($){if($.hasStart()&&$.hasEnd()&&$.hasLimit()&&!$.hasAnchoredLimit())throw Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}let ReferenceImpl=class ReferenceImpl extends QueryImpl{constructor($,ee){super($,ee,new QueryParams,!1)}get parent(){let $=pathParent(this._path);return null===$?null:new ReferenceImpl(this._repo,$)}get root(){let $=this;for(;null!==$.parent;)$=$.parent;return $}};let DataSnapshot=class DataSnapshot{constructor($,ee,er){this._node=$,this.ref=ee,this._index=er}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child($){let ee=new Path($),er=child(this.ref,$);return new DataSnapshot(this._node.getChild(ee),er,tV)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach($){if(this._node.isLeafNode())return!1;let ee=this._node;return!!ee.forEachChild(this._index,(ee,er)=>$(new DataSnapshot(er,child(this.ref,ee),tV)))}hasChild($){let ee=new Path($);return!this._node.getChild(ee).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function child($,ee){return null===pathGetFront(($=getModularInstance($))._path)?validateRootPathString("child","path",ee,!1):validatePathString("child","path",ee,!1),new ReferenceImpl($._repo,pathChild($._path,ee))}let ValueEventRegistration=class ValueEventRegistration{constructor($){this.callbackContext=$}respondsTo($){return"value"===$}createEvent($,ee){let er=ee._queryParams.getIndex();return new DataEvent("value",this,new DataSnapshot($.snapshotNode,new ReferenceImpl(ee._repo,ee._path),er))}getEventRunner($){return"cancel"===$.getEventType()?()=>this.callbackContext.onCancel($.error):()=>this.callbackContext.onValue($.snapshot,null)}createCancelEvent($,ee){return this.callbackContext.hasCancelCallback?new CancelEvent(this,$,ee):null}matches($){return $ instanceof ValueEventRegistration&&(!$.callbackContext||!this.callbackContext||$.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}};let ChildEventRegistration=class ChildEventRegistration{constructor($,ee){this.eventType=$,this.callbackContext=ee}respondsTo($){let ee="children_added"===$?"child_added":$;return ee="children_removed"===ee?"child_removed":ee,this.eventType===ee}createCancelEvent($,ee){return this.callbackContext.hasCancelCallback?new CancelEvent(this,$,ee):null}createEvent($,ee){assert(null!=$.childName,"Child events should have a childName.");let er=child(new ReferenceImpl(ee._repo,ee._path),$.childName),ei=ee._queryParams.getIndex();return new DataEvent($.type,this,new DataSnapshot($.snapshotNode,er,ei),$.prevName)}getEventRunner($){return"cancel"===$.getEventType()?()=>this.callbackContext.onCancel($.error):()=>this.callbackContext.onValue($.snapshot,$.prevName)}matches($){return $ instanceof ChildEventRegistration&&this.eventType===$.eventType&&(!this.callbackContext||!$.callbackContext||this.callbackContext.matches($.callbackContext))}hasAnyCallback(){return!!this.callbackContext}};syncPointSetReferenceConstructor(ReferenceImpl),syncTreeSetReferenceConstructor(ReferenceImpl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t0="FIREBASE_DATABASE_EMULATOR_HOST",t2={},t4=!1;function repoManagerApplyEmulatorSettings($,ee,er,ei){$.repoInfo_=new RepoInfo(`${ee}:${er}`,!1,$.repoInfo_.namespace,$.repoInfo_.webSocketOnly,$.repoInfo_.nodeAdmin,$.repoInfo_.persistenceKey,$.repoInfo_.includeNamespaceInQueryParams,!0),ei&&($.authTokenProvider_=ei)}function repoManagerDatabaseFromApp($,ee,er,ei,en){let es,eo,ep=ei||$.options.databaseURL;void 0===ep&&($.options.projectId||fatal("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),log("Using default host for project ",$.options.projectId),ep=`${$.options.projectId}-default-rtdb.firebaseio.com`);let eu=parseRepoInfo(ep,en),eh=eu.repoInfo;"undefined"!=typeof process&&process.env&&(es=process.env[t0]),es?(eo=!0,eh=(eu=parseRepoInfo(ep=`http://${es}?ns=${eh.namespace}`,en)).repoInfo):eo=!eu.repoInfo.secure;let em=en&&eo?new EmulatorTokenProvider(EmulatorTokenProvider.OWNER):new FirebaseAuthTokenProvider($.name,$.options,ee);validateUrl("Invalid Firebase Database URL",eu),pathIsEmpty(eu.path)||fatal("Database URL must point to the root of a Firebase Database (not including a child path).");let ef=repoManagerCreateRepo(eh,$,em,new AppCheckTokenProvider($.name,er));return new Database(ef,$)}function repoManagerDeleteRepo($,ee){let er=t2[ee];er&&er[$.key]===$||fatal(`Database ${ee}(${$.repoInfo_}) has already been deleted.`),repoInterrupt($),delete er[$.key]}function repoManagerCreateRepo($,ee,er,ei){let en=t2[ee.name];en||(en={},t2[ee.name]=en);let es=en[$.toURLString()];return es&&fatal("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),es=new Repo($,t4,er,ei),en[$.toURLString()]=es,es}let Database=class Database{constructor($,ee){this._repoInternal=$,this.app=ee,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(repoStart(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ReferenceImpl(this._repo,newEmptyPath())),this._rootInternal}_delete(){return null!==this._rootInternal&&(repoManagerDeleteRepo(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted($){null===this._rootInternal&&fatal("Cannot call "+$+" on a deleted database.")}};function getDatabase($=(0,ew.Mq)(),ee){let er=(0,ew.qX)($,"database").getImmediate({identifier:ee});if(!er._instanceStarted){let $=(0,eS.P0)("database");$&&connectDatabaseEmulator(er,...$)}return er}function connectDatabaseEmulator($,ee,er,ei={}){let en;($=(0,eS.m9)($))._checkNotDeleted("useEmulator"),$._instanceStarted&&fatal("Cannot call useEmulator() after instance has already been initialized.");let es=$._repoInternal;if(es.repoInfo_.nodeAdmin)ei.mockUserToken&&fatal('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),en=new EmulatorTokenProvider(EmulatorTokenProvider.OWNER);else if(ei.mockUserToken){let ee="string"==typeof ei.mockUserToken?ei.mockUserToken:(0,eS.Sg)(ei.mockUserToken,$.app.options.projectId);en=new EmulatorTokenProvider(ee)}repoManagerApplyEmulatorSettings(es,ee,er,en)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerDatabase($){setSDKVersion(ew.Jn),(0,ew.Xd)(new eC.wA("database",($,{instanceIdentifier:ee})=>{let er=$.getProvider("app").getImmediate(),ei=$.getProvider("auth-internal"),en=$.getProvider("app-check-internal");return repoManagerDatabaseFromApp(er,ei,en,ee)},"PUBLIC").setMultipleInstances(!0)),(0,ew.KN)(eZ,e1,$),(0,ew.KN)(eZ,e1,"esm2017")}PersistentConnection.prototype.simpleListen=function($,ee){this.sendRequest("q",{p:$},ee)},PersistentConnection.prototype.echo=function($,ee){this.sendRequest("echo",{d:$},ee)},/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */setWebSocketImpl(ev.Client),registerDatabase("node")},88266:($,ee,er)=>{"use strict";er.d(ee,{ET:()=>addDoc,hJ:()=>collection,oe:()=>deleteDoc,JU:()=>doc,QT:()=>getDoc,ad:()=>getFirestore,cf:()=>onSnapshot,IO:()=>query,r7:()=>updateDoc});var ei,en,es,eo,ep,eu=er(25662),eh=er(86860),em=er(11648),ef=er(73837),eg=er(38465),ey=er(6113),ev="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},eS={},e_=e_||{},ew=ev||self;function aa($){var ee=typeof $;return"array"==(ee="object"!=ee?ee:$?Array.isArray($)?"array":ee:"null")||"object"==ee&&"number"==typeof $.length}function p($){var ee=typeof $;return"object"==ee&&null!=$||"function"==ee}function ba($){return Object.prototype.hasOwnProperty.call($,eC)&&$[eC]||($[eC]=++eT)}var eC="closure_uid_"+(1e9*Math.random()>>>0),eT=0;function ea($,ee,er){return $.call.apply($.bind,arguments)}function fa($,ee,er){if(!$)throw Error();if(2<arguments.length){var ei=Array.prototype.slice.call(arguments,2);return function(){var er=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(er,ei),$.apply(ee,er)}}return function(){return $.apply(ee,arguments)}}function q($,ee,er){return(q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ea:fa).apply(null,arguments)}function ha($,ee){var er=Array.prototype.slice.call(arguments,1);return function(){var ee=er.slice();return ee.push.apply(ee,arguments),$.apply(this,ee)}}function r($,ee){function c(){}c.prototype=ee.prototype,$.$=ee.prototype,$.prototype=new c,$.prototype.constructor=$,$.ac=function($,er,ei){for(var en=Array(arguments.length-2),es=2;es<arguments.length;es++)en[es-2]=arguments[es];return ee.prototype[er].apply($,en)}}function v(){this.s=this.s,this.o=this.o}var eE=0;v.prototype.s=!1,v.prototype.sa=function(){this.s||(this.s=!0,this.N(),0==eE)||ba(this)},v.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};let eI=Array.prototype.indexOf?function($,ee){return Array.prototype.indexOf.call($,ee,void 0)}:function($,ee){if("string"==typeof $)return"string"!=typeof ee||1!=ee.length?-1:$.indexOf(ee,0);for(let er=0;er<$.length;er++)if(er in $&&$[er]===ee)return er;return -1};function ma($){let ee=$.length;if(0<ee){let er=Array(ee);for(let ei=0;ei<ee;ei++)er[ei]=$[ei];return er}return[]}function na($,ee){for(let ee=1;ee<arguments.length;ee++){let er=arguments[ee];if(aa(er)){let ee=$.length||0,ei=er.length||0;$.length=ee+ei;for(let en=0;en<ei;en++)$[ee+en]=er[en]}else $.push(er)}}function w($,ee){this.type=$,this.g=this.target=ee,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var eD=function(){if(!ew.addEventListener||!Object.defineProperty)return!1;var $=!1,ee=Object.defineProperty({},"passive",{get:function(){$=!0}});try{ew.addEventListener("test",()=>{},ee),ew.removeEventListener("test",()=>{},ee)}catch($){}return $}();function x($){return/^[\s\xa0]*$/.test($)}function pa(){var $=ew.navigator;return $&&($=$.userAgent)?$:""}function y($){return -1!=pa().indexOf($)}function qa($){return qa[" "]($),$}function ra($,ee){var er=tf;return Object.prototype.hasOwnProperty.call(er,$)?er[$]:er[$]=ee($)}qa[" "]=function(){};var eR=y("Opera"),eP=y("Trident")||y("MSIE"),eN=y("Edge"),eA=eN||eP,ek=y("Gecko")&&!(-1!=pa().toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),eO=-1!=pa().toLowerCase().indexOf("webkit")&&!y("Edge");function ya(){var $=ew.document;return $?$.documentMode:void 0}t:{var eM="",eF=function(){var $=pa();return ek?/rv:([^\);]+)(\)|;)/.exec($):eN?/Edge\/([\d\.]+)/.exec($):eP?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec($):eO?/WebKit\/(\S+)/.exec($):eR?/(?:Version)[ \/]?(\S+)/.exec($):void 0}();if(eF&&(eM=eF?eF[1]:""),eP){var eL=ya();if(null!=eL&&eL>parseFloat(eM)){ei=String(eL);break t}}ei=eM}var eB=en=ew.document&&eP&&(ya()||parseInt(ei,10))||void 0;function A($,ee){if(w.call(this,$?$.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,$){var er=this.type=$.type,ei=$.changedTouches&&$.changedTouches.length?$.changedTouches[0]:null;if(this.target=$.target||$.srcElement,this.g=ee,ee=$.relatedTarget){if(ek){t:{try{qa(ee.nodeName);var en=!0;break t}catch($){}en=!1}en||(ee=null)}}else"mouseover"==er?ee=$.fromElement:"mouseout"==er&&(ee=$.toElement);this.relatedTarget=ee,ei?(this.clientX=void 0!==ei.clientX?ei.clientX:ei.pageX,this.clientY=void 0!==ei.clientY?ei.clientY:ei.pageY,this.screenX=ei.screenX||0,this.screenY=ei.screenY||0):(this.clientX=void 0!==$.clientX?$.clientX:$.pageX,this.clientY=void 0!==$.clientY?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0),this.button=$.button,this.key=$.key||"",this.ctrlKey=$.ctrlKey,this.altKey=$.altKey,this.shiftKey=$.shiftKey,this.metaKey=$.metaKey,this.pointerId=$.pointerId||0,this.pointerType="string"==typeof $.pointerType?$.pointerType:eV[$.pointerType]||"",this.state=$.state,this.i=$,$.defaultPrevented&&A.$.h.call(this)}}r(A,w);var eV={2:"touch",3:"pen",4:"mouse"};A.prototype.h=function(){A.$.h.call(this);var $=this.i;$.preventDefault?$.preventDefault():$.returnValue=!1};var eU="closure_listenable_"+(1e6*Math.random()|0),ej=0;function Ja($,ee,er,ei,en){this.listener=$,this.proxy=null,this.src=ee,this.type=er,this.capture=!!ei,this.la=en,this.key=++ej,this.fa=this.ia=!1}function Ka($){$.fa=!0,$.listener=null,$.proxy=null,$.src=null,$.la=null}function Na($,ee,er){for(let ei in $)ee.call(er,$[ei],ei,$)}function Oa($,ee){for(let er in $)ee.call(void 0,$[er],er,$)}function Pa($){let ee={};for(let er in $)ee[er]=$[er];return ee}let eq="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ra($,ee){let er,ei;for(let ee=1;ee<arguments.length;ee++){for(er in ei=arguments[ee])$[er]=ei[er];for(let ee=0;ee<eq.length;ee++)er=eq[ee],Object.prototype.hasOwnProperty.call(ei,er)&&($[er]=ei[er])}}function Sa($){this.src=$,this.g={},this.h=0}function Ua($,ee){var er=ee.type;if(er in $.g){var ei,en=$.g[er],es=eI(en,ee);(ei=0<=es)&&Array.prototype.splice.call(en,es,1),ei&&(Ka(ee),0==$.g[er].length&&(delete $.g[er],$.h--))}}function Ta($,ee,er,ei){for(var en=0;en<$.length;++en){var es=$[en];if(!es.fa&&es.listener==ee&&!!er==es.capture&&es.la==ei)return en}return -1}Sa.prototype.add=function($,ee,er,ei,en){var es=$.toString();($=this.g[es])||($=this.g[es]=[],this.h++);var eo=Ta($,ee,ei,en);return -1<eo?(ee=$[eo],er||(ee.ia=!1)):((ee=new Ja(ee,this.src,es,!!ei,en)).ia=er,$.push(ee)),ee};var ez="closure_lm_"+(1e6*Math.random()|0),eW={};function Ya($,ee,er,ei,en){if(ei&&ei.once)return Za($,ee,er,ei,en);if(Array.isArray(ee)){for(var es=0;es<ee.length;es++)Ya($,ee[es],er,ei,en);return null}return er=$a(er),$&&$[eU]?$.O(ee,er,p(ei)?!!ei.capture:!!ei,en):ab($,ee,er,!1,ei,en)}function ab($,ee,er,ei,en,es){if(!ee)throw Error("Invalid event type");var eo=p(en)?!!en.capture:!!en,ep=bb($);if(ep||($[ez]=ep=new Sa($)),(er=ep.add(ee,er,ei,eo,es)).proxy)return er;if(ei=cb(),er.proxy=ei,ei.src=$,ei.listener=er,$.addEventListener)eD||(en=eo),void 0===en&&(en=!1),$.addEventListener(ee.toString(),ei,en);else if($.attachEvent)$.attachEvent(db(ee.toString()),ei);else if($.addListener&&$.removeListener)$.addListener(ei);else throw Error("addEventListener and attachEvent are unavailable.");return er}function cb(){function a(ee){return $.call(a.src,a.listener,ee)}let $=eb;return a}function Za($,ee,er,ei,en){if(Array.isArray(ee)){for(var es=0;es<ee.length;es++)Za($,ee[es],er,ei,en);return null}return er=$a(er),$&&$[eU]?$.P(ee,er,p(ei)?!!ei.capture:!!ei,en):ab($,ee,er,!0,ei,en)}function fb($,ee,er,ei,en){if(Array.isArray(ee))for(var es=0;es<ee.length;es++)fb($,ee[es],er,ei,en);else(ei=p(ei)?!!ei.capture:!!ei,er=$a(er),$&&$[eU])?($=$.i,(ee=String(ee).toString())in $.g&&-1<(er=Ta(es=$.g[ee],er,ei,en))&&(Ka(es[er]),Array.prototype.splice.call(es,er,1),0==es.length&&(delete $.g[ee],$.h--))):$&&($=bb($))&&(ee=$.g[ee.toString()],$=-1,ee&&($=Ta(ee,er,ei,en)),(er=-1<$?ee[$]:null)&&gb(er))}function gb($){if("number"!=typeof $&&$&&!$.fa){var ee=$.src;if(ee&&ee[eU])Ua(ee.i,$);else{var er=$.type,ei=$.proxy;ee.removeEventListener?ee.removeEventListener(er,ei,$.capture):ee.detachEvent?ee.detachEvent(db(er),ei):ee.addListener&&ee.removeListener&&ee.removeListener(ei),(er=bb(ee))?(Ua(er,$),0==er.h&&(er.src=null,ee[ez]=null)):Ka($)}}}function db($){return $ in eW?eW[$]:eW[$]="on"+$}function eb($,ee){if($.fa)$=!0;else{ee=new A(ee,this);var er=$.listener,ei=$.la||$.src;$.ia&&gb($),$=er.call(ei,ee)}return $}function bb($){return($=$[ez])instanceof Sa?$:null}var eH="__closure_events_fn_"+(1e9*Math.random()>>>0);function $a($){return"function"==typeof $?$:($[eH]||($[eH]=function(ee){return $.handleEvent(ee)}),$[eH])}function B(){v.call(this),this.i=new Sa(this),this.S=this,this.J=null}function C($,ee){var er,ei=$.J;if(ei)for(er=[];ei;ei=ei.J)er.push(ei);if($=$.S,ei=ee.type||ee,"string"==typeof ee)ee=new w(ee,$);else if(ee instanceof w)ee.target=ee.target||$;else{var en=ee;Ra(ee=new w(ei,$),en)}if(en=!0,er)for(var es=er.length-1;0<=es;es--){var eo=ee.g=er[es];en=ib(eo,ei,!0,ee)&&en}if(en=ib(eo=ee.g=$,ei,!0,ee)&&en,en=ib(eo,ei,!1,ee)&&en,er)for(es=0;es<er.length;es++)en=ib(eo=ee.g=er[es],ei,!1,ee)&&en}function ib($,ee,er,ei){if(!(ee=$.i.g[String(ee)]))return!0;ee=ee.concat();for(var en=!0,es=0;es<ee.length;++es){var eo=ee[es];if(eo&&!eo.fa&&eo.capture==er){var ep=eo.listener,eu=eo.la||eo.src;eo.ia&&Ua($.i,eo),en=!1!==ep.call(eu,ei)&&en}}return en&&!ei.defaultPrevented}r(B,v),B.prototype[eU]=!0,B.prototype.removeEventListener=function($,ee,er,ei){fb(this,$,ee,er,ei)},B.prototype.N=function(){if(B.$.N.call(this),this.i){var $,ee=this.i;for($ in ee.g){for(var er=ee.g[$],ei=0;ei<er.length;ei++)Ka(er[ei]);delete ee.g[$],ee.h--}}this.J=null},B.prototype.O=function($,ee,er,ei){return this.i.add(String($),ee,!1,er,ei)},B.prototype.P=function($,ee,er,ei){return this.i.add(String($),ee,!0,er,ei)};var eG=ew.JSON.stringify;let kb=class kb{constructor($,ee){this.i=$,this.j=ee,this.h=0,this.g=null}get(){let $;return 0<this.h?(this.h--,$=this.g,this.g=$.next,$.next=null):$=this.i(),$}};function lb(){var $=eY;let ee=null;return $.g&&(ee=$.g,$.g=$.g.next,$.g||($.h=null),ee.next=null),ee}let nb=class nb{constructor(){this.h=this.g=null}add($,ee){let er=eK.get();er.set($,ee),this.h?this.h.next=er:this.g=er,this.h=er}};var eK=new kb(()=>new pb,$=>$.reset());let pb=class pb{constructor(){this.next=this.g=this.h=null}set($,ee){this.h=$,this.g=ee,this.next=null}reset(){this.next=this.g=this.h=null}};function qb($){var ee=1;$=$.split(":");let er=[];for(;0<ee&&$.length;)er.push($.shift()),ee--;return $.length&&er.push($.join(":")),er}function rb($){ew.setTimeout(()=>{throw $},0)}let e$,eQ=!1,eY=new nb,vb=()=>{let $=ew.Promise.resolve(void 0);e$=()=>{$.then(ub)}};var ub=()=>{for(var $;$=lb();){try{$.h.call($.g)}catch($){rb($)}var ee=eK;ee.j($),100>ee.h&&(ee.h++,$.next=ee.g,ee.g=$)}eQ=!1};function wb($,ee){B.call(this),this.h=$||1,this.g=ee||ew,this.j=q(this.qb,this),this.l=Date.now()}function xb($){$.ga=!1,$.T&&($.g.clearTimeout($.T),$.T=null)}function yb($,ee,er){if("function"==typeof $)er&&($=q($,er));else if($&&"function"==typeof $.handleEvent)$=q($.handleEvent,$);else throw Error("Invalid listener argument");return 2147483647<Number(ee)?-1:ew.setTimeout($,ee||0)}function zb($){$.g=yb(()=>{$.g=null,$.i&&($.i=!1,zb($))},$.j);let ee=$.h;$.h=null,$.m.apply(null,ee)}r(wb,B),(ep=wb.prototype).ga=!1,ep.T=null,ep.qb=function(){if(this.ga){var $=Date.now()-this.l;0<$&&$<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-$):(this.T&&(this.g.clearTimeout(this.T),this.T=null),C(this,"tick"),this.ga&&(xb(this),this.start()))}},ep.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ep.N=function(){wb.$.N.call(this),xb(this),delete this.g};let Ab=class Ab extends v{constructor($,ee){super(),this.m=$,this.j=ee,this.h=null,this.i=!1,this.g=null}l($){this.h=arguments,this.g?this.i=!0:zb(this)}N(){super.N(),this.g&&(ew.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Bb($){v.call(this),this.h=$,this.g={}}r(Bb,v);var eJ=[];function Db($,ee,er,ei){Array.isArray(er)||(er&&(eJ[0]=er.toString()),er=eJ);for(var en=0;en<er.length;en++){var es=Ya(ee,er[en],ei||$.handleEvent,!1,$.h||$);if(!es)break;$.g[es.key]=es}}function Fb($){Na($.g,function($,ee){this.g.hasOwnProperty(ee)&&gb($)},$),$.g={}}function Gb(){this.g=!0}function Hb($,ee,er,ei,en,es){$.info(function(){if($.g){if(es)for(var eo="",ep=es.split("&"),eu=0;eu<ep.length;eu++){var eh=ep[eu].split("=");if(1<eh.length){var em=eh[0];eh=eh[1];var ef=em.split("_");eo=2<=ef.length&&"type"==ef[1]?eo+(em+"=")+eh+"&":eo+(em+"=redacted&")}}else eo=null}else eo=es;return"XMLHTTP REQ ("+ei+") [attempt "+en+"]: "+ee+"\n"+er+"\n"+eo})}function Ib($,ee,er,ei,en,es,eo){$.info(function(){return"XMLHTTP RESP ("+ei+") [ attempt "+en+"]: "+ee+"\n"+er+"\n"+es+" "+eo})}function D($,ee,er,ei){$.info(function(){return"XMLHTTP TEXT ("+ee+"): "+Jb($,er)+(ei?" "+ei:"")})}function Kb($,ee){$.info(function(){return"TIMEOUT: "+ee})}function Jb($,ee){if(!$.g)return ee;if(!ee)return null;try{var er=JSON.parse(ee);if(er){for($=0;$<er.length;$++)if(Array.isArray(er[$])){var ei=er[$];if(!(2>ei.length)){var en=ei[1];if(Array.isArray(en)&&!(1>en.length)){var es=en[0];if("noop"!=es&&"stop"!=es&&"close"!=es)for(var eo=1;eo<en.length;eo++)en[eo]=""}}}}return eG(er)}catch($){return ee}}Bb.prototype.N=function(){Bb.$.N.call(this),Fb(this)},Bb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gb.prototype.Ea=function(){this.g=!1},Gb.prototype.info=function(){};var eX={},eZ=null;function Mb(){return eZ=eZ||new B}function Nb($){w.call(this,eX.Ta,$)}function Ob($){let ee=Mb();C(ee,new Nb(ee))}function Pb($,ee){w.call(this,eX.STAT_EVENT,$),this.stat=ee}function F($){let ee=Mb();C(ee,new Pb(ee,$))}function Qb($,ee){w.call(this,eX.Ua,$),this.size=ee}function Rb($,ee){if("function"!=typeof $)throw Error("Fn must not be null and must be a function");return ew.setTimeout(function(){$()},ee)}eX.Ta="serverreachability",r(Nb,w),eX.STAT_EVENT="statevent",r(Pb,w),eX.Ua="timingevent",r(Qb,w);var e1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},e0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ub(){}function Vb($){return $.h||($.h=$.i())}function Wb(){}Ub.prototype.h=null;var e2={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yb(){w.call(this,"d")}function Zb(){w.call(this,"c")}function ac(){}function bc($,ee,er,ei){this.l=$,this.j=ee,this.m=er,this.W=ei||1,this.U=new Bb(this),this.P=e4,$=eA?125:void 0,this.V=new wb($),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dc}function dc(){this.i=null,this.g="",this.h=!1}r(Yb,w),r(Zb,w),r(ac,Ub),ac.prototype.g=function(){return new XMLHttpRequest},ac.prototype.i=function(){return{}},es=new ac;var e4=45e3,e6={},e8={};function gc($,ee,er){$.L=1,$.v=hc(G(ee)),$.s=er,$.S=!0,ic($,null)}function ic($,ee){$.G=Date.now(),jc($),$.A=G($.v);var er=$.A,ei=$.W;Array.isArray(ei)||(ei=[String(ei)]),kc(er.i,"t",ei),$.C=0,er=$.l.J,$.h=new dc,$.g=lc($.l,er?ee:null,!$.s),0<$.O&&($.M=new Ab(q($.Pa,$,$.g),$.O)),Db($.U,$.g,"readystatechange",$.nb),ee=$.I?Pa($.I):{},$.s?($.u||($.u="POST"),ee["Content-Type"]="application/x-www-form-urlencoded",$.g.ha($.A,$.u,$.s,ee)):($.u="GET",$.g.ha($.A,$.u,null,ee)),Ob(),Hb($.j,$.u,$.A,$.m,$.W,$.s)}function oc($){return!!$.g&&"GET"==$.u&&2!=$.L&&$.l.Ha}function rc($,ee,er){let ei=!0,en;for(;!$.J&&$.C<er.length;)if((en=uc($,er))==e8){4==ee&&($.o=4,F(14),ei=!1),D($.j,$.m,null,"[Incomplete Response]");break}else if(en==e6){$.o=4,F(15),D($.j,$.m,er,"[Invalid Chunk]"),ei=!1;break}else D($.j,$.m,en,null),qc($,en);oc($)&&en!=e8&&en!=e6&&($.h.g="",$.C=0),4!=ee||0!=er.length||$.h.h||($.o=1,F(16),ei=!1),$.i=$.i&&ei,ei?0<er.length&&!$.ba&&($.ba=!0,(ee=$.l).g==$&&ee.ca&&!ee.M&&(ee.l.info("Great, no buffering proxy detected. Bytes received: "+er.length),vc(ee),ee.M=!0,F(11))):(D($.j,$.m,er,"[Invalid Chunked Response]"),I($),pc($))}function uc($,ee){var er=$.C,ei=ee.indexOf("\n",er);return -1==ei?e8:isNaN(er=Number(ee.substring(er,ei)))?e6:(ei+=1)+er>ee.length?e8:(ee=ee.slice(ei,ei+er),$.C=ei+er,ee)}function jc($){$.Y=Date.now()+$.P,wc($,$.P)}function wc($,ee){if(null!=$.B)throw Error("WatchDog timer not null");$.B=Rb(q($.lb,$),ee)}function nc($){$.B&&(ew.clearTimeout($.B),$.B=null)}function pc($){0==$.l.H||$.J||sc($.l,$)}function I($){nc($);var ee=$.M;ee&&"function"==typeof ee.sa&&ee.sa(),$.M=null,xb($.V),Fb($.U),$.g&&(ee=$.g,$.g=null,ee.abort(),ee.sa())}function qc($,ee){try{var er=$.l;if(0!=er.H&&(er.g==$||xc(er.i,$))){if(!$.K&&xc(er.i,$)&&3==er.H){try{var ei=er.Ja.g.parse(ee)}catch($){ei=null}if(Array.isArray(ei)&&3==ei.length){var en=ei;if(0==en[0]){t:if(!er.u){if(er.g){if(er.g.G+3e3<$.G)yc(er),zc(er);else break t}Ac(er),F(18)}}else er.Fa=en[1],0<er.Fa-er.V&&37500>en[2]&&er.G&&0==er.A&&!er.v&&(er.v=Rb(q(er.ib,er),6e3));if(1>=Bc(er.i)&&er.oa){try{er.oa()}catch($){}er.oa=void 0}}else J(er,11)}else if(($.K||er.g==$)&&yc(er),!x(ee))for(en=er.Ja.g.parse(ee),ee=0;ee<en.length;ee++){let eh=en[ee];if(er.V=eh[0],eh=eh[1],2==er.H){if("c"==eh[0]){er.K=eh[1],er.pa=eh[2];let ee=eh[3];null!=ee&&(er.ra=ee,er.l.info("VER="+er.ra));let en=eh[4];null!=en&&(er.Ga=en,er.l.info("SVER="+er.Ga));let em=eh[5];null!=em&&"number"==typeof em&&0<em&&(ei=1.5*em,er.L=ei,er.l.info("backChannelRequestTimeoutMs_="+ei)),ei=er;let ef=$.g;if(ef){let $=ef.g?ef.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var es=ei.i;es.g||-1==$.indexOf("spdy")&&-1==$.indexOf("quic")&&-1==$.indexOf("h2")||(es.j=es.l,es.g=new Set,es.h&&(Cc(es,es.h),es.h=null))}if(ei.F){let $=ef.g?ef.g.getResponseHeader("X-HTTP-Session-Id"):null;$&&(ei.Da=$,K(ei.I,ei.F,$))}}er.H=3,er.h&&er.h.Ba(),er.ca&&(er.S=Date.now()-$.G,er.l.info("Handshake RTT: "+er.S+"ms")),ei=er;var eo=$;if(ei.wa=Dc(ei,ei.J?ei.pa:null,ei.Y),eo.K){Ec(ei.i,eo);var ep=eo,eu=ei.L;eu&&ep.setTimeout(eu),ep.B&&(nc(ep),jc(ep)),ei.g=eo}else Fc(ei);0<er.j.length&&Gc(er)}else"stop"!=eh[0]&&"close"!=eh[0]||J(er,7)}else 3==er.H&&("stop"==eh[0]||"close"==eh[0]?"stop"==eh[0]?J(er,7):Hc(er):"noop"!=eh[0]&&er.h&&er.h.Aa(eh),er.A=0)}}Ob(4)}catch($){}}function Ic($){if($.Z&&"function"==typeof $.Z)return $.Z();if("undefined"!=typeof Map&&$ instanceof Map||"undefined"!=typeof Set&&$ instanceof Set)return Array.from($.values());if("string"==typeof $)return $.split("");if(aa($)){for(var ee=[],er=$.length,ei=0;ei<er;ei++)ee.push($[ei]);return ee}for(ei in ee=[],er=0,$)ee[er++]=$[ei];return ee}function Jc($){if($.ta&&"function"==typeof $.ta)return $.ta();if(!$.Z||"function"!=typeof $.Z){if("undefined"!=typeof Map&&$ instanceof Map)return Array.from($.keys());if(!("undefined"!=typeof Set&&$ instanceof Set)){if(aa($)||"string"==typeof $){var ee=[];$=$.length;for(var er=0;er<$;er++)ee.push(er);return ee}for(let ei in ee=[],er=0,$)ee[er++]=ei;return ee}}}function Kc($,ee){if($.forEach&&"function"==typeof $.forEach)$.forEach(ee,void 0);else if(aa($)||"string"==typeof $)Array.prototype.forEach.call($,ee,void 0);else for(var er=Jc($),ei=Ic($),en=ei.length,es=0;es<en;es++)ee.call(void 0,ei[es],er&&er[es],$)}(ep=bc.prototype).setTimeout=function($){this.P=$},ep.nb=function($){$=$.target;let ee=this.M;ee&&3==H($)?ee.l():this.Pa($)},ep.Pa=function($){try{if($==this.g)t:{let em=H(this.g);var ee=this.g.Ia();let ef=this.g.da();if(!(3>em)&&(3!=em||eA||this.g&&(this.h.h||this.g.ja()||mc(this.g)))){this.J||4!=em||7==ee||(8==ee||0>=ef?Ob(3):Ob(2)),nc(this);var er=this.g.da();this.ca=er;r:if(oc(this)){var ei=mc(this.g);$="";var en=ei.length,es=4==H(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){I(this),pc(this);var eo="";break r}this.h.i=new ew.TextDecoder}for(ee=0;ee<en;ee++)this.h.h=!0,$+=this.h.i.decode(ei[ee],{stream:es&&ee==en-1});ei.splice(0,en),this.h.g+=$,this.C=0,eo=this.h.g}else eo=this.g.ja();if(this.i=200==er,Ib(this.j,this.u,this.A,this.m,this.W,em,er),this.i){if(this.aa&&!this.K){r:{if(this.g){var ep,eu=this.g;if((ep=eu.g?eu.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(ep)){var eh=ep;break r}}eh=null}if(er=eh)D(this.j,this.m,er,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qc(this,er);else{this.i=!1,this.o=3,F(12),I(this),pc(this);break t}}this.S?(rc(this,em,eo),eA&&this.i&&3==em&&(Db(this.U,this.V,"tick",this.mb),this.V.start())):(D(this.j,this.m,eo,null),qc(this,eo)),4==em&&I(this),this.i&&!this.J&&(4==em?sc(this.l,this):(this.i=!1,jc(this)))}else tc(this.g),400==er&&0<eo.indexOf("Unknown SID")?(this.o=3,F(12)):(this.o=0,F(13)),I(this),pc(this)}}}catch($){}finally{}},ep.mb=function(){if(this.g){var $=H(this.g),ee=this.g.ja();this.C<ee.length&&(nc(this),rc(this,$,ee),this.i&&4!=$&&jc(this))}},ep.cancel=function(){this.J=!0,I(this)},ep.lb=function(){this.B=null;let $=Date.now();0<=$-this.Y?(Kb(this.j,this.A),2!=this.L&&(Ob(),F(17)),I(this),this.o=2,pc(this)):wc(this,this.Y-$)};var e9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mc($,ee){if($){$=$.split("&");for(var er=0;er<$.length;er++){var ei=$[er].indexOf("="),en=null;if(0<=ei){var es=$[er].substring(0,ei);en=$[er].substring(ei+1)}else es=$[er];ee(es,en?decodeURIComponent(en.replace(/\+/g," ")):"")}}}function M($){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,$ instanceof M){this.h=$.h,Nc(this,$.j),this.s=$.s,this.g=$.g,Oc(this,$.m),this.l=$.l;var ee=$.i,er=new Pc;er.i=ee.i,ee.g&&(er.g=new Map(ee.g),er.h=ee.h),Qc(this,er),this.o=$.o}else $&&(ee=String($).match(e9))?(this.h=!1,Nc(this,ee[1]||"",!0),this.s=Rc(ee[2]||""),this.g=Rc(ee[3]||"",!0),Oc(this,ee[4]),this.l=Rc(ee[5]||"",!0),Qc(this,ee[6]||"",!0),this.o=Rc(ee[7]||"")):(this.h=!1,this.i=new Pc(null,this.h))}function G($){return new M($)}function Nc($,ee,er){$.j=er?Rc(ee,!0):ee,$.j&&($.j=$.j.replace(/:$/,""))}function Oc($,ee){if(ee){if(isNaN(ee=Number(ee))||0>ee)throw Error("Bad port number "+ee);$.m=ee}else $.m=null}function Qc($,ee,er){ee instanceof Pc?($.i=ee,Xc($.i,$.h)):(er||(ee=Sc(ee,te)),$.i=new Pc(ee,$.h))}function K($,ee,er){$.i.set(ee,er)}function hc($){return K($,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),$}function Rc($,ee){return $?ee?decodeURI($.replace(/%25/g,"%2525")):decodeURIComponent($):""}function Sc($,ee,er){return"string"==typeof $?($=encodeURI($).replace(ee,Zc),er&&($=$.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),$):null}function Zc($){return"%"+(($=$.charCodeAt(0))>>4&15).toString(16)+(15&$).toString(16)}M.prototype.toString=function(){var $=[],ee=this.j;ee&&$.push(Sc(ee,e3,!0),":");var er=this.g;return(er||"file"==ee)&&($.push("//"),(ee=this.s)&&$.push(Sc(ee,e3,!0),"@"),$.push(encodeURIComponent(String(er)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(er=this.m)&&$.push(":",String(er))),(er=this.l)&&(this.g&&"/"!=er.charAt(0)&&$.push("/"),$.push(Sc(er,"/"==er.charAt(0)?e7:e5,!0))),(er=this.i.toString())&&$.push("?",er),(er=this.o)&&$.push("#",Sc(er,tt)),$.join("")};var e3=/[#\/\?@]/g,e5=/[#\?:]/g,e7=/[#\?]/g,te=/[#\?@]/g,tt=/#/g;function Pc($,ee){this.h=this.g=null,this.i=$||null,this.j=!!ee}function N($){$.g||($.g=new Map,$.h=0,$.i&&Mc($.i,function(ee,er){$.add(decodeURIComponent(ee.replace(/\+/g," ")),er)}))}function $c($,ee){N($),ee=O($,ee),$.g.has(ee)&&($.i=null,$.h-=$.g.get(ee).length,$.g.delete(ee))}function ad($,ee){return N($),ee=O($,ee),$.g.has(ee)}function kc($,ee,er){$c($,ee),0<er.length&&($.i=null,$.g.set(O($,ee),ma(er)),$.h+=er.length)}function O($,ee){return ee=String(ee),$.j&&(ee=ee.toLowerCase()),ee}function Xc($,ee){ee&&!$.j&&(N($),$.i=null,$.g.forEach(function($,ee){var er=ee.toLowerCase();ee!=er&&($c(this,ee),kc(this,er,$))},$)),$.j=ee}(ep=Pc.prototype).add=function($,ee){N(this),this.i=null,$=O(this,$);var er=this.g.get($);return er||this.g.set($,er=[]),er.push(ee),this.h+=1,this},ep.forEach=function($,ee){N(this),this.g.forEach(function(er,ei){er.forEach(function(er){$.call(ee,er,ei,this)},this)},this)},ep.ta=function(){N(this);let $=Array.from(this.g.values()),ee=Array.from(this.g.keys()),er=[];for(let ei=0;ei<ee.length;ei++){let en=$[ei];for(let $=0;$<en.length;$++)er.push(ee[ei])}return er},ep.Z=function($){N(this);let ee=[];if("string"==typeof $)ad(this,$)&&(ee=ee.concat(this.g.get(O(this,$))));else{$=Array.from(this.g.values());for(let er=0;er<$.length;er++)ee=ee.concat($[er])}return ee},ep.set=function($,ee){return N(this),this.i=null,ad(this,$=O(this,$))&&(this.h-=this.g.get($).length),this.g.set($,[ee]),this.h+=1,this},ep.get=function($,ee){return $&&0<($=this.Z($)).length?String($[0]):ee},ep.toString=function(){if(this.i)return this.i;if(!this.g)return"";let $=[],ee=Array.from(this.g.keys());for(var er=0;er<ee.length;er++){var ei=ee[er];let es=encodeURIComponent(String(ei)),eo=this.Z(ei);for(ei=0;ei<eo.length;ei++){var en=es;""!==eo[ei]&&(en+="="+encodeURIComponent(String(eo[ei]))),$.push(en)}}return this.i=$.join("&")};var tr=class{constructor($,ee){this.g=$,this.map=ee}};function cd($){this.l=$||ti,$=ew.PerformanceNavigationTiming?0<($=ew.performance.getEntriesByType("navigation")).length&&("hq"==$[0].nextHopProtocol||"h2"==$[0].nextHopProtocol):!!(ew.g&&ew.g.Ka&&ew.g.Ka()&&ew.g.Ka().dc),this.j=$?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ti=10;function ed($){return!!$.h||!!$.g&&$.g.size>=$.j}function Bc($){return $.h?1:$.g?$.g.size:0}function xc($,ee){return $.h?$.h==ee:!!$.g&&$.g.has(ee)}function Cc($,ee){$.g?$.g.add(ee):$.h=ee}function Ec($,ee){$.h&&$.h==ee?$.h=null:$.g&&$.g.has(ee)&&$.g.delete(ee)}function fd($){if(null!=$.h)return $.i.concat($.h.F);if(null!=$.g&&0!==$.g.size){let ee=$.i;for(let er of $.g.values())ee=ee.concat(er.F);return ee}return ma($.i)}cd.prototype.cancel=function(){if(this.i=fd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let $ of this.g.values())$.cancel();this.g.clear()}};var ts=class{stringify($){return ew.JSON.stringify($,void 0)}parse($){return ew.JSON.parse($,void 0)}};function hd(){this.g=new ts}function id($,ee,er){let ei=er||"";try{Kc($,function($,er){let en=$;p($)&&(en=eG($)),ee.push(ei+er+"="+encodeURIComponent(en))})}catch($){throw ee.push(ei+"type="+encodeURIComponent("_badmap")),$}}function jd($,ee){let er=new Gb;if(ew.Image){let ei=new Image;ei.onload=ha(kd,er,ei,"TestLoadImage: loaded",!0,ee),ei.onerror=ha(kd,er,ei,"TestLoadImage: error",!1,ee),ei.onabort=ha(kd,er,ei,"TestLoadImage: abort",!1,ee),ei.ontimeout=ha(kd,er,ei,"TestLoadImage: timeout",!1,ee),ew.setTimeout(function(){ei.ontimeout&&ei.ontimeout()},1e4),ei.src=$}else ee(!1)}function kd($,ee,er,ei,en){try{ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null,en(ei)}catch($){}}function ld($){this.l=$.ec||null,this.j=$.ob||!1}function md($,ee){B.call(this),this.F=$,this.u=ee,this.m=void 0,this.readyState=tl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}r(ld,Ub),ld.prototype.g=function(){return new md(this.l,this.j)},ld.prototype.i=function($){return function(){return $}}({}),r(md,B);var tl=0;function qd($){$.j.read().then($.Xa.bind($)).catch($.ka.bind($))}function pd($){$.readyState=4,$.l=null,$.j=null,$.A=null,od($)}function od($){$.onreadystatechange&&$.onreadystatechange.call($)}(ep=md.prototype).open=function($,ee){if(this.readyState!=tl)throw this.abort(),Error("Error reopening a connection");this.C=$,this.B=ee,this.readyState=1,od(this)},ep.send=function($){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let ee={headers:this.v,method:this.C,credentials:this.m,cache:void 0};$&&(ee.body=$),(this.F||ew).fetch(new Request(this.B,ee)).then(this.$a.bind(this),this.ka.bind(this))},ep.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pd(this)),this.readyState=tl},ep.$a=function($){if(this.g&&(this.l=$,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=$.headers,this.readyState=2,od(this)),this.g&&(this.readyState=3,od(this),this.g))){if("arraybuffer"===this.responseType)$.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==ew.ReadableStream&&"body"in $){if(this.j=$.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qd(this)}else $.text().then(this.Za.bind(this),this.ka.bind(this))}},ep.Xa=function($){if(this.g){if(this.u&&$.value)this.response.push($.value);else if(!this.u){var ee=$.value?$.value:new Uint8Array(0);(ee=this.A.decode(ee,{stream:!$.done}))&&(this.response=this.responseText+=ee)}$.done?pd(this):od(this),3==this.readyState&&qd(this)}},ep.Za=function($){this.g&&(this.response=this.responseText=$,pd(this))},ep.Ya=function($){this.g&&(this.response=$,pd(this))},ep.ka=function(){this.g&&pd(this)},ep.setRequestHeader=function($,ee){this.v.append($,ee)},ep.getResponseHeader=function($){return this.h&&this.h.get($.toLowerCase())||""},ep.getAllResponseHeaders=function(){if(!this.h)return"";let $=[],ee=this.h.entries();for(var er=ee.next();!er.done;)$.push((er=er.value)[0]+": "+er[1]),er=ee.next();return $.join("\r\n")},Object.defineProperty(md.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function($){this.m=$?"include":"same-origin"}});var tp=ew.JSON.parse;function P($){B.call(this),this.headers=new Map,this.u=$||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=tu,this.L=this.M=!1}r(P,B);var tu="",th=/^https?$/i,tm=["POST","PUT"];function xd($){return eP&&"number"==typeof $.timeout&&void 0!==$.ontimeout}function vd($,ee){$.h=!1,$.g&&($.l=!0,$.g.abort(),$.l=!1),$.j=ee,$.m=5,yd($),zd($)}function yd($){$.F||($.F=!0,C($,"complete"),C($,"error"))}function Ad($){if($.h&&void 0!==e_&&(!$.C[1]||4!=H($)||2!=$.da())){if($.v&&4==H($))yb($.La,0,$);else if(C($,"readystatechange"),4==H($)){$.h=!1;try{let eo=$.da();switch(eo){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ee,er,ei=!0;break;default:ei=!1}if(!(ee=ei)){if(er=0===eo){var en=String($.I).match(e9)[1]||null;!en&&ew.self&&ew.self.location&&(en=ew.self.location.protocol.slice(0,-1)),er=!th.test(en?en.toLowerCase():"")}ee=er}if(ee)C($,"complete"),C($,"success");else{$.m=6;try{var es=2<H($)?$.g.statusText:""}catch($){es=""}$.j=es+" ["+$.da()+"]",yd($)}}finally{zd($)}}}}function zd($,ee){if($.g){wd($);let er=$.g,ei=$.C[0]?()=>{}:null;$.g=null,$.C=null,ee||C($,"ready");try{er.onreadystatechange=ei}catch($){}}}function wd($){$.g&&$.L&&($.g.ontimeout=null),$.A&&(ew.clearTimeout($.A),$.A=null)}function H($){return $.g?$.g.readyState:0}function mc($){try{if(!$.g)return null;if("response"in $.g)return $.g.response;switch($.K){case tu:case"text":return $.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in $.g)return $.g.mozResponseArrayBuffer}return null}catch($){return null}}function tc($){let ee={};$=($.g&&2<=H($)&&$.g.getAllResponseHeaders()||"").split("\r\n");for(let ei=0;ei<$.length;ei++){if(x($[ei]))continue;var er=qb($[ei]);let en=er[0];if("string"!=typeof(er=er[1]))continue;er=er.trim();let es=ee[en]||[];ee[en]=es,es.push(er)}Oa(ee,function($){return $.join(", ")})}function Bd($){let ee="";return Na($,function($,er){ee+=er+":"+$+"\r\n"}),ee}function Cd($,ee,er){t:{for(ei in er){var ei=!1;break t}ei=!0}ei||(er=Bd(er),"string"==typeof $?null!=er&&encodeURIComponent(String(er)):K($,ee,er))}function Dd($,ee,er){return er&&er.internalChannelParams&&er.internalChannelParams[$]||ee}function Ed($){this.Ga=0,this.j=[],this.l=new Gb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dd("failFast",!1,$),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dd("baseRetryDelayMs",5e3,$),this.hb=Dd("retryDelaySeedMs",1e4,$),this.eb=Dd("forwardChannelMaxRetries",2,$),this.xa=Dd("forwardChannelRequestTimeoutMs",2e4,$),this.va=$&&$.xmlHttpFactory||void 0,this.Ha=$&&$.useFetchStreams||!1,this.L=void 0,this.J=$&&$.supportsCrossDomainXhr||!1,this.K="",this.i=new cd($&&$.concurrentRequestLimit),this.Ja=new hd,this.P=$&&$.fastHandshake||!1,this.O=$&&$.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=$&&$.bc||!1,$&&$.Ea&&this.l.Ea(),$&&$.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&$&&$.detectBufferingProxy||!1,this.qa=void 0,$&&$.longPollingTimeout&&0<$.longPollingTimeout&&(this.qa=$.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Hc($){if(Fd($),3==$.H){var ee=$.W++,er=G($.I);if(K(er,"SID",$.K),K(er,"RID",ee),K(er,"TYPE","terminate"),Gd($,er),(ee=new bc($,$.l,ee)).L=2,ee.v=hc(G(er)),er=!1,ew.navigator&&ew.navigator.sendBeacon)try{er=ew.navigator.sendBeacon(ee.v.toString(),"")}catch($){}!er&&ew.Image&&((new Image).src=ee.v,er=!0),er||(ee.g=lc(ee.l,null),ee.g.ha(ee.v)),ee.G=Date.now(),jc(ee)}Hd($)}function zc($){$.g&&(vc($),$.g.cancel(),$.g=null)}function Fd($){zc($),$.u&&(ew.clearTimeout($.u),$.u=null),yc($),$.i.cancel(),$.m&&("number"==typeof $.m&&ew.clearTimeout($.m),$.m=null)}function Gc($){if(!ed($.i)&&!$.m){$.m=!0;var ee=$.Na;e$||vb(),eQ||(e$(),eQ=!0),eY.add(ee,$),$.C=0}}function Id($,ee){return!(Bc($.i)>=$.i.j-($.m?1:0))&&($.m?($.j=ee.F.concat($.j),!0):1!=$.H&&2!=$.H&&!($.C>=($.cb?0:$.eb))&&($.m=Rb(q($.Na,$,ee),Jd($,$.C)),$.C++,!0))}function Ld($,ee){var er;er=ee?ee.m:$.W++;let ei=G($.I);K(ei,"SID",$.K),K(ei,"RID",er),K(ei,"AID",$.V),Gd($,ei),$.o&&$.s&&Cd(ei,$.o,$.s),er=new bc($,$.l,er,$.C+1),null===$.o&&(er.I=$.s),ee&&($.j=ee.F.concat($.j)),ee=Kd($,er,1e3),er.setTimeout(Math.round(.5*$.xa)+Math.round(.5*$.xa*Math.random())),Cc($.i,er),gc(er,ei,ee)}function Gd($,ee){$.na&&Na($.na,function($,er){K(ee,er,$)}),$.h&&Kc({},function($,er){K(ee,er,$)})}function Kd($,ee,er){er=Math.min($.j.length,er);var ei=$.h?q($.h.Va,$.h,$):null;t:{var en=$.j;let ee=-1;for(;;){let $=["count="+er];-1==ee?0<er?(ee=en[0].g,$.push("ofs="+ee)):ee=0:$.push("ofs="+ee);let es=!0;for(let eo=0;eo<er;eo++){let er=en[eo].g,ep=en[eo].map;if(0>(er-=ee))ee=Math.max(0,en[eo].g-100),es=!1;else try{id(ep,$,"req"+er+"_")}catch($){ei&&ei(ep)}}if(es){ei=$.join("&");break t}}}return $=$.j.splice(0,er),ee.F=$,ei}function Fc($){if(!$.g&&!$.u){$.ba=1;var ee=$.Ma;e$||vb(),eQ||(e$(),eQ=!0),eY.add(ee,$),$.A=0}}function Ac($){return!$.g&&!$.u&&!(3<=$.A)&&($.ba++,$.u=Rb(q($.Ma,$),Jd($,$.A)),$.A++,!0)}function vc($){null!=$.B&&(ew.clearTimeout($.B),$.B=null)}function Md($){$.g=new bc($,$.l,"rpc",$.ba),null===$.o&&($.g.I=$.s),$.g.O=0;var ee=G($.wa);K(ee,"RID","rpc"),K(ee,"SID",$.K),K(ee,"AID",$.V),K(ee,"CI",$.G?"0":"1"),!$.G&&$.qa&&K(ee,"TO",$.qa),K(ee,"TYPE","xmlhttp"),Gd($,ee),$.o&&$.s&&Cd(ee,$.o,$.s),$.L&&$.g.setTimeout($.L);var er=$.g;$=$.pa,er.L=1,er.v=hc(G(ee)),er.s=null,er.S=!0,ic(er,$)}function yc($){null!=$.v&&(ew.clearTimeout($.v),$.v=null)}function sc($,ee){var er=null;if($.g==ee){yc($),vc($),$.g=null;var ei=2}else{if(!xc($.i,ee))return;er=ee.F,Ec($.i,ee),ei=1}if(0!=$.H){if(ee.i){if(1==ei){er=ee.s?ee.s.length:0,ee=Date.now()-ee.G;var en=$.C;C(ei=Mb(),new Qb(ei,er)),Gc($)}else Fc($)}else if(3==(en=ee.o)||0==en&&0<ee.ca||!(1==ei&&Id($,ee)||2==ei&&Ac($)))switch(er&&0<er.length&&((ee=$.i).i=ee.i.concat(er)),en){case 1:J($,5);break;case 4:J($,10);break;case 3:J($,6);break;default:J($,2)}}}function Jd($,ee){let er=$.ab+Math.floor(Math.random()*$.hb);return $.isActive()||(er*=2),er*ee}function J($,ee){if($.l.info("Error code "+ee),2==ee){var er=null;$.h&&(er=null);var ei=q($.pb,$);er||(er=new M("//www.google.com/images/cleardot.gif"),ew.location&&"http"==ew.location.protocol||Nc(er,"https"),hc(er)),jd(er.toString(),ei)}else F(2);$.H=0,$.h&&$.h.za(ee),Hd($),Fd($)}function Hd($){if($.H=0,$.ma=[],$.h){let ee=fd($.i);(0!=ee.length||0!=$.j.length)&&(na($.ma,ee),na($.ma,$.j),$.i.i.length=0,ma($.j),$.j.length=0),$.h.ya()}}function Dc($,ee,er){var ei=er instanceof M?G(er):new M(er);if(""!=ei.g)ee&&(ei.g=ee+"."+ei.g),Oc(ei,ei.m);else{var en=ew.location;ei=en.protocol,ee=ee?ee+"."+en.hostname:en.hostname,en=+en.port;var es=new M(null);ei&&Nc(es,ei),ee&&(es.g=ee),en&&Oc(es,en),er&&(es.l=er),ei=es}return er=$.F,ee=$.Da,er&&ee&&K(ei,er,ee),K(ei,"VER",$.ra),Gd($,ei),ei}function lc($,ee,er){if(ee&&!$.J)throw Error("Can't create secondary domain capable XhrIo object.");return(ee=new P(er&&$.Ha&&!$.va?new ld({ob:!0}):$.va)).Oa($.J),ee}function Nd(){}function Od(){if(eP&&!(10<=Number(eB)))throw Error("Environmental error: no available transport.")}function Q($,ee){B.call(this),this.g=new Ed(ee),this.l=$,this.h=ee&&ee.messageUrlParams||null,$=ee&&ee.messageHeaders||null,ee&&ee.clientProtocolHeaderRequired&&($?$["X-Client-Protocol"]="webchannel":$={"X-Client-Protocol":"webchannel"}),this.g.s=$,$=ee&&ee.initMessageHeaders||null,ee&&ee.messageContentType&&($?$["X-WebChannel-Content-Type"]=ee.messageContentType:$={"X-WebChannel-Content-Type":ee.messageContentType}),ee&&ee.Ca&&($?$["X-WebChannel-Client-Profile"]=ee.Ca:$={"X-WebChannel-Client-Profile":ee.Ca}),this.g.U=$,($=ee&&ee.cc)&&!x($)&&(this.g.o=$),this.A=ee&&ee.supportsCrossDomainXhr||!1,this.v=ee&&ee.sendRawJson||!1,(ee=ee&&ee.httpSessionIdParam)&&!x(ee)&&(this.g.F=ee,null!==($=this.h)&&ee in $&&ee in($=this.h)&&delete $[ee]),this.j=new R(this)}function Pd($){Yb.call(this),$.__headers__&&(this.headers=$.__headers__,this.statusCode=$.__status__,delete $.__headers__,delete $.__status__);var ee=$.__sm__;if(ee){t:{for(let er in ee){$=er;break t}$=void 0}(this.i=$)&&($=this.i,ee=null!==ee&&$ in ee?ee[$]:void 0),this.data=ee}else this.data=$}function Qd(){Zb.call(this),this.status=1}function R($){this.g=$}function S(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Sd($,ee,er){er||(er=0);var ei=Array(16);if("string"==typeof ee)for(var en=0;16>en;++en)ei[en]=ee.charCodeAt(er++)|ee.charCodeAt(er++)<<8|ee.charCodeAt(er++)<<16|ee.charCodeAt(er++)<<24;else for(en=0;16>en;++en)ei[en]=ee[er++]|ee[er++]<<8|ee[er++]<<16|ee[er++]<<24;ee=$.g[0],er=$.g[1],en=$.g[2];var es=$.g[3],eo=ee+(es^er&(en^es))+ei[0]+3614090360&4294967295;eo=es+(en^(ee=er+(eo<<7&4294967295|eo>>>25))&(er^en))+ei[1]+3905402710&4294967295,eo=en+(er^(es=ee+(eo<<12&4294967295|eo>>>20))&(ee^er))+ei[2]+606105819&4294967295,eo=er+(ee^(en=es+(eo<<17&4294967295|eo>>>15))&(es^ee))+ei[3]+3250441966&4294967295,eo=ee+(es^(er=en+(eo<<22&4294967295|eo>>>10))&(en^es))+ei[4]+4118548399&4294967295,eo=es+(en^(ee=er+(eo<<7&4294967295|eo>>>25))&(er^en))+ei[5]+1200080426&4294967295,eo=en+(er^(es=ee+(eo<<12&4294967295|eo>>>20))&(ee^er))+ei[6]+2821735955&4294967295,eo=er+(ee^(en=es+(eo<<17&4294967295|eo>>>15))&(es^ee))+ei[7]+4249261313&4294967295,eo=ee+(es^(er=en+(eo<<22&4294967295|eo>>>10))&(en^es))+ei[8]+1770035416&4294967295,eo=es+(en^(ee=er+(eo<<7&4294967295|eo>>>25))&(er^en))+ei[9]+2336552879&4294967295,eo=en+(er^(es=ee+(eo<<12&4294967295|eo>>>20))&(ee^er))+ei[10]+4294925233&4294967295,eo=er+(ee^(en=es+(eo<<17&4294967295|eo>>>15))&(es^ee))+ei[11]+2304563134&4294967295,eo=ee+(es^(er=en+(eo<<22&4294967295|eo>>>10))&(en^es))+ei[12]+1804603682&4294967295,eo=es+(en^(ee=er+(eo<<7&4294967295|eo>>>25))&(er^en))+ei[13]+4254626195&4294967295,eo=en+(er^(es=ee+(eo<<12&4294967295|eo>>>20))&(ee^er))+ei[14]+2792965006&4294967295,eo=er+(ee^(en=es+(eo<<17&4294967295|eo>>>15))&(es^ee))+ei[15]+1236535329&4294967295,er=en+(eo<<22&4294967295|eo>>>10),eo=ee+(en^es&(er^en))+ei[1]+4129170786&4294967295,ee=er+(eo<<5&4294967295|eo>>>27),eo=es+(er^en&(ee^er))+ei[6]+3225465664&4294967295,es=ee+(eo<<9&4294967295|eo>>>23),eo=en+(ee^er&(es^ee))+ei[11]+643717713&4294967295,en=es+(eo<<14&4294967295|eo>>>18),eo=er+(es^ee&(en^es))+ei[0]+3921069994&4294967295,er=en+(eo<<20&4294967295|eo>>>12),eo=ee+(en^es&(er^en))+ei[5]+3593408605&4294967295,ee=er+(eo<<5&4294967295|eo>>>27),eo=es+(er^en&(ee^er))+ei[10]+38016083&4294967295,es=ee+(eo<<9&4294967295|eo>>>23),eo=en+(ee^er&(es^ee))+ei[15]+3634488961&4294967295,en=es+(eo<<14&4294967295|eo>>>18),eo=er+(es^ee&(en^es))+ei[4]+3889429448&4294967295,er=en+(eo<<20&4294967295|eo>>>12),eo=ee+(en^es&(er^en))+ei[9]+568446438&4294967295,ee=er+(eo<<5&4294967295|eo>>>27),eo=es+(er^en&(ee^er))+ei[14]+3275163606&4294967295,es=ee+(eo<<9&4294967295|eo>>>23),eo=en+(ee^er&(es^ee))+ei[3]+4107603335&4294967295,en=es+(eo<<14&4294967295|eo>>>18),eo=er+(es^ee&(en^es))+ei[8]+1163531501&4294967295,er=en+(eo<<20&4294967295|eo>>>12),eo=ee+(en^es&(er^en))+ei[13]+2850285829&4294967295,ee=er+(eo<<5&4294967295|eo>>>27),eo=es+(er^en&(ee^er))+ei[2]+4243563512&4294967295,es=ee+(eo<<9&4294967295|eo>>>23),eo=en+(ee^er&(es^ee))+ei[7]+1735328473&4294967295,en=es+(eo<<14&4294967295|eo>>>18),eo=er+(es^ee&(en^es))+ei[12]+2368359562&4294967295,eo=ee+((er=en+(eo<<20&4294967295|eo>>>12))^en^es)+ei[5]+4294588738&4294967295,eo=es+((ee=er+(eo<<4&4294967295|eo>>>28))^er^en)+ei[8]+2272392833&4294967295,eo=en+((es=ee+(eo<<11&4294967295|eo>>>21))^ee^er)+ei[11]+1839030562&4294967295,eo=er+((en=es+(eo<<16&4294967295|eo>>>16))^es^ee)+ei[14]+4259657740&4294967295,eo=ee+((er=en+(eo<<23&4294967295|eo>>>9))^en^es)+ei[1]+2763975236&4294967295,eo=es+((ee=er+(eo<<4&4294967295|eo>>>28))^er^en)+ei[4]+1272893353&4294967295,eo=en+((es=ee+(eo<<11&4294967295|eo>>>21))^ee^er)+ei[7]+4139469664&4294967295,eo=er+((en=es+(eo<<16&4294967295|eo>>>16))^es^ee)+ei[10]+3200236656&4294967295,eo=ee+((er=en+(eo<<23&4294967295|eo>>>9))^en^es)+ei[13]+681279174&4294967295,eo=es+((ee=er+(eo<<4&4294967295|eo>>>28))^er^en)+ei[0]+3936430074&4294967295,eo=en+((es=ee+(eo<<11&4294967295|eo>>>21))^ee^er)+ei[3]+3572445317&4294967295,eo=er+((en=es+(eo<<16&4294967295|eo>>>16))^es^ee)+ei[6]+76029189&4294967295,eo=ee+((er=en+(eo<<23&4294967295|eo>>>9))^en^es)+ei[9]+3654602809&4294967295,eo=es+((ee=er+(eo<<4&4294967295|eo>>>28))^er^en)+ei[12]+3873151461&4294967295,eo=en+((es=ee+(eo<<11&4294967295|eo>>>21))^ee^er)+ei[15]+530742520&4294967295,eo=er+((en=es+(eo<<16&4294967295|eo>>>16))^es^ee)+ei[2]+3299628645&4294967295,er=en+(eo<<23&4294967295|eo>>>9),eo=ee+(en^(er|~es))+ei[0]+4096336452&4294967295,ee=er+(eo<<6&4294967295|eo>>>26),eo=es+(er^(ee|~en))+ei[7]+1126891415&4294967295,es=ee+(eo<<10&4294967295|eo>>>22),eo=en+(ee^(es|~er))+ei[14]+2878612391&4294967295,en=es+(eo<<15&4294967295|eo>>>17),eo=er+(es^(en|~ee))+ei[5]+4237533241&4294967295,er=en+(eo<<21&4294967295|eo>>>11),eo=ee+(en^(er|~es))+ei[12]+1700485571&4294967295,ee=er+(eo<<6&4294967295|eo>>>26),eo=es+(er^(ee|~en))+ei[3]+2399980690&4294967295,es=ee+(eo<<10&4294967295|eo>>>22),eo=en+(ee^(es|~er))+ei[10]+4293915773&4294967295,en=es+(eo<<15&4294967295|eo>>>17),eo=er+(es^(en|~ee))+ei[1]+2240044497&4294967295,er=en+(eo<<21&4294967295|eo>>>11),eo=ee+(en^(er|~es))+ei[8]+1873313359&4294967295,ee=er+(eo<<6&4294967295|eo>>>26),eo=es+(er^(ee|~en))+ei[15]+4264355552&4294967295,es=ee+(eo<<10&4294967295|eo>>>22),eo=en+(ee^(es|~er))+ei[6]+2734768916&4294967295,en=es+(eo<<15&4294967295|eo>>>17),eo=er+(es^(en|~ee))+ei[13]+1309151649&4294967295,er=en+(eo<<21&4294967295|eo>>>11),eo=ee+(en^(er|~es))+ei[4]+4149444226&4294967295,ee=er+(eo<<6&4294967295|eo>>>26),eo=es+(er^(ee|~en))+ei[11]+3174756917&4294967295,es=ee+(eo<<10&4294967295|eo>>>22),eo=en+(ee^(es|~er))+ei[2]+718787259&4294967295,en=es+(eo<<15&4294967295|eo>>>17),eo=er+(es^(en|~ee))+ei[9]+3951481745&4294967295,$.g[0]=$.g[0]+ee&4294967295,$.g[1]=$.g[1]+(en+(eo<<21&4294967295|eo>>>11))&4294967295,$.g[2]=$.g[2]+en&4294967295,$.g[3]=$.g[3]+es&4294967295}function T($,ee){this.h=ee;for(var er=[],ei=!0,en=$.length-1;0<=en;en--){var es=0|$[en];ei&&es==ee||(er[en]=es,ei=!1)}this.g=er}(ep=P.prototype).Oa=function($){this.M=$},ep.ha=function($,ee,er,ei){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+$);ee=ee?ee.toUpperCase():"GET",this.I=$,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():es.g(),this.C=this.u?Vb(this.u):Vb(es),this.g.onreadystatechange=q(this.La,this);try{this.G=!0,this.g.open(ee,String($),!0),this.G=!1}catch($){vd(this,$);return}if($=er||"",er=new Map(this.headers),ei){if(Object.getPrototypeOf(ei)===Object.prototype)for(var en in ei)er.set(en,ei[en]);else if("function"==typeof ei.keys&&"function"==typeof ei.get)for(let $ of ei.keys())er.set($,ei.get($));else throw Error("Unknown input type for opt_headers: "+String(ei))}for(let[es,eo]of(ei=Array.from(er.keys()).find($=>"content-type"==$.toLowerCase()),en=ew.FormData&&$ instanceof ew.FormData,!(0<=eI(tm,ee))||ei||en||er.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),er))this.g.setRequestHeader(es,eo);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wd(this),0<this.B&&((this.L=xd(this.g))?(this.g.timeout=this.B,this.g.ontimeout=q(this.ua,this)):this.A=yb(this.ua,this.B,this)),this.v=!0,this.g.send($),this.v=!1}catch($){vd(this,$)}},ep.ua=function(){void 0!==e_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,C(this,"timeout"),this.abort(8))},ep.abort=function($){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=$||7,C(this,"complete"),C(this,"abort"),zd(this))},ep.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zd(this,!0)),P.$.N.call(this)},ep.La=function(){this.s||(this.G||this.v||this.l?Ad(this):this.kb())},ep.kb=function(){Ad(this)},ep.isActive=function(){return!!this.g},ep.da=function(){try{return 2<H(this)?this.g.status:-1}catch($){return -1}},ep.ja=function(){try{return this.g?this.g.responseText:""}catch($){return""}},ep.Wa=function($){if(this.g){var ee=this.g.responseText;return $&&0==ee.indexOf($)&&(ee=ee.substring($.length)),tp(ee)}},ep.Ia=function(){return this.m},ep.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ep=Ed.prototype).ra=8,ep.H=1,ep.Na=function($){if(this.m){if(this.m=null,1==this.H){if(!$){this.W=Math.floor(1e5*Math.random()),$=this.W++;let en=new bc(this,this.l,$),es=this.s;if(this.U&&(es?Ra(es=Pa(es),this.U):es=this.U),null!==this.o||this.O||(en.I=es,es=null),this.P)t:{for(var ee=0,er=0;er<this.j.length;er++){r:{var ei=this.j[er];if("__data__"in ei.map&&"string"==typeof(ei=ei.map.__data__)){ei=ei.length;break r}ei=void 0}if(void 0===ei)break;if(4096<(ee+=ei)){ee=er;break t}if(4096===ee||er===this.j.length-1){ee=er+1;break t}}ee=1e3}else ee=1e3;ee=Kd(this,en,ee),K(er=G(this.I),"RID",$),K(er,"CVER",22),this.F&&K(er,"X-HTTP-Session-Id",this.F),Gd(this,er),es&&(this.O?ee="headers="+encodeURIComponent(String(Bd(es)))+"&"+ee:this.o&&Cd(er,this.o,es)),Cc(this.i,en),this.bb&&K(er,"TYPE","init"),this.P?(K(er,"$req",ee),K(er,"SID","null"),en.aa=!0,gc(en,er,null)):gc(en,er,ee),this.H=2}}else 3==this.H&&($?Ld(this,$):0==this.j.length||ed(this.i)||Ld(this))}},ep.Ma=function(){if(this.u=null,Md(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var $=2*this.S;this.l.info("BP detection timer enabled: "+$),this.B=Rb(q(this.jb,this),$)}},ep.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,F(10),zc(this),Md(this))},ep.ib=function(){null!=this.v&&(this.v=null,zc(this),Ac(this),F(19))},ep.pb=function($){$?(this.l.info("Successfully pinged google.com"),F(2)):(this.l.info("Failed to ping google.com"),F(1))},ep.isActive=function(){return!!this.h&&this.h.isActive(this)},(ep=Nd.prototype).Ba=function(){},ep.Aa=function(){},ep.za=function(){},ep.ya=function(){},ep.isActive=function(){return!0},ep.Va=function(){},Od.prototype.g=function($,ee){return new Q($,ee)},r(Q,B),Q.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var $=this.g,ee=this.l,er=this.h||void 0;F(0),$.Y=ee,$.na=er||{},$.G=$.aa,$.I=Dc($,null,$.Y),Gc($)},Q.prototype.close=function(){Hc(this.g)},Q.prototype.u=function($){var ee=this.g;if("string"==typeof $){var er={};er.__data__=$,$=er}else this.v&&((er={}).__data__=eG($),$=er);ee.j.push(new tr(ee.fb++,$)),3==ee.H&&Gc(ee)},Q.prototype.N=function(){this.g.h=null,delete this.j,Hc(this.g),delete this.g,Q.$.N.call(this)},r(Pd,Yb),r(Qd,Zb),r(R,Nd),R.prototype.Ba=function(){C(this.g,"a")},R.prototype.Aa=function($){C(this.g,new Pd($))},R.prototype.za=function($){C(this.g,new Qd)},R.prototype.ya=function(){C(this.g,"b")},r(S,function(){this.blockSize=-1}),S.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},S.prototype.j=function($,ee){void 0===ee&&(ee=$.length);for(var er=ee-this.blockSize,ei=this.m,en=this.h,es=0;es<ee;){if(0==en)for(;es<=er;)Sd(this,$,es),es+=this.blockSize;if("string"==typeof $){for(;es<ee;)if(ei[en++]=$.charCodeAt(es++),en==this.blockSize){Sd(this,ei),en=0;break}}else for(;es<ee;)if(ei[en++]=$[es++],en==this.blockSize){Sd(this,ei),en=0;break}}this.h=en,this.i+=ee},S.prototype.l=function(){var $=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);$[0]=128;for(var ee=1;ee<$.length-8;++ee)$[ee]=0;var er=8*this.i;for(ee=$.length-8;ee<$.length;++ee)$[ee]=255&er,er/=256;for(this.j($),$=Array(16),ee=er=0;4>ee;++ee)for(var ei=0;32>ei;ei+=8)$[er++]=this.g[ee]>>>ei&255;return $};var tf={};function Td($){return -128<=$&&128>$?ra($,function($){return new T([0|$],0>$?-1:0)}):new T([0|$],0>$?-1:0)}function U($){if(isNaN($)||!isFinite($))return ty;if(0>$)return W(U(-$));for(var ee=[],er=1,ei=0;$>=er;ei++)ee[ei]=$/er|0,er*=tg;return new T(ee,0)}function Vd($,ee){if(0==$.length)throw Error("number format error: empty string");if(2>(ee=ee||10)||36<ee)throw Error("radix out of range: "+ee);if("-"==$.charAt(0))return W(Vd($.substring(1),ee));if(0<=$.indexOf("-"))throw Error('number format error: interior "-" character');for(var er=U(Math.pow(ee,8)),ei=ty,en=0;en<$.length;en+=8){var es=Math.min(8,$.length-en),eo=parseInt($.substring(en,en+es),ee);8>es?(es=U(Math.pow(ee,es)),ei=ei.R(es).add(U(eo))):ei=(ei=ei.R(er)).add(U(eo))}return ei}var tg=4294967296,ty=Td(0),tv=Td(1),tS=Td(16777216);function Y($){if(0!=$.h)return!1;for(var ee=0;ee<$.g.length;ee++)if(0!=$.g[ee])return!1;return!0}function X($){return -1==$.h}function W($){for(var ee=$.g.length,er=[],ei=0;ei<ee;ei++)er[ei]=~$.g[ei];return new T(er,~$.h).add(tv)}function Zd($,ee){return $.add(W(ee))}function $d($,ee){for(;(65535&$[ee])!=$[ee];)$[ee+1]+=$[ee]>>>16,$[ee]&=65535,ee++}function ae($,ee){this.g=$,this.h=ee}function Yd($,ee){if(Y(ee))throw Error("division by zero");if(Y($))return new ae(ty,ty);if(X($))return ee=Yd(W($),ee),new ae(W(ee.g),W(ee.h));if(X(ee))return ee=Yd($,W(ee)),new ae(W(ee.g),ee.h);if(30<$.g.length){if(X($)||X(ee))throw Error("slowDivide_ only works with positive integers.");for(var er=tv,ei=ee;0>=ei.X($);)er=be(er),ei=be(ei);var en=Z(er,1),es=Z(ei,1);for(ei=Z(ei,2),er=Z(er,2);!Y(ei);){var eo=es.add(ei);0>=eo.X($)&&(en=en.add(er),es=eo),ei=Z(ei,1),er=Z(er,1)}return ee=Zd($,en.R(ee)),new ae(en,ee)}for(en=ty;0<=$.X(ee);){for(ei=48>=(ei=Math.ceil(Math.log(er=Math.max(1,Math.floor($.ea()/ee.ea())))/Math.LN2))?1:Math.pow(2,ei-48),eo=(es=U(er)).R(ee);X(eo)||0<eo.X($);)er-=ei,eo=(es=U(er)).R(ee);Y(es)&&(es=tv),en=en.add(es),$=Zd($,eo)}return new ae(en,$)}function be($){for(var ee=$.g.length+1,er=[],ei=0;ei<ee;ei++)er[ei]=$.D(ei)<<1|$.D(ei-1)>>>31;return new T(er,$.h)}function Z($,ee){var er=ee>>5;ee%=32;for(var ei=$.g.length-er,en=[],es=0;es<ei;es++)en[es]=0<ee?$.D(es+er)>>>ee|$.D(es+er+1)<<32-ee:$.D(es+er);return new T(en,$.h)}(ep=T.prototype).ea=function(){if(X(this))return-W(this).ea();for(var $=0,ee=1,er=0;er<this.g.length;er++){var ei=this.D(er);$+=(0<=ei?ei:tg+ei)*ee,ee*=tg}return $},ep.toString=function($){if(2>($=$||10)||36<$)throw Error("radix out of range: "+$);if(Y(this))return"0";if(X(this))return"-"+W(this).toString($);for(var ee=U(Math.pow($,6)),er=this,ei="";;){var en=Yd(er,ee).g,es=((0<(er=Zd(er,en.R(ee))).g.length?er.g[0]:er.h)>>>0).toString($);if(Y(er=en))return es+ei;for(;6>es.length;)es="0"+es;ei=es+ei}},ep.D=function($){return 0>$?0:$<this.g.length?this.g[$]:this.h},ep.X=function($){return X($=Zd(this,$))?-1:Y($)?0:1},ep.abs=function(){return X(this)?W(this):this},ep.add=function($){for(var ee=Math.max(this.g.length,$.g.length),er=[],ei=0,en=0;en<=ee;en++){var es=ei+(65535&this.D(en))+(65535&$.D(en)),eo=(es>>>16)+(this.D(en)>>>16)+($.D(en)>>>16);ei=eo>>>16,es&=65535,eo&=65535,er[en]=eo<<16|es}return new T(er,-2147483648&er[er.length-1]?-1:0)},ep.R=function($){if(Y(this)||Y($))return ty;if(X(this))return X($)?W(this).R(W($)):W(W(this).R($));if(X($))return W(this.R(W($)));if(0>this.X(tS)&&0>$.X(tS))return U(this.ea()*$.ea());for(var ee=this.g.length+$.g.length,er=[],ei=0;ei<2*ee;ei++)er[ei]=0;for(ei=0;ei<this.g.length;ei++)for(var en=0;en<$.g.length;en++){var es=this.D(ei)>>>16,eo=65535&this.D(ei),ep=$.D(en)>>>16,eu=65535&$.D(en);er[2*ei+2*en]+=eo*eu,$d(er,2*ei+2*en),er[2*ei+2*en+1]+=es*eu,$d(er,2*ei+2*en+1),er[2*ei+2*en+1]+=eo*ep,$d(er,2*ei+2*en+1),er[2*ei+2*en+2]+=es*ep,$d(er,2*ei+2*en+2)}for(ei=0;ei<ee;ei++)er[ei]=er[2*ei+1]<<16|er[2*ei];for(ei=ee;ei<2*ee;ei++)er[ei]=0;return new T(er,0)},ep.gb=function($){return Yd(this,$).h},ep.and=function($){for(var ee=Math.max(this.g.length,$.g.length),er=[],ei=0;ei<ee;ei++)er[ei]=this.D(ei)&$.D(ei);return new T(er,this.h&$.h)},ep.or=function($){for(var ee=Math.max(this.g.length,$.g.length),er=[],ei=0;ei<ee;ei++)er[ei]=this.D(ei)|$.D(ei);return new T(er,this.h|$.h)},ep.xor=function($){for(var ee=Math.max(this.g.length,$.g.length),er=[],ei=0;ei<ee;ei++)er[ei]=this.D(ei)^$.D(ei);return new T(er,this.h^$.h)},Od.prototype.createWebChannel=Od.prototype.g,Q.prototype.send=Q.prototype.u,Q.prototype.open=Q.prototype.m,Q.prototype.close=Q.prototype.close,e1.NO_ERROR=0,e1.TIMEOUT=8,e1.HTTP_ERROR=6,e0.COMPLETE="complete",Wb.EventType=e2,e2.OPEN="a",e2.CLOSE="b",e2.ERROR="c",e2.MESSAGE="d",B.prototype.listen=B.prototype.O,P.prototype.listenOnce=P.prototype.P,P.prototype.getLastError=P.prototype.Sa,P.prototype.getLastErrorCode=P.prototype.Ia,P.prototype.getStatus=P.prototype.da,P.prototype.getResponseJson=P.prototype.Wa,P.prototype.getResponseText=P.prototype.ja,P.prototype.send=P.prototype.ha,P.prototype.setWithCredentials=P.prototype.Oa,S.prototype.digest=S.prototype.l,S.prototype.reset=S.prototype.reset,S.prototype.update=S.prototype.j,T.prototype.add=T.prototype.add,T.prototype.multiply=T.prototype.R,T.prototype.modulo=T.prototype.gb,T.prototype.compare=T.prototype.X,T.prototype.toNumber=T.prototype.ea,T.prototype.toString=T.prototype.toString,T.prototype.getBits=T.prototype.D,T.fromNumber=U,T.fromString=Vd,eS.createWebChannelTransport=function(){return new Od},eS.getStatEventTarget=function(){return Mb()},eS.ErrorCode=e1,eS.EventType=e0,eS.Event=eX,eS.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},eS.FetchXmlHttpFactory=ld,eS.WebChannel=Wb,eS.XhrIo=P;var t_=eS.Md5=S,tw=eS.Integer=T,tC=er(43481),tT=er(35868);let tE="@firebase/firestore",tI="4.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let User=class User{constructor($){this.uid=$}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual($){return $.uid===this.uid}};User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");let tD="10.5.0",tR=tD;function setSDKVersion($){tR=$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function formatJSON($){return(0,ef.inspect)($,{depth:100})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tP=new em.Yd("@firebase/firestore");function getLogLevel(){return tP.logLevel}function logDebug($,...ee){if(tP.logLevel<=em.in.DEBUG){let er=ee.map(argToString);tP.debug(`Firestore (${tR}): ${$}`,...er)}}function logError($,...ee){if(tP.logLevel<=em.in.ERROR){let er=ee.map(argToString);tP.error(`Firestore (${tR}): ${$}`,...er)}}function logWarn($,...ee){if(tP.logLevel<=em.in.WARN){let er=ee.map(argToString);tP.warn(`Firestore (${tR}): ${$}`,...er)}}function argToString($){if("string"==typeof $)return $;try{return formatJSON($)}catch(ee){return $}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail($="Unexpected state"){let ee=`FIRESTORE (${tR}) INTERNAL ASSERTION FAILED: `+$;throw logError(ee),Error(ee)}function hardAssert($,ee){$||fail()}function debugCast($,ee){return $}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tN={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let FirestoreError=class FirestoreError extends eg.ZR{constructor($,ee){super($,ee),this.code=$,this.message=ee,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Deferred=class Deferred{constructor(){this.promise=new Promise(($,ee)=>{this.resolve=$,this.reject=ee})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OAuthToken=class OAuthToken{constructor($,ee){this.user=ee,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${$}`)}};let EmptyAuthCredentialsProvider=class EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start($,ee){$.enqueueRetryable(()=>ee(User.UNAUTHENTICATED))}shutdown(){}};let EmulatorAuthCredentialsProvider=class EmulatorAuthCredentialsProvider{constructor($){this.token=$,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start($,ee){this.changeListener=ee,$.enqueueRetryable(()=>ee(this.token.user))}shutdown(){this.changeListener=null}};let FirebaseAuthCredentialsProvider=class FirebaseAuthCredentialsProvider{constructor($){this.authProvider=$,this.currentUser=User.UNAUTHENTICATED,this.tokenCounter=0,this.forceRefresh=!1,this.auth=null}start($,ee){let er=this.tokenCounter,guardedChangeListener=$=>this.tokenCounter!==er?(er=this.tokenCounter,ee($)):Promise.resolve(),ei=new Deferred;this.tokenListener=()=>{this.tokenCounter++,this.currentUser=this.getUser(),ei.resolve(),ei=new Deferred,$.enqueueRetryable(()=>guardedChangeListener(this.currentUser))};let awaitNextToken=()=>{let ee=ei;$.enqueueRetryable(async()=>{await ee.promise,await guardedChangeListener(this.currentUser)})},registerAuth=$=>{logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=$,this.auth.addAuthTokenListener(this.tokenListener),awaitNextToken()};this.authProvider.onInit($=>registerAuth($)),setTimeout(()=>{if(!this.auth){let $=this.authProvider.getImmediate({optional:!0});$?registerAuth($):(logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),ei.resolve(),ei=new Deferred)}},0),awaitNextToken()}getToken(){let $=this.tokenCounter,ee=this.forceRefresh;return(this.forceRefresh=!1,this.auth)?this.auth.getToken(ee).then(ee=>this.tokenCounter!==$?(logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):ee?(hardAssert("string"==typeof ee.accessToken),new OAuthToken(ee.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.tokenListener)}getUser(){let $=this.auth&&this.auth.getUid();return hardAssert(null===$||"string"==typeof $),new User($)}};let FirstPartyToken=class FirstPartyToken{constructor($,ee,er){this.sessionIndex=$,this.iamToken=ee,this.authTokenFactory=er,this.type="FirstParty",this.user=User.FIRST_PARTY,this._headers=new Map}getAuthToken(){return this.authTokenFactory?this.authTokenFactory():null}get headers(){this._headers.set("X-Goog-AuthUser",this.sessionIndex);let $=this.getAuthToken();return $&&this._headers.set("Authorization",$),this.iamToken&&this._headers.set("X-Goog-Iam-Authorization-Token",this.iamToken),this._headers}};let FirstPartyAuthCredentialsProvider=class FirstPartyAuthCredentialsProvider{constructor($,ee,er){this.sessionIndex=$,this.iamToken=ee,this.authTokenFactory=er}getToken(){return Promise.resolve(new FirstPartyToken(this.sessionIndex,this.iamToken,this.authTokenFactory))}start($,ee){$.enqueueRetryable(()=>ee(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}};let AppCheckToken=class AppCheckToken{constructor($){this.value=$,this.type="AppCheck",this.headers=new Map,$&&$.length>0&&this.headers.set("x-firebase-appcheck",this.value)}};let FirebaseAppCheckTokenProvider=class FirebaseAppCheckTokenProvider{constructor($){this.appCheckProvider=$,this.forceRefresh=!1,this.appCheck=null,this.latestAppCheckToken=null}start($,ee){let onTokenChanged=$=>{null!=$.error&&logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${$.error.message}`);let er=$.token!==this.latestAppCheckToken;return this.latestAppCheckToken=$.token,logDebug("FirebaseAppCheckTokenProvider",`Received ${er?"new":"existing"} token.`),er?ee($.token):Promise.resolve()};this.tokenListener=ee=>{$.enqueueRetryable(()=>onTokenChanged(ee))};let registerAppCheck=$=>{logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=$,this.appCheck.addTokenListener(this.tokenListener)};this.appCheckProvider.onInit($=>registerAppCheck($)),setTimeout(()=>{if(!this.appCheck){let $=this.appCheckProvider.getImmediate({optional:!0});$?registerAppCheck($):logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let $=this.forceRefresh;return(this.forceRefresh=!1,this.appCheck)?this.appCheck.getToken($).then($=>$?(hardAssert("string"==typeof $.token),this.latestAppCheckToken=$.token,new AppCheckToken($.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.tokenListener)}};function makeAuthCredentialsProvider($){if(!$)return new EmptyAuthCredentialsProvider;switch($.type){case"firstParty":return new FirstPartyAuthCredentialsProvider($.sessionIndex||"0",$.iamToken||null,$.authTokenFactory||null);case"provider":return $.client;default:throw new FirestoreError(tN.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function randomBytes($){return(0,ey.randomBytes)($)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AutoId=class AutoId{static newId(){let $="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",ee=Math.floor(256/$.length)*$.length,er="",ei=20;for(;er.length<ei;){let en=randomBytes(40);for(let es=0;es<en.length;++es)er.length<ei&&en[es]<ee&&(er+=$.charAt(en[es]%$.length))}return er}};function primitiveComparator($,ee){return $<ee?-1:$>ee?1:0}function arrayEquals($,ee,er){return $.length===ee.length&&$.every(($,ei)=>er($,ee[ei]))}function immediateSuccessor($){return $+"\x00"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tA=-62135596800,tk=1e6;let Timestamp=class Timestamp{constructor($,ee){if(this.seconds=$,this.nanoseconds=ee,ee<0||ee>=1e9)throw new FirestoreError(tN.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+ee);if($<tA||$>=253402300800)throw new FirestoreError(tN.INVALID_ARGUMENT,"Timestamp seconds out of range: "+$)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate($){return Timestamp.fromMillis($.getTime())}static fromMillis($){let ee=Math.floor($/1e3),er=Math.floor(($-1e3*ee)*tk);return new Timestamp(ee,er)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tk}_compareTo($){return this.seconds===$.seconds?primitiveComparator(this.nanoseconds,$.nanoseconds):primitiveComparator(this.seconds,$.seconds)}isEqual($){return $.seconds===this.seconds&&$.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let $=this.seconds-tA,ee=String($).padStart(12,"0"),er=String(this.nanoseconds).padStart(9,"0");return ee+"."+er}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SnapshotVersion=class SnapshotVersion{constructor($){this.timestamp=$}static fromTimestamp($){return new SnapshotVersion($)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,1e9-1))}compareTo($){return this.timestamp._compareTo($.timestamp)}isEqual($){return this.timestamp.isEqual($.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tO="__name__";let BasePath=class BasePath{constructor($,ee,er){void 0===ee?ee=0:ee>$.length&&fail(),void 0===er?er=$.length-ee:er>$.length-ee&&fail(),this.segments=$,this.offset=ee,this.len=er}get length(){return this.len}isEqual($){return 0===BasePath.comparator(this,$)}child($){let ee=this.segments.slice(this.offset,this.limit());return $ instanceof BasePath?$.forEach($=>{ee.push($)}):ee.push($),this.construct(ee)}limit(){return this.offset+this.length}popFirst($){return $=void 0===$?1:$,this.construct(this.segments,this.offset+$,this.length-$)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get($){return this.segments[this.offset+$]}isEmpty(){return 0===this.length}isPrefixOf($){if($.length<this.length)return!1;for(let ee=0;ee<this.length;ee++)if(this.get(ee)!==$.get(ee))return!1;return!0}isImmediateParentOf($){if(this.length+1!==$.length)return!1;for(let ee=0;ee<this.length;ee++)if(this.get(ee)!==$.get(ee))return!1;return!0}forEach($){for(let ee=this.offset,er=this.limit();ee<er;ee++)$(this.segments[ee])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator($,ee){let er=Math.min($.length,ee.length);for(let ei=0;ei<er;ei++){let er=$.get(ei),en=ee.get(ei);if(er<en)return -1;if(er>en)return 1}return $.length<ee.length?-1:$.length>ee.length?1:0}};let ResourcePath=class ResourcePath extends BasePath{construct($,ee,er){return new ResourcePath($,ee,er)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...$){let ee=[];for(let er of $){if(er.indexOf("//")>=0)throw new FirestoreError(tN.INVALID_ARGUMENT,`Invalid segment (${er}). Paths must not contain // in them.`);ee.push(...er.split("/").filter($=>$.length>0))}return new ResourcePath(ee)}static emptyPath(){return new ResourcePath([])}};let tM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let FieldPath$1=class FieldPath$1 extends BasePath{construct($,ee,er){return new FieldPath$1($,ee,er)}static isValidIdentifier($){return tM.test($)}canonicalString(){return this.toArray().map($=>($=$.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier($)||($="`"+$+"`"),$)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===tO}static keyField(){return new FieldPath$1([tO])}static fromServerFormat($){let ee=[],er="",ei=0,addCurrentSegment=()=>{if(0===er.length)throw new FirestoreError(tN.INVALID_ARGUMENT,`Invalid field path (${$}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);ee.push(er),er=""},en=!1;for(;ei<$.length;){let ee=$[ei];if("\\"===ee){if(ei+1===$.length)throw new FirestoreError(tN.INVALID_ARGUMENT,"Path has trailing escape character: "+$);let ee=$[ei+1];if(!("\\"===ee||"."===ee||"`"===ee))throw new FirestoreError(tN.INVALID_ARGUMENT,"Path has invalid escape sequence: "+$);er+=ee,ei+=2}else"`"===ee?en=!en:"."!==ee||en?er+=ee:addCurrentSegment(),ei++}if(addCurrentSegment(),en)throw new FirestoreError(tN.INVALID_ARGUMENT,"Unterminated ` in path: "+$);return new FieldPath$1(ee)}static emptyPath(){return new FieldPath$1([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DocumentKey=class DocumentKey{constructor($){this.path=$}static fromPath($){return new DocumentKey(ResourcePath.fromString($))}static fromName($){return new DocumentKey(ResourcePath.fromString($).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId($){return this.path.length>=2&&this.path.get(this.path.length-2)===$}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual($){return null!==$&&0===ResourcePath.comparator(this.path,$.path)}toString(){return this.path.toString()}static comparator($,ee){return ResourcePath.comparator($.path,ee.path)}static isDocumentKey($){return $.length%2==0}static fromSegments($){return new DocumentKey(new ResourcePath($.slice()))}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tF=-1,tL=0;let FieldIndex=class FieldIndex{constructor($,ee,er,ei){this.indexId=$,this.collectionGroup=ee,this.fields=er,this.indexState=ei}};function fieldIndexGetArraySegment($){return $.fields.find($=>2===$.kind)}function fieldIndexGetDirectionalSegments($){return $.fields.filter($=>2!==$.kind)}function fieldIndexGetKeyOrder($){let ee=fieldIndexGetDirectionalSegments($);return 0===ee.length?0:ee[ee.length-1].kind}function fieldIndexSemanticComparator($,ee){let er=primitiveComparator($.collectionGroup,ee.collectionGroup);if(0!==er)return er;for(let ei=0;ei<Math.min($.fields.length,ee.fields.length);++ei)if(0!==(er=indexSegmentComparator($.fields[ei],ee.fields[ei])))return er;return primitiveComparator($.fields.length,ee.fields.length)}function fieldIndexToString($){return`id=${$.indexId}|cg=${$.collectionGroup}|f=${$.fields.map($=>`${$.fieldPath}:${$.kind}`).join(",")}`}FieldIndex.UNKNOWN_ID=-1;let IndexSegment=class IndexSegment{constructor($,ee){this.fieldPath=$,this.kind=ee}};function indexSegmentComparator($,ee){let er=FieldPath$1.comparator($.fieldPath,ee.fieldPath);return 0!==er?er:primitiveComparator($.kind,ee.kind)}let IndexState=class IndexState{constructor($,ee){this.sequenceNumber=$,this.offset=ee}static empty(){return new IndexState(tL,IndexOffset.min())}};function newIndexOffsetSuccessorFromReadTime($,ee){let er=$.toTimestamp().seconds,ei=$.toTimestamp().nanoseconds+1,en=SnapshotVersion.fromTimestamp(1e9===ei?new Timestamp(er+1,0):new Timestamp(er,ei));return new IndexOffset(en,DocumentKey.empty(),ee)}function newIndexOffsetFromDocument($){return new IndexOffset($.readTime,$.key,tF)}let IndexOffset=class IndexOffset{constructor($,ee,er){this.readTime=$,this.documentKey=ee,this.largestBatchId=er}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),tF)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),tF)}};function indexOffsetComparator($,ee){let er=$.readTime.compareTo(ee.readTime);return 0!==er||0!==(er=DocumentKey.comparator($.documentKey,ee.documentKey))?er:primitiveComparator($.largestBatchId,ee.largestBatchId)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";let PersistenceTransaction=class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener($){this.onCommittedListeners.push($)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach($=>$())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ignoreIfPrimaryLeaseLoss($){if($.code===tN.FAILED_PRECONDITION&&$.message===tB)logDebug("LocalStore","Unexpectedly lost primary lease");else throw $}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PersistencePromise=class PersistencePromise{constructor($){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,$($=>{this.isDone=!0,this.result=$,this.nextCallback&&this.nextCallback($)},$=>{this.isDone=!0,this.error=$,this.catchCallback&&this.catchCallback($)})}catch($){return this.next(void 0,$)}next($,ee){return(this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone)?this.error?this.wrapFailure(ee,this.error):this.wrapSuccess($,this.result):new PersistencePromise((er,ei)=>{this.nextCallback=ee=>{this.wrapSuccess($,ee).next(er,ei)},this.catchCallback=$=>{this.wrapFailure(ee,$).next(er,ei)}})}toPromise(){return new Promise(($,ee)=>{this.next($,ee)})}wrapUserFunction($){try{let ee=$();if(ee instanceof PersistencePromise)return ee;return PersistencePromise.resolve(ee)}catch($){return PersistencePromise.reject($)}}wrapSuccess($,ee){return $?this.wrapUserFunction(()=>$(ee)):PersistencePromise.resolve(ee)}wrapFailure($,ee){return $?this.wrapUserFunction(()=>$(ee)):PersistencePromise.reject(ee)}static resolve($){return new PersistencePromise((ee,er)=>{ee($)})}static reject($){return new PersistencePromise((ee,er)=>{er($)})}static waitFor($){return new PersistencePromise((ee,er)=>{let ei=0,en=0,es=!1;$.forEach($=>{++ei,$.next(()=>{++en,es&&en===ei&&ee()},$=>er($))}),es=!0,en===ei&&ee()})}static or($){let ee=PersistencePromise.resolve(!1);for(let er of $)ee=ee.next($=>$?PersistencePromise.resolve($):er());return ee}static forEach($,ee){let er=[];return $.forEach(($,ei)=>{er.push(ee.call(this,$,ei))}),this.waitFor(er)}static mapArray($,ee){return new PersistencePromise((er,ei)=>{let en=$.length,es=Array(en),eo=0;for(let ep=0;ep<en;ep++){let eu=ep;ee($[eu]).next($=>{es[eu]=$,++eo===en&&er(es)},$=>ei($))}})}static doWhile($,ee){return new PersistencePromise((er,ei)=>{let process=()=>{!0===$()?ee().next(()=>{process()},ei):er()};process()})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tV="SimpleDb",tU=3;let SimpleDbTransaction=class SimpleDbTransaction{constructor($,ee){this.action=$,this.transaction=ee,this.aborted=!1,this.completionDeferred=new Deferred,this.transaction.oncomplete=()=>{this.completionDeferred.resolve()},this.transaction.onabort=()=>{ee.error?this.completionDeferred.reject(new IndexedDbTransactionError($,ee.error)):this.completionDeferred.resolve()},this.transaction.onerror=ee=>{let er=checkForAndReportiOSError(ee.target.error);this.completionDeferred.reject(new IndexedDbTransactionError($,er))}}static open($,ee,er,ei){try{return new SimpleDbTransaction(ee,$.transaction(ei,er))}catch($){throw new IndexedDbTransactionError(ee,$)}}get completionPromise(){return this.completionDeferred.promise}abort($){$&&this.completionDeferred.reject($),this.aborted||(logDebug(tV,"Aborting transaction:",$?$.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}maybeCommit(){let $=this.transaction;this.aborted||"function"!=typeof $.commit||$.commit()}store($){let ee=this.transaction.objectStore($);return new SimpleDbStore(ee)}};let SimpleDb=class SimpleDb{constructor($,ee,er){this.name=$,this.version=ee,this.schemaConverter=er;let ei=SimpleDb.getIOSVersion(getUA());12.2===ei&&logError("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete($){return logDebug(tV,"Removing database:",$),wrapRequest(window.indexedDB.deleteDatabase($)).toPromise()}static isAvailable(){if(!isIndexedDBAvailable())return!1;if(SimpleDb.isMockPersistence())return!0;let $=getUA(),ee=SimpleDb.getIOSVersion($),er=0<ee&&ee<10,ei=SimpleDb.getAndroidVersion($),en=0<ei&&ei<4.5;return!($.indexOf("MSIE ")>0||$.indexOf("Trident/")>0||$.indexOf("Edge/")>0)&&!er&&!en}static isMockPersistence(){var $;return"undefined"!=typeof process&&(null===($=process.env)||void 0===$?void 0:$.USE_MOCK_PERSISTENCE)==="YES"}static getStore($,ee){return $.store(ee)}static getIOSVersion($){let ee=$.match(/i(?:phone|pad|pod) os ([\d_]+)/i),er=ee?ee[1].split("_").slice(0,2).join("."):"-1";return Number(er)}static getAndroidVersion($){let ee=$.match(/Android ([\d.]+)/i),er=ee?ee[1].split(".").slice(0,2).join("."):"-1";return Number(er)}async ensureDb($){return this.db||(logDebug(tV,"Opening database:",this.name),this.db=await new Promise((ee,er)=>{let ei=indexedDB.open(this.name,this.version);ei.onsuccess=$=>{let er=$.target.result;ee(er)},ei.onblocked=()=>{er(new IndexedDbTransactionError($,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},ei.onerror=ee=>{let ei=ee.target.error;"VersionError"===ei.name?er(new FirestoreError(tN.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===ei.name?er(new FirestoreError(tN.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+ei)):er(new IndexedDbTransactionError($,ei))},ei.onupgradeneeded=$=>{logDebug(tV,'Database "'+this.name+'" requires upgrade from version:',$.oldVersion);let ee=$.target.result;this.schemaConverter.createOrUpgrade(ee,ei.transaction,$.oldVersion,this.version).next(()=>{logDebug(tV,"Database upgrade to version "+this.version+" complete")})}})),this.versionchangelistener&&(this.db.onversionchange=$=>this.versionchangelistener($)),this.db}setVersionChangeListener($){this.versionchangelistener=$,this.db&&(this.db.onversionchange=ee=>$(ee))}async runTransaction($,ee,er,ei){let en="readonly"===ee,es=0;for(;;){++es;try{this.db=await this.ensureDb($);let ee=SimpleDbTransaction.open(this.db,$,en?"readonly":"readwrite",er),es=ei(ee).next($=>(ee.maybeCommit(),$)).catch($=>(ee.abort($),PersistencePromise.reject($))).toPromise();return es.catch(()=>{}),await ee.completionPromise,es}catch(er){let $=er,ee="FirebaseError"!==$.name&&es<tU;if(logDebug(tV,"Transaction failed with error:",$.message,"Retrying:",ee),this.close(),!ee)return Promise.reject($)}}}close(){this.db&&this.db.close(),this.db=void 0}};let IterationController=class IterationController{constructor($){this.dbCursor=$,this.shouldStop=!1,this.nextKey=null}get isDone(){return this.shouldStop}get skipToKey(){return this.nextKey}set cursor($){this.dbCursor=$}done(){this.shouldStop=!0}skip($){this.nextKey=$}delete(){return wrapRequest(this.dbCursor.delete())}};let IndexedDbTransactionError=class IndexedDbTransactionError extends null{constructor($,ee){super(tN.UNAVAILABLE,`IndexedDB transaction '${$}' failed: ${ee}`),this.name="IndexedDbTransactionError"}};function isIndexedDbTransactionError($){return"IndexedDbTransactionError"===$.name}let SimpleDbStore=class SimpleDbStore{constructor($){this.store=$}put($,ee){let er;return void 0!==ee?(logDebug(tV,"PUT",this.store.name,$,ee),er=this.store.put(ee,$)):(logDebug(tV,"PUT",this.store.name,"<auto-key>",$),er=this.store.put($)),wrapRequest(er)}add($){logDebug(tV,"ADD",this.store.name,$,$);let ee=this.store.add($);return wrapRequest(ee)}get($){let ee=this.store.get($);return wrapRequest(ee).next(ee=>(void 0===ee&&(ee=null),logDebug(tV,"GET",this.store.name,$,ee),ee))}delete($){logDebug(tV,"DELETE",this.store.name,$);let ee=this.store.delete($);return wrapRequest(ee)}count(){logDebug(tV,"COUNT",this.store.name);let $=this.store.count();return wrapRequest($)}loadAll($,ee){let er=this.options($,ee);if(er.index||"function"!=typeof this.store.getAll){let $=this.cursor(er),ee=[];return this.iterateCursor($,($,er)=>{ee.push(er)}).next(()=>ee)}{let $=this.store.getAll(er.range);return new PersistencePromise((ee,er)=>{$.onerror=$=>{er($.target.error)},$.onsuccess=$=>{ee($.target.result)}})}}loadFirst($,ee){let er=this.store.getAll($,null===ee?void 0:ee);return new PersistencePromise(($,ee)=>{er.onerror=$=>{ee($.target.error)},er.onsuccess=ee=>{$(ee.target.result)}})}deleteAll($,ee){logDebug(tV,"DELETE ALL",this.store.name);let er=this.options($,ee);er.keysOnly=!1;let ei=this.cursor(er);return this.iterateCursor(ei,($,ee,er)=>er.delete())}iterate($,ee){let er;ee?er=$:(er={},ee=$);let ei=this.cursor(er);return this.iterateCursor(ei,ee)}iterateSerial($){let ee=this.cursor({});return new PersistencePromise((er,ei)=>{ee.onerror=$=>{let ee=checkForAndReportiOSError($.target.error);ei(ee)},ee.onsuccess=ee=>{let ei=ee.target.result;if(!ei){er();return}$(ei.primaryKey,ei.value).next($=>{$?ei.continue():er()})}})}iterateCursor($,ee){let er=[];return new PersistencePromise((ei,en)=>{$.onerror=$=>{en($.target.error)},$.onsuccess=$=>{let en=$.target.result;if(!en){ei();return}let es=new IterationController(en),eo=ee(en.primaryKey,en.value,es);if(eo instanceof PersistencePromise){let $=eo.catch($=>(es.done(),PersistencePromise.reject($)));er.push($)}es.isDone?ei():null===es.skipToKey?en.continue():en.continue(es.skipToKey)}}).next(()=>PersistencePromise.waitFor(er))}options($,ee){let er;return void 0!==$&&("string"==typeof $?er=$:ee=$),{index:er,range:ee}}cursor($){let ee="next";if($.reverse&&(ee="prev"),!$.index)return this.store.openCursor($.range,ee);{let er=this.store.index($.index);return $.keysOnly?er.openKeyCursor($.range,ee):er.openCursor($.range,ee)}}};function wrapRequest($){return new PersistencePromise((ee,er)=>{$.onsuccess=$=>{let er=$.target.result;ee(er)},$.onerror=$=>{let ee=checkForAndReportiOSError($.target.error);er(ee)}})}let tj=!1;function checkForAndReportiOSError($){let ee=SimpleDb.getIOSVersion(getUA());if(ee>=12.2&&ee<13){let ee="An internal error was encountered in the Indexed Database server";if($.message.indexOf(ee)>=0){let $=new FirestoreError("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${ee}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return tj||(tj=!0,setTimeout(()=>{throw $},0)),$}}return $}let tq="IndexBackiller",tz=null,tW=null,tH=50;let IndexBackfillerScheduler=class IndexBackfillerScheduler{constructor($,ee){this.asyncQueue=$,this.backfiller=ee,this.task=null}start(){this.schedule(tz)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}schedule($){logDebug(tq,`Scheduled in ${$}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",$,async()=>{this.task=null;try{let $=await this.backfiller.backfill();logDebug(tq,`Documents written: ${$}`)}catch($){isIndexedDbTransactionError($)?logDebug(tq,"Ignoring IndexedDB error during index backfill: ",$):await ignoreIfPrimaryLeaseLoss($)}await this.schedule(tW)})}};let IndexBackfiller=class IndexBackfiller{constructor($,ee){this.localStore=$,this.persistence=ee}async backfill($=tH){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",ee=>this.writeIndexEntries(ee,$))}writeIndexEntries($,ee){let er=new Set,ei=ee,en=!0;return PersistencePromise.doWhile(()=>!0===en&&ei>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate($).next(ee=>{if(!(null===ee||er.has(ee)))return logDebug(tq,`Processing collection: ${ee}`),this.writeEntriesForCollectionGroup($,ee,ei).next($=>{ei-=$,er.add(ee)});en=!1})).next(()=>ee-ei)}writeEntriesForCollectionGroup($,ee,er){return this.localStore.indexManager.getMinOffsetFromCollectionGroup($,ee).next(ei=>this.localStore.localDocuments.getNextDocuments($,ee,ei,er).next(er=>{let en=er.changes;return this.localStore.indexManager.updateIndexEntries($,en).next(()=>this.getNewOffset(ei,er)).next(er=>(logDebug(tq,`Updating offset: ${er}`),this.localStore.indexManager.updateCollectionGroup($,ee,er))).next(()=>en.size)}))}getNewOffset($,ee){let er=$;return ee.changes.forEach(($,ee)=>{let ei=newIndexOffsetFromDocument(ee);indexOffsetComparator(ei,er)>0&&(er=ei)}),new IndexOffset(er.readTime,er.documentKey,Math.max(ee.batchId,$.largestBatchId))}};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ListenSequence=class ListenSequence{constructor($,ee){this.previousValue=$,ee&&(ee.sequenceNumberHandler=$=>this.setPreviousValue($),this.writeNewSequenceNumber=$=>ee.writeSequenceNumber($))}setPreviousValue($){return this.previousValue=Math.max($,this.previousValue),this.previousValue}next(){let $=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber($),$}};ListenSequence.INVALID=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tG="\x01",tK="\x01",t$="\x10",tQ="\x11";function encodeResourcePath($){let ee="";for(let er=0;er<$.length;er++)ee.length>0&&(ee=encodeSeparator(ee)),ee=encodeSegment($.get(er),ee);return encodeSeparator(ee)}function encodeSegment($,ee){let er=ee,ei=$.length;for(let ee=0;ee<ei;ee++){let ei=$.charAt(ee);switch(ei){case"\x00":er+=tG+t$;break;case tG:er+=tG+tQ;break;default:er+=ei}}return er}function encodeSeparator($){return $+tG+tK}function decodeResourcePath($){let ee=$.length;if(hardAssert(ee>=2),2===ee)return hardAssert($.charAt(0)===tG&&$.charAt(1)===tK),ResourcePath.emptyPath();let er=ee-2,ei=[],en="";for(let es=0;es<ee;){let ee=$.indexOf(tG,es);(ee<0||ee>er)&&fail();let eo=$.charAt(ee+1);switch(eo){case tK:let ep;let eu=$.substring(es,ee);0===en.length?ep=eu:(en+=eu,ep=en,en=""),ei.push(ep);break;case t$:en+=$.substring(es,ee)+"\x00";break;case tQ:en+=$.substring(es,ee+1);break;default:fail()}es=ee+2}return new ResourcePath(ei)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tY="remoteDocuments",tJ="owner",tX="owner",tZ="mutationQueues",t1="userId",t0="mutations",t2="batchId",t4="userMutationsIndex",t6=null;function newDbDocumentMutationPrefixForUser($){return[$]}function newDbDocumentMutationPrefixForPath($,ee){return[$,encodeResourcePath(ee)]}function newDbDocumentMutationKey($,ee,er){return[$,encodeResourcePath(ee),er]}let t8={},t9="documentMutations",t3="remoteDocumentsV14",t5=null,t7="documentKeyIndex",rt=null,rr="collectionGroupIndex",ri=null,rn="remoteDocumentGlobal",rs="remoteDocumentGlobalKey",ro="targets",rl="targetId",rp="queryTargetsIndex",ru=null,rh="targetDocuments",rm=null,rf="documentTargetsIndex",rg=null,ry="targetGlobalKey",rv="targetGlobal",rx="collectionParents",rS=null,r_="clientMetadata",rw="clientId",rC="bundles",rT="bundleId",rE="namedQueries",rI="name",rD="indexConfiguration",rR="indexId",rP="collectionGroupIndex",rN="collectionGroup",rA="indexState",rk=null,rO="sequenceNumberIndex",rM=null,rF="indexEntries",rL=null,rB="documentKeyIndex",rV=null,rU="documentOverlays",rj=null,rq="collectionPathOverlayIndex",rz=null,rW="collectionGroupOverlayIndex",rH=null,rG=[tZ,t0,t9,tY,ro,tJ,rv,rh],rK=rG,r$=[...rK,r_],rQ=[...r$,rn],rY=[...rQ,rx],rJ=[...rY,rC,rE],rX=[...rJ,rU],rZ=[tZ,t0,t9,t3,ro,tJ,rv,rh,r_,rn,rx,rC,rE,rU],r1=rZ,r0=[...r1,rD,rA,rF];function getObjectStores($){return 15===$?r0:14===$?r1:13===$?rZ:12===$?rX:11===$?rJ:void fail()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IndexedDbTransaction=class IndexedDbTransaction extends null{constructor($,ee){super(),this.simpleDbTransaction=$,this.currentSequenceNumber=ee}};function getStore($,ee){let er=debugCast($);return SimpleDb.getStore(er.simpleDbTransaction,ee)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function objectSize($){let ee=0;for(let er in $)Object.prototype.hasOwnProperty.call($,er)&&ee++;return ee}function forEach($,ee){for(let er in $)Object.prototype.hasOwnProperty.call($,er)&&ee(er,$[er])}function isEmpty($){for(let ee in $)if(Object.prototype.hasOwnProperty.call($,ee))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SortedMap=class SortedMap{constructor($,ee){this.comparator=$,this.root=ee||LLRBNode.EMPTY}insert($,ee){return new SortedMap(this.comparator,this.root.insert($,ee,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove($){return new SortedMap(this.comparator,this.root.remove($,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get($){let ee=this.root;for(;!ee.isEmpty();){let er=this.comparator($,ee.key);if(0===er)return ee.value;er<0?ee=ee.left:er>0&&(ee=ee.right)}return null}indexOf($){let ee=0,er=this.root;for(;!er.isEmpty();){let ei=this.comparator($,er.key);if(0===ei)return ee+er.left.size;ei<0?er=er.left:(ee+=er.left.size+1,er=er.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal($){return this.root.inorderTraversal($)}forEach($){this.inorderTraversal((ee,er)=>($(ee,er),!1))}toString(){let $=[];return this.inorderTraversal((ee,er)=>($.push(`${ee}:${er}`),!1)),`{${$.join(", ")}}`}reverseTraversal($){return this.root.reverseTraversal($)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom($){return new SortedMapIterator(this.root,$,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom($){return new SortedMapIterator(this.root,$,this.comparator,!0)}};let SortedMapIterator=class SortedMapIterator{constructor($,ee,er,ei){this.isReverse=ei,this.nodeStack=[];let en=1;for(;!$.isEmpty();)if(en=ee?er($.key,ee):1,ee&&ei&&(en*=-1),en<0)$=this.isReverse?$.left:$.right;else if(0===en){this.nodeStack.push($);break}else this.nodeStack.push($),$=this.isReverse?$.right:$.left}getNext(){let $=this.nodeStack.pop(),ee={key:$.key,value:$.value};if(this.isReverse)for($=$.left;!$.isEmpty();)this.nodeStack.push($),$=$.right;else for($=$.right;!$.isEmpty();)this.nodeStack.push($),$=$.left;return ee}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let $=this.nodeStack[this.nodeStack.length-1];return{key:$.key,value:$.value}}};let LLRBNode=class LLRBNode{constructor($,ee,er,ei,en){this.key=$,this.value=ee,this.color=null!=er?er:LLRBNode.RED,this.left=null!=ei?ei:LLRBNode.EMPTY,this.right=null!=en?en:LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy($,ee,er,ei,en){return new LLRBNode(null!=$?$:this.key,null!=ee?ee:this.value,null!=er?er:this.color,null!=ei?ei:this.left,null!=en?en:this.right)}isEmpty(){return!1}inorderTraversal($){return this.left.inorderTraversal($)||$(this.key,this.value)||this.right.inorderTraversal($)}reverseTraversal($){return this.right.reverseTraversal($)||$(this.key,this.value)||this.left.reverseTraversal($)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert($,ee,er){let ei=this,en=er($,ei.key);return(ei=en<0?ei.copy(null,null,null,ei.left.insert($,ee,er),null):0===en?ei.copy(null,ee,null,null,null):ei.copy(null,null,null,null,ei.right.insert($,ee,er))).fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let $=this;return $.left.isRed()||$.left.left.isRed()||($=$.moveRedLeft()),($=$.copy(null,null,null,$.left.removeMin(),null)).fixUp()}remove($,ee){let er;let ei=this;if(0>ee($,ei.key))ei.left.isEmpty()||ei.left.isRed()||ei.left.left.isRed()||(ei=ei.moveRedLeft()),ei=ei.copy(null,null,null,ei.left.remove($,ee),null);else{if(ei.left.isRed()&&(ei=ei.rotateRight()),ei.right.isEmpty()||ei.right.isRed()||ei.right.left.isRed()||(ei=ei.moveRedRight()),0===ee($,ei.key)){if(ei.right.isEmpty())return LLRBNode.EMPTY;er=ei.right.min(),ei=ei.copy(er.key,er.value,null,null,ei.right.removeMin())}ei=ei.copy(null,null,null,null,ei.right.remove($,ee))}return ei.fixUp()}isRed(){return this.color}fixUp(){let $=this;return $.right.isRed()&&!$.left.isRed()&&($=$.rotateLeft()),$.left.isRed()&&$.left.left.isRed()&&($=$.rotateRight()),$.left.isRed()&&$.right.isRed()&&($=$.colorFlip()),$}moveRedLeft(){let $=this.colorFlip();return $.right.left.isRed()&&($=($=($=$.copy(null,null,null,null,$.right.rotateRight())).rotateLeft()).colorFlip()),$}moveRedRight(){let $=this.colorFlip();return $.left.left.isRed()&&($=($=$.rotateRight()).colorFlip()),$}rotateLeft(){let $=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,$,null)}rotateRight(){let $=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,$)}colorFlip(){let $=this.left.copy(null,null,!this.left.color,null,null),ee=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,$,ee)}checkMaxDepth(){let $=this.check();return Math.pow(2,$)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();let $=this.left.check();if($===this.right.check())return $+(this.isRed()?0:1);throw fail()}};LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;let LLRBEmptyNode=class LLRBEmptyNode{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy($,ee,er,ei,en){return this}insert($,ee,er){return new LLRBNode($,ee)}remove($,ee){return this}isEmpty(){return!0}inorderTraversal($){return!1}reverseTraversal($){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};LLRBNode.EMPTY=new LLRBEmptyNode;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SortedSet=class SortedSet{constructor($){this.comparator=$,this.data=new SortedMap(this.comparator)}has($){return null!==this.data.get($)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf($){return this.data.indexOf($)}forEach($){this.data.inorderTraversal((ee,er)=>($(ee),!1))}forEachInRange($,ee){let er=this.data.getIteratorFrom($[0]);for(;er.hasNext();){let ei=er.getNext();if(this.comparator(ei.key,$[1])>=0)return;ee(ei.key)}}forEachWhile($,ee){let er;for(er=void 0!==ee?this.data.getIteratorFrom(ee):this.data.getIterator();er.hasNext();){let ee=er.getNext(),ei=$(ee.key);if(!ei)return}}firstAfterOrEqual($){let ee=this.data.getIteratorFrom($);return ee.hasNext()?ee.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom($){return new SortedSetIterator(this.data.getIteratorFrom($))}add($){return this.copy(this.data.remove($).insert($,!0))}delete($){return this.has($)?this.copy(this.data.remove($)):this}isEmpty(){return this.data.isEmpty()}unionWith($){let ee=this;return ee.size<$.size&&(ee=$,$=this),$.forEach($=>{ee=ee.add($)}),ee}isEqual($){if(!($ instanceof SortedSet)||this.size!==$.size)return!1;let ee=this.data.getIterator(),er=$.data.getIterator();for(;ee.hasNext();){let $=ee.getNext().key,ei=er.getNext().key;if(0!==this.comparator($,ei))return!1}return!0}toArray(){let $=[];return this.forEach(ee=>{$.push(ee)}),$}toString(){let $=[];return this.forEach(ee=>$.push(ee)),"SortedSet("+$.toString()+")"}copy($){let ee=new SortedSet(this.comparator);return ee.data=$,ee}};let SortedSetIterator=class SortedSetIterator{constructor($){this.iter=$}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function diffSortedSets($,ee,er,ei,en){let es=$.getIterator(),eo=ee.getIterator(),ep=advanceIterator(es),eu=advanceIterator(eo);for(;ep||eu;){let $=!1,ee=!1;if(ep&&eu){let ei=er(ep,eu);ei<0?ee=!0:ei>0&&($=!0)}else null!=ep?ee=!0:$=!0;$?(ei(eu),eu=advanceIterator(eo)):ee?(en(ep),ep=advanceIterator(es)):(ep=advanceIterator(es),eu=advanceIterator(eo))}}function advanceIterator($){return $.hasNext()?$.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FieldMask=class FieldMask{constructor($){this.fields=$,$.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith($){let ee=new SortedSet(FieldPath$1.comparator);for(let $ of this.fields)ee=ee.add($);for(let er of $)ee=ee.add(er);return new FieldMask(ee.toArray())}covers($){for(let ee of this.fields)if(ee.isPrefixOf($))return!0;return!1}isEqual($){return arrayEquals(this.fields,$.fields,($,ee)=>$.isEqual(ee))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64($){return Buffer.from($,"base64").toString("binary")}function encodeBase64($){return Buffer.from($,"binary").toString("base64")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ByteString=class ByteString{constructor($){this.binaryString=$}static fromBase64String($){let ee=decodeBase64($);return new ByteString(ee)}static fromUint8Array($){let ee=binaryStringFromUint8Array($);return new ByteString(ee)}[Symbol.iterator](){let $=0;return{next:()=>$<this.binaryString.length?{value:this.binaryString.charCodeAt($++),done:!1}:{value:void 0,done:!0}}}toBase64(){return encodeBase64(this.binaryString)}toUint8Array(){return uint8ArrayFromBinaryString(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo($){return primitiveComparator(this.binaryString,$.binaryString)}isEqual($){return this.binaryString===$.binaryString}};function binaryStringFromUint8Array($){let ee="";for(let er=0;er<$.length;++er)ee+=String.fromCharCode($[er]);return ee}function uint8ArrayFromBinaryString($){let ee=new Uint8Array($.length);for(let er=0;er<$.length;er++)ee[er]=$.charCodeAt(er);return ee}ByteString.EMPTY_BYTE_STRING=new ByteString("");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function normalizeTimestamp($){if(hardAssert(!!$),"string"==typeof $){let ee=0,er=r2.exec($);if(hardAssert(!!er),er[1]){let $=er[1];ee=Number($=($+"000000000").substr(0,9))}let ei=new Date($),en=Math.floor(ei.getTime()/1e3);return{seconds:en,nanos:ee}}{let ee=normalizeNumber($.seconds),er=normalizeNumber($.nanos);return{seconds:ee,nanos:er}}}function normalizeNumber($){return"number"==typeof $?$:"string"==typeof $?Number($):0}function normalizeByteString($){return"string"==typeof $?ByteString.fromBase64String($):ByteString.fromUint8Array($)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r4="server_timestamp",r6="__type__",r8="__previous_value__",r9="__local_write_time__";function isServerTimestamp($){var ee,er;let ei=null===(er=((null===(ee=null==$?void 0:$.mapValue)||void 0===ee?void 0:ee.fields)||{})[r6])||void 0===er?void 0:er.stringValue;return ei===r4}function serverTimestamp$1($,ee){let er={fields:{[r6]:{stringValue:r4},[r9]:{timestampValue:{seconds:$.seconds,nanos:$.nanoseconds}}}};return ee&&isServerTimestamp(ee)&&(ee=getPreviousValue(ee)),ee&&(er.fields[r8]=ee),{mapValue:er}}function getPreviousValue($){let ee=$.mapValue.fields[r8];return isServerTimestamp(ee)?getPreviousValue(ee):ee}function getLocalWriteTime($){let ee=normalizeTimestamp($.mapValue.fields[r9].timestampValue);return new Timestamp(ee.seconds,ee.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DatabaseInfo=class DatabaseInfo{constructor($,ee,er,ei,en,es,eo,ep,eu){this.databaseId=$,this.appId=ee,this.persistenceKey=er,this.host=ei,this.ssl=en,this.forceLongPolling=es,this.autoDetectLongPolling=eo,this.longPollingOptions=ep,this.useFetchStreams=eu}};let r3="(default)";let DatabaseId=class DatabaseId{constructor($,ee){this.projectId=$,this.database=ee||r3}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database===r3}isEqual($){return $ instanceof DatabaseId&&$.projectId===this.projectId&&$.database===this.database}};function databaseIdFromApp($,ee){if(!Object.prototype.hasOwnProperty.apply($.options,["projectId"]))throw new FirestoreError(tN.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId($.options.projectId,ee)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r5=-1;function isNullOrUndefined($){return null==$}function isNegativeZero($){return 0===$&&1/$==-1/0}function isSafeInteger($){return"number"==typeof $&&Number.isInteger($)&&!isNegativeZero($)&&$<=Number.MAX_SAFE_INTEGER&&$>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r7="__max__",ie={mapValue:{fields:{__type__:{stringValue:r7}}}},ir={nullValue:"NULL_VALUE"};function typeOrder($){if("nullValue"in $)return 0;if("booleanValue"in $)return 1;if("integerValue"in $||"doubleValue"in $)return 2;if("timestampValue"in $)return 3;if("stringValue"in $)return 5;if("bytesValue"in $)return 6;if("referenceValue"in $)return 7;else if("geoPointValue"in $)return 8;else if("arrayValue"in $)return 9;else if(!("mapValue"in $))return fail();else return isServerTimestamp($)?4:isMaxValue($)?9007199254740991:10}function valueEquals($,ee){if($===ee)return!0;let er=typeOrder($),ei=typeOrder(ee);if(er!==ei)return!1;switch(er){case 0:case 9007199254740991:return!0;case 1:return $.booleanValue===ee.booleanValue;case 4:return getLocalWriteTime($).isEqual(getLocalWriteTime(ee));case 3:return timestampEquals($,ee);case 5:return $.stringValue===ee.stringValue;case 6:return blobEquals($,ee);case 7:return $.referenceValue===ee.referenceValue;case 8:return geoPointEquals($,ee);case 2:return numberEquals($,ee);case 9:return arrayEquals($.arrayValue.values||[],ee.arrayValue.values||[],valueEquals);case 10:return objectEquals($,ee);default:return fail()}}function timestampEquals($,ee){if("string"==typeof $.timestampValue&&"string"==typeof ee.timestampValue&&$.timestampValue.length===ee.timestampValue.length)return $.timestampValue===ee.timestampValue;let er=normalizeTimestamp($.timestampValue),ei=normalizeTimestamp(ee.timestampValue);return er.seconds===ei.seconds&&er.nanos===ei.nanos}function geoPointEquals($,ee){return normalizeNumber($.geoPointValue.latitude)===normalizeNumber(ee.geoPointValue.latitude)&&normalizeNumber($.geoPointValue.longitude)===normalizeNumber(ee.geoPointValue.longitude)}function blobEquals($,ee){return normalizeByteString($.bytesValue).isEqual(normalizeByteString(ee.bytesValue))}function numberEquals($,ee){if("integerValue"in $&&"integerValue"in ee)return normalizeNumber($.integerValue)===normalizeNumber(ee.integerValue);if("doubleValue"in $&&"doubleValue"in ee){let er=normalizeNumber($.doubleValue),ei=normalizeNumber(ee.doubleValue);return er===ei?isNegativeZero(er)===isNegativeZero(ei):isNaN(er)&&isNaN(ei)}return!1}function objectEquals($,ee){let er=$.mapValue.fields||{},ei=ee.mapValue.fields||{};if(objectSize(er)!==objectSize(ei))return!1;for(let $ in er)if(er.hasOwnProperty($)&&(void 0===ei[$]||!valueEquals(er[$],ei[$])))return!1;return!0}function arrayValueContains($,ee){return void 0!==($.values||[]).find($=>valueEquals($,ee))}function valueCompare($,ee){if($===ee)return 0;let er=typeOrder($),ei=typeOrder(ee);if(er!==ei)return primitiveComparator(er,ei);switch(er){case 0:case 9007199254740991:return 0;case 1:return primitiveComparator($.booleanValue,ee.booleanValue);case 2:return compareNumbers($,ee);case 3:return compareTimestamps($.timestampValue,ee.timestampValue);case 4:return compareTimestamps(getLocalWriteTime($),getLocalWriteTime(ee));case 5:return primitiveComparator($.stringValue,ee.stringValue);case 6:return compareBlobs($.bytesValue,ee.bytesValue);case 7:return compareReferences($.referenceValue,ee.referenceValue);case 8:return compareGeoPoints($.geoPointValue,ee.geoPointValue);case 9:return compareArrays($.arrayValue,ee.arrayValue);case 10:return compareMaps($.mapValue,ee.mapValue);default:throw fail()}}function compareNumbers($,ee){let er=normalizeNumber($.integerValue||$.doubleValue),ei=normalizeNumber(ee.integerValue||ee.doubleValue);return er<ei?-1:er>ei?1:er===ei?0:isNaN(er)?isNaN(ei)?0:-1:1}function compareTimestamps($,ee){if("string"==typeof $&&"string"==typeof ee&&$.length===ee.length)return primitiveComparator($,ee);let er=normalizeTimestamp($),ei=normalizeTimestamp(ee),en=primitiveComparator(er.seconds,ei.seconds);return 0!==en?en:primitiveComparator(er.nanos,ei.nanos)}function compareReferences($,ee){let er=$.split("/"),ei=ee.split("/");for(let $=0;$<er.length&&$<ei.length;$++){let ee=primitiveComparator(er[$],ei[$]);if(0!==ee)return ee}return primitiveComparator(er.length,ei.length)}function compareGeoPoints($,ee){let er=primitiveComparator(normalizeNumber($.latitude),normalizeNumber(ee.latitude));return 0!==er?er:primitiveComparator(normalizeNumber($.longitude),normalizeNumber(ee.longitude))}function compareBlobs($,ee){let er=normalizeByteString($),ei=normalizeByteString(ee);return er.compareTo(ei)}function compareArrays($,ee){let er=$.values||[],ei=ee.values||[];for(let $=0;$<er.length&&$<ei.length;++$){let ee=valueCompare(er[$],ei[$]);if(ee)return ee}return primitiveComparator(er.length,ei.length)}function compareMaps($,ee){if($===ie.mapValue&&ee===ie.mapValue)return 0;if($===ie.mapValue)return 1;if(ee===ie.mapValue)return -1;let er=$.fields||{},ei=Object.keys(er),en=ee.fields||{},es=Object.keys(en);ei.sort(),es.sort();for(let $=0;$<ei.length&&$<es.length;++$){let ee=primitiveComparator(ei[$],es[$]);if(0!==ee)return ee;let eo=valueCompare(er[ei[$]],en[es[$]]);if(0!==eo)return eo}return primitiveComparator(ei.length,es.length)}function canonicalId($){return canonifyValue($)}function canonifyValue($){if("nullValue"in $)return"null";if("booleanValue"in $)return""+$.booleanValue;if("integerValue"in $)return""+$.integerValue;if("doubleValue"in $)return""+$.doubleValue;if("timestampValue"in $)return canonifyTimestamp($.timestampValue);if("stringValue"in $)return $.stringValue;if("bytesValue"in $)return canonifyByteString($.bytesValue);else if("referenceValue"in $)return canonifyReference($.referenceValue);else if("geoPointValue"in $)return canonifyGeoPoint($.geoPointValue);else if("arrayValue"in $)return canonifyArray($.arrayValue);else if("mapValue"in $)return canonifyMap($.mapValue);else return fail()}function canonifyByteString($){return normalizeByteString($).toBase64()}function canonifyTimestamp($){let ee=normalizeTimestamp($);return`time(${ee.seconds},${ee.nanos})`}function canonifyGeoPoint($){return`geo(${$.latitude},${$.longitude})`}function canonifyReference($){return DocumentKey.fromName($).toString()}function canonifyMap($){let ee=Object.keys($.fields||{}).sort(),er="{",ei=!0;for(let en of ee)ei?ei=!1:er+=",",er+=`${en}:${canonifyValue($.fields[en])}`;return er+"}"}function canonifyArray($){let ee="[",er=!0;for(let ei of $.values||[])er?er=!1:ee+=",",ee+=canonifyValue(ei);return ee+"]"}function estimateByteSize($){switch(typeOrder($)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let ee=getPreviousValue($);return ee?16+estimateByteSize(ee):16;case 5:return 2*$.stringValue.length;case 6:return normalizeByteString($.bytesValue).approximateByteSize();case 7:return $.referenceValue.length;case 9:return estimateArrayByteSize($.arrayValue);case 10:return estimateMapByteSize($.mapValue);default:throw fail()}}function estimateMapByteSize($){let ee=0;return forEach($.fields,($,er)=>{ee+=$.length+estimateByteSize(er)}),ee}function estimateArrayByteSize($){return($.values||[]).reduce(($,ee)=>$+estimateByteSize(ee),0)}function refValue($,ee){return{referenceValue:`projects/${$.projectId}/databases/${$.database}/documents/${ee.path.canonicalString()}`}}function isInteger($){return!!$&&"integerValue"in $}function isDouble($){return!!$&&"doubleValue"in $}function isNumber($){return isInteger($)||isDouble($)}function isArray($){return!!$&&"arrayValue"in $}function isNullValue($){return!!$&&"nullValue"in $}function isNanValue($){return!!$&&"doubleValue"in $&&isNaN(Number($.doubleValue))}function isMapValue($){return!!$&&"mapValue"in $}function deepClone($){if($.geoPointValue)return{geoPointValue:Object.assign({},$.geoPointValue)};if($.timestampValue&&"object"==typeof $.timestampValue)return{timestampValue:Object.assign({},$.timestampValue)};if($.mapValue){let ee={mapValue:{fields:{}}};return forEach($.mapValue.fields,($,er)=>ee.mapValue.fields[$]=deepClone(er)),ee}{if(!$.arrayValue)return Object.assign({},$);let ee={arrayValue:{values:[]}};for(let er=0;er<($.arrayValue.values||[]).length;++er)ee.arrayValue.values[er]=deepClone($.arrayValue.values[er]);return ee}}function isMaxValue($){return((($.mapValue||{}).fields||{}).__type__||{}).stringValue===r7}function valuesGetLowerBound($){if("nullValue"in $)return ir;if("booleanValue"in $)return{booleanValue:!1};if("integerValue"in $||"doubleValue"in $)return{doubleValue:NaN};if("timestampValue"in $)return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}};if("stringValue"in $)return{stringValue:""};if("bytesValue"in $)return{bytesValue:""};if("referenceValue"in $)return refValue(DatabaseId.empty(),DocumentKey.empty());else if("geoPointValue"in $)return{geoPointValue:{latitude:-90,longitude:-180}};else if("arrayValue"in $)return{arrayValue:{}};else if("mapValue"in $)return{mapValue:{}};else return fail()}function valuesGetUpperBound($){if("nullValue"in $)return{booleanValue:!1};if("booleanValue"in $)return{doubleValue:NaN};if("integerValue"in $||"doubleValue"in $)return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}};if("timestampValue"in $)return{stringValue:""};if("stringValue"in $)return{bytesValue:""};if("bytesValue"in $)return refValue(DatabaseId.empty(),DocumentKey.empty());if("referenceValue"in $)return{geoPointValue:{latitude:-90,longitude:-180}};else if("geoPointValue"in $)return{arrayValue:{}};else if("arrayValue"in $)return{mapValue:{}};else if("mapValue"in $)return ie;else return fail()}function lowerBoundCompare($,ee){let er=valueCompare($.value,ee.value);return 0!==er?er:$.inclusive&&!ee.inclusive?-1:!$.inclusive&&ee.inclusive?1:0}function upperBoundCompare($,ee){let er=valueCompare($.value,ee.value);return 0!==er?er:$.inclusive&&!ee.inclusive?1:!$.inclusive&&ee.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ObjectValue=class ObjectValue{constructor($){this.value=$}static empty(){return new ObjectValue({mapValue:{}})}field($){if($.isEmpty())return this.value;{let ee=this.value;for(let er=0;er<$.length-1;++er)if(!isMapValue(ee=(ee.mapValue.fields||{})[$.get(er)]))return null;return(ee=(ee.mapValue.fields||{})[$.lastSegment()])||null}}set($,ee){let er=this.getFieldsMap($.popLast());er[$.lastSegment()]=deepClone(ee)}setAll($){let ee=FieldPath$1.emptyPath(),er={},ei=[];$.forEach(($,en)=>{if(!ee.isImmediateParentOf(en)){let $=this.getFieldsMap(ee);this.applyChanges($,er,ei),er={},ei=[],ee=en.popLast()}$?er[en.lastSegment()]=deepClone($):ei.push(en.lastSegment())});let en=this.getFieldsMap(ee);this.applyChanges(en,er,ei)}delete($){let ee=this.field($.popLast());isMapValue(ee)&&ee.mapValue.fields&&delete ee.mapValue.fields[$.lastSegment()]}isEqual($){return valueEquals(this.value,$.value)}getFieldsMap($){let ee=this.value;ee.mapValue.fields||(ee.mapValue={fields:{}});for(let er=0;er<$.length;++er){let ei=ee.mapValue.fields[$.get(er)];isMapValue(ei)&&ei.mapValue.fields||(ei={mapValue:{fields:{}}},ee.mapValue.fields[$.get(er)]=ei),ee=ei}return ee.mapValue.fields}applyChanges($,ee,er){for(let ei of(forEach(ee,(ee,er)=>$[ee]=er),er))delete $[ei]}clone(){return new ObjectValue(deepClone(this.value))}};function extractFieldMask($){let ee=[];return forEach($.fields,($,er)=>{let ei=new FieldPath$1([$]);if(isMapValue(er)){let $=extractFieldMask(er.mapValue),en=$.fields;if(0===en.length)ee.push(ei);else for(let $ of en)ee.push(ei.child($))}else ee.push(ei)}),new FieldMask(ee)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MutableDocument=class MutableDocument{constructor($,ee,er,ei,en,es,eo){this.key=$,this.documentType=ee,this.version=er,this.readTime=ei,this.createTime=en,this.data=es,this.documentState=eo}static newInvalidDocument($){return new MutableDocument($,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument($,ee,er,ei){return new MutableDocument($,1,ee,SnapshotVersion.min(),er,ei,0)}static newNoDocument($,ee){return new MutableDocument($,2,ee,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument($,ee){return new MutableDocument($,3,ee,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument($,ee){return this.createTime.isEqual(SnapshotVersion.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=$),this.version=$,this.documentType=1,this.data=ee,this.documentState=0,this}convertToNoDocument($){return this.version=$,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument($){return this.version=$,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime($){return this.readTime=$,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual($){return $ instanceof MutableDocument&&this.key.isEqual($.key)&&this.version.isEqual($.version)&&this.documentType===$.documentType&&this.documentState===$.documentState&&this.data.isEqual($.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};function compareDocumentsByField($,ee,er){let ei=ee.data.field($),en=er.data.field($);return null!==ei&&null!==en?valueCompare(ei,en):fail()}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bound=class Bound{constructor($,ee){this.position=$,this.inclusive=ee}};function boundCompareToDocument($,ee,er){let ei=0;for(let en=0;en<$.position.length;en++){let es=ee[en],eo=$.position[en];if(es.field.isKeyField())ei=DocumentKey.comparator(DocumentKey.fromName(eo.referenceValue),er.key);else{let $=er.data.field(es.field);ei=valueCompare(eo,$)}if("desc"===es.dir&&(ei*=-1),0!==ei)break}return ei}function boundSortsAfterDocument($,ee,er){let ei=boundCompareToDocument($,ee,er);return $.inclusive?ei>=0:ei>0}function boundSortsBeforeDocument($,ee,er){let ei=boundCompareToDocument($,ee,er);return $.inclusive?ei<=0:ei<0}function boundEquals($,ee){if(null===$)return null===ee;if(null===ee||$.inclusive!==ee.inclusive||$.position.length!==ee.position.length)return!1;for(let er=0;er<$.position.length;er++){let ei=$.position[er],en=ee.position[er];if(!valueEquals(ei,en))return!1}return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OrderBy=class OrderBy{constructor($,ee="asc"){this.field=$,this.dir=ee}};function canonifyOrderBy($){return $.field.canonicalString()+$.dir}function stringifyOrderBy($){return`${$.field.canonicalString()} (${$.dir})`}function orderByEquals($,ee){return $.dir===ee.dir&&$.field.isEqual(ee.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Filter=class Filter{};let FieldFilter=class FieldFilter extends Filter{constructor($,ee,er){super(),this.field=$,this.op=ee,this.value=er}static create($,ee,er){return $.isKeyField()?"in"===ee||"not-in"===ee?this.createKeyFieldInFilter($,ee,er):new KeyFieldFilter($,ee,er):"array-contains"===ee?new ArrayContainsFilter($,er):"in"===ee?new InFilter($,er):"not-in"===ee?new NotInFilter($,er):"array-contains-any"===ee?new ArrayContainsAnyFilter($,er):new FieldFilter($,ee,er)}static createKeyFieldInFilter($,ee,er){return"in"===ee?new KeyFieldInFilter($,er):new KeyFieldNotInFilter($,er)}matches($){let ee=$.data.field(this.field);return"!="===this.op?null!==ee&&this.matchesComparison(valueCompare(ee,this.value)):null!==ee&&typeOrder(this.value)===typeOrder(ee)&&this.matchesComparison(valueCompare(ee,this.value))}matchesComparison($){switch(this.op){case"<":return $<0;case"<=":return $<=0;case"==":return 0===$;case"!=":return 0!==$;case">":return $>0;case">=":return $>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}};let CompositeFilter=class CompositeFilter extends Filter{constructor($,ee){super(),this.filters=$,this.op=ee,this.memoizedFlattenedFilters=null}static create($,ee){return new CompositeFilter($,ee)}matches($){return compositeFilterIsConjunction(this)?void 0===this.filters.find(ee=>!ee.matches($)):void 0!==this.filters.find(ee=>ee.matches($))}getFlattenedFilters(){return null!==this.memoizedFlattenedFilters||(this.memoizedFlattenedFilters=this.filters.reduce(($,ee)=>$.concat(ee.getFlattenedFilters()),[])),this.memoizedFlattenedFilters}getFilters(){return Object.assign([],this.filters)}};function compositeFilterIsConjunction($){return"and"===$.op}function compositeFilterIsDisjunction($){return"or"===$.op}function compositeFilterIsFlatConjunction($){return compositeFilterIsFlat($)&&compositeFilterIsConjunction($)}function compositeFilterIsFlat($){for(let ee of $.filters)if(ee instanceof CompositeFilter)return!1;return!0}function canonifyFilter($){if($ instanceof FieldFilter)return $.field.canonicalString()+$.op.toString()+canonicalId($.value);if(compositeFilterIsFlatConjunction($))return $.filters.map($=>canonifyFilter($)).join(",");{let ee=$.filters.map($=>canonifyFilter($)).join(",");return`${$.op}(${ee})`}}function filterEquals($,ee){return $ instanceof FieldFilter?fieldFilterEquals($,ee):$ instanceof CompositeFilter?compositeFilterEquals($,ee):void fail()}function fieldFilterEquals($,ee){return ee instanceof FieldFilter&&$.op===ee.op&&$.field.isEqual(ee.field)&&valueEquals($.value,ee.value)}function compositeFilterEquals($,ee){if(ee instanceof CompositeFilter&&$.op===ee.op&&$.filters.length===ee.filters.length){let er=$.filters.reduce(($,er,ei)=>$&&filterEquals(er,ee.filters[ei]),!0);return er}return!1}function compositeFilterWithAddedFilters($,ee){let er=$.filters.concat(ee);return CompositeFilter.create(er,$.op)}function stringifyFilter($){return $ instanceof FieldFilter?stringifyFieldFilter($):$ instanceof CompositeFilter?stringifyCompositeFilter($):"Filter"}function stringifyCompositeFilter($){return $.op.toString()+" {"+$.getFilters().map(stringifyFilter).join(" ,")+"}"}function stringifyFieldFilter($){return`${$.field.canonicalString()} ${$.op} ${canonicalId($.value)}`}let KeyFieldFilter=class KeyFieldFilter extends FieldFilter{constructor($,ee,er){super($,ee,er),this.key=DocumentKey.fromName(er.referenceValue)}matches($){let ee=DocumentKey.comparator($.key,this.key);return this.matchesComparison(ee)}};let KeyFieldInFilter=class KeyFieldInFilter extends FieldFilter{constructor($,ee){super($,"in",ee),this.keys=extractDocumentKeysFromArrayValue("in",ee)}matches($){return this.keys.some(ee=>ee.isEqual($.key))}};let KeyFieldNotInFilter=class KeyFieldNotInFilter extends FieldFilter{constructor($,ee){super($,"not-in",ee),this.keys=extractDocumentKeysFromArrayValue("not-in",ee)}matches($){return!this.keys.some(ee=>ee.isEqual($.key))}};function extractDocumentKeysFromArrayValue($,ee){var er;return((null===(er=ee.arrayValue)||void 0===er?void 0:er.values)||[]).map($=>DocumentKey.fromName($.referenceValue))}let ArrayContainsFilter=class ArrayContainsFilter extends FieldFilter{constructor($,ee){super($,"array-contains",ee)}matches($){let ee=$.data.field(this.field);return isArray(ee)&&arrayValueContains(ee.arrayValue,this.value)}};let InFilter=class InFilter extends FieldFilter{constructor($,ee){super($,"in",ee)}matches($){let ee=$.data.field(this.field);return null!==ee&&arrayValueContains(this.value.arrayValue,ee)}};let NotInFilter=class NotInFilter extends FieldFilter{constructor($,ee){super($,"not-in",ee)}matches($){if(arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let ee=$.data.field(this.field);return null!==ee&&!arrayValueContains(this.value.arrayValue,ee)}};let ArrayContainsAnyFilter=class ArrayContainsAnyFilter extends FieldFilter{constructor($,ee){super($,"array-contains-any",ee)}matches($){let ee=$.data.field(this.field);return!!isArray(ee)&&!!ee.arrayValue.values&&ee.arrayValue.values.some($=>arrayValueContains(this.value.arrayValue,$))}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TargetImpl=class TargetImpl{constructor($,ee=null,er=[],ei=[],en=null,es=null,eo=null){this.path=$,this.collectionGroup=ee,this.orderBy=er,this.filters=ei,this.limit=en,this.startAt=es,this.endAt=eo,this.memoizedCanonicalId=null}};function newTarget($,ee=null,er=[],ei=[],en=null,es=null,eo=null){return new TargetImpl($,ee,er,ei,en,es,eo)}function canonifyTarget($){let ee=debugCast($);if(null===ee.memoizedCanonicalId){let $=ee.path.canonicalString();null!==ee.collectionGroup&&($+="|cg:"+ee.collectionGroup),$+="|f:"+ee.filters.map($=>canonifyFilter($)).join(",")+"|ob:"+ee.orderBy.map($=>canonifyOrderBy($)).join(","),isNullOrUndefined(ee.limit)||($+="|l:"+ee.limit),ee.startAt&&($+="|lb:"+(ee.startAt.inclusive?"b:":"a:")+ee.startAt.position.map($=>canonicalId($)).join(",")),ee.endAt&&($+="|ub:"+(ee.endAt.inclusive?"a:":"b:")+ee.endAt.position.map($=>canonicalId($)).join(",")),ee.memoizedCanonicalId=$}return ee.memoizedCanonicalId}function stringifyTarget($){let ee=$.path.canonicalString();return null!==$.collectionGroup&&(ee+=" collectionGroup="+$.collectionGroup),$.filters.length>0&&(ee+=`, filters: [${$.filters.map($=>stringifyFilter($)).join(", ")}]`),isNullOrUndefined($.limit)||(ee+=", limit: "+$.limit),$.orderBy.length>0&&(ee+=`, orderBy: [${$.orderBy.map($=>stringifyOrderBy($)).join(", ")}]`),$.startAt&&(ee+=", startAt: "+($.startAt.inclusive?"b:":"a:")+$.startAt.position.map($=>canonicalId($)).join(",")),$.endAt&&(ee+=", endAt: "+($.endAt.inclusive?"a:":"b:")+$.endAt.position.map($=>canonicalId($)).join(",")),`Target(${ee})`}function targetEquals($,ee){if($.limit!==ee.limit||$.orderBy.length!==ee.orderBy.length)return!1;for(let er=0;er<$.orderBy.length;er++)if(!orderByEquals($.orderBy[er],ee.orderBy[er]))return!1;if($.filters.length!==ee.filters.length)return!1;for(let er=0;er<$.filters.length;er++)if(!filterEquals($.filters[er],ee.filters[er]))return!1;return!!($.collectionGroup===ee.collectionGroup&&$.path.isEqual(ee.path)&&boundEquals($.startAt,ee.startAt))&&boundEquals($.endAt,ee.endAt)}function targetIsDocumentTarget($){return DocumentKey.isDocumentKey($.path)&&null===$.collectionGroup&&0===$.filters.length}function targetGetFieldFiltersForPath($,ee){return $.filters.filter($=>$ instanceof FieldFilter&&$.field.isEqual(ee))}function targetGetArrayValues($,ee){let er=fieldIndexGetArraySegment(ee);if(void 0===er)return null;for(let ee of targetGetFieldFiltersForPath($,er.fieldPath))switch(ee.op){case"array-contains-any":return ee.value.arrayValue.values||[];case"array-contains":return[ee.value]}return null}function targetGetNotInValues($,ee){let er=new Map;for(let ei of fieldIndexGetDirectionalSegments(ee))for(let ee of targetGetFieldFiltersForPath($,ei.fieldPath))switch(ee.op){case"==":case"in":er.set(ei.fieldPath.canonicalString(),ee.value);break;case"not-in":case"!=":return er.set(ei.fieldPath.canonicalString(),ee.value),Array.from(er.values())}return null}function targetGetLowerBound($,ee){let er=[],ei=!0;for(let en of fieldIndexGetDirectionalSegments(ee)){let ee=0===en.kind?targetGetAscendingBound($,en.fieldPath,$.startAt):targetGetDescendingBound($,en.fieldPath,$.startAt);er.push(ee.value),ei&&(ei=ee.inclusive)}return new Bound(er,ei)}function targetGetUpperBound($,ee){let er=[],ei=!0;for(let en of fieldIndexGetDirectionalSegments(ee)){let ee=0===en.kind?targetGetDescendingBound($,en.fieldPath,$.endAt):targetGetAscendingBound($,en.fieldPath,$.endAt);er.push(ee.value),ei&&(ei=ee.inclusive)}return new Bound(er,ei)}function targetGetAscendingBound($,ee,er){let ei=ir,en=!0;for(let er of targetGetFieldFiltersForPath($,ee)){let $=ir,ee=!0;switch(er.op){case"<":case"<=":$=valuesGetLowerBound(er.value);break;case"==":case"in":case">=":$=er.value;break;case">":$=er.value,ee=!1;break;case"!=":case"not-in":$=ir}0>lowerBoundCompare({value:ei,inclusive:en},{value:$,inclusive:ee})&&(ei=$,en=ee)}if(null!==er)for(let es=0;es<$.orderBy.length;++es){let eo=$.orderBy[es];if(eo.field.isEqual(ee)){let $=er.position[es];0>lowerBoundCompare({value:ei,inclusive:en},{value:$,inclusive:er.inclusive})&&(ei=$,en=er.inclusive);break}}return{value:ei,inclusive:en}}function targetGetDescendingBound($,ee,er){let ei=ie,en=!0;for(let er of targetGetFieldFiltersForPath($,ee)){let $=ie,ee=!0;switch(er.op){case">=":case">":$=valuesGetUpperBound(er.value),ee=!1;break;case"==":case"in":case"<=":$=er.value;break;case"<":$=er.value,ee=!1;break;case"!=":case"not-in":$=ie}upperBoundCompare({value:ei,inclusive:en},{value:$,inclusive:ee})>0&&(ei=$,en=ee)}if(null!==er)for(let es=0;es<$.orderBy.length;++es){let eo=$.orderBy[es];if(eo.field.isEqual(ee)){let $=er.position[es];upperBoundCompare({value:ei,inclusive:en},{value:$,inclusive:er.inclusive})>0&&(ei=$,en=er.inclusive);break}}return{value:ei,inclusive:en}}function targetGetSegmentCount($){let ee=new SortedSet(FieldPath$1.comparator),er=!1;for(let ei of $.filters)for(let $ of ei.getFlattenedFilters())$.field.isKeyField()||("array-contains"===$.op||"array-contains-any"===$.op?er=!0:ee=ee.add($.field));for(let er of $.orderBy)er.field.isKeyField()||(ee=ee.add(er.field));return ee.size+(er?1:0)}function targetHasLimit($){return null!==$.limit}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QueryImpl=class QueryImpl{constructor($,ee=null,er=[],ei=[],en=null,es="F",eo=null,ep=null){this.path=$,this.collectionGroup=ee,this.explicitOrderBy=er,this.filters=ei,this.limit=en,this.limitType=es,this.startAt=eo,this.endAt=ep,this.memoizedNormalizedOrderBy=null,this.memoizedTarget=null,this.memoizedAggregateTarget=null,this.startAt,this.endAt}};function newQuery($,ee,er,ei,en,es,eo,ep){return new QueryImpl($,ee,er,ei,en,es,eo,ep)}function newQueryForPath($){return new QueryImpl($)}function asCollectionQueryAtPath($,ee){return new QueryImpl(ee,null,$.explicitOrderBy.slice(),$.filters.slice(),$.limit,$.limitType,$.startAt,$.endAt)}function queryMatchesAllDocuments($){return 0===$.filters.length&&null===$.limit&&null==$.startAt&&null==$.endAt&&(0===$.explicitOrderBy.length||1===$.explicitOrderBy.length&&$.explicitOrderBy[0].field.isKeyField())}function getInequalityFilterFields($){let ee=new SortedSet(FieldPath$1.comparator);return $.filters.forEach($=>{let er=$.getFlattenedFilters();er.forEach($=>{$.isInequality()&&(ee=ee.add($.field))})}),ee}function isDocumentQuery$1($){return DocumentKey.isDocumentKey($.path)&&null===$.collectionGroup&&0===$.filters.length}function isCollectionGroupQuery($){return null!==$.collectionGroup}function queryNormalizedOrderBy($){let ee=debugCast($);if(null===ee.memoizedNormalizedOrderBy){ee.memoizedNormalizedOrderBy=[];let $=new Set;for(let er of ee.explicitOrderBy)ee.memoizedNormalizedOrderBy.push(er),$.add(er.field.canonicalString());let er=ee.explicitOrderBy.length>0?ee.explicitOrderBy[ee.explicitOrderBy.length-1].dir:"asc",ei=getInequalityFilterFields(ee);ei.forEach(ei=>{$.has(ei.canonicalString())||ei.isKeyField()||ee.memoizedNormalizedOrderBy.push(new OrderBy(ei,er))}),$.has(FieldPath$1.keyField().canonicalString())||ee.memoizedNormalizedOrderBy.push(new OrderBy(FieldPath$1.keyField(),er))}return ee.memoizedNormalizedOrderBy}function queryToTarget($){let ee=debugCast($);return ee.memoizedTarget||(ee.memoizedTarget=_queryToTarget(ee,queryNormalizedOrderBy($))),ee.memoizedTarget}function queryToAggregateTarget($){let ee=debugCast($);return ee.memoizedAggregateTarget||(ee.memoizedAggregateTarget=_queryToTarget(ee,$.explicitOrderBy)),ee.memoizedAggregateTarget}function _queryToTarget($,ee){if("F"===$.limitType)return newTarget($.path,$.collectionGroup,ee,$.filters,$.limit,$.startAt,$.endAt);{ee=ee.map($=>{let ee="desc"===$.dir?"asc":"desc";return new OrderBy($.field,ee)});let er=$.endAt?new Bound($.endAt.position,$.endAt.inclusive):null,ei=$.startAt?new Bound($.startAt.position,$.startAt.inclusive):null;return newTarget($.path,$.collectionGroup,ee,$.filters,$.limit,er,ei)}}function queryWithAddedFilter($,ee){let er=$.filters.concat([ee]);return new QueryImpl($.path,$.collectionGroup,$.explicitOrderBy.slice(),er,$.limit,$.limitType,$.startAt,$.endAt)}function queryWithAddedOrderBy($,ee){let er=$.explicitOrderBy.concat([ee]);return new QueryImpl($.path,$.collectionGroup,er,$.filters.slice(),$.limit,$.limitType,$.startAt,$.endAt)}function queryWithLimit($,ee,er){return new QueryImpl($.path,$.collectionGroup,$.explicitOrderBy.slice(),$.filters.slice(),ee,er,$.startAt,$.endAt)}function queryWithStartAt($,ee){return new QueryImpl($.path,$.collectionGroup,$.explicitOrderBy.slice(),$.filters.slice(),$.limit,$.limitType,ee,$.endAt)}function queryWithEndAt($,ee){return new QueryImpl($.path,$.collectionGroup,$.explicitOrderBy.slice(),$.filters.slice(),$.limit,$.limitType,$.startAt,ee)}function queryEquals($,ee){return targetEquals(queryToTarget($),queryToTarget(ee))&&$.limitType===ee.limitType}function canonifyQuery($){return`${canonifyTarget(queryToTarget($))}|lt:${$.limitType}`}function stringifyQuery($){return`Query(target=${stringifyTarget(queryToTarget($))}; limitType=${$.limitType})`}function queryMatches($,ee){return ee.isFoundDocument()&&queryMatchesPathAndCollectionGroup($,ee)&&queryMatchesOrderBy($,ee)&&queryMatchesFilters($,ee)&&queryMatchesBounds($,ee)}function queryMatchesPathAndCollectionGroup($,ee){let er=ee.key.path;return null!==$.collectionGroup?ee.key.hasCollectionId($.collectionGroup)&&$.path.isPrefixOf(er):DocumentKey.isDocumentKey($.path)?$.path.isEqual(er):$.path.isImmediateParentOf(er)}function queryMatchesOrderBy($,ee){for(let er of queryNormalizedOrderBy($))if(!er.field.isKeyField()&&null===ee.data.field(er.field))return!1;return!0}function queryMatchesFilters($,ee){for(let er of $.filters)if(!er.matches(ee))return!1;return!0}function queryMatchesBounds($,ee){return(!$.startAt||!!boundSortsBeforeDocument($.startAt,queryNormalizedOrderBy($),ee))&&(!$.endAt||!!boundSortsAfterDocument($.endAt,queryNormalizedOrderBy($),ee))}function queryCollectionGroup($){return $.collectionGroup||($.path.length%2==1?$.path.lastSegment():$.path.get($.path.length-2))}function newQueryComparator($){return(ee,er)=>{let ei=!1;for(let en of queryNormalizedOrderBy($)){let $=compareDocs(en,ee,er);if(0!==$)return $;ei=ei||en.field.isKeyField()}return 0}}function compareDocs($,ee,er){let ei=$.field.isKeyField()?DocumentKey.comparator(ee.key,er.key):compareDocumentsByField($.field,ee,er);switch($.dir){case"asc":return ei;case"desc":return -1*ei;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ObjectMap=class ObjectMap{constructor($,ee){this.mapKeyFn=$,this.equalsFn=ee,this.inner={},this.innerSize=0}get($){let ee=this.mapKeyFn($),er=this.inner[ee];if(void 0!==er){for(let[ee,ei]of er)if(this.equalsFn(ee,$))return ei}}has($){return void 0!==this.get($)}set($,ee){let er=this.mapKeyFn($),ei=this.inner[er];if(void 0===ei){this.inner[er]=[[$,ee]],this.innerSize++;return}for(let er=0;er<ei.length;er++)if(this.equalsFn(ei[er][0],$)){ei[er]=[$,ee];return}ei.push([$,ee]),this.innerSize++}delete($){let ee=this.mapKeyFn($),er=this.inner[ee];if(void 0===er)return!1;for(let ei=0;ei<er.length;ei++)if(this.equalsFn(er[ei][0],$))return 1===er.length?delete this.inner[ee]:er.splice(ei,1),this.innerSize--,!0;return!1}forEach($){forEach(this.inner,(ee,er)=>{for(let[ee,ei]of er)$(ee,ei)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ii=new SortedMap(DocumentKey.comparator);function mutableDocumentMap(){return ii}let is=new SortedMap(DocumentKey.comparator);function documentMap(...$){let ee=is;for(let er of $)ee=ee.insert(er.key,er);return ee}function newOverlayedDocumentMap(){return newDocumentKeyMap()}function convertOverlayedDocumentMapToDocumentMap($){let ee=is;return $.forEach(($,er)=>ee=ee.insert($,er.overlayedDocument)),ee}function newOverlayMap(){return newDocumentKeyMap()}function newMutationMap(){return newDocumentKeyMap()}function newDocumentKeyMap(){return new ObjectMap($=>$.toString(),($,ee)=>$.isEqual(ee))}let il=new SortedMap(DocumentKey.comparator);function documentVersionMap(){return il}let ip=new SortedSet(DocumentKey.comparator);function documentKeySet(...$){let ee=ip;for(let er of $)ee=ee.add(er);return ee}let iu=new SortedSet(primitiveComparator);function targetIdSet(){return iu}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function toDouble($,ee){if($.useProto3Json){if(isNaN(ee))return{doubleValue:"NaN"};if(ee===1/0)return{doubleValue:"Infinity"};if(ee===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:isNegativeZero(ee)?"-0":ee}}function toInteger($){return{integerValue:""+$}}function toNumber($,ee){return isSafeInteger(ee)?toInteger(ee):toDouble($,ee)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TransformOperation=class TransformOperation{constructor(){this._=void 0}};function applyTransformOperationToLocalView($,ee,er){return $ instanceof ServerTimestampTransform?serverTimestamp$1(er,ee):$ instanceof ArrayUnionTransformOperation?applyArrayUnionTransformOperation($,ee):$ instanceof ArrayRemoveTransformOperation?applyArrayRemoveTransformOperation($,ee):applyNumericIncrementTransformOperationToLocalView($,ee)}function applyTransformOperationToRemoteDocument($,ee,er){return $ instanceof ArrayUnionTransformOperation?applyArrayUnionTransformOperation($,ee):$ instanceof ArrayRemoveTransformOperation?applyArrayRemoveTransformOperation($,ee):er}function computeTransformOperationBaseValue($,ee){return $ instanceof NumericIncrementTransformOperation?isNumber(ee)?ee:{integerValue:0}:null}function transformOperationEquals($,ee){return $ instanceof ArrayUnionTransformOperation&&ee instanceof ArrayUnionTransformOperation||$ instanceof ArrayRemoveTransformOperation&&ee instanceof ArrayRemoveTransformOperation?arrayEquals($.elements,ee.elements,valueEquals):$ instanceof NumericIncrementTransformOperation&&ee instanceof NumericIncrementTransformOperation?valueEquals($.operand,ee.operand):$ instanceof ServerTimestampTransform&&ee instanceof ServerTimestampTransform}let ServerTimestampTransform=class ServerTimestampTransform extends TransformOperation{};let ArrayUnionTransformOperation=class ArrayUnionTransformOperation extends TransformOperation{constructor($){super(),this.elements=$}};function applyArrayUnionTransformOperation($,ee){let er=coercedFieldValuesArray(ee);for(let ee of $.elements)er.some($=>valueEquals($,ee))||er.push(ee);return{arrayValue:{values:er}}}let ArrayRemoveTransformOperation=class ArrayRemoveTransformOperation extends TransformOperation{constructor($){super(),this.elements=$}};function applyArrayRemoveTransformOperation($,ee){let er=coercedFieldValuesArray(ee);for(let ee of $.elements)er=er.filter($=>!valueEquals($,ee));return{arrayValue:{values:er}}}let NumericIncrementTransformOperation=class NumericIncrementTransformOperation extends TransformOperation{constructor($,ee){super(),this.serializer=$,this.operand=ee}};function applyNumericIncrementTransformOperationToLocalView($,ee){let er=computeTransformOperationBaseValue($,ee),ei=asNumber(er)+asNumber($.operand);return isInteger(er)&&isInteger($.operand)?toInteger(ei):toDouble($.serializer,ei)}function asNumber($){return normalizeNumber($.integerValue||$.doubleValue)}function coercedFieldValuesArray($){return isArray($)&&$.arrayValue.values?$.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FieldTransform=class FieldTransform{constructor($,ee){this.field=$,this.transform=ee}};function fieldTransformEquals($,ee){return $.field.isEqual(ee.field)&&transformOperationEquals($.transform,ee.transform)}function fieldTransformsAreEqual($,ee){return void 0===$&&void 0===ee||!!$&&!!ee&&arrayEquals($,ee,($,ee)=>fieldTransformEquals($,ee))}let MutationResult=class MutationResult{constructor($,ee){this.version=$,this.transformResults=ee}};let Precondition=class Precondition{constructor($,ee){this.updateTime=$,this.exists=ee}static none(){return new Precondition}static exists($){return new Precondition(void 0,$)}static updateTime($){return new Precondition($)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual($){return this.exists===$.exists&&(this.updateTime?!!$.updateTime&&this.updateTime.isEqual($.updateTime):!$.updateTime)}};function preconditionIsValidForDocument($,ee){return void 0!==$.updateTime?ee.isFoundDocument()&&ee.version.isEqual($.updateTime):void 0===$.exists||$.exists===ee.isFoundDocument()}let Mutation=class Mutation{};function calculateOverlayMutation($,ee){if(!$.hasLocalMutations||ee&&0===ee.fields.length)return null;if(null===ee)return $.isNoDocument()?new DeleteMutation($.key,Precondition.none()):new SetMutation($.key,$.data,Precondition.none());{let er=$.data,ei=ObjectValue.empty(),en=new SortedSet(FieldPath$1.comparator);for(let $ of ee.fields)if(!en.has($)){let ee=er.field($);null===ee&&$.length>1&&($=$.popLast(),ee=er.field($)),null===ee?ei.delete($):ei.set($,ee),en=en.add($)}return new PatchMutation($.key,ei,new FieldMask(en.toArray()),Precondition.none())}}function mutationApplyToRemoteDocument($,ee,er){$ instanceof SetMutation?setMutationApplyToRemoteDocument($,ee,er):$ instanceof PatchMutation?patchMutationApplyToRemoteDocument($,ee,er):deleteMutationApplyToRemoteDocument($,ee,er)}function mutationApplyToLocalView($,ee,er,ei){return $ instanceof SetMutation?setMutationApplyToLocalView($,ee,er,ei):$ instanceof PatchMutation?patchMutationApplyToLocalView($,ee,er,ei):deleteMutationApplyToLocalView($,ee,er)}function mutationExtractBaseValue($,ee){let er=null;for(let ei of $.fieldTransforms){let $=ee.data.field(ei.field),en=computeTransformOperationBaseValue(ei.transform,$||null);null!=en&&(null===er&&(er=ObjectValue.empty()),er.set(ei.field,en))}return er||null}function mutationEquals($,ee){return!!($.type===ee.type&&$.key.isEqual(ee.key)&&$.precondition.isEqual(ee.precondition)&&fieldTransformsAreEqual($.fieldTransforms,ee.fieldTransforms))&&(0===$.type?$.value.isEqual(ee.value):1!==$.type||$.data.isEqual(ee.data)&&$.fieldMask.isEqual(ee.fieldMask))}let SetMutation=class SetMutation extends Mutation{constructor($,ee,er,ei=[]){super(),this.key=$,this.value=ee,this.precondition=er,this.fieldTransforms=ei,this.type=0}getFieldMask(){return null}};function setMutationApplyToRemoteDocument($,ee,er){let ei=$.value.clone(),en=serverTransformResults($.fieldTransforms,ee,er.transformResults);ei.setAll(en),ee.convertToFoundDocument(er.version,ei).setHasCommittedMutations()}function setMutationApplyToLocalView($,ee,er,ei){if(!preconditionIsValidForDocument($.precondition,ee))return er;let en=$.value.clone(),es=localTransformResults($.fieldTransforms,ei,ee);return en.setAll(es),ee.convertToFoundDocument(ee.version,en).setHasLocalMutations(),null}let PatchMutation=class PatchMutation extends Mutation{constructor($,ee,er,ei,en=[]){super(),this.key=$,this.data=ee,this.fieldMask=er,this.precondition=ei,this.fieldTransforms=en,this.type=1}getFieldMask(){return this.fieldMask}};function patchMutationApplyToRemoteDocument($,ee,er){if(!preconditionIsValidForDocument($.precondition,ee)){ee.convertToUnknownDocument(er.version);return}let ei=serverTransformResults($.fieldTransforms,ee,er.transformResults),en=ee.data;en.setAll(getPatch($)),en.setAll(ei),ee.convertToFoundDocument(er.version,en).setHasCommittedMutations()}function patchMutationApplyToLocalView($,ee,er,ei){if(!preconditionIsValidForDocument($.precondition,ee))return er;let en=localTransformResults($.fieldTransforms,ei,ee),es=ee.data;return(es.setAll(getPatch($)),es.setAll(en),ee.convertToFoundDocument(ee.version,es).setHasLocalMutations(),null===er)?null:er.unionWith($.fieldMask.fields).unionWith($.fieldTransforms.map($=>$.field))}function getPatch($){let ee=new Map;return $.fieldMask.fields.forEach(er=>{if(!er.isEmpty()){let ei=$.data.field(er);ee.set(er,ei)}}),ee}function serverTransformResults($,ee,er){let ei=new Map;hardAssert($.length===er.length);for(let en=0;en<er.length;en++){let es=$[en],eo=es.transform,ep=ee.data.field(es.field);ei.set(es.field,applyTransformOperationToRemoteDocument(eo,ep,er[en]))}return ei}function localTransformResults($,ee,er){let ei=new Map;for(let en of $){let $=en.transform,es=er.data.field(en.field);ei.set(en.field,applyTransformOperationToLocalView($,es,ee))}return ei}let DeleteMutation=class DeleteMutation extends Mutation{constructor($,ee){super(),this.key=$,this.precondition=ee,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};function deleteMutationApplyToRemoteDocument($,ee,er){ee.convertToNoDocument(er.version).setHasCommittedMutations()}function deleteMutationApplyToLocalView($,ee,er){return preconditionIsValidForDocument($.precondition,ee)?(ee.convertToNoDocument(ee.version).setHasLocalMutations(),null):er}let VerifyMutation=class VerifyMutation extends Mutation{constructor($,ee){super(),this.key=$,this.precondition=ee,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MutationBatch=class MutationBatch{constructor($,ee,er,ei){this.batchId=$,this.localWriteTime=ee,this.baseMutations=er,this.mutations=ei}applyToRemoteDocument($,ee){let er=ee.mutationResults;for(let ee=0;ee<this.mutations.length;ee++){let ei=this.mutations[ee];if(ei.key.isEqual($.key)){let en=er[ee];mutationApplyToRemoteDocument(ei,$,en)}}}applyToLocalView($,ee){for(let er of this.baseMutations)er.key.isEqual($.key)&&(ee=mutationApplyToLocalView(er,$,ee,this.localWriteTime));for(let er of this.mutations)er.key.isEqual($.key)&&(ee=mutationApplyToLocalView(er,$,ee,this.localWriteTime));return ee}applyToLocalDocumentSet($,ee){let er=newMutationMap();return this.mutations.forEach(ei=>{let en=$.get(ei.key),es=en.overlayedDocument,eo=this.applyToLocalView(es,en.mutatedFields);eo=ee.has(ei.key)?null:eo;let ep=calculateOverlayMutation(es,eo);null!==ep&&er.set(ei.key,ep),es.isValidDocument()||es.convertToNoDocument(SnapshotVersion.min())}),er}keys(){return this.mutations.reduce(($,ee)=>$.add(ee.key),documentKeySet())}isEqual($){return this.batchId===$.batchId&&arrayEquals(this.mutations,$.mutations,($,ee)=>mutationEquals($,ee))&&arrayEquals(this.baseMutations,$.baseMutations,($,ee)=>mutationEquals($,ee))}};let MutationBatchResult=class MutationBatchResult{constructor($,ee,er,ei){this.batch=$,this.commitVersion=ee,this.mutationResults=er,this.docVersions=ei}static from($,ee,er){hardAssert($.mutations.length===er.length);let ei=documentVersionMap(),en=$.mutations;for(let $=0;$<en.length;$++)ei=ei.insert(en[$].key,er[$].version);return new MutationBatchResult($,ee,er,ei)}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Overlay=class Overlay{constructor($,ee){this.largestBatchId=$,this.mutation=ee}getKey(){return this.mutation.key}isEqual($){return null!==$&&this.mutation===$.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ExistenceFilter=class ExistenceFilter{constructor($,ee){this.count=$,this.unchangedNames=ee}};function isPermanentError($){switch($){case tN.OK:return fail();case tN.CANCELLED:case tN.UNKNOWN:case tN.DEADLINE_EXCEEDED:case tN.RESOURCE_EXHAUSTED:case tN.INTERNAL:case tN.UNAVAILABLE:case tN.UNAUTHENTICATED:return!1;case tN.INVALID_ARGUMENT:case tN.NOT_FOUND:case tN.ALREADY_EXISTS:case tN.PERMISSION_DENIED:case tN.FAILED_PRECONDITION:case tN.ABORTED:case tN.OUT_OF_RANGE:case tN.UNIMPLEMENTED:case tN.DATA_LOSS:return!0;default:return fail()}}function isPermanentWriteError($){return isPermanentError($)&&$!==tN.ABORTED}function mapCodeFromRpcCode($){if(void 0===$)return logError("GRPC error has no .code"),tN.UNKNOWN;switch($){case eo.OK:return tN.OK;case eo.CANCELLED:return tN.CANCELLED;case eo.UNKNOWN:return tN.UNKNOWN;case eo.DEADLINE_EXCEEDED:return tN.DEADLINE_EXCEEDED;case eo.RESOURCE_EXHAUSTED:return tN.RESOURCE_EXHAUSTED;case eo.INTERNAL:return tN.INTERNAL;case eo.UNAVAILABLE:return tN.UNAVAILABLE;case eo.UNAUTHENTICATED:return tN.UNAUTHENTICATED;case eo.INVALID_ARGUMENT:return tN.INVALID_ARGUMENT;case eo.NOT_FOUND:return tN.NOT_FOUND;case eo.ALREADY_EXISTS:return tN.ALREADY_EXISTS;case eo.PERMISSION_DENIED:return tN.PERMISSION_DENIED;case eo.FAILED_PRECONDITION:return tN.FAILED_PRECONDITION;case eo.ABORTED:return tN.ABORTED;case eo.OUT_OF_RANGE:return tN.OUT_OF_RANGE;case eo.UNIMPLEMENTED:return tN.UNIMPLEMENTED;case eo.DATA_LOSS:return tN.DATA_LOSS;default:return fail()}}!function($){$[$.OK=0]="OK",$[$.CANCELLED=1]="CANCELLED",$[$.UNKNOWN=2]="UNKNOWN",$[$.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$[$.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$[$.NOT_FOUND=5]="NOT_FOUND",$[$.ALREADY_EXISTS=6]="ALREADY_EXISTS",$[$.PERMISSION_DENIED=7]="PERMISSION_DENIED",$[$.UNAUTHENTICATED=16]="UNAUTHENTICATED",$[$.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$[$.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$[$.ABORTED=10]="ABORTED",$[$.OUT_OF_RANGE=11]="OUT_OF_RANGE",$[$.UNIMPLEMENTED=12]="UNIMPLEMENTED",$[$.INTERNAL=13]="INTERNAL",$[$.UNAVAILABLE=14]="UNAVAILABLE",$[$.DATA_LOSS=15]="DATA_LOSS"}(eo||(eo={}));/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Base64DecodeError=class Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newTextEncoder(){return new ef.TextEncoder}function newTextDecoder(){return new TextDecoder("utf-8")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im=new tw([4294967295,4294967295],0);function getMd5HashValue($){let ee=newTextEncoder().encode($),er=new t_;return er.update(ee),new Uint8Array(er.digest())}function get64BitUints($){let ee=new DataView($.buffer),er=ee.getUint32(0,!0),ei=ee.getUint32(4,!0),en=ee.getUint32(8,!0),es=ee.getUint32(12,!0),eo=new tw([er,ei],0),ep=new tw([en,es],0);return[eo,ep]}let BloomFilter=class BloomFilter{constructor($,ee,er){if(this.bitmap=$,this.padding=ee,this.hashCount=er,ee<0||ee>=8)throw new BloomFilterError(`Invalid padding: ${ee}`);if(er<0||$.length>0&&0===this.hashCount)throw new BloomFilterError(`Invalid hash count: ${er}`);if(0===$.length&&0!==ee)throw new BloomFilterError(`Invalid padding when bitmap length is 0: ${ee}`);this.bitCount=8*$.length-ee,this.bitCountInInteger=tw.fromNumber(this.bitCount)}getBitIndex($,ee,er){let ei=$.add(ee.multiply(tw.fromNumber(er)));return 1===ei.compare(im)&&(ei=new tw([ei.getBits(0),ei.getBits(1)],0)),ei.modulo(this.bitCountInInteger).toNumber()}isBitSet($){let ee=this.bitmap[Math.floor($/8)],er=$%8;return(ee&1<<er)!=0}mightContain($){if(0===this.bitCount)return!1;let ee=getMd5HashValue($),[er,ei]=get64BitUints(ee);for(let $=0;$<this.hashCount;$++){let ee=this.getBitIndex(er,ei,$);if(!this.isBitSet(ee))return!1}return!0}static create($,ee,er){let ei=$%8==0?0:8-$%8,en=new Uint8Array(Math.ceil($/8)),es=new BloomFilter(en,ei,ee);return er.forEach($=>es.insert($)),es}insert($){if(0===this.bitCount)return;let ee=getMd5HashValue($),[er,ei]=get64BitUints(ee);for(let $=0;$<this.hashCount;$++){let ee=this.getBitIndex(er,ei,$);this.setBit(ee)}}setBit($){let ee=Math.floor($/8),er=$%8;this.bitmap[ee]|=1<<er}};let BloomFilterError=class BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RemoteEvent=class RemoteEvent{constructor($,ee,er,ei,en){this.snapshotVersion=$,this.targetChanges=ee,this.targetMismatches=er,this.documentUpdates=ei,this.resolvedLimboDocuments=en}static createSynthesizedRemoteEventForCurrentChange($,ee,er){let ei=new Map;return ei.set($,TargetChange.createSynthesizedTargetChangeForCurrentChange($,ee,er)),new RemoteEvent(SnapshotVersion.min(),ei,new SortedMap(primitiveComparator),mutableDocumentMap(),documentKeySet())}};let TargetChange=class TargetChange{constructor($,ee,er,ei,en){this.resumeToken=$,this.current=ee,this.addedDocuments=er,this.modifiedDocuments=ei,this.removedDocuments=en}static createSynthesizedTargetChangeForCurrentChange($,ee,er){return new TargetChange(er,ee,documentKeySet(),documentKeySet(),documentKeySet())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DocumentWatchChange=class DocumentWatchChange{constructor($,ee,er,ei){this.updatedTargetIds=$,this.removedTargetIds=ee,this.key=er,this.newDoc=ei}};let ExistenceFilterChange=class ExistenceFilterChange{constructor($,ee){this.targetId=$,this.existenceFilter=ee}};let WatchTargetChange=class WatchTargetChange{constructor($,ee,er=ByteString.EMPTY_BYTE_STRING,ei=null){this.state=$,this.targetIds=ee,this.resumeToken=er,this.cause=ei}};let TargetState=class TargetState{constructor(){this.pendingResponses=0,this.documentChanges=snapshotChangesMap(),this._resumeToken=ByteString.EMPTY_BYTE_STRING,this._current=!1,this._hasPendingChanges=!0}get current(){return this._current}get resumeToken(){return this._resumeToken}get isPending(){return 0!==this.pendingResponses}get hasPendingChanges(){return this._hasPendingChanges}updateResumeToken($){$.approximateByteSize()>0&&(this._hasPendingChanges=!0,this._resumeToken=$)}toTargetChange(){let $=documentKeySet(),ee=documentKeySet(),er=documentKeySet();return this.documentChanges.forEach((ei,en)=>{switch(en){case 0:$=$.add(ei);break;case 2:ee=ee.add(ei);break;case 1:er=er.add(ei);break;default:fail()}}),new TargetChange(this._resumeToken,this._current,$,ee,er)}clearPendingChanges(){this._hasPendingChanges=!1,this.documentChanges=snapshotChangesMap()}addDocumentChange($,ee){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert($,ee)}removeDocumentChange($){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove($)}recordPendingTargetRequest(){this.pendingResponses+=1}recordTargetResponse(){this.pendingResponses-=1}markCurrent(){this._hasPendingChanges=!0,this._current=!0}};let ig="WatchChangeAggregator";let WatchChangeAggregator=class WatchChangeAggregator{constructor($){this.metadataProvider=$,this.targetStates=new Map,this.pendingDocumentUpdates=mutableDocumentMap(),this.pendingDocumentTargetMapping=documentTargetMap(),this.pendingTargetResets=new SortedMap(primitiveComparator)}handleDocumentChange($){for(let ee of $.updatedTargetIds)$.newDoc&&$.newDoc.isFoundDocument()?this.addDocumentToTarget(ee,$.newDoc):this.removeDocumentFromTarget(ee,$.key,$.newDoc);for(let ee of $.removedTargetIds)this.removeDocumentFromTarget(ee,$.key,$.newDoc)}handleTargetChange($){this.forEachTarget($,ee=>{let er=this.ensureTargetState(ee);switch($.state){case 0:this.isActiveTarget(ee)&&er.updateResumeToken($.resumeToken);break;case 1:er.recordTargetResponse(),er.isPending||er.clearPendingChanges(),er.updateResumeToken($.resumeToken);break;case 2:er.recordTargetResponse(),er.isPending||this.removeTarget(ee);break;case 3:this.isActiveTarget(ee)&&(er.markCurrent(),er.updateResumeToken($.resumeToken));break;case 4:this.isActiveTarget(ee)&&(this.resetTarget(ee),er.updateResumeToken($.resumeToken));break;default:fail()}})}forEachTarget($,ee){$.targetIds.length>0?$.targetIds.forEach(ee):this.targetStates.forEach(($,er)=>{this.isActiveTarget(er)&&ee(er)})}handleExistenceFilter($){let ee=$.targetId,er=$.existenceFilter.count,ei=this.targetDataForActiveTarget(ee);if(ei){let en=ei.target;if(targetIsDocumentTarget(en)){if(0===er){let $=new DocumentKey(en.path);this.removeDocumentFromTarget(ee,$,MutableDocument.newNoDocument($,SnapshotVersion.min()))}else hardAssert(1===er)}else{let ei=this.getCurrentDocumentCountForTarget(ee);if(ei!==er){let er=this.parseBloomFilter($),en=er?this.applyBloomFilter(er,$,ei):1;if(0!==en){this.resetTarget(ee);let $=2===en?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.pendingTargetResets=this.pendingTargetResets.insert(ee,$)}null==ih||ih.notifyOnExistenceFilterMismatch(createExistenceFilterMismatchInfoForTestingHooks(ei,$.existenceFilter,this.metadataProvider.getDatabaseId(),er,en))}}}}parseBloomFilter($){let ee,er;let ei=$.existenceFilter.unchangedNames;if(!ei||!ei.bits)return null;let{bits:{bitmap:en="",padding:es=0},hashCount:eo=0}=ei;try{ee=normalizeByteString(en).toUint8Array()}catch($){if($ instanceof Base64DecodeError)return logWarn("Decoding the base64 bloom filter in existence filter failed ("+$.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw $}try{er=new BloomFilter(ee,es,eo)}catch($){return $ instanceof BloomFilterError?logWarn("BloomFilter error: ",$):logWarn("Applying bloom filter failed: ",$),null}return 0===er.bitCount?null:er}applyBloomFilter($,ee,er){let ei=ee.existenceFilter.count,en=this.filterRemovedDocuments($,ee.targetId);return ei===er-en?0:2}filterRemovedDocuments($,ee){let er=this.metadataProvider.getRemoteKeysForTarget(ee),ei=0;return er.forEach(er=>{let en=this.metadataProvider.getDatabaseId(),es=`projects/${en.projectId}/databases/${en.database}/documents/${er.path.canonicalString()}`;!$.mightContain(es)&&(this.removeDocumentFromTarget(ee,er,null),ei++)}),ei}createRemoteEvent($){let ee=new Map;this.targetStates.forEach((er,ei)=>{let en=this.targetDataForActiveTarget(ei);if(en){if(er.current&&targetIsDocumentTarget(en.target)){let ee=new DocumentKey(en.target.path);null!==this.pendingDocumentUpdates.get(ee)||this.targetContainsDocument(ei,ee)||this.removeDocumentFromTarget(ei,ee,MutableDocument.newNoDocument(ee,$))}er.hasPendingChanges&&(ee.set(ei,er.toTargetChange()),er.clearPendingChanges())}});let er=documentKeySet();this.pendingDocumentTargetMapping.forEach(($,ee)=>{let ei=!0;ee.forEachWhile($=>{let ee=this.targetDataForActiveTarget($);return!ee||"TargetPurposeLimboResolution"===ee.purpose||(ei=!1,!1)}),ei&&(er=er.add($))}),this.pendingDocumentUpdates.forEach((ee,er)=>er.setReadTime($));let ei=new RemoteEvent($,ee,this.pendingTargetResets,this.pendingDocumentUpdates,er);return this.pendingDocumentUpdates=mutableDocumentMap(),this.pendingDocumentTargetMapping=documentTargetMap(),this.pendingTargetResets=new SortedMap(primitiveComparator),ei}addDocumentToTarget($,ee){if(!this.isActiveTarget($))return;let er=this.targetContainsDocument($,ee.key)?2:0,ei=this.ensureTargetState($);ei.addDocumentChange(ee.key,er),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(ee.key,ee),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(ee.key,this.ensureDocumentTargetMapping(ee.key).add($))}removeDocumentFromTarget($,ee,er){if(!this.isActiveTarget($))return;let ei=this.ensureTargetState($);this.targetContainsDocument($,ee)?ei.addDocumentChange(ee,1):ei.removeDocumentChange(ee),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(ee,this.ensureDocumentTargetMapping(ee).delete($)),er&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(ee,er))}removeTarget($){this.targetStates.delete($)}getCurrentDocumentCountForTarget($){let ee=this.ensureTargetState($),er=ee.toTargetChange();return this.metadataProvider.getRemoteKeysForTarget($).size+er.addedDocuments.size-er.removedDocuments.size}recordPendingTargetRequest($){let ee=this.ensureTargetState($);ee.recordPendingTargetRequest()}ensureTargetState($){let ee=this.targetStates.get($);return ee||(ee=new TargetState,this.targetStates.set($,ee)),ee}ensureDocumentTargetMapping($){let ee=this.pendingDocumentTargetMapping.get($);return ee||(ee=new SortedSet(primitiveComparator),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert($,ee)),ee}isActiveTarget($){let ee=null!==this.targetDataForActiveTarget($);return ee||logDebug(ig,"Detected inactive target",$),ee}targetDataForActiveTarget($){let ee=this.targetStates.get($);return ee&&ee.isPending?null:this.metadataProvider.getTargetDataForTarget($)}resetTarget($){this.targetStates.set($,new TargetState);let ee=this.metadataProvider.getRemoteKeysForTarget($);ee.forEach(ee=>{this.removeDocumentFromTarget($,ee,null)})}targetContainsDocument($,ee){let er=this.metadataProvider.getRemoteKeysForTarget($);return er.has(ee)}};function documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}function createExistenceFilterMismatchInfoForTestingHooks($,ee,er,ei,en){var es,eo,ep,eu,eh,em;let ef={localCacheCount:$,existenceFilterCount:ee.count,databaseId:er.database,projectId:er.projectId},eg=ee.unchangedNames;return eg&&(ef.bloomFilter={applied:0===en,hashCount:null!==(es=null==eg?void 0:eg.hashCount)&&void 0!==es?es:0,bitmapLength:null!==(eu=null===(ep=null===(eo=null==eg?void 0:eg.bits)||void 0===eo?void 0:eo.bitmap)||void 0===ep?void 0:ep.length)&&void 0!==eu?eu:0,padding:null!==(em=null===(eh=null==eg?void 0:eg.bits)||void 0===eh?void 0:eh.padding)&&void 0!==em?em:0,mightContain:$=>{var ee;return null!==(ee=null==ei?void 0:ei.mightContain($))&&void 0!==ee&&ee}}),ef}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iy=(()=>{let $={};return $.asc="ASCENDING",$.desc="DESCENDING",$})(),iv=(()=>{let $={};return $["<"]="LESS_THAN",$["<="]="LESS_THAN_OR_EQUAL",$[">"]="GREATER_THAN",$[">="]="GREATER_THAN_OR_EQUAL",$["=="]="EQUAL",$["!="]="NOT_EQUAL",$["array-contains"]="ARRAY_CONTAINS",$.in="IN",$["not-in"]="NOT_IN",$["array-contains-any"]="ARRAY_CONTAINS_ANY",$})(),ix=(()=>{let $={};return $.and="AND",$.or="OR",$})();let JsonProtoSerializer=class JsonProtoSerializer{constructor($,ee){this.databaseId=$,this.useProto3Json=ee}};function fromRpcStatus($){let ee=void 0===$.code?tN.UNKNOWN:mapCodeFromRpcCode($.code);return new FirestoreError(ee,$.message||"")}function toInt32Proto($,ee){return $.useProto3Json||isNullOrUndefined(ee)?ee:{value:ee}}function fromInt32Proto($){let ee;return isNullOrUndefined(ee="object"==typeof $?$.value:$)?null:ee}function toTimestamp($,ee){if(!$.useProto3Json)return{seconds:""+ee.seconds,nanos:ee.nanoseconds};{let $=new Date(1e3*ee.seconds).toISOString(),er=$.replace(/\.\d*/,"").replace("Z",""),ei=("000000000"+ee.nanoseconds).slice(-9);return`${er}.${ei}Z`}}function fromTimestamp($){let ee=normalizeTimestamp($);return new Timestamp(ee.seconds,ee.nanos)}function toBytes($,ee){return $.useProto3Json?ee.toBase64():ee.toUint8Array()}function fromBytes($,ee){return $.useProto3Json?(hardAssert(void 0===ee||"string"==typeof ee),ByteString.fromBase64String(ee||"")):(hardAssert(void 0===ee||ee instanceof Uint8Array),ByteString.fromUint8Array(ee||new Uint8Array))}function toVersion($,ee){return toTimestamp($,ee.toTimestamp())}function fromVersion($){return hardAssert(!!$),SnapshotVersion.fromTimestamp(fromTimestamp($))}function toResourceName($,ee){return fullyQualifiedPrefixPath($).child("documents").child(ee).canonicalString()}function fromResourceName($){let ee=ResourcePath.fromString($);return hardAssert(isValidResourceName(ee)),ee}function toName($,ee){return toResourceName($.databaseId,ee.path)}function fromName($,ee){let er=fromResourceName(ee);if(er.get(1)!==$.databaseId.projectId)throw new FirestoreError(tN.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+er.get(1)+" vs "+$.databaseId.projectId);if(er.get(3)!==$.databaseId.database)throw new FirestoreError(tN.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+er.get(3)+" vs "+$.databaseId.database);return new DocumentKey(extractLocalPathFromResourceName(er))}function toQueryPath($,ee){return toResourceName($.databaseId,ee)}function fromQueryPath($){let ee=fromResourceName($);return 4===ee.length?ResourcePath.emptyPath():extractLocalPathFromResourceName(ee)}function getEncodedDatabaseId($){let ee=new ResourcePath(["projects",$.databaseId.projectId,"databases",$.databaseId.database]);return ee.canonicalString()}function fullyQualifiedPrefixPath($){return new ResourcePath(["projects",$.projectId,"databases",$.database])}function extractLocalPathFromResourceName($){return hardAssert($.length>4&&"documents"===$.get(4)),$.popFirst(5)}function toMutationDocument($,ee,er){return{name:toName($,ee),fields:er.value.mapValue.fields}}function toDocument($,ee){return{name:toName($,ee.key),fields:ee.data.value.mapValue.fields,updateTime:toTimestamp($,ee.version.toTimestamp()),createTime:toTimestamp($,ee.createTime.toTimestamp())}}function fromDocument($,ee,er){let ei=fromName($,ee.name),en=fromVersion(ee.updateTime),es=ee.createTime?fromVersion(ee.createTime):SnapshotVersion.min(),eo=new ObjectValue({mapValue:{fields:ee.fields}}),ep=MutableDocument.newFoundDocument(ei,en,es,eo);return er&&ep.setHasCommittedMutations(),er?ep.setHasCommittedMutations():ep}function fromFound($,ee){hardAssert(!!ee.found),ee.found.name,ee.found.updateTime;let er=fromName($,ee.found.name),ei=fromVersion(ee.found.updateTime),en=ee.found.createTime?fromVersion(ee.found.createTime):SnapshotVersion.min(),es=new ObjectValue({mapValue:{fields:ee.found.fields}});return MutableDocument.newFoundDocument(er,ei,en,es)}function fromMissing($,ee){hardAssert(!!ee.missing),hardAssert(!!ee.readTime);let er=fromName($,ee.missing),ei=fromVersion(ee.readTime);return MutableDocument.newNoDocument(er,ei)}function fromBatchGetDocumentsResponse($,ee){return"found"in ee?fromFound($,ee):"missing"in ee?fromMissing($,ee):fail()}function fromWatchChange($,ee){let er;if("targetChange"in ee){ee.targetChange;let ei=fromWatchTargetChangeState(ee.targetChange.targetChangeType||"NO_CHANGE"),en=ee.targetChange.targetIds||[],es=fromBytes($,ee.targetChange.resumeToken),eo=ee.targetChange.cause,ep=eo&&fromRpcStatus(eo);er=new WatchTargetChange(ei,en,es,ep||null)}else if("documentChange"in ee){ee.documentChange;let ei=ee.documentChange;ei.document,ei.document.name,ei.document.updateTime;let en=fromName($,ei.document.name),es=fromVersion(ei.document.updateTime),eo=ei.document.createTime?fromVersion(ei.document.createTime):SnapshotVersion.min(),ep=new ObjectValue({mapValue:{fields:ei.document.fields}}),eu=MutableDocument.newFoundDocument(en,es,eo,ep),eh=ei.targetIds||[],em=ei.removedTargetIds||[];er=new DocumentWatchChange(eh,em,eu.key,eu)}else if("documentDelete"in ee){ee.documentDelete;let ei=ee.documentDelete;ei.document;let en=fromName($,ei.document),es=ei.readTime?fromVersion(ei.readTime):SnapshotVersion.min(),eo=MutableDocument.newNoDocument(en,es),ep=ei.removedTargetIds||[];er=new DocumentWatchChange([],ep,eo.key,eo)}else if("documentRemove"in ee){ee.documentRemove;let ei=ee.documentRemove;ei.document;let en=fromName($,ei.document),es=ei.removedTargetIds||[];er=new DocumentWatchChange([],es,en,null)}else{if(!("filter"in ee))return fail();ee.filter;let $=ee.filter;$.targetId;let{count:ei=0,unchangedNames:en}=$,es=new ExistenceFilter(ei,en),eo=$.targetId;er=new ExistenceFilterChange(eo,es)}return er}function fromWatchTargetChangeState($){return"NO_CHANGE"===$?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:fail()}function versionFromListenResponse($){if(!("targetChange"in $))return SnapshotVersion.min();let ee=$.targetChange;return ee.targetIds&&ee.targetIds.length||!ee.readTime?SnapshotVersion.min():fromVersion(ee.readTime)}function toMutation($,ee){let er;if(ee instanceof SetMutation)er={update:toMutationDocument($,ee.key,ee.value)};else if(ee instanceof DeleteMutation)er={delete:toName($,ee.key)};else if(ee instanceof PatchMutation)er={update:toMutationDocument($,ee.key,ee.data),updateMask:toDocumentMask(ee.fieldMask)};else{if(!(ee instanceof VerifyMutation))return fail();er={verify:toName($,ee.key)}}return ee.fieldTransforms.length>0&&(er.updateTransforms=ee.fieldTransforms.map(ee=>toFieldTransform($,ee))),ee.precondition.isNone||(er.currentDocument=toPrecondition($,ee.precondition)),er}function fromMutation($,ee){let er=ee.currentDocument?fromPrecondition(ee.currentDocument):Precondition.none(),ei=ee.updateTransforms?ee.updateTransforms.map(ee=>fromFieldTransform($,ee)):[];if(ee.update){ee.update.name;let en=fromName($,ee.update.name),es=new ObjectValue({mapValue:{fields:ee.update.fields}});if(!ee.updateMask)return new SetMutation(en,es,er,ei);{let $=fromDocumentMask(ee.updateMask);return new PatchMutation(en,es,$,er,ei)}}if(ee.delete){let ei=fromName($,ee.delete);return new DeleteMutation(ei,er)}if(!ee.verify)return fail();{let ei=fromName($,ee.verify);return new VerifyMutation(ei,er)}}function toPrecondition($,ee){return void 0!==ee.updateTime?{updateTime:toVersion($,ee.updateTime)}:void 0!==ee.exists?{exists:ee.exists}:fail()}function fromPrecondition($){return void 0!==$.updateTime?Precondition.updateTime(fromVersion($.updateTime)):void 0!==$.exists?Precondition.exists($.exists):Precondition.none()}function fromWriteResult($,ee){let er=$.updateTime?fromVersion($.updateTime):fromVersion(ee);return er.isEqual(SnapshotVersion.min())&&(er=fromVersion(ee)),new MutationResult(er,$.transformResults||[])}function fromWriteResults($,ee){return $&&$.length>0?(hardAssert(void 0!==ee),$.map($=>fromWriteResult($,ee))):[]}function toFieldTransform($,ee){let er=ee.transform;if(er instanceof ServerTimestampTransform)return{fieldPath:ee.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(er instanceof ArrayUnionTransformOperation)return{fieldPath:ee.field.canonicalString(),appendMissingElements:{values:er.elements}};if(er instanceof ArrayRemoveTransformOperation)return{fieldPath:ee.field.canonicalString(),removeAllFromArray:{values:er.elements}};if(er instanceof NumericIncrementTransformOperation)return{fieldPath:ee.field.canonicalString(),increment:er.operand};throw fail()}function fromFieldTransform($,ee){let er=null;if("setToServerValue"in ee)hardAssert("REQUEST_TIME"===ee.setToServerValue),er=new ServerTimestampTransform;else if("appendMissingElements"in ee){let $=ee.appendMissingElements.values||[];er=new ArrayUnionTransformOperation($)}else if("removeAllFromArray"in ee){let $=ee.removeAllFromArray.values||[];er=new ArrayRemoveTransformOperation($)}else"increment"in ee?er=new NumericIncrementTransformOperation($,ee.increment):fail();let ei=FieldPath$1.fromServerFormat(ee.fieldPath);return new FieldTransform(ei,er)}function toDocumentsTarget($,ee){return{documents:[toQueryPath($,ee.path)]}}function fromDocumentsTarget($){let ee=$.documents.length;hardAssert(1===ee);let er=$.documents[0];return queryToTarget(newQueryForPath(fromQueryPath(er)))}function toQueryTarget($,ee){let er={structuredQuery:{}},ei=ee.path;null!==ee.collectionGroup?(er.parent=toQueryPath($,ei),er.structuredQuery.from=[{collectionId:ee.collectionGroup,allDescendants:!0}]):(er.parent=toQueryPath($,ei.popLast()),er.structuredQuery.from=[{collectionId:ei.lastSegment()}]);let en=toFilters(ee.filters);en&&(er.structuredQuery.where=en);let es=toOrder(ee.orderBy);es&&(er.structuredQuery.orderBy=es);let eo=toInt32Proto($,ee.limit);return null!==eo&&(er.structuredQuery.limit=eo),ee.startAt&&(er.structuredQuery.startAt=toStartAtCursor(ee.startAt)),ee.endAt&&(er.structuredQuery.endAt=toEndAtCursor(ee.endAt)),er}function toRunAggregationQueryRequest($,ee,er){let ei=toQueryTarget($,ee),en={},es=[],eo=0;return er.forEach($=>{let ee=`aggregate_${eo++}`;en[ee]=$.alias,"count"===$.aggregateType?es.push({alias:ee,count:{}}):"avg"===$.aggregateType?es.push({alias:ee,avg:{field:toFieldPathReference($.fieldPath)}}):"sum"===$.aggregateType&&es.push({alias:ee,sum:{field:toFieldPathReference($.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:es,structuredQuery:ei.structuredQuery},parent:ei.parent},aliasMap:en}}function convertQueryTargetToQuery($){let ee=fromQueryPath($.parent),er=$.structuredQuery,ei=er.from?er.from.length:0,en=null;if(ei>0){hardAssert(1===ei);let $=er.from[0];$.allDescendants?en=$.collectionId:ee=ee.child($.collectionId)}let es=[];er.where&&(es=fromFilters(er.where));let eo=[];er.orderBy&&(eo=fromOrder(er.orderBy));let ep=null;er.limit&&(ep=fromInt32Proto(er.limit));let eu=null;er.startAt&&(eu=fromStartAtCursor(er.startAt));let eh=null;return er.endAt&&(eh=fromEndAtCursor(er.endAt)),newQuery(ee,en,eo,es,ep,"F",eu,eh)}function fromQueryTarget($){return queryToTarget(convertQueryTargetToQuery($))}function toListenRequestLabels($,ee){let er=toLabel(ee.purpose);return null==er?null:{"goog-listen-tags":er}}function toLabel($){switch($){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}function toTarget($,ee){let er;let ei=ee.target;if((er=targetIsDocumentTarget(ei)?{documents:toDocumentsTarget($,ei)}:{query:toQueryTarget($,ei)}).targetId=ee.targetId,ee.resumeToken.approximateByteSize()>0){er.resumeToken=toBytes($,ee.resumeToken);let ei=toInt32Proto($,ee.expectedCount);null!==ei&&(er.expectedCount=ei)}else if(ee.snapshotVersion.compareTo(SnapshotVersion.min())>0){er.readTime=toTimestamp($,ee.snapshotVersion.toTimestamp());let ei=toInt32Proto($,ee.expectedCount);null!==ei&&(er.expectedCount=ei)}return er}function toFilters($){if(0!==$.length)return toFilter(CompositeFilter.create($,"and"))}function fromFilters($){let ee=fromFilter($);return ee instanceof CompositeFilter&&compositeFilterIsFlatConjunction(ee)?ee.getFilters():[ee]}function fromFilter($){return void 0!==$.unaryFilter?fromUnaryFilter($):void 0!==$.fieldFilter?fromFieldFilter($):void 0!==$.compositeFilter?fromCompositeFilter($):fail()}function toOrder($){if(0!==$.length)return $.map($=>toPropertyOrder($))}function fromOrder($){return $.map($=>fromPropertyOrder($))}function toStartAtCursor($){return{before:$.inclusive,values:$.position}}function toEndAtCursor($){return{before:!$.inclusive,values:$.position}}function fromStartAtCursor($){let ee=!!$.before,er=$.values||[];return new Bound(er,ee)}function fromEndAtCursor($){let ee=!$.before,er=$.values||[];return new Bound(er,ee)}function toDirection($){return iy[$]}function fromDirection($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}function toOperatorName($){return iv[$]}function toCompositeOperatorName($){return ix[$]}function fromOperatorName($){switch($){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}function fromCompositeOperatorName($){switch($){case"AND":return"and";case"OR":return"or";default:return fail()}}function toFieldPathReference($){return{fieldPath:$.canonicalString()}}function fromFieldPathReference($){return FieldPath$1.fromServerFormat($.fieldPath)}function toPropertyOrder($){return{field:toFieldPathReference($.field),direction:toDirection($.dir)}}function fromPropertyOrder($){return new OrderBy(fromFieldPathReference($.field),fromDirection($.direction))}function toFilter($){return $ instanceof FieldFilter?toUnaryOrFieldFilter($):$ instanceof CompositeFilter?toCompositeFilter($):fail()}function toCompositeFilter($){let ee=$.getFilters().map($=>toFilter($));return 1===ee.length?ee[0]:{compositeFilter:{op:toCompositeOperatorName($.op),filters:ee}}}function toUnaryOrFieldFilter($){if("=="===$.op){if(isNanValue($.value))return{unaryFilter:{field:toFieldPathReference($.field),op:"IS_NAN"}};if(isNullValue($.value))return{unaryFilter:{field:toFieldPathReference($.field),op:"IS_NULL"}}}else if("!="===$.op){if(isNanValue($.value))return{unaryFilter:{field:toFieldPathReference($.field),op:"IS_NOT_NAN"}};if(isNullValue($.value))return{unaryFilter:{field:toFieldPathReference($.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:toFieldPathReference($.field),op:toOperatorName($.op),value:$.value}}}function fromUnaryFilter($){switch($.unaryFilter.op){case"IS_NAN":let ee=fromFieldPathReference($.unaryFilter.field);return FieldFilter.create(ee,"==",{doubleValue:NaN});case"IS_NULL":let er=fromFieldPathReference($.unaryFilter.field);return FieldFilter.create(er,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let ei=fromFieldPathReference($.unaryFilter.field);return FieldFilter.create(ei,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let en=fromFieldPathReference($.unaryFilter.field);return FieldFilter.create(en,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}function fromFieldFilter($){return FieldFilter.create(fromFieldPathReference($.fieldFilter.field),fromOperatorName($.fieldFilter.op),$.fieldFilter.value)}function fromCompositeFilter($){return CompositeFilter.create($.compositeFilter.filters.map($=>fromFilter($)),fromCompositeOperatorName($.compositeFilter.op))}function toDocumentMask($){let ee=[];return $.fields.forEach($=>ee.push($.canonicalString())),{fieldPaths:ee}}function fromDocumentMask($){let ee=$.fieldPaths||[];return new FieldMask(ee.map($=>FieldPath$1.fromServerFormat($)))}function isValidResourceName($){return $.length>=4&&"projects"===$.get(0)&&"databases"===$.get(2)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TargetData=class TargetData{constructor($,ee,er,ei,en=SnapshotVersion.min(),es=SnapshotVersion.min(),eo=ByteString.EMPTY_BYTE_STRING,ep=null){this.target=$,this.targetId=ee,this.purpose=er,this.sequenceNumber=ei,this.snapshotVersion=en,this.lastLimboFreeSnapshotVersion=es,this.resumeToken=eo,this.expectedCount=ep}withSequenceNumber($){return new TargetData(this.target,this.targetId,this.purpose,$,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken($,ee){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,ee,this.lastLimboFreeSnapshotVersion,$,null)}withExpectedCount($){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,$)}withLastLimboFreeSnapshotVersion($){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,$,this.resumeToken,this.expectedCount)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LocalSerializer=class LocalSerializer{constructor($){this.remoteSerializer=$}};function fromDbRemoteDocument($,ee){let er;if(ee.document)er=fromDocument($.remoteSerializer,ee.document,!!ee.hasCommittedMutations);else if(ee.noDocument){let $=DocumentKey.fromSegments(ee.noDocument.path),ei=fromDbTimestamp(ee.noDocument.readTime);er=MutableDocument.newNoDocument($,ei),ee.hasCommittedMutations&&er.setHasCommittedMutations()}else{if(!ee.unknownDocument)return fail();let $=DocumentKey.fromSegments(ee.unknownDocument.path),ei=fromDbTimestamp(ee.unknownDocument.version);er=MutableDocument.newUnknownDocument($,ei)}return ee.readTime&&er.setReadTime(fromDbTimestampKey(ee.readTime)),er}function toDbRemoteDocument($,ee){let er=ee.key,ei={prefixPath:er.getCollectionPath().popLast().toArray(),collectionGroup:er.collectionGroup,documentId:er.path.lastSegment(),readTime:toDbTimestampKey(ee.readTime),hasCommittedMutations:ee.hasCommittedMutations};if(ee.isFoundDocument())ei.document=toDocument($.remoteSerializer,ee);else if(ee.isNoDocument())ei.noDocument={path:er.path.toArray(),readTime:toDbTimestamp(ee.version)};else{if(!ee.isUnknownDocument())return fail();ei.unknownDocument={path:er.path.toArray(),version:toDbTimestamp(ee.version)}}return ei}function toDbTimestampKey($){let ee=$.toTimestamp();return[ee.seconds,ee.nanoseconds]}function fromDbTimestampKey($){let ee=new Timestamp($[0],$[1]);return SnapshotVersion.fromTimestamp(ee)}function toDbTimestamp($){let ee=$.toTimestamp();return{seconds:ee.seconds,nanoseconds:ee.nanoseconds}}function fromDbTimestamp($){let ee=new Timestamp($.seconds,$.nanoseconds);return SnapshotVersion.fromTimestamp(ee)}function toDbMutationBatch($,ee,er){let ei=er.baseMutations.map(ee=>toMutation($.remoteSerializer,ee)),en=er.mutations.map(ee=>toMutation($.remoteSerializer,ee));return{userId:ee,batchId:er.batchId,localWriteTimeMs:er.localWriteTime.toMillis(),baseMutations:ei,mutations:en}}function fromDbMutationBatch($,ee){let er=(ee.baseMutations||[]).map(ee=>fromMutation($.remoteSerializer,ee));for(let $=0;$<ee.mutations.length-1;++$){let er=ee.mutations[$],ei=$+1<ee.mutations.length&&void 0!==ee.mutations[$+1].transform;if(ei){let ei=ee.mutations[$+1];er.updateTransforms=ei.transform.fieldTransforms,ee.mutations.splice($+1,1),++$}}let ei=ee.mutations.map(ee=>fromMutation($.remoteSerializer,ee)),en=Timestamp.fromMillis(ee.localWriteTimeMs);return new MutationBatch(ee.batchId,en,er,ei)}function fromDbTarget($){let ee;let er=fromDbTimestamp($.readTime),ei=void 0!==$.lastLimboFreeSnapshotVersion?fromDbTimestamp($.lastLimboFreeSnapshotVersion):SnapshotVersion.min();return ee=isDocumentQuery($.query)?fromDocumentsTarget($.query):fromQueryTarget($.query),new TargetData(ee,$.targetId,"TargetPurposeListen",$.lastListenSequenceNumber,er,ei,ByteString.fromBase64String($.resumeToken))}function toDbTarget($,ee){let er;let ei=toDbTimestamp(ee.snapshotVersion),en=toDbTimestamp(ee.lastLimboFreeSnapshotVersion);er=targetIsDocumentTarget(ee.target)?toDocumentsTarget($.remoteSerializer,ee.target):toQueryTarget($.remoteSerializer,ee.target);let es=ee.resumeToken.toBase64();return{targetId:ee.targetId,canonicalId:canonifyTarget(ee.target),readTime:ei,resumeToken:es,lastListenSequenceNumber:ee.sequenceNumber,lastLimboFreeSnapshotVersion:en,query:er}}function isDocumentQuery($){return void 0!==$.documents}function fromDbBundle($){return{id:$.bundleId,createTime:fromDbTimestamp($.createTime),version:$.version}}function toDbBundle($){return{bundleId:$.id,createTime:toDbTimestamp(fromVersion($.createTime)),version:$.version}}function fromDbNamedQuery($){return{name:$.name,query:fromBundledQuery($.bundledQuery),readTime:fromDbTimestamp($.readTime)}}function toDbNamedQuery($){return{name:$.name,readTime:toDbTimestamp(fromVersion($.readTime)),bundledQuery:$.bundledQuery}}function fromBundledQuery($){let ee=convertQueryTargetToQuery({parent:$.parent,structuredQuery:$.structuredQuery});return"LAST"===$.limitType?queryWithLimit(ee,ee.limit,"L"):ee}function fromProtoNamedQuery($){return{name:$.name,query:fromBundledQuery($.bundledQuery),readTime:fromVersion($.readTime)}}function fromBundleMetadata($){return{id:$.id,version:$.version,createTime:fromVersion($.createTime)}}function fromDbDocumentOverlay($,ee){return new Overlay(ee.largestBatchId,fromMutation($.remoteSerializer,ee.overlayMutation))}function toDbDocumentOverlay($,ee,er){let[ei,en,es]=toDbDocumentOverlayKey(ee,er.mutation.key);return{userId:ee,collectionPath:en,documentId:es,collectionGroup:er.mutation.key.getCollectionGroup(),largestBatchId:er.largestBatchId,overlayMutation:toMutation($.remoteSerializer,er.mutation)}}function toDbDocumentOverlayKey($,ee){let er=ee.path.lastSegment(),ei=encodeResourcePath(ee.path.popLast());return[$,ei,er]}function toDbIndexConfiguration($){return{indexId:$.indexId,collectionGroup:$.collectionGroup,fields:$.fields.map($=>[$.fieldPath.canonicalString(),$.kind])}}function fromDbIndexConfiguration($,ee){let er=ee?new IndexState(ee.sequenceNumber,new IndexOffset(fromDbTimestamp(ee.readTime),new DocumentKey(decodeResourcePath(ee.documentKey)),ee.largestBatchId)):IndexState.empty(),ei=$.fields.map(([$,ee])=>new IndexSegment(FieldPath$1.fromServerFormat($),ee));return new FieldIndex($.indexId,$.collectionGroup,ei,er)}function toDbIndexState($,ee,er,ei){return{indexId:$,uid:ee.uid||"",sequenceNumber:er,readTime:toDbTimestamp(ei.readTime),documentKey:encodeResourcePath(ei.documentKey.path),largestBatchId:ei.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IndexedDbBundleCache=class IndexedDbBundleCache{getBundleMetadata($,ee){return bundlesStore($).get(ee).next($=>{if($)return fromDbBundle($)})}saveBundleMetadata($,ee){return bundlesStore($).put(toDbBundle(ee))}getNamedQuery($,ee){return namedQueriesStore($).get(ee).next($=>{if($)return fromDbNamedQuery($)})}saveNamedQuery($,ee){return namedQueriesStore($).put(toDbNamedQuery(ee))}};function bundlesStore($){return getStore($,rC)}function namedQueriesStore($){return getStore($,rE)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IndexedDbDocumentOverlayCache=class IndexedDbDocumentOverlayCache{constructor($,ee){this.serializer=$,this.userId=ee}static forUser($,ee){let er=ee.uid||"";return new IndexedDbDocumentOverlayCache($,er)}getOverlay($,ee){return documentOverlayStore($).get(toDbDocumentOverlayKey(this.userId,ee)).next($=>$?fromDbDocumentOverlay(this.serializer,$):null)}getOverlays($,ee){let er=newOverlayMap();return PersistencePromise.forEach(ee,ee=>this.getOverlay($,ee).next($=>{null!==$&&er.set(ee,$)})).next(()=>er)}saveOverlays($,ee,er){let ei=[];return er.forEach((er,en)=>{let es=new Overlay(ee,en);ei.push(this.saveOverlay($,es))}),PersistencePromise.waitFor(ei)}removeOverlaysForBatchId($,ee,er){let ei=new Set;ee.forEach($=>ei.add(encodeResourcePath($.getCollectionPath())));let en=[];return ei.forEach(ee=>{let ei=IDBKeyRange.bound([this.userId,ee,er],[this.userId,ee,er+1],!1,!0);en.push(documentOverlayStore($).deleteAll(rq,ei))}),PersistencePromise.waitFor(en)}getOverlaysForCollection($,ee,er){let ei=newOverlayMap(),en=encodeResourcePath(ee),es=IDBKeyRange.bound([this.userId,en,er],[this.userId,en,Number.POSITIVE_INFINITY],!0);return documentOverlayStore($).loadAll(rq,es).next($=>{for(let ee of $){let $=fromDbDocumentOverlay(this.serializer,ee);ei.set($.getKey(),$)}return ei})}getOverlaysForCollectionGroup($,ee,er,ei){let en;let es=newOverlayMap(),eo=IDBKeyRange.bound([this.userId,ee,er],[this.userId,ee,Number.POSITIVE_INFINITY],!0);return documentOverlayStore($).iterate({index:rW,range:eo},($,ee,er)=>{let eo=fromDbDocumentOverlay(this.serializer,ee);es.size()<ei||eo.largestBatchId===en?(es.set(eo.getKey(),eo),en=eo.largestBatchId):er.done()}).next(()=>es)}saveOverlay($,ee){return documentOverlayStore($).put(toDbDocumentOverlay(this.serializer,this.userId,ee))}};function documentOverlayStore($){return getStore($,rU)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iS=5,i_=10,iw=13,iC=15,iT=20,iE=25,iI=30,iD=37,iR=45,iP=50,iN=55,iA=60,ik=2;let FirestoreIndexValueWriter=class FirestoreIndexValueWriter{constructor(){}writeIndexValue($,ee){this.writeIndexValueAux($,ee),ee.writeInfinity()}writeIndexValueAux($,ee){if("nullValue"in $)this.writeValueTypeLabel(ee,iS);else if("booleanValue"in $)this.writeValueTypeLabel(ee,i_),ee.writeNumber($.booleanValue?1:0);else if("integerValue"in $)this.writeValueTypeLabel(ee,iC),ee.writeNumber(normalizeNumber($.integerValue));else if("doubleValue"in $){let er=normalizeNumber($.doubleValue);isNaN(er)?this.writeValueTypeLabel(ee,iw):(this.writeValueTypeLabel(ee,iC),isNegativeZero(er)?ee.writeNumber(0):ee.writeNumber(er))}else if("timestampValue"in $){let er=$.timestampValue;this.writeValueTypeLabel(ee,iT),"string"==typeof er?ee.writeString(er):(ee.writeString(`${er.seconds||""}`),ee.writeNumber(er.nanos||0))}else if("stringValue"in $)this.writeIndexString($.stringValue,ee),this.writeTruncationMarker(ee);else if("bytesValue"in $)this.writeValueTypeLabel(ee,iI),ee.writeBytes(normalizeByteString($.bytesValue)),this.writeTruncationMarker(ee);else if("referenceValue"in $)this.writeIndexEntityRef($.referenceValue,ee);else if("geoPointValue"in $){let er=$.geoPointValue;this.writeValueTypeLabel(ee,iR),ee.writeNumber(er.latitude||0),ee.writeNumber(er.longitude||0)}else"mapValue"in $?isMaxValue($)?this.writeValueTypeLabel(ee,Number.MAX_SAFE_INTEGER):(this.writeIndexMap($.mapValue,ee),this.writeTruncationMarker(ee)):"arrayValue"in $?(this.writeIndexArray($.arrayValue,ee),this.writeTruncationMarker(ee)):fail()}writeIndexString($,ee){this.writeValueTypeLabel(ee,iE),this.writeUnlabeledIndexString($,ee)}writeUnlabeledIndexString($,ee){ee.writeString($)}writeIndexMap($,ee){let er=$.fields||{};for(let $ of(this.writeValueTypeLabel(ee,iN),Object.keys(er)))this.writeIndexString($,ee),this.writeIndexValueAux(er[$],ee)}writeIndexArray($,ee){let er=$.values||[];for(let $ of(this.writeValueTypeLabel(ee,iP),er))this.writeIndexValueAux($,ee)}writeIndexEntityRef($,ee){this.writeValueTypeLabel(ee,iD);let er=DocumentKey.fromName($).path;er.forEach($=>{this.writeValueTypeLabel(ee,iA),this.writeUnlabeledIndexString($,ee)})}writeValueTypeLabel($,ee){$.writeNumber(ee)}writeTruncationMarker($){$.writeNumber(ik)}};FirestoreIndexValueWriter.INSTANCE=new FirestoreIndexValueWriter;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iO="\uD800",iM="\uDBFF",iF=0,iL=255,iB=1,iV=255,iU=255,ij=0,iq=64,iz=8,iW=1024;function doubleToLongBits($){let ee=new DataView(new ArrayBuffer(8));return ee.setFloat64(0,$,!1),new Uint8Array(ee.buffer)}function numberOfLeadingZerosInByte($){if(0===$)return 8;let ee=0;return $>>4==0&&(ee+=4,$<<=4),$>>6==0&&(ee+=2,$<<=2),$>>7==0&&(ee+=1),ee}function numberOfLeadingZeros($){let ee=0;for(let er=0;er<8;++er){let ei=numberOfLeadingZerosInByte(255&$[er]);if(ee+=ei,8!==ei)break}return ee}function unsignedNumLength($){let ee=iq-numberOfLeadingZeros($);return Math.ceil(ee/iz)}let OrderedCodeWriter=class OrderedCodeWriter{constructor(){this.buffer=new Uint8Array(iW),this.position=0}writeBytesAscending($){let ee=$[Symbol.iterator](),er=ee.next();for(;!er.done;)this.writeByteAscending(er.value),er=ee.next();this.writeSeparatorAscending()}writeBytesDescending($){let ee=$[Symbol.iterator](),er=ee.next();for(;!er.done;)this.writeByteDescending(er.value),er=ee.next();this.writeSeparatorDescending()}writeUtf8Ascending($){for(let ee of $){let $=ee.charCodeAt(0);if($<128)this.writeByteAscending($);else if($<2048)this.writeByteAscending(960|$>>>6),this.writeByteAscending(128|63&$);else if(ee<iO||iM<ee)this.writeByteAscending(480|$>>>12),this.writeByteAscending(128|63&$>>>6),this.writeByteAscending(128|63&$);else{let $=ee.codePointAt(0);this.writeByteAscending(240|$>>>18),this.writeByteAscending(128|63&$>>>12),this.writeByteAscending(128|63&$>>>6),this.writeByteAscending(128|63&$)}}this.writeSeparatorAscending()}writeUtf8Descending($){for(let ee of $){let $=ee.charCodeAt(0);if($<128)this.writeByteDescending($);else if($<2048)this.writeByteDescending(960|$>>>6),this.writeByteDescending(128|63&$);else if(ee<iO||iM<ee)this.writeByteDescending(480|$>>>12),this.writeByteDescending(128|63&$>>>6),this.writeByteDescending(128|63&$);else{let $=ee.codePointAt(0);this.writeByteDescending(240|$>>>18),this.writeByteDescending(128|63&$>>>12),this.writeByteDescending(128|63&$>>>6),this.writeByteDescending(128|63&$)}}this.writeSeparatorDescending()}writeNumberAscending($){let ee=this.toOrderedBits($),er=unsignedNumLength(ee);this.ensureAvailable(1+er),this.buffer[this.position++]=255&er;for(let $=ee.length-er;$<ee.length;++$)this.buffer[this.position++]=255&ee[$]}writeNumberDescending($){let ee=this.toOrderedBits($),er=unsignedNumLength(ee);this.ensureAvailable(1+er),this.buffer[this.position++]=~(255&er);for(let $=ee.length-er;$<ee.length;++$)this.buffer[this.position++]=~(255&ee[$])}writeInfinityAscending(){this.writeEscapedByteAscending(iV),this.writeEscapedByteAscending(iU)}writeInfinityDescending(){this.writeEscapedByteDescending(iV),this.writeEscapedByteDescending(iU)}reset(){this.position=0}seed($){this.ensureAvailable($.length),this.buffer.set($,this.position),this.position+=$.length}encodedBytes(){return this.buffer.slice(0,this.position)}toOrderedBits($){let ee=doubleToLongBits($),er=(128&ee[0])!=0;ee[0]^=er?255:128;for(let $=1;$<ee.length;++$)ee[$]^=er?255:0;return ee}writeByteAscending($){let ee=255&$;ee===iF?(this.writeEscapedByteAscending(iF),this.writeEscapedByteAscending(iL)):ee===iV?(this.writeEscapedByteAscending(iV),this.writeEscapedByteAscending(ij)):this.writeEscapedByteAscending(ee)}writeByteDescending($){let ee=255&$;ee===iF?(this.writeEscapedByteDescending(iF),this.writeEscapedByteDescending(iL)):ee===iV?(this.writeEscapedByteDescending(iV),this.writeEscapedByteDescending(ij)):this.writeEscapedByteDescending($)}writeSeparatorAscending(){this.writeEscapedByteAscending(iF),this.writeEscapedByteAscending(iB)}writeSeparatorDescending(){this.writeEscapedByteDescending(iF),this.writeEscapedByteDescending(iB)}writeEscapedByteAscending($){this.ensureAvailable(1),this.buffer[this.position++]=$}writeEscapedByteDescending($){this.ensureAvailable(1),this.buffer[this.position++]=~$}ensureAvailable($){let ee=$+this.position;if(ee<=this.buffer.length)return;let er=2*this.buffer.length;er<ee&&(er=ee);let ei=new Uint8Array(er);ei.set(this.buffer),this.buffer=ei}};let AscendingIndexByteEncoder=class AscendingIndexByteEncoder{constructor($){this.orderedCode=$}writeBytes($){this.orderedCode.writeBytesAscending($)}writeString($){this.orderedCode.writeUtf8Ascending($)}writeNumber($){this.orderedCode.writeNumberAscending($)}writeInfinity(){this.orderedCode.writeInfinityAscending()}};let DescendingIndexByteEncoder=class DescendingIndexByteEncoder{constructor($){this.orderedCode=$}writeBytes($){this.orderedCode.writeBytesDescending($)}writeString($){this.orderedCode.writeUtf8Descending($)}writeNumber($){this.orderedCode.writeNumberDescending($)}writeInfinity(){this.orderedCode.writeInfinityDescending()}};let IndexByteEncoder=class IndexByteEncoder{constructor(){this.orderedCode=new OrderedCodeWriter,this.ascending=new AscendingIndexByteEncoder(this.orderedCode),this.descending=new DescendingIndexByteEncoder(this.orderedCode)}seed($){this.orderedCode.seed($)}forKind($){return 0===$?this.ascending:this.descending}encodedBytes(){return this.orderedCode.encodedBytes()}reset(){this.orderedCode.reset()}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IndexEntry=class IndexEntry{constructor($,ee,er,ei){this.indexId=$,this.documentKey=ee,this.arrayValue=er,this.directionalValue=ei}successor(){let $=this.directionalValue.length,ee=0===$||255===this.directionalValue[$-1]?$+1:$,er=new Uint8Array(ee);return er.set(this.directionalValue,0),ee!==$?er.set([0],this.directionalValue.length):++er[er.length-1],new IndexEntry(this.indexId,this.documentKey,this.arrayValue,er)}};function indexEntryComparator($,ee){let er=$.indexId-ee.indexId;return 0!==er||0!==(er=compareByteArrays($.arrayValue,ee.arrayValue))||0!==(er=compareByteArrays($.directionalValue,ee.directionalValue))?er:DocumentKey.comparator($.documentKey,ee.documentKey)}function compareByteArrays($,ee){for(let er=0;er<$.length&&er<ee.length;++er){let ei=$[er]-ee[er];if(0!==ei)return ei}return $.length-ee.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TargetIndexMatcher=class TargetIndexMatcher{constructor($){for(let ee of(this.inequalityFilters=new SortedSet(($,ee)=>FieldPath$1.comparator($.field,ee.field)),this.collectionId=null!=$.collectionGroup?$.collectionGroup:$.path.lastSegment(),this.orderBys=$.orderBy,this.equalityFilters=[],$.filters)){let $=ee;$.isInequality()?this.inequalityFilters=this.inequalityFilters.add($):this.equalityFilters.push($)}}get hasMultipleInequality(){return this.inequalityFilters.size>1}servedByIndex($){if(hardAssert($.collectionGroup===this.collectionId),this.hasMultipleInequality)return!1;let ee=fieldIndexGetArraySegment($);if(void 0!==ee&&!this.hasMatchingEqualityFilter(ee))return!1;let er=fieldIndexGetDirectionalSegments($),ei=new Set,en=0,es=0;for(;en<er.length;++en)if(this.hasMatchingEqualityFilter(er[en]))ei=ei.add(er[en].fieldPath.canonicalString());else break;if(en===er.length)return!0;if(this.inequalityFilters.size>0){let $=this.inequalityFilters.getIterator().getNext();if(!ei.has($.field.canonicalString())){let ee=er[en];if(!this.matchesFilter($,ee)||!this.matchesOrderBy(this.orderBys[es++],ee))return!1}++en}for(;en<er.length;++en){let $=er[en];if(es>=this.orderBys.length||!this.matchesOrderBy(this.orderBys[es++],$))return!1}return!0}buildTargetIndex(){if(this.hasMultipleInequality)return null;let $=new SortedSet(FieldPath$1.comparator),ee=[];for(let er of this.equalityFilters){if(er.field.isKeyField())continue;let ei="array-contains"===er.op||"array-contains-any"===er.op;if(ei)ee.push(new IndexSegment(er.field,2));else{if($.has(er.field))continue;$=$.add(er.field),ee.push(new IndexSegment(er.field,0))}}for(let er of this.orderBys)er.field.isKeyField()||$.has(er.field)||($=$.add(er.field),ee.push(new IndexSegment(er.field,"asc"===er.dir?0:1)));return new FieldIndex(FieldIndex.UNKNOWN_ID,this.collectionId,ee,IndexState.empty())}hasMatchingEqualityFilter($){for(let ee of this.equalityFilters)if(this.matchesFilter(ee,$))return!0;return!1}matchesFilter($,ee){if(void 0===$||!$.field.isEqual(ee.fieldPath))return!1;let er="array-contains"===$.op||"array-contains-any"===$.op;return 2===ee.kind===er}matchesOrderBy($,ee){return!!$.field.isEqual(ee.fieldPath)&&(0===ee.kind&&"asc"===$.dir||1===ee.kind&&"desc"===$.dir)}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function computeInExpansion($){var ee,er;if(hardAssert($ instanceof FieldFilter||$ instanceof CompositeFilter),$ instanceof FieldFilter){if(!($ instanceof InFilter))return $;{let ei=(null===(er=null===(ee=$.value.arrayValue)||void 0===ee?void 0:ee.values)||void 0===er?void 0:er.map(ee=>FieldFilter.create($.field,"==",ee)))||[];return CompositeFilter.create(ei,"or")}}let ei=$.filters.map($=>computeInExpansion($));return CompositeFilter.create(ei,$.op)}function getDnfTerms($){if(0===$.getFilters().length)return[];let ee=computeDistributedNormalForm(computeInExpansion($));return(hardAssert(isDisjunctiveNormalForm(ee)),isSingleFieldFilter(ee)||isFlatConjunction(ee))?[ee]:ee.getFilters()}function isSingleFieldFilter($){return $ instanceof FieldFilter}function isFlatConjunction($){return $ instanceof CompositeFilter&&compositeFilterIsFlatConjunction($)}function isDisjunctiveNormalForm($){return isSingleFieldFilter($)||isFlatConjunction($)||isDisjunctionOfFieldFiltersAndFlatConjunctions($)}function isDisjunctionOfFieldFiltersAndFlatConjunctions($){if($ instanceof CompositeFilter&&compositeFilterIsDisjunction($)){for(let ee of $.getFilters())if(!isSingleFieldFilter(ee)&&!isFlatConjunction(ee))return!1;return!0}return!1}function computeDistributedNormalForm($){if(hardAssert($ instanceof FieldFilter||$ instanceof CompositeFilter),$ instanceof FieldFilter)return $;if(1===$.filters.length)return computeDistributedNormalForm($.filters[0]);let ee=$.filters.map($=>computeDistributedNormalForm($)),er=CompositeFilter.create(ee,$.op);return isDisjunctiveNormalForm(er=applyAssociation(er))?er:(hardAssert(er instanceof CompositeFilter),hardAssert(compositeFilterIsConjunction(er)),hardAssert(er.filters.length>1),er.filters.reduce(($,ee)=>applyDistribution($,ee)))}function applyDistribution($,ee){let er;return hardAssert($ instanceof FieldFilter||$ instanceof CompositeFilter),hardAssert(ee instanceof FieldFilter||ee instanceof CompositeFilter),applyAssociation(er=$ instanceof FieldFilter?ee instanceof FieldFilter?applyDistributionFieldFilters($,ee):applyDistributionFieldAndCompositeFilters($,ee):ee instanceof FieldFilter?applyDistributionFieldAndCompositeFilters(ee,$):applyDistributionCompositeFilters($,ee))}function applyDistributionFieldFilters($,ee){return CompositeFilter.create([$,ee],"and")}function applyDistributionCompositeFilters($,ee){if(hardAssert($.filters.length>0&&ee.filters.length>0),compositeFilterIsConjunction($)&&compositeFilterIsConjunction(ee))return compositeFilterWithAddedFilters($,ee.getFilters());let er=compositeFilterIsDisjunction($)?$:ee,ei=compositeFilterIsDisjunction($)?ee:$,en=er.filters.map($=>applyDistribution($,ei));return CompositeFilter.create(en,"or")}function applyDistributionFieldAndCompositeFilters($,ee){if(compositeFilterIsConjunction(ee))return compositeFilterWithAddedFilters(ee,$.getFilters());{let er=ee.filters.map(ee=>applyDistribution($,ee));return CompositeFilter.create(er,"or")}}function applyAssociation($){if(hardAssert($ instanceof FieldFilter||$ instanceof CompositeFilter),$ instanceof FieldFilter)return $;let ee=$.getFilters();if(1===ee.length)return applyAssociation(ee[0]);if(compositeFilterIsFlat($))return $;let er=ee.map($=>applyAssociation($)),ei=[];return(er.forEach(ee=>{ee instanceof FieldFilter?ei.push(ee):ee instanceof CompositeFilter&&(ee.op===$.op?ei.push(...ee.filters):ei.push(ee))}),1===ei.length)?ei[0]:CompositeFilter.create(ei,$.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MemoryIndexManager=class MemoryIndexManager{constructor(){this.collectionParentIndex=new MemoryCollectionParentIndex}addToCollectionParentIndex($,ee){return this.collectionParentIndex.add(ee),PersistencePromise.resolve()}getCollectionParents($,ee){return PersistencePromise.resolve(this.collectionParentIndex.getEntries(ee))}addFieldIndex($,ee){return PersistencePromise.resolve()}deleteFieldIndex($,ee){return PersistencePromise.resolve()}deleteAllFieldIndexes($){return PersistencePromise.resolve()}createTargetIndexes($,ee){return PersistencePromise.resolve()}getDocumentsMatchingTarget($,ee){return PersistencePromise.resolve(null)}getIndexType($,ee){return PersistencePromise.resolve(0)}getFieldIndexes($,ee){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate($){return PersistencePromise.resolve(null)}getMinOffset($,ee){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup($,ee){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup($,ee,er){return PersistencePromise.resolve()}updateIndexEntries($,ee){return PersistencePromise.resolve()}};let MemoryCollectionParentIndex=class MemoryCollectionParentIndex{constructor(){this.index={}}add($){let ee=$.lastSegment(),er=$.popLast(),ei=this.index[ee]||new SortedSet(ResourcePath.comparator),en=!ei.has(er);return this.index[ee]=ei.add(er),en}has($){let ee=$.lastSegment(),er=$.popLast(),ei=this.index[ee];return ei&&ei.has(er)}getEntries($){let ee=this.index[$]||new SortedSet(ResourcePath.comparator);return ee.toArray()}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iH="IndexedDbIndexManager",iG=new Uint8Array(0);let IndexedDbIndexManager=class IndexedDbIndexManager{constructor($,ee){this.user=$,this.databaseId=ee,this.collectionParentsCache=new MemoryCollectionParentIndex,this.targetToDnfSubTargets=new ObjectMap($=>canonifyTarget($),($,ee)=>targetEquals($,ee)),this.uid=$.uid||""}addToCollectionParentIndex($,ee){if(!this.collectionParentsCache.has(ee)){let er=ee.lastSegment(),ei=ee.popLast();$.addOnCommittedListener(()=>{this.collectionParentsCache.add(ee)});let en={collectionId:er,parent:encodeResourcePath(ei)};return collectionParentsStore($).put(en)}return PersistencePromise.resolve()}getCollectionParents($,ee){let er=[],ei=IDBKeyRange.bound([ee,""],[immediateSuccessor(ee),""],!1,!0);return collectionParentsStore($).loadAll(ei).next($=>{for(let ei of $){if(ei.collectionId!==ee)break;er.push(decodeResourcePath(ei.parent))}return er})}addFieldIndex($,ee){let er=indexConfigurationStore($),ei=toDbIndexConfiguration(ee);delete ei.indexId;let en=er.add(ei);if(!ee.indexState)return en.next();{let er=indexStateStore($);return en.next($=>{er.put(toDbIndexState($,this.user,ee.indexState.sequenceNumber,ee.indexState.offset))})}}deleteFieldIndex($,ee){let er=indexConfigurationStore($),ei=indexStateStore($),en=indexEntriesStore($);return er.delete(ee.indexId).next(()=>ei.delete(IDBKeyRange.bound([ee.indexId],[ee.indexId+1],!1,!0))).next(()=>en.delete(IDBKeyRange.bound([ee.indexId],[ee.indexId+1],!1,!0)))}deleteAllFieldIndexes($){let ee=indexConfigurationStore($),er=indexEntriesStore($),ei=indexStateStore($);return ee.deleteAll().next(()=>er.deleteAll()).next(()=>ei.deleteAll())}createTargetIndexes($,ee){return PersistencePromise.forEach(this.getSubTargets(ee),ee=>this.getIndexType($,ee).next(er=>{if(0===er||1===er){let er=new TargetIndexMatcher(ee),ei=er.buildTargetIndex();if(null!=ei)return this.addFieldIndex($,ei)}}))}getDocumentsMatchingTarget($,ee){let er=indexEntriesStore($),ei=!0,en=new Map;return PersistencePromise.forEach(this.getSubTargets(ee),ee=>this.getFieldIndex($,ee).next($=>{ei&&(ei=!!$),en.set(ee,$)})).next(()=>{if(!ei)return PersistencePromise.resolve(null);{let $=documentKeySet(),ei=[];return PersistencePromise.forEach(en,(en,es)=>{logDebug(iH,`Using index ${fieldIndexToString(en)} to execute ${canonifyTarget(ee)}`);let eo=targetGetArrayValues(es,en),ep=targetGetNotInValues(es,en),eu=targetGetLowerBound(es,en),eh=targetGetUpperBound(es,en),em=this.encodeBound(en,es,eu),ef=this.encodeBound(en,es,eh),eg=this.encodeValues(en,es,ep),ey=this.generateIndexRanges(en.indexId,eo,em,eu.inclusive,ef,eh.inclusive,eg);return PersistencePromise.forEach(ey,en=>er.loadFirst(en,ee.limit).next(ee=>{ee.forEach(ee=>{let er=DocumentKey.fromSegments(ee.documentKey);$.has(er)||($=$.add(er),ei.push(er))})}))}).next(()=>ei)}})}getSubTargets($){let ee=this.targetToDnfSubTargets.get($);if(ee)return ee;if(0===$.filters.length)ee=[$];else{let er=getDnfTerms(CompositeFilter.create($.filters,"and"));ee=er.map(ee=>newTarget($.path,$.collectionGroup,$.orderBy,ee.getFilters(),$.limit,$.startAt,$.endAt))}return this.targetToDnfSubTargets.set($,ee),ee}generateIndexRanges($,ee,er,ei,en,es,eo){let ep=(null!=ee?ee.length:1)*Math.max(er.length,en.length),eu=ep/(null!=ee?ee.length:1),eh=[];for(let em=0;em<ep;++em){let ep=ee?this.encodeSingleElement(ee[em/eu]):iG,ef=this.generateLowerBound($,ep,er[em%eu],ei),eg=this.generateUpperBound($,ep,en[em%eu],es),ey=eo.map(ee=>this.generateLowerBound($,ep,ee,!0));eh.push(...this.createRange(ef,eg,ey))}return eh}generateLowerBound($,ee,er,ei){let en=new IndexEntry($,DocumentKey.empty(),ee,er);return ei?en:en.successor()}generateUpperBound($,ee,er,ei){let en=new IndexEntry($,DocumentKey.empty(),ee,er);return ei?en.successor():en}getFieldIndex($,ee){let er=new TargetIndexMatcher(ee),ei=null!=ee.collectionGroup?ee.collectionGroup:ee.path.lastSegment();return this.getFieldIndexes($,ei).next($=>{let ee=null;for(let ei of $){let $=er.servedByIndex(ei);$&&(!ee||ei.fields.length>ee.fields.length)&&(ee=ei)}return ee})}getIndexType($,ee){let er=2,ei=this.getSubTargets(ee);return PersistencePromise.forEach(ei,ee=>this.getFieldIndex($,ee).next($=>{$?0!==er&&$.fields.length<targetGetSegmentCount(ee)&&(er=1):er=0})).next(()=>targetHasLimit(ee)&&ei.length>1&&2===er?1:er)}encodeDirectionalElements($,ee){let er=new IndexByteEncoder;for(let ei of fieldIndexGetDirectionalSegments($)){let $=ee.data.field(ei.fieldPath);if(null==$)return null;let en=er.forKind(ei.kind);FirestoreIndexValueWriter.INSTANCE.writeIndexValue($,en)}return er.encodedBytes()}encodeSingleElement($){let ee=new IndexByteEncoder;return FirestoreIndexValueWriter.INSTANCE.writeIndexValue($,ee.forKind(0)),ee.encodedBytes()}encodeDirectionalKey($,ee){let er=new IndexByteEncoder;return FirestoreIndexValueWriter.INSTANCE.writeIndexValue(refValue(this.databaseId,ee),er.forKind(fieldIndexGetKeyOrder($))),er.encodedBytes()}encodeValues($,ee,er){if(null===er)return[];let ei=[];ei.push(new IndexByteEncoder);let en=0;for(let es of fieldIndexGetDirectionalSegments($)){let $=er[en++];for(let er of ei)if(this.isInFilter(ee,es.fieldPath)&&isArray($))ei=this.expandIndexValues(ei,es,$);else{let ee=er.forKind(es.kind);FirestoreIndexValueWriter.INSTANCE.writeIndexValue($,ee)}}return this.getEncodedBytes(ei)}encodeBound($,ee,er){return this.encodeValues($,ee,er.position)}getEncodedBytes($){let ee=[];for(let er=0;er<$.length;++er)ee[er]=$[er].encodedBytes();return ee}expandIndexValues($,ee,er){let ei=[...$],en=[];for(let $ of er.arrayValue.values||[])for(let er of ei){let ei=new IndexByteEncoder;ei.seed(er.encodedBytes()),FirestoreIndexValueWriter.INSTANCE.writeIndexValue($,ei.forKind(ee.kind)),en.push(ei)}return en}isInFilter($,ee){return!!$.filters.find($=>$ instanceof FieldFilter&&$.field.isEqual(ee)&&("in"===$.op||"not-in"===$.op))}getFieldIndexes($,ee){let er=indexConfigurationStore($),ei=indexStateStore($);return(ee?er.loadAll(rP,IDBKeyRange.bound(ee,ee)):er.loadAll()).next($=>{let ee=[];return PersistencePromise.forEach($,$=>ei.get([$.indexId,this.uid]).next(er=>{ee.push(fromDbIndexConfiguration($,er))})).next(()=>ee)})}getNextCollectionGroupToUpdate($){return this.getFieldIndexes($).next($=>0===$.length?null:($.sort(($,ee)=>{let er=$.indexState.sequenceNumber-ee.indexState.sequenceNumber;return 0!==er?er:primitiveComparator($.collectionGroup,ee.collectionGroup)}),$[0].collectionGroup))}updateCollectionGroup($,ee,er){let ei=indexConfigurationStore($),en=indexStateStore($);return this.getNextSequenceNumber($).next($=>ei.loadAll(rP,IDBKeyRange.bound(ee,ee)).next(ee=>PersistencePromise.forEach(ee,ee=>en.put(toDbIndexState(ee.indexId,this.user,$,er)))))}updateIndexEntries($,ee){let er=new Map;return PersistencePromise.forEach(ee,(ee,ei)=>{let en=er.get(ee.collectionGroup),es=en?PersistencePromise.resolve(en):this.getFieldIndexes($,ee.collectionGroup);return es.next(en=>(er.set(ee.collectionGroup,en),PersistencePromise.forEach(en,er=>this.getExistingIndexEntries($,ee,er).next(ee=>{let en=this.computeIndexEntries(ei,er);return ee.isEqual(en)?PersistencePromise.resolve():this.updateEntries($,ei,er,ee,en)}))))})}addIndexEntry($,ee,er,ei){let en=indexEntriesStore($);return en.put({indexId:ei.indexId,uid:this.uid,arrayValue:ei.arrayValue,directionalValue:ei.directionalValue,orderedDocumentKey:this.encodeDirectionalKey(er,ee.key),documentKey:ee.key.path.toArray()})}deleteIndexEntry($,ee,er,ei){let en=indexEntriesStore($);return en.delete([ei.indexId,this.uid,ei.arrayValue,ei.directionalValue,this.encodeDirectionalKey(er,ee.key),ee.key.path.toArray()])}getExistingIndexEntries($,ee,er){let ei=indexEntriesStore($),en=new SortedSet(indexEntryComparator);return ei.iterate({index:rB,range:IDBKeyRange.only([er.indexId,this.uid,this.encodeDirectionalKey(er,ee)])},($,ei)=>{en=en.add(new IndexEntry(er.indexId,ee,ei.arrayValue,ei.directionalValue))}).next(()=>en)}computeIndexEntries($,ee){let er=new SortedSet(indexEntryComparator),ei=this.encodeDirectionalElements(ee,$);if(null==ei)return er;let en=fieldIndexGetArraySegment(ee);if(null!=en){let es=$.data.field(en.fieldPath);if(isArray(es))for(let en of es.arrayValue.values||[])er=er.add(new IndexEntry(ee.indexId,$.key,this.encodeSingleElement(en),ei))}else er=er.add(new IndexEntry(ee.indexId,$.key,iG,ei));return er}updateEntries($,ee,er,ei,en){logDebug(iH,"Updating index entries for document '%s'",ee.key);let es=[];return diffSortedSets(ei,en,indexEntryComparator,ei=>{es.push(this.addIndexEntry($,ee,er,ei))},ei=>{es.push(this.deleteIndexEntry($,ee,er,ei))}),PersistencePromise.waitFor(es)}getNextSequenceNumber($){let ee=1,er=indexStateStore($);return er.iterate({index:rO,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},($,er,ei)=>{ei.done(),ee=er.sequenceNumber+1}).next(()=>ee)}createRange($,ee,er){er=er.sort(($,ee)=>indexEntryComparator($,ee)).filter(($,ee,er)=>!ee||0!==indexEntryComparator($,er[ee-1]));let ei=[];for(let en of(ei.push($),er)){let er=indexEntryComparator(en,$),es=indexEntryComparator(en,ee);if(0===er)ei[0]=$.successor();else if(er>0&&es<0)ei.push(en),ei.push(en.successor());else if(es>0)break}ei.push(ee);let en=[];for(let $=0;$<ei.length;$+=2){if(this.isRangeMatchable(ei[$],ei[$+1]))return[];let ee=[ei[$].indexId,this.uid,ei[$].arrayValue,ei[$].directionalValue,iG,[]],er=[ei[$+1].indexId,this.uid,ei[$+1].arrayValue,ei[$+1].directionalValue,iG,[]];en.push(IDBKeyRange.bound(ee,er))}return en}isRangeMatchable($,ee){return indexEntryComparator($,ee)>0}getMinOffsetFromCollectionGroup($,ee){return this.getFieldIndexes($,ee).next(getMinOffsetFromFieldIndexes)}getMinOffset($,ee){return PersistencePromise.mapArray(this.getSubTargets(ee),ee=>this.getFieldIndex($,ee).next($=>$||fail())).next(getMinOffsetFromFieldIndexes)}};function collectionParentsStore($){return getStore($,rx)}function indexEntriesStore($){return getStore($,rF)}function indexConfigurationStore($){return getStore($,rD)}function indexStateStore($){return getStore($,rA)}function getMinOffsetFromFieldIndexes($){hardAssert(0!==$.length);let ee=$[0].indexState.offset,er=ee.largestBatchId;for(let ei=1;ei<$.length;ei++){let en=$[ei].indexState.offset;0>indexOffsetComparator(en,ee)&&(ee=en),er<en.largestBatchId&&(er=en.largestBatchId)}return new IndexOffset(ee.readTime,ee.documentKey,er)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function removeMutationBatch($,ee,er){let ei=$.store(t0),en=$.store(t9),es=[],eo=IDBKeyRange.only(er.batchId),ep=0,eu=ei.iterate({range:eo},($,ee,er)=>(ep++,er.delete()));es.push(eu.next(()=>{hardAssert(1===ep)}));let eh=[];for(let $ of er.mutations){let ei=newDbDocumentMutationKey(ee,$.key.path,er.batchId);es.push(en.delete(ei)),eh.push($.key)}return PersistencePromise.waitFor(es).next(()=>eh)}function dbDocumentSize($){let ee;if(!$)return 0;if($.document)ee=$.document;else if($.unknownDocument)ee=$.unknownDocument;else if($.noDocument)ee=$.noDocument;else throw fail();return JSON.stringify(ee).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IndexedDbMutationQueue=class IndexedDbMutationQueue{constructor($,ee,er,ei){this.userId=$,this.serializer=ee,this.indexManager=er,this.referenceDelegate=ei,this.documentKeysByBatchId={}}static forUser($,ee,er,ei){hardAssert(""!==$.uid);let en=$.isAuthenticated()?$.uid:"";return new IndexedDbMutationQueue(en,ee,er,ei)}checkEmpty($){let ee=!0,er=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mutationsStore($).iterate({index:t4,range:er},($,er,ei)=>{ee=!1,ei.done()}).next(()=>ee)}addMutationBatch($,ee,er,ei){let en=documentMutationsStore($),es=mutationsStore($);return es.add({}).next(eo=>{hardAssert("number"==typeof eo);let ep=new MutationBatch(eo,ee,er,ei),eu=toDbMutationBatch(this.serializer,this.userId,ep),eh=[],em=new SortedSet(($,ee)=>primitiveComparator($.canonicalString(),ee.canonicalString()));for(let $ of ei){let ee=newDbDocumentMutationKey(this.userId,$.key.path,eo);em=em.add($.key.path.popLast()),eh.push(es.put(eu)),eh.push(en.put(ee,t8))}return em.forEach(ee=>{eh.push(this.indexManager.addToCollectionParentIndex($,ee))}),$.addOnCommittedListener(()=>{this.documentKeysByBatchId[eo]=ep.keys()}),PersistencePromise.waitFor(eh).next(()=>ep)})}lookupMutationBatch($,ee){return mutationsStore($).get(ee).next($=>$?(hardAssert($.userId===this.userId),fromDbMutationBatch(this.serializer,$)):null)}lookupMutationKeys($,ee){return this.documentKeysByBatchId[ee]?PersistencePromise.resolve(this.documentKeysByBatchId[ee]):this.lookupMutationBatch($,ee).next($=>{if(!$)return null;{let er=$.keys();return this.documentKeysByBatchId[ee]=er,er}})}getNextMutationBatchAfterBatchId($,ee){let er=ee+1,ei=IDBKeyRange.lowerBound([this.userId,er]),en=null;return mutationsStore($).iterate({index:t4,range:ei},($,ee,ei)=>{ee.userId===this.userId&&(hardAssert(ee.batchId>=er),en=fromDbMutationBatch(this.serializer,ee)),ei.done()}).next(()=>en)}getHighestUnacknowledgedBatchId($){let ee=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),er=r5;return mutationsStore($).iterate({index:t4,range:ee,reverse:!0},($,ee,ei)=>{er=ee.batchId,ei.done()}).next(()=>er)}getAllMutationBatches($){let ee=IDBKeyRange.bound([this.userId,r5],[this.userId,Number.POSITIVE_INFINITY]);return mutationsStore($).loadAll(t4,ee).next($=>$.map($=>fromDbMutationBatch(this.serializer,$)))}getAllMutationBatchesAffectingDocumentKey($,ee){let er=newDbDocumentMutationPrefixForPath(this.userId,ee.path),ei=IDBKeyRange.lowerBound(er),en=[];return documentMutationsStore($).iterate({range:ei},(er,ei,es)=>{let[eo,ep,eu]=er,eh=decodeResourcePath(ep);if(eo!==this.userId||!ee.path.isEqual(eh)){es.done();return}return mutationsStore($).get(eu).next($=>{if(!$)throw fail();hardAssert($.userId===this.userId),en.push(fromDbMutationBatch(this.serializer,$))})}).next(()=>en)}getAllMutationBatchesAffectingDocumentKeys($,ee){let er=new SortedSet(primitiveComparator),ei=[];return ee.forEach(ee=>{let en=newDbDocumentMutationPrefixForPath(this.userId,ee.path),es=IDBKeyRange.lowerBound(en),eo=documentMutationsStore($).iterate({range:es},($,ei,en)=>{let[es,eo,ep]=$,eu=decodeResourcePath(eo);if(es!==this.userId||!ee.path.isEqual(eu)){en.done();return}er=er.add(ep)});ei.push(eo)}),PersistencePromise.waitFor(ei).next(()=>this.lookupMutationBatches($,er))}getAllMutationBatchesAffectingQuery($,ee){let er=ee.path,ei=er.length+1,en=newDbDocumentMutationPrefixForPath(this.userId,er),es=IDBKeyRange.lowerBound(en),eo=new SortedSet(primitiveComparator);return documentMutationsStore($).iterate({range:es},($,ee,en)=>{let[es,ep,eu]=$,eh=decodeResourcePath(ep);if(es!==this.userId||!er.isPrefixOf(eh)){en.done();return}eh.length===ei&&(eo=eo.add(eu))}).next(()=>this.lookupMutationBatches($,eo))}lookupMutationBatches($,ee){let er=[],ei=[];return ee.forEach(ee=>{ei.push(mutationsStore($).get(ee).next($=>{if(null===$)throw fail();hardAssert($.userId===this.userId),er.push(fromDbMutationBatch(this.serializer,$))}))}),PersistencePromise.waitFor(ei).next(()=>er)}removeMutationBatch($,ee){return removeMutationBatch($.simpleDbTransaction,this.userId,ee).next(er=>($.addOnCommittedListener(()=>{this.removeCachedMutationKeys(ee.batchId)}),PersistencePromise.forEach(er,ee=>this.referenceDelegate.markPotentiallyOrphaned($,ee))))}removeCachedMutationKeys($){delete this.documentKeysByBatchId[$]}performConsistencyCheck($){return this.checkEmpty($).next(ee=>{if(!ee)return PersistencePromise.resolve();let er=IDBKeyRange.lowerBound(newDbDocumentMutationPrefixForUser(this.userId)),ei=[];return documentMutationsStore($).iterate({range:er},($,ee,er)=>{let en=$[0];if(en!==this.userId){er.done();return}{let ee=decodeResourcePath($[1]);ei.push(ee)}}).next(()=>{hardAssert(0===ei.length)})})}containsKey($,ee){return mutationQueueContainsKey($,this.userId,ee)}getMutationQueueMetadata($){return mutationQueuesStore($).get(this.userId).next($=>$||{userId:this.userId,lastAcknowledgedBatchId:r5,lastStreamToken:""})}};function mutationQueueContainsKey($,ee,er){let ei=newDbDocumentMutationPrefixForPath(ee,er.path),en=ei[1],es=IDBKeyRange.lowerBound(ei),eo=!1;return documentMutationsStore($).iterate({range:es,keysOnly:!0},($,er,ei)=>{let[es,ep,eu]=$;es===ee&&ep===en&&(eo=!0),ei.done()}).next(()=>eo)}function mutationQueuesContainKey($,ee){let er=!1;return mutationQueuesStore($).iterateSerial(ei=>mutationQueueContainsKey($,ei,ee).next($=>($&&(er=!0),PersistencePromise.resolve(!$)))).next(()=>er)}function mutationsStore($){return getStore($,t0)}function documentMutationsStore($){return getStore($,t9)}function mutationQueuesStore($){return getStore($,tZ)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iK=2;let TargetIdGenerator=class TargetIdGenerator{constructor($){this.lastId=$}next(){return this.lastId+=iK,this.lastId}static forTargetCache(){return new TargetIdGenerator(2-iK)}static forSyncEngine(){return new TargetIdGenerator(1-iK)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IndexedDbTargetCache=class IndexedDbTargetCache{constructor($,ee){this.referenceDelegate=$,this.serializer=ee}allocateTargetId($){return this.retrieveMetadata($).next(ee=>{let er=new TargetIdGenerator(ee.highestTargetId);return ee.highestTargetId=er.next(),this.saveMetadata($,ee).next(()=>ee.highestTargetId)})}getLastRemoteSnapshotVersion($){return this.retrieveMetadata($).next($=>SnapshotVersion.fromTimestamp(new Timestamp($.lastRemoteSnapshotVersion.seconds,$.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber($){return this.retrieveMetadata($).next($=>$.highestListenSequenceNumber)}setTargetsMetadata($,ee,er){return this.retrieveMetadata($).next(ei=>(ei.highestListenSequenceNumber=ee,er&&(ei.lastRemoteSnapshotVersion=er.toTimestamp()),ee>ei.highestListenSequenceNumber&&(ei.highestListenSequenceNumber=ee),this.saveMetadata($,ei)))}addTargetData($,ee){return this.saveTargetData($,ee).next(()=>this.retrieveMetadata($).next(er=>(er.targetCount+=1,this.updateMetadataFromTargetData(ee,er),this.saveMetadata($,er))))}updateTargetData($,ee){return this.saveTargetData($,ee)}removeTargetData($,ee){return this.removeMatchingKeysForTargetId($,ee.targetId).next(()=>targetsStore($).delete(ee.targetId)).next(()=>this.retrieveMetadata($)).next(ee=>(hardAssert(ee.targetCount>0),ee.targetCount-=1,this.saveMetadata($,ee)))}removeTargets($,ee,er){let ei=0,en=[];return targetsStore($).iterate((es,eo)=>{let ep=fromDbTarget(eo);ep.sequenceNumber<=ee&&null===er.get(ep.targetId)&&(ei++,en.push(this.removeTargetData($,ep)))}).next(()=>PersistencePromise.waitFor(en)).next(()=>ei)}forEachTarget($,ee){return targetsStore($).iterate(($,er)=>{let ei=fromDbTarget(er);ee(ei)})}retrieveMetadata($){return globalTargetStore($).get(ry).next($=>(hardAssert(null!==$),$))}saveMetadata($,ee){return globalTargetStore($).put(ry,ee)}saveTargetData($,ee){return targetsStore($).put(toDbTarget(this.serializer,ee))}updateMetadataFromTargetData($,ee){let er=!1;return $.targetId>ee.highestTargetId&&(ee.highestTargetId=$.targetId,er=!0),$.sequenceNumber>ee.highestListenSequenceNumber&&(ee.highestListenSequenceNumber=$.sequenceNumber,er=!0),er}getTargetCount($){return this.retrieveMetadata($).next($=>$.targetCount)}getTargetData($,ee){let er=canonifyTarget(ee),ei=IDBKeyRange.bound([er,Number.NEGATIVE_INFINITY],[er,Number.POSITIVE_INFINITY]),en=null;return targetsStore($).iterate({range:ei,index:rp},($,er,ei)=>{let es=fromDbTarget(er);targetEquals(ee,es.target)&&(en=es,ei.done())}).next(()=>en)}addMatchingKeys($,ee,er){let ei=[],en=documentTargetStore($);return ee.forEach(ee=>{let es=encodeResourcePath(ee.path);ei.push(en.put({targetId:er,path:es})),ei.push(this.referenceDelegate.addReference($,er,ee))}),PersistencePromise.waitFor(ei)}removeMatchingKeys($,ee,er){let ei=documentTargetStore($);return PersistencePromise.forEach(ee,ee=>{let en=encodeResourcePath(ee.path);return PersistencePromise.waitFor([ei.delete([er,en]),this.referenceDelegate.removeReference($,er,ee)])})}removeMatchingKeysForTargetId($,ee){let er=documentTargetStore($),ei=IDBKeyRange.bound([ee],[ee+1],!1,!0);return er.delete(ei)}getMatchingKeysForTargetId($,ee){let er=IDBKeyRange.bound([ee],[ee+1],!1,!0),ei=documentTargetStore($),en=documentKeySet();return ei.iterate({range:er,keysOnly:!0},($,ee,er)=>{let ei=decodeResourcePath($[1]),es=new DocumentKey(ei);en=en.add(es)}).next(()=>en)}containsKey($,ee){let er=encodeResourcePath(ee.path),ei=IDBKeyRange.bound([er],[immediateSuccessor(er)],!1,!0),en=0;return documentTargetStore($).iterate({index:rf,keysOnly:!0,range:ei},([$,ee],er,ei)=>{0!==$&&(en++,ei.done())}).next(()=>en>0)}getTargetDataForTarget($,ee){return targetsStore($).get(ee).next($=>$?fromDbTarget($):null)}};function targetsStore($){return getStore($,ro)}function globalTargetStore($){return getStore($,rv)}function documentTargetStore($){return getStore($,rh)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iQ=-1,iY=41943040;let LruParams=class LruParams{constructor($,ee,er){this.cacheSizeCollectionThreshold=$,this.percentileToCollect=ee,this.maximumSequenceNumbersToCollect=er}static withCacheSize($){return new LruParams($,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};LruParams.DEFAULT_COLLECTION_PERCENTILE=10,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,LruParams.DEFAULT=new LruParams(iY,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),LruParams.DISABLED=new LruParams(iQ,0,0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iJ="LruGarbageCollector",iX=1048576,iZ=null,i1=null;function bufferEntryComparator([$,ee],[er,ei]){let en=primitiveComparator($,er);return 0===en?primitiveComparator(ee,ei):en}let RollingSequenceNumberBuffer=class RollingSequenceNumberBuffer{constructor($){this.maxElements=$,this.buffer=new SortedSet(bufferEntryComparator),this.previousIndex=0}nextIndex(){return++this.previousIndex}addElement($){let ee=[$,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(ee);else{let $=this.buffer.last();0>bufferEntryComparator(ee,$)&&(this.buffer=this.buffer.delete($).add(ee))}}get maxValue(){return this.buffer.last()[0]}};let LruScheduler=class LruScheduler{constructor($,ee,er){this.garbageCollector=$,this.asyncQueue=ee,this.localStore=er,this.gcTask=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==iQ&&this.scheduleGC(iZ)}stop(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)}get started(){return null!==this.gcTask}scheduleGC($){logDebug(iJ,`Garbage collection scheduled in ${$}ms`),this.gcTask=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",$,async()=>{this.gcTask=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch($){isIndexedDbTransactionError($)?logDebug(iJ,"Ignoring IndexedDB error during garbage collection: ",$):await ignoreIfPrimaryLeaseLoss($)}await this.scheduleGC(i1)})}};let LruGarbageCollectorImpl=class LruGarbageCollectorImpl{constructor($,ee){this.delegate=$,this.params=ee}calculateTargetCount($,ee){return this.delegate.getSequenceNumberCount($).next($=>Math.floor(ee/100*$))}nthSequenceNumber($,ee){if(0===ee)return PersistencePromise.resolve(ListenSequence.INVALID);let er=new RollingSequenceNumberBuffer(ee);return this.delegate.forEachTarget($,$=>er.addElement($.sequenceNumber)).next(()=>this.delegate.forEachOrphanedDocumentSequenceNumber($,$=>er.addElement($))).next(()=>er.maxValue)}removeTargets($,ee,er){return this.delegate.removeTargets($,ee,er)}removeOrphanedDocuments($,ee){return this.delegate.removeOrphanedDocuments($,ee)}collect($,ee){return this.params.cacheSizeCollectionThreshold===iQ?(logDebug("LruGarbageCollector","Garbage collection skipped; disabled"),PersistencePromise.resolve(i$)):this.getCacheSize($).next(er=>er<this.params.cacheSizeCollectionThreshold?(logDebug("LruGarbageCollector",`Garbage collection skipped; Cache size ${er} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i$):this.runGarbageCollection($,ee))}getCacheSize($){return this.delegate.getCacheSize($)}runGarbageCollection($,ee){let er,ei,en,es,eo,ep,eu;let eh=Date.now();return this.calculateTargetCount($,this.params.percentileToCollect).next(ee=>(ee>this.params.maximumSequenceNumbersToCollect?(logDebug("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ee}`),ei=this.params.maximumSequenceNumbersToCollect):ei=ee,es=Date.now(),this.nthSequenceNumber($,ei))).next(ei=>(er=ei,eo=Date.now(),this.removeTargets($,er,ee))).next(ee=>(en=ee,ep=Date.now(),this.removeOrphanedDocuments($,er))).next($=>{if(eu=Date.now(),getLogLevel()<=LogLevel.DEBUG){let ee=`LRU Garbage Collection
	Counted targets in ${es-eh}ms
	Determined least recently used ${ei} in ${eo-es}ms
	Removed ${en} targets in ${ep-eo}ms
	Removed ${$} documents in ${eu-ep}ms
Total Duration: ${eu-eh}ms`;logDebug("LruGarbageCollector",ee)}return PersistencePromise.resolve({didRun:!0,sequenceNumbersCollected:ei,targetsRemoved:en,documentsRemoved:$})})}};function newLruGarbageCollector($,ee){return new LruGarbageCollectorImpl($,ee)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IndexedDbLruDelegateImpl=class IndexedDbLruDelegateImpl{constructor($,ee){this.db=$,this.garbageCollector=newLruGarbageCollector(this,ee)}getSequenceNumberCount($){let ee=this.orphanedDocumentCount($),er=this.db.getTargetCache().getTargetCount($);return er.next($=>ee.next(ee=>$+ee))}orphanedDocumentCount($){let ee=0;return this.forEachOrphanedDocumentSequenceNumber($,$=>{ee++}).next(()=>ee)}forEachTarget($,ee){return this.db.getTargetCache().forEachTarget($,ee)}forEachOrphanedDocumentSequenceNumber($,ee){return this.forEachOrphanedDocument($,($,er)=>ee(er))}addReference($,ee,er){return writeSentinelKey($,er)}removeReference($,ee,er){return writeSentinelKey($,er)}removeTargets($,ee,er){return this.db.getTargetCache().removeTargets($,ee,er)}markPotentiallyOrphaned($,ee){return writeSentinelKey($,ee)}isPinned($,ee){return mutationQueuesContainKey($,ee)}removeOrphanedDocuments($,ee){let er=this.db.getRemoteDocumentCache(),ei=er.newChangeBuffer(),en=[],es=0,eo=this.forEachOrphanedDocument($,(er,eo)=>{if(eo<=ee){let ee=this.isPinned($,er).next(ee=>{if(!ee)return es++,ei.getEntry($,er).next(()=>(ei.removeEntry(er,SnapshotVersion.min()),documentTargetStore($).delete(sentinelKey$1(er))))});en.push(ee)}});return eo.next(()=>PersistencePromise.waitFor(en)).next(()=>ei.apply($)).next(()=>es)}removeTarget($,ee){let er=ee.withSequenceNumber($.currentSequenceNumber);return this.db.getTargetCache().updateTargetData($,er)}updateLimboDocument($,ee){return writeSentinelKey($,ee)}forEachOrphanedDocument($,ee){let er;let ei=documentTargetStore($),en=ListenSequence.INVALID;return ei.iterate({index:rf},([$,ei],{path:es,sequenceNumber:eo})=>{0===$?(en!==ListenSequence.INVALID&&ee(new DocumentKey(decodeResourcePath(er)),en),en=eo,er=es):en=ListenSequence.INVALID}).next(()=>{en!==ListenSequence.INVALID&&ee(new DocumentKey(decodeResourcePath(er)),en)})}getCacheSize($){return this.db.getRemoteDocumentCache().getSize($)}};function sentinelKey$1($){return[0,encodeResourcePath($.path)]}function sentinelRow($,ee){return{targetId:0,path:encodeResourcePath($.path),sequenceNumber:ee}}function writeSentinelKey($,ee){return documentTargetStore($).put(sentinelRow(ee,$.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RemoteDocumentChangeBuffer=class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap($=>$.toString(),($,ee)=>$.isEqual(ee)),this.changesApplied=!1}addEntry($){this.assertNotApplied(),this.changes.set($.key,$)}removeEntry($,ee){this.assertNotApplied(),this.changes.set($,MutableDocument.newInvalidDocument($).setReadTime(ee))}getEntry($,ee){this.assertNotApplied();let er=this.changes.get(ee);return void 0!==er?PersistencePromise.resolve(er):this.getFromCache($,ee)}getEntries($,ee){return this.getAllFromCache($,ee)}apply($){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges($)}assertNotApplied(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IndexedDbRemoteDocumentCacheImpl=class IndexedDbRemoteDocumentCacheImpl{constructor($){this.serializer=$}setIndexManager($){this.indexManager=$}addEntry($,ee,er){let ei=remoteDocumentsStore($);return ei.put(er)}removeEntry($,ee,er){let ei=remoteDocumentsStore($);return ei.delete(dbReadTimeKey(ee,er))}updateMetadata($,ee){return this.getMetadata($).next(er=>(er.byteSize+=ee,this.setMetadata($,er)))}getEntry($,ee){let er=MutableDocument.newInvalidDocument(ee);return remoteDocumentsStore($).iterate({index:t7,range:IDBKeyRange.only(dbKey(ee))},($,ei)=>{er=this.maybeDecodeDocument(ee,ei)}).next(()=>er)}getSizedEntry($,ee){let er={size:0,document:MutableDocument.newInvalidDocument(ee)};return remoteDocumentsStore($).iterate({index:t7,range:IDBKeyRange.only(dbKey(ee))},($,ei)=>{er={document:this.maybeDecodeDocument(ee,ei),size:dbDocumentSize(ei)}}).next(()=>er)}getEntries($,ee){let er=mutableDocumentMap();return this.forEachDbEntry($,ee,($,ee)=>{let ei=this.maybeDecodeDocument($,ee);er=er.insert($,ei)}).next(()=>er)}getSizedEntries($,ee){let er=mutableDocumentMap(),ei=new SortedMap(DocumentKey.comparator);return this.forEachDbEntry($,ee,($,ee)=>{let en=this.maybeDecodeDocument($,ee);er=er.insert($,en),ei=ei.insert($,dbDocumentSize(ee))}).next(()=>({documents:er,sizeMap:ei}))}forEachDbEntry($,ee,er){if(ee.isEmpty())return PersistencePromise.resolve();let ei=new SortedSet(dbKeyComparator);ee.forEach($=>ei=ei.add($));let en=IDBKeyRange.bound(dbKey(ei.first()),dbKey(ei.last())),es=ei.getIterator(),eo=es.getNext();return remoteDocumentsStore($).iterate({index:t7,range:en},($,ee,ei)=>{let en=DocumentKey.fromSegments([...ee.prefixPath,ee.collectionGroup,ee.documentId]);for(;eo&&0>dbKeyComparator(eo,en);)er(eo,null),eo=es.getNext();eo&&eo.isEqual(en)&&(er(eo,ee),eo=es.hasNext()?es.getNext():null),eo?ei.skip(dbKey(eo)):ei.done()}).next(()=>{for(;eo;)er(eo,null),eo=es.hasNext()?es.getNext():null})}getDocumentsMatchingQuery($,ee,er,ei,en){let es=ee.path,eo=[es.popLast().toArray(),es.lastSegment(),toDbTimestampKey(er.readTime),er.documentKey.path.isEmpty()?"":er.documentKey.path.lastSegment()],ep=[es.popLast().toArray(),es.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return remoteDocumentsStore($).loadAll(IDBKeyRange.bound(eo,ep,!0)).next($=>{null==en||en.incrementDocumentReadCount($.length);let er=mutableDocumentMap();for(let en of $){let $=this.maybeDecodeDocument(DocumentKey.fromSegments(en.prefixPath.concat(en.collectionGroup,en.documentId)),en);$.isFoundDocument()&&(queryMatches(ee,$)||ei.has($.key))&&(er=er.insert($.key,$))}return er})}getAllFromCollectionGroup($,ee,er,ei){let en=mutableDocumentMap(),es=dbCollectionGroupKey(ee,er),eo=dbCollectionGroupKey(ee,IndexOffset.max());return remoteDocumentsStore($).iterate({index:rr,range:IDBKeyRange.bound(es,eo,!0)},($,ee,er)=>{let es=this.maybeDecodeDocument(DocumentKey.fromSegments(ee.prefixPath.concat(ee.collectionGroup,ee.documentId)),ee);(en=en.insert(es.key,es)).size===ei&&er.done()}).next(()=>en)}newChangeBuffer($){return new IndexedDbRemoteDocumentChangeBuffer(this,!!$&&$.trackRemovals)}getSize($){return this.getMetadata($).next($=>$.byteSize)}getMetadata($){return documentGlobalStore($).get(rs).next($=>(hardAssert(!!$),$))}setMetadata($,ee){return documentGlobalStore($).put(rs,ee)}maybeDecodeDocument($,ee){if(ee){let $=fromDbRemoteDocument(this.serializer,ee),er=$.isNoDocument()&&$.version.isEqual(SnapshotVersion.min());if(!er)return $}return MutableDocument.newInvalidDocument($)}};function newIndexedDbRemoteDocumentCache($){return new IndexedDbRemoteDocumentCacheImpl($)}let IndexedDbRemoteDocumentChangeBuffer=class IndexedDbRemoteDocumentChangeBuffer extends null{constructor($,ee){super(),this.documentCache=$,this.trackRemovals=ee,this.documentStates=new ObjectMap($=>$.toString(),($,ee)=>$.isEqual(ee))}applyChanges($){let ee=[],er=0,ei=new SortedSet(($,ee)=>primitiveComparator($.canonicalString(),ee.canonicalString()));return this.changes.forEach((en,es)=>{let eo=this.documentStates.get(en);if(ee.push(this.documentCache.removeEntry($,en,eo.readTime)),es.isValidDocument()){let ep=toDbRemoteDocument(this.documentCache.serializer,es);ei=ei.add(en.path.popLast());let eu=dbDocumentSize(ep);er+=eu-eo.size,ee.push(this.documentCache.addEntry($,en,ep))}else if(er-=eo.size,this.trackRemovals){let er=toDbRemoteDocument(this.documentCache.serializer,es.convertToNoDocument(SnapshotVersion.min()));ee.push(this.documentCache.addEntry($,en,er))}}),ei.forEach(er=>{ee.push(this.documentCache.indexManager.addToCollectionParentIndex($,er))}),ee.push(this.documentCache.updateMetadata($,er)),PersistencePromise.waitFor(ee)}getFromCache($,ee){return this.documentCache.getSizedEntry($,ee).next($=>(this.documentStates.set(ee,{size:$.size,readTime:$.document.readTime}),$.document))}getAllFromCache($,ee){return this.documentCache.getSizedEntries($,ee).next(({documents:$,sizeMap:ee})=>(ee.forEach((ee,er)=>{this.documentStates.set(ee,{size:er,readTime:$.get(ee).readTime})}),$))}};function documentGlobalStore($){return getStore($,rn)}function remoteDocumentsStore($){return getStore($,t3)}function dbKey($){let ee=$.path.toArray();return[ee.slice(0,ee.length-2),ee[ee.length-2],ee[ee.length-1]]}function dbReadTimeKey($,ee){let er=$.path.toArray();return[er.slice(0,er.length-2),er[er.length-2],toDbTimestampKey(ee),er[er.length-1]]}function dbCollectionGroupKey($,ee){let er=ee.documentKey.path.toArray();return[$,toDbTimestampKey(ee.readTime),er.slice(0,er.length-2),er.length>0?er[er.length-1]:""]}function dbKeyComparator($,ee){let er=$.path.toArray(),ei=ee.path.toArray(),en=0;for(let $=0;$<er.length-2&&$<ei.length-2;++$)if(en=primitiveComparator(er[$],ei[$]))return en;return(en=primitiveComparator(er.length,ei.length))||(en=primitiveComparator(er[er.length-2],ei[ei.length-2]))?en:primitiveComparator(er[er.length-1],ei[ei.length-1])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i0=15;/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OverlayedDocument=class OverlayedDocument{constructor($,ee){this.overlayedDocument=$,this.mutatedFields=ee}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LocalDocumentsView=class LocalDocumentsView{constructor($,ee,er,ei){this.remoteDocumentCache=$,this.mutationQueue=ee,this.documentOverlayCache=er,this.indexManager=ei}getDocument($,ee){let er=null;return this.documentOverlayCache.getOverlay($,ee).next(ei=>(er=ei,this.remoteDocumentCache.getEntry($,ee))).next($=>(null!==er&&mutationApplyToLocalView(er.mutation,$,FieldMask.empty(),Timestamp.now()),$))}getDocuments($,ee){return this.remoteDocumentCache.getEntries($,ee).next(ee=>this.getLocalViewOfDocuments($,ee,documentKeySet()).next(()=>ee))}getLocalViewOfDocuments($,ee,er=documentKeySet()){let ei=newOverlayMap();return this.populateOverlays($,ei,ee).next(()=>this.computeViews($,ee,ei,er).next($=>{let ee=documentMap();return $.forEach(($,er)=>{ee=ee.insert($,er.overlayedDocument)}),ee}))}getOverlayedDocuments($,ee){let er=newOverlayMap();return this.populateOverlays($,er,ee).next(()=>this.computeViews($,ee,er,documentKeySet()))}populateOverlays($,ee,er){let ei=[];return er.forEach($=>{ee.has($)||ei.push($)}),this.documentOverlayCache.getOverlays($,ei).next($=>{$.forEach(($,er)=>{ee.set($,er)})})}computeViews($,ee,er,ei){let en=mutableDocumentMap(),es=newDocumentKeyMap(),eo=newOverlayedDocumentMap();return ee.forEach(($,ee)=>{let eo=er.get(ee.key);ei.has(ee.key)&&(void 0===eo||eo.mutation instanceof PatchMutation)?en=en.insert(ee.key,ee):void 0!==eo?(es.set(ee.key,eo.mutation.getFieldMask()),mutationApplyToLocalView(eo.mutation,ee,eo.mutation.getFieldMask(),Timestamp.now())):es.set(ee.key,FieldMask.empty())}),this.recalculateAndSaveOverlays($,en).next($=>($.forEach(($,ee)=>es.set($,ee)),ee.forEach(($,ee)=>{var er;return eo.set($,new OverlayedDocument(ee,null!==(er=es.get($))&&void 0!==er?er:null))}),eo))}recalculateAndSaveOverlays($,ee){let er=newDocumentKeyMap(),ei=new SortedMap(($,ee)=>$-ee),en=documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys($,ee).next($=>{for(let en of $)en.keys().forEach($=>{let es=ee.get($);if(null===es)return;let eo=er.get($)||FieldMask.empty();eo=en.applyToLocalView(es,eo),er.set($,eo);let ep=(ei.get(en.batchId)||documentKeySet()).add($);ei=ei.insert(en.batchId,ep)})}).next(()=>{let es=[],eo=ei.getReverseIterator();for(;eo.hasNext();){let ei=eo.getNext(),ep=ei.key,eu=ei.value,eh=newMutationMap();eu.forEach($=>{if(!en.has($)){let ei=calculateOverlayMutation(ee.get($),er.get($));null!==ei&&eh.set($,ei),en=en.add($)}}),es.push(this.documentOverlayCache.saveOverlays($,ep,eh))}return PersistencePromise.waitFor(es)}).next(()=>er)}recalculateAndSaveOverlaysForDocumentKeys($,ee){return this.remoteDocumentCache.getEntries($,ee).next(ee=>this.recalculateAndSaveOverlays($,ee))}getDocumentsMatchingQuery($,ee,er,ei){return isDocumentQuery$1(ee)?this.getDocumentsMatchingDocumentQuery($,ee.path):isCollectionGroupQuery(ee)?this.getDocumentsMatchingCollectionGroupQuery($,ee,er,ei):this.getDocumentsMatchingCollectionQuery($,ee,er,ei)}getNextDocuments($,ee,er,ei){return this.remoteDocumentCache.getAllFromCollectionGroup($,ee,er,ei).next(en=>{let es=ei-en.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup($,ee,er.largestBatchId,ei-en.size):PersistencePromise.resolve(newOverlayMap()),eo=tF,ep=en;return es.next(ee=>PersistencePromise.forEach(ee,(ee,er)=>(eo<er.largestBatchId&&(eo=er.largestBatchId),en.get(ee))?PersistencePromise.resolve():this.remoteDocumentCache.getEntry($,ee).next($=>{ep=ep.insert(ee,$)})).next(()=>this.populateOverlays($,ee,en)).next(()=>this.computeViews($,ep,ee,documentKeySet())).next($=>({batchId:eo,changes:convertOverlayedDocumentMapToDocumentMap($)})))})}getDocumentsMatchingDocumentQuery($,ee){return this.getDocument($,new DocumentKey(ee)).next($=>{let ee=documentMap();return $.isFoundDocument()&&(ee=ee.insert($.key,$)),ee})}getDocumentsMatchingCollectionGroupQuery($,ee,er,ei){let en=ee.collectionGroup,es=documentMap();return this.indexManager.getCollectionParents($,en).next(eo=>PersistencePromise.forEach(eo,eo=>{let ep=asCollectionQueryAtPath(ee,eo.child(en));return this.getDocumentsMatchingCollectionQuery($,ep,er,ei).next($=>{$.forEach(($,ee)=>{es=es.insert($,ee)})})}).next(()=>es))}getDocumentsMatchingCollectionQuery($,ee,er,ei){let en;return this.documentOverlayCache.getOverlaysForCollection($,ee.path,er.largestBatchId).next(es=>(en=es,this.remoteDocumentCache.getDocumentsMatchingQuery($,ee,er,en,ei))).next($=>{en.forEach((ee,er)=>{let ei=er.getKey();null===$.get(ei)&&($=$.insert(ei,MutableDocument.newInvalidDocument(ei)))});let er=documentMap();return $.forEach(($,ei)=>{let es=en.get($);void 0!==es&&mutationApplyToLocalView(es.mutation,ei,FieldMask.empty(),Timestamp.now()),queryMatches(ee,ei)&&(er=er.insert($,ei))}),er})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MemoryBundleCache=class MemoryBundleCache{constructor($){this.serializer=$,this.bundles=new Map,this.namedQueries=new Map}getBundleMetadata($,ee){return PersistencePromise.resolve(this.bundles.get(ee))}saveBundleMetadata($,ee){return this.bundles.set(ee.id,fromBundleMetadata(ee)),PersistencePromise.resolve()}getNamedQuery($,ee){return PersistencePromise.resolve(this.namedQueries.get(ee))}saveNamedQuery($,ee){return this.namedQueries.set(ee.name,fromProtoNamedQuery(ee)),PersistencePromise.resolve()}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MemoryDocumentOverlayCache=class MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.overlayByBatchId=new Map}getOverlay($,ee){return PersistencePromise.resolve(this.overlays.get(ee))}getOverlays($,ee){let er=newOverlayMap();return PersistencePromise.forEach(ee,ee=>this.getOverlay($,ee).next($=>{null!==$&&er.set(ee,$)})).next(()=>er)}saveOverlays($,ee,er){return er.forEach((er,ei)=>{this.saveOverlay($,ee,ei)}),PersistencePromise.resolve()}removeOverlaysForBatchId($,ee,er){let ei=this.overlayByBatchId.get(er);return void 0!==ei&&(ei.forEach($=>this.overlays=this.overlays.remove($)),this.overlayByBatchId.delete(er)),PersistencePromise.resolve()}getOverlaysForCollection($,ee,er){let ei=newOverlayMap(),en=ee.length+1,es=new DocumentKey(ee.child("")),eo=this.overlays.getIteratorFrom(es);for(;eo.hasNext();){let $=eo.getNext(),es=$.value,ep=es.getKey();if(!ee.isPrefixOf(ep.path))break;ep.path.length===en&&es.largestBatchId>er&&ei.set(es.getKey(),es)}return PersistencePromise.resolve(ei)}getOverlaysForCollectionGroup($,ee,er,ei){let en=new SortedMap(($,ee)=>$-ee),es=this.overlays.getIterator();for(;es.hasNext();){let $=es.getNext(),ei=$.value,eo=ei.getKey();if(eo.getCollectionGroup()===ee&&ei.largestBatchId>er){let $=en.get(ei.largestBatchId);null===$&&($=newOverlayMap(),en=en.insert(ei.largestBatchId,$)),$.set(ei.getKey(),ei)}}let eo=newOverlayMap(),ep=en.getIterator();for(;ep.hasNext();){let $=ep.getNext(),ee=$.value;if(ee.forEach(($,ee)=>eo.set($,ee)),eo.size()>=ei)break}return PersistencePromise.resolve(eo)}saveOverlay($,ee,er){let ei=this.overlays.get(er.key);if(null!==ei){let $=this.overlayByBatchId.get(ei.largestBatchId).delete(er.key);this.overlayByBatchId.set(ei.largestBatchId,$)}this.overlays=this.overlays.insert(er.key,new Overlay(ee,er));let en=this.overlayByBatchId.get(ee);void 0===en&&(en=documentKeySet(),this.overlayByBatchId.set(ee,en)),this.overlayByBatchId.set(ee,en.add(er.key))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ReferenceSet=class ReferenceSet{constructor(){this.refsByKey=new SortedSet(DocReference.compareByKey),this.refsByTarget=new SortedSet(DocReference.compareByTargetId)}isEmpty(){return this.refsByKey.isEmpty()}addReference($,ee){let er=new DocReference($,ee);this.refsByKey=this.refsByKey.add(er),this.refsByTarget=this.refsByTarget.add(er)}addReferences($,ee){$.forEach($=>this.addReference($,ee))}removeReference($,ee){this.removeRef(new DocReference($,ee))}removeReferences($,ee){$.forEach($=>this.removeReference($,ee))}removeReferencesForId($){let ee=new DocumentKey(new ResourcePath([])),er=new DocReference(ee,$),ei=new DocReference(ee,$+1),en=[];return this.refsByTarget.forEachInRange([er,ei],$=>{this.removeRef($),en.push($.key)}),en}removeAllReferences(){this.refsByKey.forEach($=>this.removeRef($))}removeRef($){this.refsByKey=this.refsByKey.delete($),this.refsByTarget=this.refsByTarget.delete($)}referencesForId($){let ee=new DocumentKey(new ResourcePath([])),er=new DocReference(ee,$),ei=new DocReference(ee,$+1),en=documentKeySet();return this.refsByTarget.forEachInRange([er,ei],$=>{en=en.add($.key)}),en}containsKey($){let ee=new DocReference($,0),er=this.refsByKey.firstAfterOrEqual(ee);return null!==er&&$.isEqual(er.key)}};let DocReference=class DocReference{constructor($,ee){this.key=$,this.targetOrBatchId=ee}static compareByKey($,ee){return DocumentKey.comparator($.key,ee.key)||primitiveComparator($.targetOrBatchId,ee.targetOrBatchId)}static compareByTargetId($,ee){return primitiveComparator($.targetOrBatchId,ee.targetOrBatchId)||DocumentKey.comparator($.key,ee.key)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MemoryMutationQueue=class MemoryMutationQueue{constructor($,ee){this.indexManager=$,this.referenceDelegate=ee,this.mutationQueue=[],this.nextBatchId=1,this.batchesByDocumentKey=new SortedSet(DocReference.compareByKey)}checkEmpty($){return PersistencePromise.resolve(0===this.mutationQueue.length)}addMutationBatch($,ee,er,ei){let en=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let es=new MutationBatch(en,ee,er,ei);for(let ee of(this.mutationQueue.push(es),ei))this.batchesByDocumentKey=this.batchesByDocumentKey.add(new DocReference(ee.key,en)),this.indexManager.addToCollectionParentIndex($,ee.key.path.popLast());return PersistencePromise.resolve(es)}lookupMutationBatch($,ee){return PersistencePromise.resolve(this.findMutationBatch(ee))}getNextMutationBatchAfterBatchId($,ee){let er=ee+1,ei=this.indexOfBatchId(er),en=ei<0?0:ei;return PersistencePromise.resolve(this.mutationQueue.length>en?this.mutationQueue[en]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(0===this.mutationQueue.length?r5:this.nextBatchId-1)}getAllMutationBatches($){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey($,ee){let er=new DocReference(ee,0),ei=new DocReference(ee,Number.POSITIVE_INFINITY),en=[];return this.batchesByDocumentKey.forEachInRange([er,ei],$=>{let ee=this.findMutationBatch($.targetOrBatchId);en.push(ee)}),PersistencePromise.resolve(en)}getAllMutationBatchesAffectingDocumentKeys($,ee){let er=new SortedSet(primitiveComparator);return ee.forEach($=>{let ee=new DocReference($,0),ei=new DocReference($,Number.POSITIVE_INFINITY);this.batchesByDocumentKey.forEachInRange([ee,ei],$=>{er=er.add($.targetOrBatchId)})}),PersistencePromise.resolve(this.findMutationBatches(er))}getAllMutationBatchesAffectingQuery($,ee){let er=ee.path,ei=er.length+1,en=er;DocumentKey.isDocumentKey(en)||(en=en.child(""));let es=new DocReference(new DocumentKey(en),0),eo=new SortedSet(primitiveComparator);return this.batchesByDocumentKey.forEachWhile($=>{let ee=$.key.path;return!!er.isPrefixOf(ee)&&(ee.length===ei&&(eo=eo.add($.targetOrBatchId)),!0)},es),PersistencePromise.resolve(this.findMutationBatches(eo))}findMutationBatches($){let ee=[];return $.forEach($=>{let er=this.findMutationBatch($);null!==er&&ee.push(er)}),ee}removeMutationBatch($,ee){let er=this.indexOfExistingBatchId(ee.batchId,"removed");hardAssert(0===er),this.mutationQueue.shift();let ei=this.batchesByDocumentKey;return PersistencePromise.forEach(ee.mutations,er=>{let en=new DocReference(er.key,ee.batchId);return ei=ei.delete(en),this.referenceDelegate.markPotentiallyOrphaned($,er.key)}).next(()=>{this.batchesByDocumentKey=ei})}removeCachedMutationKeys($){}containsKey($,ee){let er=new DocReference(ee,0),ei=this.batchesByDocumentKey.firstAfterOrEqual(er);return PersistencePromise.resolve(ee.isEqual(ei&&ei.key))}performConsistencyCheck($){return this.mutationQueue.length,PersistencePromise.resolve()}indexOfExistingBatchId($,ee){let er=this.indexOfBatchId($);return er}indexOfBatchId($){if(0===this.mutationQueue.length)return 0;let ee=this.mutationQueue[0].batchId;return $-ee}findMutationBatch($){let ee=this.indexOfBatchId($);if(ee<0||ee>=this.mutationQueue.length)return null;let er=this.mutationQueue[ee];return er}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function documentEntryMap(){return new SortedMap(DocumentKey.comparator)}let MemoryRemoteDocumentCacheImpl=class MemoryRemoteDocumentCacheImpl{constructor($){this.sizer=$,this.docs=documentEntryMap(),this.size=0}setIndexManager($){this.indexManager=$}addEntry($,ee){let er=ee.key,ei=this.docs.get(er),en=ei?ei.size:0,es=this.sizer(ee);return this.docs=this.docs.insert(er,{document:ee.mutableCopy(),size:es}),this.size+=es-en,this.indexManager.addToCollectionParentIndex($,er.path.popLast())}removeEntry($){let ee=this.docs.get($);ee&&(this.docs=this.docs.remove($),this.size-=ee.size)}getEntry($,ee){let er=this.docs.get(ee);return PersistencePromise.resolve(er?er.document.mutableCopy():MutableDocument.newInvalidDocument(ee))}getEntries($,ee){let er=mutableDocumentMap();return ee.forEach($=>{let ee=this.docs.get($);er=er.insert($,ee?ee.document.mutableCopy():MutableDocument.newInvalidDocument($))}),PersistencePromise.resolve(er)}getDocumentsMatchingQuery($,ee,er,ei){let en=mutableDocumentMap(),es=ee.path,eo=new DocumentKey(es.child("")),ep=this.docs.getIteratorFrom(eo);for(;ep.hasNext();){let{key:$,value:{document:eo}}=ep.getNext();if(!es.isPrefixOf($.path))break;!($.path.length>es.length+1||0>=indexOffsetComparator(newIndexOffsetFromDocument(eo),er))&&(ei.has(eo.key)||queryMatches(ee,eo))&&(en=en.insert(eo.key,eo.mutableCopy()))}return PersistencePromise.resolve(en)}getAllFromCollectionGroup($,ee,er,ei){fail()}forEachDocumentKey($,ee){return PersistencePromise.forEach(this.docs,$=>ee($))}newChangeBuffer($){return new MemoryRemoteDocumentChangeBuffer(this)}getSize($){return PersistencePromise.resolve(this.size)}};function newMemoryRemoteDocumentCache($){return new MemoryRemoteDocumentCacheImpl($)}let MemoryRemoteDocumentChangeBuffer=class MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor($){super(),this.documentCache=$}applyChanges($){let ee=[];return this.changes.forEach((er,ei)=>{ei.isValidDocument()?ee.push(this.documentCache.addEntry($,ei)):this.documentCache.removeEntry(er)}),PersistencePromise.waitFor(ee)}getFromCache($,ee){return this.documentCache.getEntry($,ee)}getAllFromCache($,ee){return this.documentCache.getEntries($,ee)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MemoryTargetCache=class MemoryTargetCache{constructor($){this.persistence=$,this.targets=new ObjectMap($=>canonifyTarget($),targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new ReferenceSet,this.targetCount=0,this.targetIdGenerator=TargetIdGenerator.forTargetCache()}forEachTarget($,ee){return this.targets.forEach(($,er)=>ee(er)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion($){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber($){return PersistencePromise.resolve(this.highestSequenceNumber)}allocateTargetId($){return this.highestTargetId=this.targetIdGenerator.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata($,ee,er){return er&&(this.lastRemoteSnapshotVersion=er),ee>this.highestSequenceNumber&&(this.highestSequenceNumber=ee),PersistencePromise.resolve()}saveTargetData($){this.targets.set($.target,$);let ee=$.targetId;ee>this.highestTargetId&&(this.targetIdGenerator=new TargetIdGenerator(ee),this.highestTargetId=ee),$.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=$.sequenceNumber)}addTargetData($,ee){return this.saveTargetData(ee),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData($,ee){return this.saveTargetData(ee),PersistencePromise.resolve()}removeTargetData($,ee){return this.targets.delete(ee.target),this.references.removeReferencesForId(ee.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets($,ee,er){let ei=0,en=[];return this.targets.forEach((es,eo)=>{eo.sequenceNumber<=ee&&null===er.get(eo.targetId)&&(this.targets.delete(es),en.push(this.removeMatchingKeysForTargetId($,eo.targetId)),ei++)}),PersistencePromise.waitFor(en).next(()=>ei)}getTargetCount($){return PersistencePromise.resolve(this.targetCount)}getTargetData($,ee){let er=this.targets.get(ee)||null;return PersistencePromise.resolve(er)}addMatchingKeys($,ee,er){return this.references.addReferences(ee,er),PersistencePromise.resolve()}removeMatchingKeys($,ee,er){this.references.removeReferences(ee,er);let ei=this.persistence.referenceDelegate,en=[];return ei&&ee.forEach(ee=>{en.push(ei.markPotentiallyOrphaned($,ee))}),PersistencePromise.waitFor(en)}removeMatchingKeysForTargetId($,ee){return this.references.removeReferencesForId(ee),PersistencePromise.resolve()}getMatchingKeysForTargetId($,ee){let er=this.references.referencesForId(ee);return PersistencePromise.resolve(er)}containsKey($,ee){return PersistencePromise.resolve(this.references.containsKey(ee))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i2="MemoryPersistence";let MemoryPersistence=class MemoryPersistence{constructor($,ee){this.mutationQueues={},this.overlays={},this.listenSequence=new ListenSequence(0),this._started=!1,this._started=!0,this.referenceDelegate=$(this),this.targetCache=new MemoryTargetCache(this);let sizer=$=>this.referenceDelegate.documentSize($);this.indexManager=new MemoryIndexManager,this.remoteDocumentCache=newMemoryRemoteDocumentCache(sizer),this.serializer=new LocalSerializer(ee),this.bundleCache=new MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this._started=!1,Promise.resolve()}get started(){return this._started}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager($){return this.indexManager}getDocumentOverlayCache($){let ee=this.overlays[$.toKey()];return ee||(ee=new MemoryDocumentOverlayCache,this.overlays[$.toKey()]=ee),ee}getMutationQueue($,ee){let er=this.mutationQueues[$.toKey()];return er||(er=new MemoryMutationQueue(ee,this.referenceDelegate),this.mutationQueues[$.toKey()]=er),er}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.bundleCache}runTransaction($,ee,er){logDebug(i2,"Starting transaction:",$);let ei=new MemoryTransaction(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),er(ei).next($=>this.referenceDelegate.onTransactionCommitted(ei).next(()=>$)).toPromise().then($=>(ei.raiseOnCommittedEvent(),$))}mutationQueuesContainKey($,ee){return PersistencePromise.or(Object.values(this.mutationQueues).map(er=>()=>er.containsKey($,ee)))}};let MemoryTransaction=class MemoryTransaction extends PersistenceTransaction{constructor($){super(),this.currentSequenceNumber=$}};let MemoryEagerDelegate=class MemoryEagerDelegate{constructor($){this.persistence=$,this.localViewReferences=new ReferenceSet,this._orphanedDocuments=null}static factory($){return new MemoryEagerDelegate($)}get orphanedDocuments(){if(this._orphanedDocuments)return this._orphanedDocuments;throw fail()}addReference($,ee,er){return this.localViewReferences.addReference(er,ee),this.orphanedDocuments.delete(er.toString()),PersistencePromise.resolve()}removeReference($,ee,er){return this.localViewReferences.removeReference(er,ee),this.orphanedDocuments.add(er.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned($,ee){return this.orphanedDocuments.add(ee.toString()),PersistencePromise.resolve()}removeTarget($,ee){let er=this.localViewReferences.removeReferencesForId(ee.targetId);er.forEach($=>this.orphanedDocuments.add($.toString()));let ei=this.persistence.getTargetCache();return ei.getMatchingKeysForTargetId($,ee.targetId).next($=>{$.forEach($=>this.orphanedDocuments.add($.toString()))}).next(()=>ei.removeTargetData($,ee))}onTransactionStarted(){this._orphanedDocuments=new Set}onTransactionCommitted($){let ee=this.persistence.getRemoteDocumentCache(),er=ee.newChangeBuffer();return PersistencePromise.forEach(this.orphanedDocuments,ee=>{let ei=DocumentKey.fromPath(ee);return this.isReferenced($,ei).next($=>{$||er.removeEntry(ei,SnapshotVersion.min())})}).next(()=>(this._orphanedDocuments=null,er.apply($)))}updateLimboDocument($,ee){return this.isReferenced($,ee).next($=>{$?this.orphanedDocuments.delete(ee.toString()):this.orphanedDocuments.add(ee.toString())})}documentSize($){return 0}isReferenced($,ee){return PersistencePromise.or([()=>PersistencePromise.resolve(this.localViewReferences.containsKey(ee)),()=>this.persistence.getTargetCache().containsKey($,ee),()=>this.persistence.mutationQueuesContainKey($,ee)])}};let MemoryLruDelegate=class MemoryLruDelegate{constructor($,ee){this.persistence=$,this.orphanedSequenceNumbers=new ObjectMap($=>encodeResourcePath($.path),($,ee)=>$.isEqual(ee)),this.garbageCollector=newLruGarbageCollector(this,ee)}static factory($,ee){return new MemoryLruDelegate($,ee)}onTransactionStarted(){}onTransactionCommitted($){return PersistencePromise.resolve()}forEachTarget($,ee){return this.persistence.getTargetCache().forEachTarget($,ee)}getSequenceNumberCount($){let ee=this.orphanedDocumentCount($),er=this.persistence.getTargetCache().getTargetCount($);return er.next($=>ee.next(ee=>$+ee))}orphanedDocumentCount($){let ee=0;return this.forEachOrphanedDocumentSequenceNumber($,$=>{ee++}).next(()=>ee)}forEachOrphanedDocumentSequenceNumber($,ee){return PersistencePromise.forEach(this.orphanedSequenceNumbers,(er,ei)=>this.isPinned($,er,ei).next($=>$?PersistencePromise.resolve():ee(ei)))}removeTargets($,ee,er){return this.persistence.getTargetCache().removeTargets($,ee,er)}removeOrphanedDocuments($,ee){let er=0,ei=this.persistence.getRemoteDocumentCache(),en=ei.newChangeBuffer(),es=ei.forEachDocumentKey($,ei=>this.isPinned($,ei,ee).next($=>{$||(er++,en.removeEntry(ei,SnapshotVersion.min()))}));return es.next(()=>en.apply($)).next(()=>er)}markPotentiallyOrphaned($,ee){return this.orphanedSequenceNumbers.set(ee,$.currentSequenceNumber),PersistencePromise.resolve()}removeTarget($,ee){let er=ee.withSequenceNumber($.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData($,er)}addReference($,ee,er){return this.orphanedSequenceNumbers.set(er,$.currentSequenceNumber),PersistencePromise.resolve()}removeReference($,ee,er){return this.orphanedSequenceNumbers.set(er,$.currentSequenceNumber),PersistencePromise.resolve()}updateLimboDocument($,ee){return this.orphanedSequenceNumbers.set(ee,$.currentSequenceNumber),PersistencePromise.resolve()}documentSize($){let ee=$.key.toString().length;return $.isFoundDocument()&&(ee+=estimateByteSize($.data.value)),ee}isPinned($,ee,er){return PersistencePromise.or([()=>this.persistence.mutationQueuesContainKey($,ee),()=>this.persistence.getTargetCache().containsKey($,ee),()=>{let $=this.orphanedSequenceNumbers.get(ee);return PersistencePromise.resolve(void 0!==$&&$>er)}])}getCacheSize($){return this.persistence.getRemoteDocumentCache().getSize($)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SchemaConverter=class SchemaConverter{constructor($){this.serializer=$}createOrUpgrade($,ee,er,ei){let en=new SimpleDbTransaction("createOrUpgrade",ee);er<1&&ei>=1&&(createPrimaryClientStore($),createMutationQueue($),createQueryCache($),createLegacyRemoteDocumentCache($));let es=PersistencePromise.resolve();return er<3&&ei>=3&&(0!==er&&(dropQueryCache($),createQueryCache($)),es=es.next(()=>writeEmptyTargetGlobalEntry(en))),er<4&&ei>=4&&(0!==er&&(es=es.next(()=>upgradeMutationBatchSchemaAndMigrateData($,en))),es=es.next(()=>{createClientMetadataStore($)})),er<5&&ei>=5&&(es=es.next(()=>this.removeAcknowledgedMutations(en))),er<6&&ei>=6&&(es=es.next(()=>(createDocumentGlobalStore($),this.addDocumentGlobal(en)))),er<7&&ei>=7&&(es=es.next(()=>this.ensureSequenceNumbers(en))),er<8&&ei>=8&&(es=es.next(()=>this.createCollectionParentIndex($,en))),er<9&&ei>=9&&(es=es.next(()=>{dropRemoteDocumentChangesStore($)})),er<10&&ei>=10&&(es=es.next(()=>this.rewriteCanonicalIds(en))),er<11&&ei>=11&&(es=es.next(()=>{createBundlesStore($),createNamedQueriesStore($)})),er<12&&ei>=12&&(es=es.next(()=>{createDocumentOverlayStore($)})),er<13&&ei>=13&&(es=es.next(()=>createRemoteDocumentCache($)).next(()=>this.rewriteRemoteDocumentCache($,en)).next(()=>$.deleteObjectStore(tY))),er<14&&ei>=14&&(es=es.next(()=>this.runOverlayMigration($,en))),er<15&&ei>=15&&(es=es.next(()=>createFieldIndex($))),es}addDocumentGlobal($){let ee=0;return $.store(tY).iterate(($,er)=>{ee+=dbDocumentSize(er)}).next(()=>{let er={byteSize:ee};return $.store(rn).put(rs,er)})}removeAcknowledgedMutations($){let ee=$.store(tZ),er=$.store(t0);return ee.loadAll().next(ee=>PersistencePromise.forEach(ee,ee=>{let ei=IDBKeyRange.bound([ee.userId,r5],[ee.userId,ee.lastAcknowledgedBatchId]);return er.loadAll(t4,ei).next(er=>PersistencePromise.forEach(er,er=>{hardAssert(er.userId===ee.userId);let ei=fromDbMutationBatch(this.serializer,er);return removeMutationBatch($,ee.userId,ei).next(()=>{})}))}))}ensureSequenceNumbers($){let ee=$.store(rh),er=$.store(tY),ei=$.store(rv);return ei.get(ry).next($=>{let writeSentinelKey=er=>ee.put({targetId:0,path:encodeResourcePath(er),sequenceNumber:$.highestListenSequenceNumber}),ei=[];return er.iterate(($,er)=>{let en=new ResourcePath($),es=sentinelKey(en);ei.push(ee.get(es).next($=>$?PersistencePromise.resolve():writeSentinelKey(en)))}).next(()=>PersistencePromise.waitFor(ei))})}createCollectionParentIndex($,ee){$.createObjectStore(rx,{keyPath:rS});let er=ee.store(rx),ei=new MemoryCollectionParentIndex,addEntry=$=>{if(ei.add($)){let ee=$.lastSegment(),ei=$.popLast();return er.put({collectionId:ee,parent:encodeResourcePath(ei)})}};return ee.store(tY).iterate({keysOnly:!0},($,ee)=>{let er=new ResourcePath($);return addEntry(er.popLast())}).next(()=>ee.store(t9).iterate({keysOnly:!0},([$,ee,er],ei)=>{let en=decodeResourcePath(ee);return addEntry(en.popLast())}))}rewriteCanonicalIds($){let ee=$.store(ro);return ee.iterate(($,er)=>{let ei=fromDbTarget(er),en=toDbTarget(this.serializer,ei);return ee.put(en)})}rewriteRemoteDocumentCache($,ee){let er=ee.store(tY),ei=[];return er.iterate(($,er)=>{let en=ee.store(t3),es=extractKey(er).path.toArray(),eo={prefixPath:es.slice(0,es.length-2),collectionGroup:es[es.length-2],documentId:es[es.length-1],readTime:er.readTime||[0,0],unknownDocument:er.unknownDocument,noDocument:er.noDocument,document:er.document,hasCommittedMutations:!!er.hasCommittedMutations};ei.push(en.put(eo))}).next(()=>PersistencePromise.waitFor(ei))}runOverlayMigration($,ee){let er=ee.store(t0),ei=newIndexedDbRemoteDocumentCache(this.serializer),en=new MemoryPersistence(MemoryEagerDelegate.factory,this.serializer.remoteSerializer);return er.loadAll().next($=>{let er=new Map;return $.forEach($=>{var ee;let ei=null!==(ee=er.get($.userId))&&void 0!==ee?ee:documentKeySet(),en=fromDbMutationBatch(this.serializer,$);en.keys().forEach($=>ei=ei.add($)),er.set($.userId,ei)}),PersistencePromise.forEach(er,($,er)=>{let es=new User(er),eo=IndexedDbDocumentOverlayCache.forUser(this.serializer,es),ep=en.getIndexManager(es),eu=IndexedDbMutationQueue.forUser(es,this.serializer,ep,en.referenceDelegate),eh=new LocalDocumentsView(ei,eu,eo,ep);return eh.recalculateAndSaveOverlaysForDocumentKeys(new IndexedDbTransaction(ee,ListenSequence.INVALID),$).next()})})}};function sentinelKey($){return[0,encodeResourcePath($)]}function createPrimaryClientStore($){$.createObjectStore(tJ)}function createMutationQueue($){$.createObjectStore(tZ,{keyPath:t1});let ee=$.createObjectStore(t0,{keyPath:t2,autoIncrement:!0});ee.createIndex(t4,t6,{unique:!0}),$.createObjectStore(t9)}function upgradeMutationBatchSchemaAndMigrateData($,ee){let er=ee.store(t0);return er.loadAll().next(er=>{$.deleteObjectStore(t0);let ei=$.createObjectStore(t0,{keyPath:t2,autoIncrement:!0});ei.createIndex(t4,t6,{unique:!0});let en=ee.store(t0),es=er.map($=>en.put($));return PersistencePromise.waitFor(es)})}function createLegacyRemoteDocumentCache($){$.createObjectStore(tY)}function createRemoteDocumentCache($){let ee=$.createObjectStore(t3,{keyPath:t5});ee.createIndex(t7,rt),ee.createIndex(rr,ri)}function createDocumentGlobalStore($){$.createObjectStore(rn)}function createQueryCache($){let ee=$.createObjectStore(rh,{keyPath:rm});ee.createIndex(rf,rg,{unique:!0});let er=$.createObjectStore(ro,{keyPath:rl});er.createIndex(rp,ru,{unique:!0}),$.createObjectStore(rv)}function dropQueryCache($){$.deleteObjectStore(rh),$.deleteObjectStore(ro),$.deleteObjectStore(rv)}function dropRemoteDocumentChangesStore($){$.objectStoreNames.contains("remoteDocumentChanges")&&$.deleteObjectStore("remoteDocumentChanges")}function writeEmptyTargetGlobalEntry($){let ee=$.store(rv),er={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:SnapshotVersion.min().toTimestamp(),targetCount:0};return ee.put(ry,er)}function createClientMetadataStore($){$.createObjectStore(r_,{keyPath:rw})}function createBundlesStore($){$.createObjectStore(rC,{keyPath:rT})}function createNamedQueriesStore($){$.createObjectStore(rE,{keyPath:rI})}function createFieldIndex($){let ee=$.createObjectStore(rD,{keyPath:rR,autoIncrement:!0});ee.createIndex(rP,rN,{unique:!1});let er=$.createObjectStore(rA,{keyPath:rk});er.createIndex(rO,rM,{unique:!1});let ei=$.createObjectStore(rF,{keyPath:rL});ei.createIndex(rB,rV,{unique:!1})}function createDocumentOverlayStore($){let ee=$.createObjectStore(rU,{keyPath:rj});ee.createIndex(rq,rz,{unique:!1}),ee.createIndex(rW,rH,{unique:!1})}function extractKey($){return $.document?new DocumentKey(ResourcePath.fromString($.document.name).popFirst(5)):$.noDocument?DocumentKey.fromSegments($.noDocument.path):$.unknownDocument?DocumentKey.fromSegments($.unknownDocument.path):fail()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i4="IndexedDbPersistence",i6=null,i8=5e3,i9=4e3,i3=null,i5=null,i7="firestore_zombie",ar="main";let IndexedDbPersistence=class IndexedDbPersistence{constructor($,ee,er,ei,en,es,eo,ep,eu,eh,em=i0){if(this.allowTabSynchronization=$,this.persistenceKey=ee,this.clientId=er,this.queue=en,this.window=es,this.document=eo,this.sequenceNumberSyncer=eu,this.forceOwningTab=eh,this.schemaVersion=em,this.listenSequence=null,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=$=>Promise.resolve(),!IndexedDbPersistence.isAvailable())throw new FirestoreError(tN.UNIMPLEMENTED,i5);this.referenceDelegate=new IndexedDbLruDelegateImpl(this,ei),this.dbName=ee+ar,this.serializer=new LocalSerializer(ep),this.simpleDb=new SimpleDb(this.dbName,this.schemaVersion,new SchemaConverter(this.serializer)),this.targetCache=new IndexedDbTargetCache(this.referenceDelegate,this.serializer),this.remoteDocumentCache=newIndexedDbRemoteDocumentCache(this.serializer),this.bundleCache=new IndexedDbBundleCache,this.window&&this.window.localStorage?this.webStorage=this.window.localStorage:(this.webStorage=null,!1===eh&&logError(i4,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.updateClientMetadataAndTryBecomePrimary().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new FirestoreError(tN.FAILED_PRECONDITION,i3);return this.attachVisibilityHandler(),this.attachWindowUnloadHook(),this.scheduleClientMetadataAndPrimaryLeaseRefreshes(),this.runTransaction("getHighestListenSequenceNumber","readonly",$=>this.targetCache.getHighestSequenceNumber($))}).then($=>{this.listenSequence=new ListenSequence($,this.sequenceNumberSyncer)}).then(()=>{this._started=!0}).catch($=>(this.simpleDb&&this.simpleDb.close(),Promise.reject($)))}setPrimaryStateListener($){return this.primaryStateListener=async ee=>{if(this.started)return $(ee)},$(this.isPrimary)}setDatabaseDeletedListener($){this.simpleDb.setVersionChangeListener(async ee=>{null===ee.newVersion&&await $()})}setNetworkEnabled($){this.networkEnabled!==$&&(this.networkEnabled=$,this.queue.enqueueAndForget(async()=>{this.started&&await this.updateClientMetadataAndTryBecomePrimary()}))}updateClientMetadataAndTryBecomePrimary(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",$=>{let ee=clientMetadataStore($);return ee.put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.verifyPrimaryLease($).next($=>{$||(this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)))})}).next(()=>this.canActAsPrimary($)).next(ee=>this.isPrimary&&!ee?this.releasePrimaryLeaseIfHeld($).next(()=>!1):!!ee&&this.acquireOrExtendPrimaryLease($).next(()=>!0))}).catch($=>{if(isIndexedDbTransactionError($))return logDebug(i4,"Failed to extend owner lease: ",$),this.isPrimary;if(!this.allowTabSynchronization)throw $;return logDebug(i4,"Releasing owner lease after error during lease refresh",$),!1}).then($=>{this.isPrimary!==$&&this.queue.enqueueRetryable(()=>this.primaryStateListener($)),this.isPrimary=$})}verifyPrimaryLease($){let ee=primaryClientStore($);return ee.get(tX).next($=>PersistencePromise.resolve(this.isLocalClient($)))}removeClientMetadata($){let ee=clientMetadataStore($);return ee.delete(this.clientId)}async maybeGarbageCollectMultiClientState(){if(this.isPrimary&&!this.isWithinAge(this.lastGarbageCollectionTime,i6)){this.lastGarbageCollectionTime=Date.now();let $=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",$=>{let ee=getStore($,r_);return ee.loadAll().next($=>{let er=this.filterActiveClients($,i6),ei=$.filter($=>-1===er.indexOf($));return PersistencePromise.forEach(ei,$=>ee.delete($.clientId)).next(()=>ei)})}).catch(()=>[]);if(this.webStorage)for(let ee of $)this.webStorage.removeItem(this.zombiedClientLocalStorageKey(ee.clientId))}}scheduleClientMetadataAndPrimaryLeaseRefreshes(){this.clientMetadataRefresher=this.queue.enqueueAfterDelay("client_metadata_refresh",i9,()=>this.updateClientMetadataAndTryBecomePrimary().then(()=>this.maybeGarbageCollectMultiClientState()).then(()=>this.scheduleClientMetadataAndPrimaryLeaseRefreshes()))}isLocalClient($){return!!$&&$.ownerId===this.clientId}canActAsPrimary($){if(this.forceOwningTab)return PersistencePromise.resolve(!0);let ee=primaryClientStore($);return ee.get(tX).next(ee=>{let er=null!==ee&&this.isWithinAge(ee.leaseTimestampMs,i8)&&!this.isClientZombied(ee.ownerId);if(er){if(this.isLocalClient(ee)&&this.networkEnabled)return!0;if(!this.isLocalClient(ee)){if(!ee.allowTabSynchronization)throw new FirestoreError(tN.FAILED_PRECONDITION,i3);return!1}}return!!this.networkEnabled&&!!this.inForeground||clientMetadataStore($).loadAll().next($=>{let ee=this.filterActiveClients($,i8).find($=>{if(this.clientId!==$.clientId){let ee=!this.networkEnabled&&$.networkEnabled,er=!this.inForeground&&$.inForeground,ei=this.networkEnabled===$.networkEnabled;if(ee||er&&ei)return!0}return!1});return void 0===ee})}).next($=>(this.isPrimary!==$&&logDebug(i4,`Client ${$?"is":"is not"} eligible for a primary lease.`),$))}async shutdown(){this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),await this.simpleDb.runTransaction("shutdown","readwrite",[tJ,r_],$=>{let ee=new IndexedDbTransaction($,ListenSequence.INVALID);return this.releasePrimaryLeaseIfHeld(ee).next(()=>this.removeClientMetadata(ee))}),this.simpleDb.close(),this.removeClientZombiedEntry()}filterActiveClients($,ee){return $.filter($=>this.isWithinAge($.updateTimeMs,ee)&&!this.isClientZombied($.clientId))}getActiveClients(){return this.runTransaction("getActiveClients","readonly",$=>clientMetadataStore($).loadAll().next($=>this.filterActiveClients($,i6).map($=>$.clientId)))}get started(){return this._started}getMutationQueue($,ee){return IndexedDbMutationQueue.forUser($,this.serializer,ee,this.referenceDelegate)}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager($){return new IndexedDbIndexManager($,this.serializer.remoteSerializer.databaseId)}getDocumentOverlayCache($){return IndexedDbDocumentOverlayCache.forUser(this.serializer,$)}getBundleCache(){return this.bundleCache}runTransaction($,ee,er){let ei;logDebug(i4,"Starting transaction:",$);let en="readonly"===ee?"readonly":"readwrite",es=getObjectStores(this.schemaVersion);return this.simpleDb.runTransaction($,en,es,en=>(ei=new IndexedDbTransaction(en,this.listenSequence?this.listenSequence.next():ListenSequence.INVALID),"readwrite-primary"===ee)?this.verifyPrimaryLease(ei).next($=>!!$||this.canActAsPrimary(ei)).next(ee=>{if(!ee)throw logError(`Failed to obtain primary lease for action '${$}'.`),this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)),new FirestoreError(tN.FAILED_PRECONDITION,tB);return er(ei)}).next($=>this.acquireOrExtendPrimaryLease(ei).next(()=>$)):this.verifyAllowTabSynchronization(ei).next(()=>er(ei))).then($=>(ei.raiseOnCommittedEvent(),$))}verifyAllowTabSynchronization($){let ee=primaryClientStore($);return ee.get(tX).next($=>{let ee=null!==$&&this.isWithinAge($.leaseTimestampMs,i8)&&!this.isClientZombied($.ownerId);if(ee&&!this.isLocalClient($)&&!this.forceOwningTab&&(!this.allowTabSynchronization||!$.allowTabSynchronization))throw new FirestoreError(tN.FAILED_PRECONDITION,i3)})}acquireOrExtendPrimaryLease($){let ee={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return primaryClientStore($).put(tX,ee)}static isAvailable(){return SimpleDb.isAvailable()}releasePrimaryLeaseIfHeld($){let ee=primaryClientStore($);return ee.get(tX).next($=>this.isLocalClient($)?(logDebug(i4,"Releasing primary lease."),ee.delete(tX)):PersistencePromise.resolve())}isWithinAge($,ee){let er=Date.now(),ei=er-ee,en=er;return!($<ei)&&(!($>en)||(logError(`Detected an update time that is in the future: ${$} > ${en}`),!1))}attachVisibilityHandler(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=()=>{this.queue.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.updateClientMetadataAndTryBecomePrimary()))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)}detachVisibilityHandler(){this.documentVisibilityHandler&&(this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)}attachWindowUnloadHook(){var $;"function"==typeof(null===($=this.window)||void 0===$?void 0:$.addEventListener)&&(this.windowUnloadHandler=()=>{this.markClientZombied();let $=/(?:Version|Mobile)\/1[456]/;isSafari()&&(navigator.appVersion.match($)||navigator.userAgent.match($))&&this.queue.enterRestrictedMode(!0),this.queue.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.windowUnloadHandler))}detachWindowUnloadHook(){this.windowUnloadHandler&&(this.window.removeEventListener("pagehide",this.windowUnloadHandler),this.windowUnloadHandler=null)}isClientZombied($){var ee;try{let er=(null===(ee=this.webStorage)||void 0===ee?void 0:ee.getItem(this.zombiedClientLocalStorageKey($)))!==null;return logDebug(i4,`Client '${$}' ${er?"is":"is not"} zombied in LocalStorage`),er}catch($){return logError(i4,"Failed to get zombied client id.",$),!1}}markClientZombied(){if(this.webStorage)try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch($){logError("Failed to set zombie client id.",$)}}removeClientZombiedEntry(){if(this.webStorage)try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch($){}}zombiedClientLocalStorageKey($){return`${i7}_${this.persistenceKey}_${$}`}};function primaryClientStore($){return getStore($,tJ)}function clientMetadataStore($){return getStore($,r_)}function indexedDbStoragePrefix($,ee){let er=$.projectId;return $.isDefaultDatabase||(er+="."+$.database),"firestore/"+ee+"/"+er+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function diffArrays($,ee,er,ei,en){ee=[...ee],($=[...$]).sort(er),ee.sort(er);let es=$.length,eo=ee.length,ep=0,eu=0;for(;ep<eo&&eu<es;){let es=er($[eu],ee[ep]);es<0?en($[eu++]):es>0?ei(ee[ep++]):(ep++,eu++)}for(;ep<eo;)ei(ee[ep++]);for(;eu<es;)en($[eu++])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ai="LocalStore",an=3e8;let LocalStoreImpl=class LocalStoreImpl{constructor($,ee,er,ei){this.persistence=$,this.queryEngine=ee,this.serializer=ei,this.targetDataByTarget=new SortedMap(primitiveComparator),this.targetIdByTarget=new ObjectMap($=>canonifyTarget($),targetEquals),this.collectionGroupReadTime=new Map,this.remoteDocuments=$.getRemoteDocumentCache(),this.targetCache=$.getTargetCache(),this.bundleCache=$.getBundleCache(),this.initializeUserComponents(er)}initializeUserComponents($){this.documentOverlayCache=this.persistence.getDocumentOverlayCache($),this.indexManager=this.persistence.getIndexManager($),this.mutationQueue=this.persistence.getMutationQueue($,this.indexManager),this.localDocuments=new LocalDocumentsView(this.remoteDocuments,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.remoteDocuments.setIndexManager(this.indexManager),this.queryEngine.initialize(this.localDocuments,this.indexManager)}collectGarbage($){return this.persistence.runTransaction("Collect garbage","readwrite-primary",ee=>$.collect(ee,this.targetDataByTarget))}};function newLocalStore($,ee,er,ei){return new LocalStoreImpl($,ee,er,ei)}async function localStoreHandleUserChange($,ee){let er=debugCast($),ei=await er.persistence.runTransaction("Handle user change","readonly",$=>{let ei;return er.mutationQueue.getAllMutationBatches($).next(en=>(ei=en,er.initializeUserComponents(ee),er.mutationQueue.getAllMutationBatches($))).next(ee=>{let en=[],es=[],eo=documentKeySet();for(let $ of ei)for(let ee of(en.push($.batchId),$.mutations))eo=eo.add(ee.key);for(let $ of ee)for(let ee of(es.push($.batchId),$.mutations))eo=eo.add(ee.key);return er.localDocuments.getDocuments($,eo).next($=>({affectedDocuments:$,removedBatchIds:en,addedBatchIds:es}))})});return ei}function localStoreWriteLocally($,ee){let er,ei;let en=debugCast($),es=Timestamp.now(),eo=ee.reduce(($,ee)=>$.add(ee.key),documentKeySet());return en.persistence.runTransaction("Locally write mutations","readwrite",$=>{let ep=mutableDocumentMap(),eu=documentKeySet();return en.remoteDocuments.getEntries($,eo).next($=>{(ep=$).forEach(($,ee)=>{ee.isValidDocument()||(eu=eu.add($))})}).next(()=>en.localDocuments.getOverlayedDocuments($,ep)).next(ei=>{er=ei;let eo=[];for(let $ of ee){let ee=mutationExtractBaseValue($,er.get($.key).overlayedDocument);null!=ee&&eo.push(new PatchMutation($.key,ee,extractFieldMask(ee.value.mapValue),Precondition.exists(!0)))}return en.mutationQueue.addMutationBatch($,es,eo,ee)}).next(ee=>{ei=ee;let es=ee.applyToLocalDocumentSet(er,eu);return en.documentOverlayCache.saveOverlays($,ee.batchId,es)})}).then(()=>({batchId:ei.batchId,changes:convertOverlayedDocumentMapToDocumentMap(er)}))}function localStoreAcknowledgeBatch($,ee){let er=debugCast($);return er.persistence.runTransaction("Acknowledge batch","readwrite-primary",$=>{let ei=ee.batch.keys(),en=er.remoteDocuments.newChangeBuffer({trackRemovals:!0});return applyWriteToRemoteDocuments(er,$,ee,en).next(()=>en.apply($)).next(()=>er.mutationQueue.performConsistencyCheck($)).next(()=>er.documentOverlayCache.removeOverlaysForBatchId($,ei,ee.batch.batchId)).next(()=>er.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,getKeysWithTransformResults(ee))).next(()=>er.localDocuments.getDocuments($,ei))})}function getKeysWithTransformResults($){let ee=documentKeySet();for(let er=0;er<$.mutationResults.length;++er){let ei=$.mutationResults[er];ei.transformResults.length>0&&(ee=ee.add($.batch.mutations[er].key))}return ee}function localStoreRejectBatch($,ee){let er=debugCast($);return er.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let ei;return er.mutationQueue.lookupMutationBatch($,ee).next(ee=>(hardAssert(null!==ee),ei=ee.keys(),er.mutationQueue.removeMutationBatch($,ee))).next(()=>er.mutationQueue.performConsistencyCheck($)).next(()=>er.documentOverlayCache.removeOverlaysForBatchId($,ei,ee)).next(()=>er.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,ei)).next(()=>er.localDocuments.getDocuments($,ei))})}function localStoreGetHighestUnacknowledgedBatchId($){let ee=debugCast($);return ee.persistence.runTransaction("Get highest unacknowledged batch id","readonly",$=>ee.mutationQueue.getHighestUnacknowledgedBatchId($))}function localStoreGetLastRemoteSnapshotVersion($){let ee=debugCast($);return ee.persistence.runTransaction("Get last remote snapshot version","readonly",$=>ee.targetCache.getLastRemoteSnapshotVersion($))}function localStoreApplyRemoteEventToLocalCache($,ee){let er=debugCast($),ei=ee.snapshotVersion,en=er.targetDataByTarget;return er.persistence.runTransaction("Apply remote event","readwrite-primary",$=>{let es=er.remoteDocuments.newChangeBuffer({trackRemovals:!0});en=er.targetDataByTarget;let eo=[];ee.targetChanges.forEach((es,ep)=>{let eu=en.get(ep);if(!eu)return;eo.push(er.targetCache.removeMatchingKeys($,es.removedDocuments,ep).next(()=>er.targetCache.addMatchingKeys($,es.addedDocuments,ep)));let eh=eu.withSequenceNumber($.currentSequenceNumber);null!==ee.targetMismatches.get(ep)?eh=eh.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):es.resumeToken.approximateByteSize()>0&&(eh=eh.withResumeToken(es.resumeToken,ei)),en=en.insert(ep,eh),shouldPersistTargetData(eu,eh,es)&&eo.push(er.targetCache.updateTargetData($,eh))});let ep=mutableDocumentMap(),eu=documentKeySet();if(ee.documentUpdates.forEach(ei=>{ee.resolvedLimboDocuments.has(ei)&&eo.push(er.persistence.referenceDelegate.updateLimboDocument($,ei))}),eo.push(populateDocumentChangeBuffer($,es,ee.documentUpdates).next($=>{ep=$.changedDocuments,eu=$.existenceChangedKeys})),!ei.isEqual(SnapshotVersion.min())){let ee=er.targetCache.getLastRemoteSnapshotVersion($).next(ee=>er.targetCache.setTargetsMetadata($,$.currentSequenceNumber,ei));eo.push(ee)}return PersistencePromise.waitFor(eo).next(()=>es.apply($)).next(()=>er.localDocuments.getLocalViewOfDocuments($,ep,eu)).next(()=>ep)}).then($=>(er.targetDataByTarget=en,$))}function populateDocumentChangeBuffer($,ee,er){let ei=documentKeySet(),en=documentKeySet();return er.forEach($=>ei=ei.add($)),ee.getEntries($,ei).next($=>{let ei=mutableDocumentMap();return er.forEach((er,es)=>{let eo=$.get(er);es.isFoundDocument()!==eo.isFoundDocument()&&(en=en.add(er)),es.isNoDocument()&&es.version.isEqual(SnapshotVersion.min())?(ee.removeEntry(er,es.readTime),ei=ei.insert(er,es)):!eo.isValidDocument()||es.version.compareTo(eo.version)>0||0===es.version.compareTo(eo.version)&&eo.hasPendingWrites?(ee.addEntry(es),ei=ei.insert(er,es)):logDebug(ai,"Ignoring outdated watch update for ",er,". Current version:",eo.version," Watch version:",es.version)}),{changedDocuments:ei,existenceChangedKeys:en}})}function shouldPersistTargetData($,ee,er){if(0===$.resumeToken.approximateByteSize())return!0;let ei=ee.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds();if(ei>=an)return!0;let en=er.addedDocuments.size+er.modifiedDocuments.size+er.removedDocuments.size;return en>0}async function localStoreNotifyLocalViewChanges($,ee){let er=debugCast($);try{await er.persistence.runTransaction("notifyLocalViewChanges","readwrite",$=>PersistencePromise.forEach(ee,ee=>PersistencePromise.forEach(ee.addedKeys,ei=>er.persistence.referenceDelegate.addReference($,ee.targetId,ei)).next(()=>PersistencePromise.forEach(ee.removedKeys,ei=>er.persistence.referenceDelegate.removeReference($,ee.targetId,ei)))))}catch($){if(isIndexedDbTransactionError($))logDebug(ai,"Failed to update sequence numbers: "+$);else throw $}for(let $ of ee){let ee=$.targetId;if(!$.fromCache){let $=er.targetDataByTarget.get(ee),ei=$.snapshotVersion,en=$.withLastLimboFreeSnapshotVersion(ei);er.targetDataByTarget=er.targetDataByTarget.insert(ee,en)}}}function localStoreGetNextMutationBatch($,ee){let er=debugCast($);return er.persistence.runTransaction("Get next mutation batch","readonly",$=>(void 0===ee&&(ee=r5),er.mutationQueue.getNextMutationBatchAfterBatchId($,ee)))}function localStoreReadDocument($,ee){let er=debugCast($);return er.persistence.runTransaction("read document","readonly",$=>er.localDocuments.getDocument($,ee))}function localStoreAllocateTarget($,ee){let er=debugCast($);return er.persistence.runTransaction("Allocate target","readwrite",$=>{let ei;return er.targetCache.getTargetData($,ee).next(en=>en?(ei=en,PersistencePromise.resolve(ei)):er.targetCache.allocateTargetId($).next(en=>(ei=new TargetData(ee,en,"TargetPurposeListen",$.currentSequenceNumber),er.targetCache.addTargetData($,ei).next(()=>ei))))}).then($=>{let ei=er.targetDataByTarget.get($.targetId);return(null===ei||$.snapshotVersion.compareTo(ei.snapshotVersion)>0)&&(er.targetDataByTarget=er.targetDataByTarget.insert($.targetId,$),er.targetIdByTarget.set(ee,$.targetId)),$})}function localStoreGetTargetData($,ee,er){let ei=debugCast($),en=ei.targetIdByTarget.get(er);return void 0!==en?PersistencePromise.resolve(ei.targetDataByTarget.get(en)):ei.targetCache.getTargetData(ee,er)}async function localStoreReleaseTarget($,ee,er){let ei=debugCast($),en=ei.targetDataByTarget.get(ee),es=er?"readwrite":"readwrite-primary";try{er||await ei.persistence.runTransaction("Release target",es,$=>ei.persistence.referenceDelegate.removeTarget($,en))}catch($){if(isIndexedDbTransactionError($))logDebug(ai,`Failed to update sequence numbers for target ${ee}: ${$}`);else throw $}ei.targetDataByTarget=ei.targetDataByTarget.remove(ee),ei.targetIdByTarget.delete(en.target)}function localStoreExecuteQuery($,ee,er){let ei=debugCast($),en=SnapshotVersion.min(),es=documentKeySet();return ei.persistence.runTransaction("Execute query","readwrite",$=>localStoreGetTargetData(ei,$,queryToTarget(ee)).next(ee=>{if(ee)return en=ee.lastLimboFreeSnapshotVersion,ei.targetCache.getMatchingKeysForTargetId($,ee.targetId).next($=>{es=$})}).next(()=>ei.queryEngine.getDocumentsMatchingQuery($,ee,er?en:SnapshotVersion.min(),er?es:documentKeySet())).next($=>(setMaxReadTime(ei,queryCollectionGroup(ee),$),{documents:$,remoteKeys:es})))}function applyWriteToRemoteDocuments($,ee,er,ei){let en=er.batch,es=en.keys(),eo=PersistencePromise.resolve();return es.forEach($=>{eo=eo.next(()=>ei.getEntry(ee,$)).next(ee=>{let es=er.docVersions.get($);hardAssert(null!==es),0>ee.version.compareTo(es)&&(en.applyToRemoteDocument(ee,er),ee.isValidDocument()&&(ee.setReadTime(er.commitVersion),ei.addEntry(ee)))})}),eo.next(()=>$.mutationQueue.removeMutationBatch(ee,en))}function localStoreLookupMutationDocuments($,ee){let er=debugCast($),ei=debugCast(er.mutationQueue);return er.persistence.runTransaction("Lookup mutation documents","readonly",$=>ei.lookupMutationKeys($,ee).next(ee=>ee?er.localDocuments.getDocuments($,ee):PersistencePromise.resolve(null)))}function localStoreRemoveCachedMutationBatchMetadata($,ee){let er=debugCast(debugCast($,LocalStoreImpl).mutationQueue);er.removeCachedMutationKeys(ee)}function localStoreGetActiveClients($){let ee=debugCast(debugCast($,LocalStoreImpl).persistence);return ee.getActiveClients()}function localStoreGetCachedTarget($,ee){let er=debugCast($),ei=debugCast(er.targetCache),en=er.targetDataByTarget.get(ee);return en?Promise.resolve(en.target):er.persistence.runTransaction("Get target data","readonly",$=>ei.getTargetDataForTarget($,ee).next($=>$?$.target:null))}function localStoreGetNewDocumentChanges($,ee){let er=debugCast($),ei=er.collectionGroupReadTime.get(ee)||SnapshotVersion.min();return er.persistence.runTransaction("Get new document changes","readonly",$=>er.remoteDocuments.getAllFromCollectionGroup($,ee,newIndexOffsetSuccessorFromReadTime(ei,tF),Number.MAX_SAFE_INTEGER)).then($=>(setMaxReadTime(er,ee,$),$))}function setMaxReadTime($,ee,er){let ei=$.collectionGroupReadTime.get(ee)||SnapshotVersion.min();er.forEach(($,ee)=>{ee.readTime.compareTo(ei)>0&&(ei=ee.readTime)}),$.collectionGroupReadTime.set(ee,ei)}function umbrellaTarget($){return queryToTarget(newQueryForPath(ResourcePath.fromString(`__bundle__/docs/${$}`)))}async function localStoreApplyBundledDocuments($,ee,er,ei){let en=debugCast($),es=documentKeySet(),eo=mutableDocumentMap();for(let $ of er){let er=ee.toDocumentKey($.metadata.name);$.document&&(es=es.add(er));let ei=ee.toMutableDocument($);ei.setReadTime(ee.toSnapshotVersion($.metadata.readTime)),eo=eo.insert(er,ei)}let ep=en.remoteDocuments.newChangeBuffer({trackRemovals:!0}),eu=await localStoreAllocateTarget(en,umbrellaTarget(ei));return en.persistence.runTransaction("Apply bundle documents","readwrite",$=>populateDocumentChangeBuffer($,ep,eo).next(ee=>(ep.apply($),ee)).next(ee=>en.targetCache.removeMatchingKeysForTargetId($,eu.targetId).next(()=>en.targetCache.addMatchingKeys($,es,eu.targetId)).next(()=>en.localDocuments.getLocalViewOfDocuments($,ee.changedDocuments,ee.existenceChangedKeys)).next(()=>ee.changedDocuments)))}function localStoreHasNewerBundle($,ee){let er=debugCast($),ei=fromVersion(ee.createTime);return er.persistence.runTransaction("hasNewerBundle","readonly",$=>er.bundleCache.getBundleMetadata($,ee.id)).then($=>!!$&&$.createTime.compareTo(ei)>=0)}function localStoreSaveBundle($,ee){let er=debugCast($);return er.persistence.runTransaction("Save bundle","readwrite",$=>er.bundleCache.saveBundleMetadata($,ee))}async function localStoreSaveNamedQuery($,ee,er=documentKeySet()){let ei=await localStoreAllocateTarget($,queryToTarget(fromBundledQuery(ee.bundledQuery))),en=debugCast($);return en.persistence.runTransaction("Save named query","readwrite",$=>{let es=fromVersion(ee.readTime);if(ei.snapshotVersion.compareTo(es)>=0)return en.bundleCache.saveNamedQuery($,ee);let eo=ei.withResumeToken(ByteString.EMPTY_BYTE_STRING,es);return en.targetDataByTarget=en.targetDataByTarget.insert(eo.targetId,eo),en.targetCache.updateTargetData($,eo).next(()=>en.targetCache.removeMatchingKeysForTargetId($,ei.targetId)).next(()=>en.targetCache.addMatchingKeys($,er,ei.targetId)).next(()=>en.bundleCache.saveNamedQuery($,ee))})}function localStoreSetIndexAutoCreationEnabled($,ee){let er=debugCast($);er.queryEngine.indexAutoCreationEnabled=ee}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QueryContext=class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount($){this._documentReadCount+=$}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let as=100,ao=8;let QueryEngine=class QueryEngine{constructor(){this.initialized=!1,this.indexAutoCreationEnabled=!1,this.indexAutoCreationMinCollectionSize=as,this.relativeIndexReadCostPerDocument=ao}initialize($,ee){this.localDocumentsView=$,this.indexManager=ee,this.initialized=!0}getDocumentsMatchingQuery($,ee,er,ei){let en={result:null};return this.performQueryUsingIndex($,ee).next($=>{en.result=$}).next(()=>{if(!en.result)return this.performQueryUsingRemoteKeys($,ee,ei,er).next($=>{en.result=$})}).next(()=>{if(en.result)return;let er=new QueryContext;return this.executeFullCollectionScan($,ee,er).next(ei=>{if(en.result=ei,this.indexAutoCreationEnabled)return this.createCacheIndexes($,ee,er,ei.size)})}).next(()=>en.result)}createCacheIndexes($,ee,er,ei){return er.documentReadCount<this.indexAutoCreationMinCollectionSize?(getLogLevel()<=em.in.DEBUG&&logDebug("QueryEngine","SDK will not create cache indexes for query:",stringifyQuery(ee),"since it only creates cache indexes for collection contains","more than or equal to",this.indexAutoCreationMinCollectionSize,"documents"),PersistencePromise.resolve()):(getLogLevel()<=em.in.DEBUG&&logDebug("QueryEngine","Query:",stringifyQuery(ee),"scans",er.documentReadCount,"local documents and returns",ei,"documents as results."),er.documentReadCount>this.relativeIndexReadCostPerDocument*ei)?(getLogLevel()<=em.in.DEBUG&&logDebug("QueryEngine","The SDK decides to create cache indexes for query:",stringifyQuery(ee),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes($,queryToTarget(ee))):PersistencePromise.resolve()}performQueryUsingIndex($,ee){if(queryMatchesAllDocuments(ee))return PersistencePromise.resolve(null);let er=queryToTarget(ee);return this.indexManager.getIndexType($,er).next(ei=>0===ei?null:(null!==ee.limit&&1===ei&&(er=queryToTarget(ee=queryWithLimit(ee,null,"F"))),this.indexManager.getDocumentsMatchingTarget($,er).next(ei=>{let en=documentKeySet(...ei);return this.localDocumentsView.getDocuments($,en).next(ei=>this.indexManager.getMinOffset($,er).next(er=>{let es=this.applyQuery(ee,ei);return this.needsRefill(ee,es,en,er.readTime)?this.performQueryUsingIndex($,queryWithLimit(ee,null,"F")):this.appendRemainingResults($,es,ee,er)}))})))}performQueryUsingRemoteKeys($,ee,er,ei){return queryMatchesAllDocuments(ee)||ei.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.localDocumentsView.getDocuments($,er).next(en=>{let es=this.applyQuery(ee,en);return this.needsRefill(ee,es,er,ei)?PersistencePromise.resolve(null):(getLogLevel()<=em.in.DEBUG&&logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",ei.toString(),stringifyQuery(ee)),this.appendRemainingResults($,es,ee,newIndexOffsetSuccessorFromReadTime(ei,tF)).next($=>$))})}applyQuery($,ee){let er=new SortedSet(newQueryComparator($));return ee.forEach((ee,ei)=>{queryMatches($,ei)&&(er=er.add(ei))}),er}needsRefill($,ee,er,ei){if(null===$.limit)return!1;if(er.size!==ee.size)return!0;let en="F"===$.limitType?ee.last():ee.first();return!!en&&(en.hasPendingWrites||en.version.compareTo(ei)>0)}executeFullCollectionScan($,ee,er){return getLogLevel()<=em.in.DEBUG&&logDebug("QueryEngine","Using full collection scan to execute query:",stringifyQuery(ee)),this.localDocumentsView.getDocumentsMatchingQuery($,ee,IndexOffset.min(),er)}appendRemainingResults($,ee,er,ei){return this.localDocumentsView.getDocumentsMatchingQuery($,er,ei).next($=>(ee.forEach(ee=>{$=$.insert(ee.key,ee)}),$))}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al="firestore_clients";function createWebStorageClientStateKey($,ee){return`${al}_${$}_${ee}`}let ap="firestore_mutations";function createWebStorageMutationBatchKey($,ee,er){let ei=`${ap}_${$}_${er}`;return ee.isAuthenticated()&&(ei+=`_${ee.uid}`),ei}let au="firestore_targets";function createWebStorageQueryTargetMetadataKey($,ee){return`${au}_${$}_${ee}`}let ah="firestore_online_state";function createWebStorageOnlineStateKey($){return`${ah}_${$}`}let am="firestore_bundle_loaded_v2";function createBundleLoadedKey($){return`${am}_${$}`}let af="firestore_sequence_number";function createWebStorageSequenceNumberKey($){return`${af}_${$}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ag="SharedClientState";let MutationMetadata=class MutationMetadata{constructor($,ee,er,ei){this.user=$,this.batchId=ee,this.state=er,this.error=ei}static fromWebStorageEntry($,ee,er){let ei;let en=JSON.parse(er),es="object"==typeof en&&-1!==["pending","acknowledged","rejected"].indexOf(en.state)&&(void 0===en.error||"object"==typeof en.error);return(es&&en.error&&(es="string"==typeof en.error.message&&"string"==typeof en.error.code)&&(ei=new FirestoreError(en.error.code,en.error.message)),es)?new MutationMetadata($,ee,en.state,ei):(logError(ag,`Failed to parse mutation state for ID '${ee}': ${er}`),null)}toWebStorageJSON(){let $={state:this.state,updateTimeMs:Date.now()};return this.error&&($.error={code:this.error.code,message:this.error.message}),JSON.stringify($)}};let QueryTargetMetadata=class QueryTargetMetadata{constructor($,ee,er){this.targetId=$,this.state=ee,this.error=er}static fromWebStorageEntry($,ee){let er;let ei=JSON.parse(ee),en="object"==typeof ei&&-1!==["not-current","current","rejected"].indexOf(ei.state)&&(void 0===ei.error||"object"==typeof ei.error);return(en&&ei.error&&(en="string"==typeof ei.error.message&&"string"==typeof ei.error.code)&&(er=new FirestoreError(ei.error.code,ei.error.message)),en)?new QueryTargetMetadata($,ei.state,er):(logError(ag,`Failed to parse target state for ID '${$}': ${ee}`),null)}toWebStorageJSON(){let $={state:this.state,updateTimeMs:Date.now()};return this.error&&($.error={code:this.error.code,message:this.error.message}),JSON.stringify($)}};let RemoteClientState=class RemoteClientState{constructor($,ee){this.clientId=$,this.activeTargetIds=ee}static fromWebStorageEntry($,ee){let er=JSON.parse(ee),ei="object"==typeof er&&er.activeTargetIds instanceof Array,en=targetIdSet();for(let $=0;ei&&$<er.activeTargetIds.length;++$)ei=isSafeInteger(er.activeTargetIds[$]),en=en.add(er.activeTargetIds[$]);return ei?new RemoteClientState($,en):(logError(ag,`Failed to parse client data for instance '${$}': ${ee}`),null)}};let SharedOnlineState=class SharedOnlineState{constructor($,ee){this.clientId=$,this.onlineState=ee}static fromWebStorageEntry($){let ee=JSON.parse($),er="object"==typeof ee&&-1!==["Unknown","Online","Offline"].indexOf(ee.onlineState)&&"string"==typeof ee.clientId;return er?new SharedOnlineState(ee.clientId,ee.onlineState):(logError(ag,`Failed to parse online state: ${$}`),null)}};let LocalClientState=class LocalClientState{constructor(){this.activeTargetIds=targetIdSet()}addQueryTarget($){this.activeTargetIds=this.activeTargetIds.add($)}removeQueryTarget($){this.activeTargetIds=this.activeTargetIds.delete($)}toWebStorageJSON(){let $={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify($)}};let WebStorageSharedClientState=class WebStorageSharedClientState{constructor($,ee,er,ei,en){this.window=$,this.queue=ee,this.persistenceKey=er,this.localClientId=ei,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.storageListener=this.handleWebStorageEvent.bind(this),this.activeClients=new SortedMap(primitiveComparator),this.started=!1,this.earlyEvents=[];let es=er.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=en,this.localClientStorageKey=createWebStorageClientStateKey(this.persistenceKey,this.localClientId),this.sequenceNumberKey=createWebStorageSequenceNumberKey(this.persistenceKey),this.activeClients=this.activeClients.insert(this.localClientId,new LocalClientState),this.clientStateKeyRe=RegExp(`^${al}_${es}_([^_]*)$`),this.mutationBatchKeyRe=RegExp(`^${ap}_${es}_(\\d+)(?:_(.*))?$`),this.queryTargetKeyRe=RegExp(`^${au}_${es}_(\\d+)$`),this.onlineStateKey=createWebStorageOnlineStateKey(this.persistenceKey),this.bundleLoadedKey=createBundleLoadedKey(this.persistenceKey),this.window.addEventListener("storage",this.storageListener)}static isAvailable($){return!!($&&$.localStorage)}async start(){let $=await this.syncEngine.getActiveClients();for(let ee of $){if(ee===this.localClientId)continue;let $=this.getItem(createWebStorageClientStateKey(this.persistenceKey,ee));if($){let er=RemoteClientState.fromWebStorageEntry(ee,$);er&&(this.activeClients=this.activeClients.insert(er.clientId,er))}}this.persistClientState();let ee=this.storage.getItem(this.onlineStateKey);if(ee){let $=this.fromWebStorageOnlineState(ee);$&&this.handleOnlineStateEvent($)}for(let $ of this.earlyEvents)this.handleWebStorageEvent($);this.earlyEvents=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber($){this.setItem(this.sequenceNumberKey,JSON.stringify($))}getAllActiveQueryTargets(){return this.extractActiveQueryTargets(this.activeClients)}isActiveQueryTarget($){let ee=!1;return this.activeClients.forEach((er,ei)=>{ei.activeTargetIds.has($)&&(ee=!0)}),ee}addPendingMutation($){this.persistMutationState($,"pending")}updateMutationState($,ee,er){this.persistMutationState($,ee,er),this.removeMutationState($)}addLocalQueryTarget($){let ee="not-current";if(this.isActiveQueryTarget($)){let er=this.storage.getItem(createWebStorageQueryTargetMetadataKey(this.persistenceKey,$));if(er){let ei=QueryTargetMetadata.fromWebStorageEntry($,er);ei&&(ee=ei.state)}}return this.localClientState.addQueryTarget($),this.persistClientState(),ee}removeLocalQueryTarget($){this.localClientState.removeQueryTarget($),this.persistClientState()}isLocalQueryTarget($){return this.localClientState.activeTargetIds.has($)}clearQueryState($){this.removeItem(createWebStorageQueryTargetMetadataKey(this.persistenceKey,$))}updateQueryState($,ee,er){this.persistQueryTargetState($,ee,er)}handleUserChange($,ee,er){ee.forEach($=>{this.removeMutationState($)}),this.currentUser=$,er.forEach($=>{this.addPendingMutation($)})}setOnlineState($){this.persistOnlineState($)}notifyBundleLoaded($){this.persistBundleLoadedState($)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)}getItem($){let ee=this.storage.getItem($);return logDebug(ag,"READ",$,ee),ee}setItem($,ee){logDebug(ag,"SET",$,ee),this.storage.setItem($,ee)}removeItem($){logDebug(ag,"REMOVE",$),this.storage.removeItem($)}handleWebStorageEvent($){let ee=$;if(ee.storageArea===this.storage){if(logDebug(ag,"EVENT",ee.key,ee.newValue),ee.key===this.localClientStorageKey){logError("Received WebStorage notification for local change. Another client might have garbage-collected our state");return}this.queue.enqueueRetryable(async()=>{if(!this.started){this.earlyEvents.push(ee);return}if(null!==ee.key){if(this.clientStateKeyRe.test(ee.key)){if(null!=ee.newValue){let $=this.fromWebStorageClientState(ee.key,ee.newValue);if($)return this.handleClientStateEvent($.clientId,$)}else{let $=this.fromWebStorageClientStateKey(ee.key);return this.handleClientStateEvent($,null)}}else if(this.mutationBatchKeyRe.test(ee.key)){if(null!==ee.newValue){let $=this.fromWebStorageMutationMetadata(ee.key,ee.newValue);if($)return this.handleMutationBatchEvent($)}}else if(this.queryTargetKeyRe.test(ee.key)){if(null!==ee.newValue){let $=this.fromWebStorageQueryTargetMetadata(ee.key,ee.newValue);if($)return this.handleQueryTargetEvent($)}}else if(ee.key===this.onlineStateKey){if(null!==ee.newValue){let $=this.fromWebStorageOnlineState(ee.newValue);if($)return this.handleOnlineStateEvent($)}}else if(ee.key===this.sequenceNumberKey){let $=fromWebStorageSequenceNumber(ee.newValue);$!==ListenSequence.INVALID&&this.sequenceNumberHandler($)}else if(ee.key===this.bundleLoadedKey){let $=this.fromWebStoreBundleLoadedState(ee.newValue);await Promise.all($.map($=>this.syncEngine.synchronizeWithChangedDocuments($)))}}})}}get localClientState(){return this.activeClients.get(this.localClientId)}persistClientState(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())}persistMutationState($,ee,er){let ei=new MutationMetadata(this.currentUser,$,ee,er),en=createWebStorageMutationBatchKey(this.persistenceKey,this.currentUser,$);this.setItem(en,ei.toWebStorageJSON())}removeMutationState($){let ee=createWebStorageMutationBatchKey(this.persistenceKey,this.currentUser,$);this.removeItem(ee)}persistOnlineState($){let ee={clientId:this.localClientId,onlineState:$};this.storage.setItem(this.onlineStateKey,JSON.stringify(ee))}persistQueryTargetState($,ee,er){let ei=createWebStorageQueryTargetMetadataKey(this.persistenceKey,$),en=new QueryTargetMetadata($,ee,er);this.setItem(ei,en.toWebStorageJSON())}persistBundleLoadedState($){let ee=JSON.stringify(Array.from($));this.setItem(this.bundleLoadedKey,ee)}fromWebStorageClientStateKey($){let ee=this.clientStateKeyRe.exec($);return ee?ee[1]:null}fromWebStorageClientState($,ee){let er=this.fromWebStorageClientStateKey($);return RemoteClientState.fromWebStorageEntry(er,ee)}fromWebStorageMutationMetadata($,ee){let er=this.mutationBatchKeyRe.exec($),ei=Number(er[1]),en=void 0!==er[2]?er[2]:null;return MutationMetadata.fromWebStorageEntry(new User(en),ei,ee)}fromWebStorageQueryTargetMetadata($,ee){let er=this.queryTargetKeyRe.exec($),ei=Number(er[1]);return QueryTargetMetadata.fromWebStorageEntry(ei,ee)}fromWebStorageOnlineState($){return SharedOnlineState.fromWebStorageEntry($)}fromWebStoreBundleLoadedState($){return JSON.parse($)}async handleMutationBatchEvent($){if($.user.uid!==this.currentUser.uid){logDebug(ag,`Ignoring mutation for non-active user ${$.user.uid}`);return}return this.syncEngine.applyBatchState($.batchId,$.state,$.error)}handleQueryTargetEvent($){return this.syncEngine.applyTargetState($.targetId,$.state,$.error)}handleClientStateEvent($,ee){let er=ee?this.activeClients.insert($,ee):this.activeClients.remove($),ei=this.extractActiveQueryTargets(this.activeClients),en=this.extractActiveQueryTargets(er),es=[],eo=[];return en.forEach($=>{ei.has($)||es.push($)}),ei.forEach($=>{en.has($)||eo.push($)}),this.syncEngine.applyActiveTargetsChange(es,eo).then(()=>{this.activeClients=er})}handleOnlineStateEvent($){this.activeClients.get($.clientId)&&this.onlineStateHandler($.onlineState)}extractActiveQueryTargets($){let ee=targetIdSet();return $.forEach(($,er)=>{ee=ee.unionWith(er.activeTargetIds)}),ee}};function fromWebStorageSequenceNumber($){let ee=ListenSequence.INVALID;if(null!=$)try{let er=JSON.parse($);hardAssert("number"==typeof er),ee=er}catch($){logError(ag,"Failed to read sequence number from WebStorage",$)}return ee}let MemorySharedClientState=class MemorySharedClientState{constructor(){this.localState=new LocalClientState,this.queryState={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation($){}updateMutationState($,ee,er){}addLocalQueryTarget($){return this.localState.addQueryTarget($),this.queryState[$]||"not-current"}updateQueryState($,ee,er){this.queryState[$]=ee}removeLocalQueryTarget($){this.localState.removeQueryTarget($)}isLocalQueryTarget($){return this.localState.activeTargetIds.has($)}clearQueryState($){delete this.queryState[$]}getAllActiveQueryTargets(){return this.localState.activeTargetIds}isActiveQueryTarget($){return this.localState.activeTargetIds.has($)}start(){return this.localState=new LocalClientState,Promise.resolve()}handleUserChange($,ee,er){}setOnlineState($){}shutdown(){}writeSequenceNumber($){}notifyBundleLoaded($){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NoopConnectivityMonitor=class NoopConnectivityMonitor{addCallback($){}shutdown(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let StreamBridge=class StreamBridge{constructor($){this.sendFn=$.sendFn,this.closeFn=$.closeFn}onOpen($){this.wrappedOnOpen=$}onClose($){this.wrappedOnClose=$}onMessage($){this.wrappedOnMessage=$}close(){this.closeFn()}send($){this.sendFn($)}callOnOpen(){this.wrappedOnOpen()}callOnClose($){this.wrappedOnClose($)}callOnMessage($){this.wrappedOnMessage($)}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ay=null;function generateInitialUniqueDebugId(){let $=268435456,ee=2415919104,er=ee-$,ei=Math.round(er*Math.random());return $+ei}function generateUniqueDebugId(){return null===ay?ay=generateInitialUniqueDebugId():ay++,"0x"+ay.toString(16)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nodePromise($){return new Promise((ee,er)=>{$(($,ei)=>{$?er($):ee(ei)})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let av="1.9.1",ax="GrpcConnection",aS=`gl-node/${process.versions.node} fire/${tR} grpc/${av}`;function createMetadata($,ee,er,ei){hardAssert(null===ee||"OAuth"===ee.type);let en=new tC.SF;return ee&&ee.headers.forEach(($,ee)=>en.set(ee,$)),er&&er.headers.forEach(($,ee)=>en.set(ee,$)),ei&&en.set("X-Firebase-GMPID",ei),en.set("X-Goog-Api-Client",aS),en.set("Google-Cloud-Resource-Prefix",$),en.set("x-goog-request-params",$),en}let GrpcConnection=class GrpcConnection{constructor($,ee){this.databaseInfo=ee,this.cachedStub=null,this.firestore=$.google.firestore.v1,this.databasePath=`projects/${ee.databaseId.projectId}/databases/${ee.databaseId.database}`}get shouldResourcePathBeIncludedInRequest(){return!0}ensureActiveStub(){if(!this.cachedStub){logDebug(ax,"Creating Firestore stub.");let $=this.databaseInfo.ssl?tC.K9.createSsl():tC.K9.createInsecure();this.cachedStub=new this.firestore.Firestore(this.databaseInfo.host,$)}return this.cachedStub}invokeRPC($,ee,er,ei,en){let es=generateUniqueDebugId(),eo=this.ensureActiveStub(),ep=createMetadata(this.databasePath,ei,en,this.databaseInfo.appId),eu=Object.assign({database:this.databasePath},er);return nodePromise(ee=>(logDebug(ax,`RPC '${$}' ${es} invoked with request:`,er),eo[$](eu,ep,(er,ei)=>{er?(logDebug(ax,`RPC '${$}' ${es} failed with error:`,er),ee(new FirestoreError(mapCodeFromRpcCode(er.code),er.message))):(logDebug(ax,`RPC '${$}' ${es} completed with response:`,ei),ee(void 0,ei))})))}invokeStreamingRPC($,ee,er,ei,en,es){let eo=generateUniqueDebugId(),ep=[],eu=new Deferred;logDebug(ax,`RPC '${$}' ${eo} invoked (streaming) with request:`,er);let eh=this.ensureActiveStub(),em=createMetadata(this.databasePath,ei,en,this.databaseInfo.appId),ef=Object.assign(Object.assign({},er),{database:this.databasePath}),eg=eh[$](ef,em),ey=!1;return eg.on("data",ee=>{logDebug(ax,`RPC ${$} ${eo} received result:`,ee),ep.push(ee),void 0!==es&&ep.length===es&&(ey=!0,eu.resolve(ep))}),eg.on("end",()=>{logDebug(ax,`RPC '${$}' ${eo} completed.`),ey||(ey=!0,eu.resolve(ep))}),eg.on("error",ee=>{logDebug(ax,`RPC '${$}' ${eo} failed with error:`,ee);let er=mapCodeFromRpcCode(ee.code);eu.reject(new FirestoreError(er,ee.message))}),eu.promise}openStream($,ee,er){let ei=generateUniqueDebugId(),en=this.ensureActiveStub(),es=createMetadata(this.databasePath,ee,er,this.databaseInfo.appId),eo=en[$](es),ep=!1,close=$=>{ep||(ep=!0,eu.callOnClose($),eo.end())},eu=new StreamBridge({sendFn:ee=>{if(ep)logDebug(ax,`RPC '${$}' stream ${ei} not sending because gRPC stream is closed:`,ee);else{logDebug(ax,`RPC '${$}' stream ${ei} sending:`,ee);try{eo.write(ee)}catch($){throw logError("Failure sending:",ee),logError("Error:",$),$}}},closeFn:()=>{logDebug(ax,`RPC '${$}' stream ${ei} closed locally via close().`),close()}});return eo.on("data",ee=>{ep||(logDebug(ax,`RPC '${$}' stream ${ei} received:`,ee),eu.callOnMessage(ee))}),eo.on("end",()=>{logDebug(ax,`RPC '${$}' stream ${ei} ended.`),close()}),eo.on("error",ee=>{if(!ep){logWarn(ax,`RPC '${$}' stream ${ei} error. Code:`,ee.code,"Message:",ee.message);let er=mapCodeFromRpcCode(ee.code);close(new FirestoreError(er,ee.message))}}),logDebug(ax,`Opening RPC '${$}' stream ${ei} to ${this.databaseInfo.host}`),setTimeout(()=>{eu.callOnOpen()},0),eu}};let a_={google:{nested:{protobuf:{options:{csharp_namespace:"Google.Protobuf.WellKnownTypes",go_package:"github.com/golang/protobuf/ptypes/wrappers",java_package:"com.google.protobuf",java_outer_classname:"WrappersProto",java_multiple_files:!0,objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},Empty:{fields:{}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Any:{fields:{typeUrl:{type:"string",id:1},value:{type:"bytes",id:2}}}}},firestore:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1",go_package:"google.golang.org/genproto/googleapis/firestore/v1;firestore",java_multiple_files:!0,java_outer_classname:"WriteProto",java_package:"com.google.firestore.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1",ruby_package:"Google::Cloud::Firestore::V1"},nested:{AggregationResult:{fields:{aggregateFields:{keyType:"string",type:"Value",id:2}}},BitSequence:{fields:{bitmap:{type:"bytes",id:1},padding:{type:"int32",id:2}}},BloomFilter:{fields:{bits:{type:"BitSequence",id:1},hashCount:{type:"int32",id:2}}},DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},RunAggregationQuery:{requestType:"RunAggregationQueryRequest",responseType:"RunAggregationQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:!0,responseType:"WriteResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:!0,responseType:"ListenResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4},orderBy:{type:"string",id:6},mask:{type:"DocumentMask",id:7},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},RunQueryResponse:{fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4}}},RunAggregationQueryRequest:{oneofs:{queryType:{oneof:["structuredAggregationQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredAggregationQuery:{type:"StructuredAggregationQuery",id:2},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:6}}},RunAggregationQueryResponse:{fields:{result:{type:"AggregationResult",id:1},transaction:{type:"bytes",id:2},readTime:{type:"google.protobuf.Timestamp",id:3}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6},expectedCount:{type:"google.protobuf.Int32Value",id:12}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1,OR:2}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}}}},StructuredAggregationQuery:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{structuredQuery:{type:"StructuredQuery",id:1},aggregations:{rule:"repeated",type:"Aggregation",id:3}},nested:{Aggregation:{oneofs:{operator:{oneof:["count","sum","avg"]}},fields:{count:{type:"Count",id:1},sum:{type:"Sum",id:2},avg:{type:"Avg",id:3},alias:{type:"string",id:7}},nested:{Count:{fields:{upTo:{type:"google.protobuf.Int64Value",id:1}}},Sum:{fields:{field:{type:"FieldReference",id:1}}},Avg:{fields:{field:{type:"FieldReference",id:1}}}}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},Write:{oneofs:{operation:{oneof:["update","delete","verify","transform"]}},fields:{update:{type:"Document",id:1},delete:{type:"string",id:2},verify:{type:"string",id:5},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2},unchangedNames:{type:"BloomFilter",id:3}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"HttpProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},selector:{type:"string",id:1},body:{type:"string",id:7},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7}}}},type:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/type/latlng;latlng",java_multiple_files:!0,java_outer_classname:"LatLngProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}};var aw={nested:a_},aC=Object.freeze({__proto__:null,nested:a_,default:aw});/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aT={longs:String,enums:String,defaults:!0,oneofs:!1};function loadProtos(){let $=tT.im(aC,aT);return tC.Rz($)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newConnection($){let ee=loadProtos();return new GrpcConnection(ee,$)}function newConnectivityMonitor(){return new NoopConnectivityMonitor}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getWindow(){return"YES"===process.env.USE_MOCK_PERSISTENCE?window:null}function getDocument(){return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newSerializer($){return new JsonProtoSerializer($,!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aE="ExponentialBackoff",aI=1e3,aD=1.5,aR=6e4;let ExponentialBackoff=class ExponentialBackoff{constructor($,ee,er=aI,ei=aD,en=aR){this.queue=$,this.timerId=ee,this.initialDelayMs=er,this.backoffFactor=ei,this.maxDelayMs=en,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}reset(){this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndRun($){this.cancel();let ee=Math.floor(this.currentBaseMs+this.jitterDelayMs()),er=Math.max(0,Date.now()-this.lastAttemptTime),ei=Math.max(0,ee-er);ei>0&&logDebug(aE,`Backing off for ${ei} ms (base delay: ${this.currentBaseMs} ms, delay with jitter: ${ee} ms, last attempt: ${er} ms ago)`),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,ei,()=>(this.lastAttemptTime=Date.now(),$())),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)}skipBackoff(){null!==this.timerPromise&&(this.timerPromise.skipDelay(),this.timerPromise=null)}cancel(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)}jitterDelayMs(){return(Math.random()-.5)*this.currentBaseMs}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aP="PersistentStream",aN=6e4,aA=1e4;let PersistentStream=class PersistentStream{constructor($,ee,er,ei,en,es,eo,ep){this.queue=$,this.idleTimerId=er,this.healthTimerId=ei,this.connection=en,this.authCredentialsProvider=es,this.appCheckCredentialsProvider=eo,this.listener=ep,this.state=0,this.closeCount=0,this.idleTimer=null,this.healthCheck=null,this.stream=null,this.backoff=new ExponentialBackoff($,ee)}isStarted(){return 1===this.state||5===this.state||this.isOpen()}isOpen(){return 2===this.state||3===this.state}start(){if(4===this.state){this.performBackoff();return}this.auth()}async stop(){this.isStarted()&&await this.close(0)}inhibitBackoff(){this.state=0,this.backoff.reset()}markIdle(){this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,aN,()=>this.handleIdleCloseTimer()))}sendRequest($){this.cancelIdleCheck(),this.stream.send($)}async handleIdleCloseTimer(){if(this.isOpen())return this.close(0)}cancelIdleCheck(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)}cancelHealthCheck(){this.healthCheck&&(this.healthCheck.cancel(),this.healthCheck=null)}async close($,ee){this.cancelIdleCheck(),this.cancelHealthCheck(),this.backoff.cancel(),this.closeCount++,4!==$?this.backoff.reset():ee&&ee.code===tN.RESOURCE_EXHAUSTED?(logError(ee.toString()),logError("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):ee&&ee.code===tN.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=$,await this.listener.onClose(ee)}tearDown(){}auth(){this.state=1;let $=this.getCloseGuardedDispatcher(this.closeCount),ee=this.closeCount;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([$,er])=>{this.closeCount===ee&&this.startStream($,er)},ee=>{$(()=>{let $=new FirestoreError(tN.UNKNOWN,"Fetching auth token failed: "+ee.message);return this.handleStreamClose($)})})}startStream($,ee){let er=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc($,ee),this.stream.onOpen(()=>{er(()=>(this.state=2,this.healthCheck=this.queue.enqueueAfterDelay(this.healthTimerId,aA,()=>(this.isOpen()&&(this.state=3),Promise.resolve())),this.listener.onOpen()))}),this.stream.onClose($=>{er(()=>this.handleStreamClose($))}),this.stream.onMessage($=>{er(()=>this.onMessage($))})}performBackoff(){this.state=5,this.backoff.backoffAndRun(async()=>{this.state=0,this.start()})}handleStreamClose($){return logDebug(aP,`close with error: ${$}`),this.stream=null,this.close(4,$)}getCloseGuardedDispatcher($){return ee=>{this.queue.enqueueAndForget(()=>this.closeCount===$?ee():(logDebug(aP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};let PersistentListenStream=class PersistentListenStream extends PersistentStream{constructor($,ee,er,ei,en,es){super($,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",ee,er,ei,es),this.serializer=en}startRpc($,ee){return this.connection.openStream("Listen",$,ee)}onMessage($){this.backoff.reset();let ee=fromWatchChange(this.serializer,$),er=versionFromListenResponse($);return this.listener.onWatchChange(ee,er)}watch($){let ee={};ee.database=getEncodedDatabaseId(this.serializer),ee.addTarget=toTarget(this.serializer,$);let er=toListenRequestLabels(this.serializer,$);er&&(ee.labels=er),this.sendRequest(ee)}unwatch($){let ee={};ee.database=getEncodedDatabaseId(this.serializer),ee.removeTarget=$,this.sendRequest(ee)}};let PersistentWriteStream=class PersistentWriteStream extends PersistentStream{constructor($,ee,er,ei,en,es){super($,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",ee,er,ei,es),this.serializer=en,this.handshakeComplete_=!1}get handshakeComplete(){return this.handshakeComplete_}start(){this.handshakeComplete_=!1,this.lastStreamToken=void 0,super.start()}tearDown(){this.handshakeComplete_&&this.writeMutations([])}startRpc($,ee){return this.connection.openStream("Write",$,ee)}onMessage($){if(hardAssert(!!$.streamToken),this.lastStreamToken=$.streamToken,!this.handshakeComplete_)return hardAssert(!$.writeResults||0===$.writeResults.length),this.handshakeComplete_=!0,this.listener.onHandshakeComplete();{this.backoff.reset();let ee=fromWriteResults($.writeResults,$.commitTime),er=fromVersion($.commitTime);return this.listener.onMutationResult(er,ee)}}writeHandshake(){let $={};$.database=getEncodedDatabaseId(this.serializer),this.sendRequest($)}writeMutations($){let ee={streamToken:this.lastStreamToken,writes:$.map($=>toMutation(this.serializer,$))};this.sendRequest(ee)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Datastore=class Datastore{};let DatastoreImpl=class DatastoreImpl extends Datastore{constructor($,ee,er,ei){super(),this.authCredentials=$,this.appCheckCredentials=ee,this.connection=er,this.serializer=ei,this.terminated=!1}verifyInitialized(){if(this.terminated)throw new FirestoreError(tN.FAILED_PRECONDITION,"The client has already been terminated.")}invokeRPC($,ee,er){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([ei,en])=>this.connection.invokeRPC($,ee,er,ei,en)).catch($=>{if("FirebaseError"===$.name)throw $.code===tN.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),$;throw new FirestoreError(tN.UNKNOWN,$.toString())})}invokeStreamingRPC($,ee,er,ei){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([en,es])=>this.connection.invokeStreamingRPC($,ee,er,en,es,ei)).catch($=>{if("FirebaseError"===$.name)throw $.code===tN.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),$;throw new FirestoreError(tN.UNKNOWN,$.toString())})}terminate(){this.terminated=!0}};function newDatastore($,ee,er,ei){return new DatastoreImpl($,ee,er,ei)}async function invokeCommitRpc($,ee){let er=debugCast($),ei=getEncodedDatabaseId(er.serializer)+"/documents",en={writes:ee.map($=>toMutation(er.serializer,$))};await er.invokeRPC("Commit",ei,en)}async function invokeBatchGetDocumentsRpc($,ee){let er=debugCast($),ei=getEncodedDatabaseId(er.serializer)+"/documents",en={documents:ee.map($=>toName(er.serializer,$))},es=await er.invokeStreamingRPC("BatchGetDocuments",ei,en,ee.length),eo=new Map;es.forEach($=>{let ee=fromBatchGetDocumentsResponse(er.serializer,$);eo.set(ee.key.toString(),ee)});let ep=[];return ee.forEach($=>{let ee=eo.get($.toString());hardAssert(!!ee),ep.push(ee)}),ep}async function invokeRunAggregationQueryRpc($,ee,er){var ei;let en=debugCast($),{request:es,aliasMap:eo}=toRunAggregationQueryRequest(en.serializer,queryToAggregateTarget(ee),er),ep=es.parent;en.connection.shouldResourcePathBeIncludedInRequest||delete es.parent;let eu=await en.invokeStreamingRPC("RunAggregationQuery",ep,es,1),eh=eu.filter($=>!!$.result);hardAssert(1===eh.length);let em=null===(ei=eh[0].result)||void 0===ei?void 0:ei.aggregateFields,ef=Object.keys(em).reduce(($,ee)=>($[eo[ee]]=em[ee],$),{});return ef}function newPersistentWriteStream($,ee,er){let ei=debugCast($);return ei.verifyInitialized(),new PersistentWriteStream(ee,ei.connection,ei.authCredentials,ei.appCheckCredentials,ei.serializer,er)}function newPersistentWatchStream($,ee,er){let ei=debugCast($);return ei.verifyInitialized(),new PersistentListenStream(ee,ei.connection,ei.authCredentials,ei.appCheckCredentials,ei.serializer,er)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ak="OnlineStateTracker",aO=1,aM=1e4;let OnlineStateTracker=class OnlineStateTracker{constructor($,ee){this.asyncQueue=$,this.onlineStateHandler=ee,this.state="Unknown",this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}handleWatchStreamStart(){0===this.watchStreamFailures&&(this.setAndBroadcast("Unknown"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay("online_state_timeout",aM,()=>(this.onlineStateTimer=null,this.logClientOfflineWarningIfNecessary(`Backend didn't respond within ${aM/1e3} seconds.`),this.setAndBroadcast("Offline"),Promise.resolve())))}handleWatchStreamFailure($){"Online"===this.state?this.setAndBroadcast("Unknown"):(this.watchStreamFailures++,this.watchStreamFailures>=aO&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(`Connection failed ${aO} times. Most recent error: ${$.toString()}`),this.setAndBroadcast("Offline")))}set($){this.clearOnlineStateTimer(),this.watchStreamFailures=0,"Online"===$&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast($)}setAndBroadcast($){$!==this.state&&(this.state=$,this.onlineStateHandler($))}logClientOfflineWarningIfNecessary($){let ee=`Could not reach Cloud Firestore backend. ${$}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.shouldWarnClientIsOffline?(logError(ee),this.shouldWarnClientIsOffline=!1):logDebug(ak,ee)}clearOnlineStateTimer(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aF="RemoteStore",aL=10;let RemoteStoreImpl=class RemoteStoreImpl{constructor($,ee,er,ei,en){this.localStore=$,this.datastore=ee,this.asyncQueue=er,this.remoteSyncer={},this.writePipeline=[],this.listenTargets=new Map,this.offlineCauses=new Set,this.onNetworkStatusChange=[],this.connectivityMonitor=en,this.connectivityMonitor.addCallback($=>{er.enqueueAndForget(async()=>{canUseNetwork(this)&&(logDebug(aF,"Restarting streams for network reachability change."),await restartNetwork(this))})}),this.onlineStateTracker=new OnlineStateTracker(er,ei)}};function newRemoteStore($,ee,er,ei,en){return new RemoteStoreImpl($,ee,er,ei,en)}async function enableNetworkInternal($){if(canUseNetwork($))for(let ee of $.onNetworkStatusChange)await ee(!0)}async function disableNetworkInternal($){for(let ee of $.onNetworkStatusChange)await ee(!1)}async function remoteStoreShutdown($){let ee=debugCast($);logDebug(aF,"RemoteStore shutting down."),ee.offlineCauses.add(5),await disableNetworkInternal(ee),ee.connectivityMonitor.shutdown(),ee.onlineStateTracker.set("Unknown")}function remoteStoreListen($,ee){let er=debugCast($);!er.listenTargets.has(ee.targetId)&&(er.listenTargets.set(ee.targetId,ee),shouldStartWatchStream(er)?startWatchStream(er):ensureWatchStream(er).isOpen()&&sendWatchRequest(er,ee))}function remoteStoreUnlisten($,ee){let er=debugCast($),ei=ensureWatchStream(er);er.listenTargets.delete(ee),ei.isOpen()&&sendUnwatchRequest(er,ee),0===er.listenTargets.size&&(ei.isOpen()?ei.markIdle():canUseNetwork(er)&&er.onlineStateTracker.set("Unknown"))}function sendWatchRequest($,ee){if($.watchChangeAggregator.recordPendingTargetRequest(ee.targetId),ee.resumeToken.approximateByteSize()>0||ee.snapshotVersion.compareTo(SnapshotVersion.min())>0){let er=$.remoteSyncer.getRemoteKeysForTarget(ee.targetId).size;ee=ee.withExpectedCount(er)}ensureWatchStream($).watch(ee)}function sendUnwatchRequest($,ee){$.watchChangeAggregator.recordPendingTargetRequest(ee),ensureWatchStream($).unwatch(ee)}function startWatchStream($){$.watchChangeAggregator=new WatchChangeAggregator({getRemoteKeysForTarget:ee=>$.remoteSyncer.getRemoteKeysForTarget(ee),getTargetDataForTarget:ee=>$.listenTargets.get(ee)||null,getDatabaseId:()=>$.datastore.serializer.databaseId}),ensureWatchStream($).start(),$.onlineStateTracker.handleWatchStreamStart()}function shouldStartWatchStream($){return canUseNetwork($)&&!ensureWatchStream($).isStarted()&&$.listenTargets.size>0}function canUseNetwork($){let ee=debugCast($);return 0===ee.offlineCauses.size}function cleanUpWatchStreamState($){$.watchChangeAggregator=void 0}async function onWatchStreamOpen($){$.listenTargets.forEach((ee,er)=>{sendWatchRequest($,ee)})}async function onWatchStreamClose($,ee){cleanUpWatchStreamState($),shouldStartWatchStream($)?($.onlineStateTracker.handleWatchStreamFailure(ee),startWatchStream($)):$.onlineStateTracker.set("Unknown")}async function onWatchStreamChange($,ee,er){if($.onlineStateTracker.set("Online"),ee instanceof WatchTargetChange&&2===ee.state&&ee.cause){try{await handleTargetError($,ee)}catch(er){logDebug(aF,"Failed to remove targets %s: %s ",ee.targetIds.join(","),er),await disableNetworkUntilRecovery($,er)}return}if(ee instanceof DocumentWatchChange?$.watchChangeAggregator.handleDocumentChange(ee):ee instanceof ExistenceFilterChange?$.watchChangeAggregator.handleExistenceFilter(ee):$.watchChangeAggregator.handleTargetChange(ee),!er.isEqual(SnapshotVersion.min()))try{let ee=await localStoreGetLastRemoteSnapshotVersion($.localStore);er.compareTo(ee)>=0&&await raiseWatchSnapshot($,er)}catch(ee){logDebug(aF,"Failed to raise snapshot:",ee),await disableNetworkUntilRecovery($,ee)}}async function disableNetworkUntilRecovery($,ee,er){if(isIndexedDbTransactionError(ee))$.offlineCauses.add(1),await disableNetworkInternal($),$.onlineStateTracker.set("Offline"),er||(er=()=>localStoreGetLastRemoteSnapshotVersion($.localStore)),$.asyncQueue.enqueueRetryable(async()=>{logDebug(aF,"Retrying IndexedDB access"),await er(),$.offlineCauses.delete(1),await enableNetworkInternal($)});else throw ee}function executeWithRecovery($,ee){return ee().catch(er=>disableNetworkUntilRecovery($,er,ee))}function raiseWatchSnapshot($,ee){let er=$.watchChangeAggregator.createRemoteEvent(ee);return er.targetChanges.forEach((er,ei)=>{if(er.resumeToken.approximateByteSize()>0){let en=$.listenTargets.get(ei);en&&$.listenTargets.set(ei,en.withResumeToken(er.resumeToken,ee))}}),er.targetMismatches.forEach((ee,er)=>{let ei=$.listenTargets.get(ee);if(!ei)return;$.listenTargets.set(ee,ei.withResumeToken(ByteString.EMPTY_BYTE_STRING,ei.snapshotVersion)),sendUnwatchRequest($,ee);let en=new TargetData(ei.target,ee,er,ei.sequenceNumber);sendWatchRequest($,en)}),$.remoteSyncer.applyRemoteEvent(er)}async function handleTargetError($,ee){let er=ee.cause;for(let ei of ee.targetIds)$.listenTargets.has(ei)&&(await $.remoteSyncer.rejectListen(ei,er),$.listenTargets.delete(ei),$.watchChangeAggregator.removeTarget(ei))}async function fillWritePipeline($){let ee=debugCast($),er=ensureWriteStream(ee),ei=ee.writePipeline.length>0?ee.writePipeline[ee.writePipeline.length-1].batchId:r5;for(;canAddToWritePipeline(ee);)try{let $=await localStoreGetNextMutationBatch(ee.localStore,ei);if(null===$){0===ee.writePipeline.length&&er.markIdle();break}ei=$.batchId,addToWritePipeline(ee,$)}catch($){await disableNetworkUntilRecovery(ee,$)}shouldStartWriteStream(ee)&&startWriteStream(ee)}function canAddToWritePipeline($){return canUseNetwork($)&&$.writePipeline.length<aL}function addToWritePipeline($,ee){$.writePipeline.push(ee);let er=ensureWriteStream($);er.isOpen()&&er.handshakeComplete&&er.writeMutations(ee.mutations)}function shouldStartWriteStream($){return canUseNetwork($)&&!ensureWriteStream($).isStarted()&&$.writePipeline.length>0}function startWriteStream($){ensureWriteStream($).start()}async function onWriteStreamOpen($){ensureWriteStream($).writeHandshake()}async function onWriteHandshakeComplete($){let ee=ensureWriteStream($);for(let er of $.writePipeline)ee.writeMutations(er.mutations)}async function onMutationResult($,ee,er){let ei=$.writePipeline.shift(),en=MutationBatchResult.from(ei,ee,er);await executeWithRecovery($,()=>$.remoteSyncer.applySuccessfulWrite(en)),await fillWritePipeline($)}async function onWriteStreamClose($,ee){ee&&ensureWriteStream($).handshakeComplete&&await handleWriteError($,ee),shouldStartWriteStream($)&&startWriteStream($)}async function handleWriteError($,ee){if(isPermanentWriteError(ee.code)){let er=$.writePipeline.shift();ensureWriteStream($).inhibitBackoff(),await executeWithRecovery($,()=>$.remoteSyncer.rejectFailedWrite(er.batchId,ee)),await fillWritePipeline($)}}async function restartNetwork($){let ee=debugCast($);ee.offlineCauses.add(4),await disableNetworkInternal(ee),ee.onlineStateTracker.set("Unknown"),ee.offlineCauses.delete(4),await enableNetworkInternal(ee)}async function remoteStoreHandleCredentialChange($,ee){let er=debugCast($);er.asyncQueue.verifyOperationInProgress(),logDebug(aF,"RemoteStore received new credentials");let ei=canUseNetwork(er);er.offlineCauses.add(3),await disableNetworkInternal(er),ei&&er.onlineStateTracker.set("Unknown"),await er.remoteSyncer.handleCredentialChange(ee),er.offlineCauses.delete(3),await enableNetworkInternal(er)}async function remoteStoreApplyPrimaryState($,ee){let er=debugCast($);ee?(er.offlineCauses.delete(2),await enableNetworkInternal(er)):ee||(er.offlineCauses.add(2),await disableNetworkInternal(er),er.onlineStateTracker.set("Unknown"))}function ensureWatchStream($){return $.watchStream||($.watchStream=newPersistentWatchStream($.datastore,$.asyncQueue,{onOpen:onWatchStreamOpen.bind(null,$),onClose:onWatchStreamClose.bind(null,$),onWatchChange:onWatchStreamChange.bind(null,$)}),$.onNetworkStatusChange.push(async ee=>{ee?($.watchStream.inhibitBackoff(),shouldStartWatchStream($)?startWatchStream($):$.onlineStateTracker.set("Unknown")):(await $.watchStream.stop(),cleanUpWatchStreamState($))})),$.watchStream}function ensureWriteStream($){return $.writeStream||($.writeStream=newPersistentWriteStream($.datastore,$.asyncQueue,{onOpen:onWriteStreamOpen.bind(null,$),onClose:onWriteStreamClose.bind(null,$),onHandshakeComplete:onWriteHandshakeComplete.bind(null,$),onMutationResult:onMutationResult.bind(null,$)}),$.onNetworkStatusChange.push(async ee=>{ee?($.writeStream.inhibitBackoff(),await fillWritePipeline($)):(await $.writeStream.stop(),$.writePipeline.length>0&&(logDebug(aF,`Stopping write stream with ${$.writePipeline.length} pending writes`),$.writePipeline=[]))})),$.writeStream}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aB="AsyncQueue";let DelayedOperation=class DelayedOperation{constructor($,ee,er,ei,en){this.asyncQueue=$,this.timerId=ee,this.targetTimeMs=er,this.op=ei,this.removalCallback=en,this.deferred=new Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch($=>{})}get promise(){return this.deferred.promise}static createAndSchedule($,ee,er,ei,en){let es=Date.now()+er,eo=new DelayedOperation($,ee,es,ei,en);return eo.start(er),eo}start($){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),$)}skipDelay(){return this.handleDelayElapsed()}cancel($){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(tN.CANCELLED,"Operation cancelled"+($?": "+$:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then($=>this.deferred.resolve($))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function wrapInUserErrorIfRecoverable($,ee){if(logError(aB,`${ee}: ${$}`),isIndexedDbTransactionError($))return new FirestoreError(tN.UNAVAILABLE,`${ee}: ${$}`);throw $}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DocumentSet=class DocumentSet{constructor($){$?this.comparator=(ee,er)=>$(ee,er)||DocumentKey.comparator(ee.key,er.key):this.comparator=($,ee)=>DocumentKey.comparator($.key,ee.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}static emptySet($){return new DocumentSet($.comparator)}has($){return null!=this.keyedMap.get($)}get($){return this.keyedMap.get($)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf($){let ee=this.keyedMap.get($);return ee?this.sortedSet.indexOf(ee):-1}get size(){return this.sortedSet.size}forEach($){this.sortedSet.inorderTraversal((ee,er)=>($(ee),!1))}add($){let ee=this.delete($.key);return ee.copy(ee.keyedMap.insert($.key,$),ee.sortedSet.insert($,null))}delete($){let ee=this.get($);return ee?this.copy(this.keyedMap.remove($),this.sortedSet.remove(ee)):this}isEqual($){if(!($ instanceof DocumentSet)||this.size!==$.size)return!1;let ee=this.sortedSet.getIterator(),er=$.sortedSet.getIterator();for(;ee.hasNext();){let $=ee.getNext().key,ei=er.getNext().key;if(!$.isEqual(ei))return!1}return!0}toString(){let $=[];return(this.forEach(ee=>{$.push(ee.toString())}),0===$.length)?"DocumentSet ()":"DocumentSet (\n  "+$.join("  \n")+"\n)"}copy($,ee){let er=new DocumentSet;return er.comparator=this.comparator,er.keyedMap=$,er.sortedSet=ee,er}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DocumentChangeSet=class DocumentChangeSet{constructor(){this.changeMap=new SortedMap(DocumentKey.comparator)}track($){let ee=$.doc.key,er=this.changeMap.get(ee);if(!er){this.changeMap=this.changeMap.insert(ee,$);return}0!==$.type&&3===er.type?this.changeMap=this.changeMap.insert(ee,$):3===$.type&&1!==er.type?this.changeMap=this.changeMap.insert(ee,{type:er.type,doc:$.doc}):2===$.type&&2===er.type?this.changeMap=this.changeMap.insert(ee,{type:2,doc:$.doc}):2===$.type&&0===er.type?this.changeMap=this.changeMap.insert(ee,{type:0,doc:$.doc}):1===$.type&&0===er.type?this.changeMap=this.changeMap.remove(ee):1===$.type&&2===er.type?this.changeMap=this.changeMap.insert(ee,{type:1,doc:er.doc}):0===$.type&&1===er.type?this.changeMap=this.changeMap.insert(ee,{type:2,doc:$.doc}):fail()}getChanges(){let $=[];return this.changeMap.inorderTraversal((ee,er)=>{$.push(er)}),$}};let ViewSnapshot=class ViewSnapshot{constructor($,ee,er,ei,en,es,eo,ep,eu){this.query=$,this.docs=ee,this.oldDocs=er,this.docChanges=ei,this.mutatedKeys=en,this.fromCache=es,this.syncStateChanged=eo,this.excludesMetadataChanges=ep,this.hasCachedResults=eu}static fromInitialDocuments($,ee,er,ei,en){let es=[];return ee.forEach($=>{es.push({type:0,doc:$})}),new ViewSnapshot($,ee,DocumentSet.emptySet(ee),es,er,ei,!0,!1,en)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual($){if(this.fromCache!==$.fromCache||this.hasCachedResults!==$.hasCachedResults||this.syncStateChanged!==$.syncStateChanged||!this.mutatedKeys.isEqual($.mutatedKeys)||!queryEquals(this.query,$.query)||!this.docs.isEqual($.docs)||!this.oldDocs.isEqual($.oldDocs))return!1;let ee=this.docChanges,er=$.docChanges;if(ee.length!==er.length)return!1;for(let $=0;$<ee.length;$++)if(ee[$].type!==er[$].type||!ee[$].doc.isEqual(er[$].doc))return!1;return!0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QueryListenersInfo=class QueryListenersInfo{constructor(){this.viewSnap=void 0,this.listeners=[]}};function newEventManager(){return new EventManagerImpl}let EventManagerImpl=class EventManagerImpl{constructor(){this.queries=new ObjectMap($=>canonifyQuery($),queryEquals),this.onlineState="Unknown",this.snapshotsInSyncListeners=new Set}};async function eventManagerListen($,ee){let er=debugCast($),ei=ee.query,en=!1,es=er.queries.get(ei);if(es||(en=!0,es=new QueryListenersInfo),en)try{es.viewSnap=await er.onListen(ei)}catch(er){let $=wrapInUserErrorIfRecoverable(er,`Initialization of query '${stringifyQuery(ee.query)}' failed`);ee.onError($);return}if(er.queries.set(ei,es),es.listeners.push(ee),ee.applyOnlineStateChange(er.onlineState),es.viewSnap){let $=ee.onViewSnapshot(es.viewSnap);$&&raiseSnapshotsInSyncEvent(er)}}async function eventManagerUnlisten($,ee){let er=debugCast($),ei=ee.query,en=!1,es=er.queries.get(ei);if(es){let $=es.listeners.indexOf(ee);$>=0&&(es.listeners.splice($,1),en=0===es.listeners.length)}if(en)return er.queries.delete(ei),er.onUnlisten(ei)}function eventManagerOnWatchChange($,ee){let er=debugCast($),ei=!1;for(let $ of ee){let ee=$.query,en=er.queries.get(ee);if(en){for(let ee of en.listeners)ee.onViewSnapshot($)&&(ei=!0);en.viewSnap=$}}ei&&raiseSnapshotsInSyncEvent(er)}function eventManagerOnWatchError($,ee,er){let ei=debugCast($),en=ei.queries.get(ee);if(en)for(let $ of en.listeners)$.onError(er);ei.queries.delete(ee)}function eventManagerOnOnlineStateChange($,ee){let er=debugCast($);er.onlineState=ee;let ei=!1;er.queries.forEach(($,er)=>{for(let $ of er.listeners)$.applyOnlineStateChange(ee)&&(ei=!0)}),ei&&raiseSnapshotsInSyncEvent(er)}function raiseSnapshotsInSyncEvent($){$.snapshotsInSyncListeners.forEach($=>{$.next()})}let QueryListener=class QueryListener{constructor($,ee,er){this.query=$,this.queryObserver=ee,this.raisedInitialEvent=!1,this.snap=null,this.onlineState="Unknown",this.options=er||{}}onViewSnapshot($){if(!this.options.includeMetadataChanges){let ee=[];for(let er of $.docChanges)3!==er.type&&ee.push(er);$=new ViewSnapshot($.query,$.docs,$.oldDocs,ee,$.mutatedKeys,$.fromCache,$.syncStateChanged,!0,$.hasCachedResults)}let ee=!1;return this.raisedInitialEvent?this.shouldRaiseEvent($)&&(this.queryObserver.next($),ee=!0):this.shouldRaiseInitialEvent($,this.onlineState)&&(this.raiseInitialEvent($),ee=!0),this.snap=$,ee}onError($){this.queryObserver.error($)}applyOnlineStateChange($){this.onlineState=$;let ee=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,$)&&(this.raiseInitialEvent(this.snap),ee=!0),ee}shouldRaiseInitialEvent($,ee){if(!$.fromCache)return!0;let er="Offline"!==ee;return(!this.options.waitForSyncWhenOnline||!er)&&(!$.docs.isEmpty()||$.hasCachedResults||"Offline"===ee)}shouldRaiseEvent($){if($.docChanges.length>0)return!0;let ee=this.snap&&this.snap.hasPendingWrites!==$.hasPendingWrites;return(!!$.syncStateChanged||!!ee)&&!0===this.options.includeMetadataChanges}raiseInitialEvent($){$=ViewSnapshot.fromInitialDocuments($.query,$.docs,$.mutatedKeys,$.fromCache,$.hasCachedResults),this.raisedInitialEvent=!0,this.queryObserver.next($)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LocalViewChanges=class LocalViewChanges{constructor($,ee,er,ei){this.targetId=$,this.fromCache=ee,this.addedKeys=er,this.removedKeys=ei}static fromSnapshot($,ee){let er=documentKeySet(),ei=documentKeySet();for(let $ of ee.docChanges)switch($.type){case 0:er=er.add($.doc.key);break;case 1:ei=ei.add($.doc.key)}return new LocalViewChanges($,ee.fromCache,er,ei)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BundleConverterImpl=class BundleConverterImpl{constructor($){this.serializer=$}toDocumentKey($){return fromName(this.serializer,$)}toMutableDocument($){return $.metadata.exists?fromDocument(this.serializer,$.document,!1):MutableDocument.newNoDocument(this.toDocumentKey($.metadata.name),this.toSnapshotVersion($.metadata.readTime))}toSnapshotVersion($){return fromVersion($)}};let BundleLoader=class BundleLoader{constructor($,ee,er){this.bundleMetadata=$,this.localStore=ee,this.serializer=er,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=bundleInitialProgress($)}addSizedElement($){this.progress.bytesLoaded+=$.byteLength;let ee=this.progress.documentsLoaded;if($.payload.namedQuery)this.queries.push($.payload.namedQuery);else if($.payload.documentMetadata){this.documents.push({metadata:$.payload.documentMetadata}),!$.payload.documentMetadata.exists&&++ee;let er=ResourcePath.fromString($.payload.documentMetadata.name);this.collectionGroups.add(er.get(er.length-2))}else $.payload.document&&(this.documents[this.documents.length-1].document=$.payload.document,++ee);return ee!==this.progress.documentsLoaded?(this.progress.documentsLoaded=ee,Object.assign({},this.progress)):null}getQueryDocumentMapping($){let ee=new Map,er=new BundleConverterImpl(this.serializer);for(let ei of $)if(ei.metadata.queries){let $=er.toDocumentKey(ei.metadata.name);for(let er of ei.metadata.queries){let ei=(ee.get(er)||documentKeySet()).add($);ee.set(er,ei)}}return ee}async complete(){let $=await localStoreApplyBundledDocuments(this.localStore,new BundleConverterImpl(this.serializer),this.documents,this.bundleMetadata.id),ee=this.getQueryDocumentMapping(this.documents);for(let $ of this.queries)await localStoreSaveNamedQuery(this.localStore,$,ee.get($.name));return this.progress.taskState="Success",{progress:this.progress,changedCollectionGroups:this.collectionGroups,changedDocs:$}}};function bundleInitialProgress($){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:$.totalDocuments,totalBytes:$.totalBytes}}function bundleSuccessProgress($){return{taskState:"Success",documentsLoaded:$.totalDocuments,bytesLoaded:$.totalBytes,totalDocuments:$.totalDocuments,totalBytes:$.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AddedLimboDocument=class AddedLimboDocument{constructor($){this.key=$}};let RemovedLimboDocument=class RemovedLimboDocument{constructor($){this.key=$}};let View=class View{constructor($,ee){this.query=$,this._syncedDocuments=ee,this.syncState=null,this.hasCachedResults=!1,this.current=!1,this.limboDocuments=documentKeySet(),this.mutatedKeys=documentKeySet(),this.docComparator=newQueryComparator($),this.documentSet=new DocumentSet(this.docComparator)}get syncedDocuments(){return this._syncedDocuments}computeDocChanges($,ee){let er=ee?ee.changeSet:new DocumentChangeSet,ei=ee?ee.documentSet:this.documentSet,en=ee?ee.mutatedKeys:this.mutatedKeys,es=ei,eo=!1,ep="F"===this.query.limitType&&ei.size===this.query.limit?ei.last():null,eu="L"===this.query.limitType&&ei.size===this.query.limit?ei.first():null;if($.inorderTraversal(($,ee)=>{let eh=ei.get($),em=queryMatches(this.query,ee)?ee:null,ef=!!eh&&this.mutatedKeys.has(eh.key),eg=!!em&&(em.hasLocalMutations||this.mutatedKeys.has(em.key)&&em.hasCommittedMutations),ey=!1;if(eh&&em){let $=eh.data.isEqual(em.data);$?ef!==eg&&(er.track({type:3,doc:em}),ey=!0):!this.shouldWaitForSyncedDocument(eh,em)&&(er.track({type:2,doc:em}),ey=!0,(ep&&this.docComparator(em,ep)>0||eu&&0>this.docComparator(em,eu))&&(eo=!0))}else!eh&&em?(er.track({type:0,doc:em}),ey=!0):eh&&!em&&(er.track({type:1,doc:eh}),ey=!0,(ep||eu)&&(eo=!0));ey&&(em?(es=es.add(em),en=eg?en.add($):en.delete($)):(es=es.delete($),en=en.delete($)))}),null!==this.query.limit)for(;es.size>this.query.limit;){let $="F"===this.query.limitType?es.last():es.first();es=es.delete($.key),en=en.delete($.key),er.track({type:1,doc:$})}return{documentSet:es,changeSet:er,needsRefill:eo,mutatedKeys:en}}shouldWaitForSyncedDocument($,ee){return $.hasLocalMutations&&ee.hasCommittedMutations&&!ee.hasLocalMutations}applyChanges($,ee,er){let ei=this.documentSet;this.documentSet=$.documentSet,this.mutatedKeys=$.mutatedKeys;let en=$.changeSet.getChanges();en.sort(($,ee)=>compareChangeType($.type,ee.type)||this.docComparator($.doc,ee.doc)),this.applyTargetChange(er);let es=ee?this.updateLimboDocuments():[],eo=0===this.limboDocuments.size&&this.current,ep=eo?1:0,eu=ep!==this.syncState;if(this.syncState=ep,0===en.length&&!eu)return{limboChanges:es};{let ee=new ViewSnapshot(this.query,$.documentSet,ei,en,$.mutatedKeys,0===ep,eu,!1,!!er&&er.resumeToken.approximateByteSize()>0);return{snapshot:ee,limboChanges:es}}}applyOnlineStateChange($){return this.current&&"Offline"===$?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new DocumentChangeSet,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}}shouldBeInLimbo($){return!this._syncedDocuments.has($)&&!!this.documentSet.has($)&&!this.documentSet.get($).hasLocalMutations}applyTargetChange($){$&&($.addedDocuments.forEach($=>this._syncedDocuments=this._syncedDocuments.add($)),$.modifiedDocuments.forEach($=>{}),$.removedDocuments.forEach($=>this._syncedDocuments=this._syncedDocuments.delete($)),this.current=$.current)}updateLimboDocuments(){if(!this.current)return[];let $=this.limboDocuments;this.limboDocuments=documentKeySet(),this.documentSet.forEach($=>{this.shouldBeInLimbo($.key)&&(this.limboDocuments=this.limboDocuments.add($.key))});let ee=[];return $.forEach($=>{this.limboDocuments.has($)||ee.push(new RemovedLimboDocument($))}),this.limboDocuments.forEach(er=>{$.has(er)||ee.push(new AddedLimboDocument(er))}),ee}synchronizeWithPersistedState($){this._syncedDocuments=$.remoteKeys,this.limboDocuments=documentKeySet();let ee=this.computeDocChanges($.documents);return this.applyChanges(ee,!0)}computeInitialSnapshot(){return ViewSnapshot.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,0===this.syncState,this.hasCachedResults)}};function compareChangeType($,ee){let order=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return order($)-order(ee)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aV="SyncEngine";let QueryView=class QueryView{constructor($,ee,er){this.query=$,this.targetId=ee,this.view=er}};let LimboResolution=class LimboResolution{constructor($){this.key=$,this.receivedDocument=!1}};let SyncEngineImpl=class SyncEngineImpl{constructor($,ee,er,ei,en,es){this.localStore=$,this.remoteStore=ee,this.eventManager=er,this.sharedClientState=ei,this.currentUser=en,this.maxConcurrentLimboResolutions=es,this.syncEngineListener={},this.queryViewsByQuery=new ObjectMap($=>canonifyQuery($),queryEquals),this.queriesByTarget=new Map,this.enqueuedLimboResolutions=new Set,this.activeLimboTargetsByKey=new SortedMap(DocumentKey.comparator),this.activeLimboResolutionsByTarget=new Map,this.limboDocumentRefs=new ReferenceSet,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=TargetIdGenerator.forSyncEngine(),this.onlineState="Unknown",this._isPrimaryClient=void 0}get isPrimaryClient(){return!0===this._isPrimaryClient}};function newSyncEngine($,ee,er,ei,en,es,eo){let ep=new SyncEngineImpl($,ee,er,ei,en,es);return eo&&(ep._isPrimaryClient=!0),ep}async function syncEngineListen($,ee){let er,ei;let en=ensureWatchCallbacks($),es=en.queryViewsByQuery.get(ee);if(es)er=es.targetId,en.sharedClientState.addLocalQueryTarget(er),ei=es.view.computeInitialSnapshot();else{let $=await localStoreAllocateTarget(en.localStore,queryToTarget(ee)),es=en.sharedClientState.addLocalQueryTarget($.targetId);er=$.targetId,ei=await initializeViewAndComputeSnapshot(en,ee,er,"current"===es,$.resumeToken),en.isPrimaryClient&&remoteStoreListen(en.remoteStore,$)}return ei}async function initializeViewAndComputeSnapshot($,ee,er,ei,en){$.applyDocChanges=(ee,er,ei)=>applyDocChanges($,ee,er,ei);let es=await localStoreExecuteQuery($.localStore,ee,!0),eo=new View(ee,es.remoteKeys),ep=eo.computeDocChanges(es.documents),eu=TargetChange.createSynthesizedTargetChangeForCurrentChange(er,ei&&"Offline"!==$.onlineState,en),eh=eo.applyChanges(ep,$.isPrimaryClient,eu);updateTrackedLimbos($,er,eh.limboChanges);let em=new QueryView(ee,er,eo);return $.queryViewsByQuery.set(ee,em),$.queriesByTarget.has(er)?$.queriesByTarget.get(er).push(ee):$.queriesByTarget.set(er,[ee]),eh.snapshot}async function syncEngineUnlisten($,ee){let er=debugCast($),ei=er.queryViewsByQuery.get(ee),en=er.queriesByTarget.get(ei.targetId);if(en.length>1){er.queriesByTarget.set(ei.targetId,en.filter($=>!queryEquals($,ee))),er.queryViewsByQuery.delete(ee);return}if(er.isPrimaryClient){er.sharedClientState.removeLocalQueryTarget(ei.targetId);let $=er.sharedClientState.isActiveQueryTarget(ei.targetId);$||await localStoreReleaseTarget(er.localStore,ei.targetId,!1).then(()=>{er.sharedClientState.clearQueryState(ei.targetId),remoteStoreUnlisten(er.remoteStore,ei.targetId),removeAndCleanupTarget(er,ei.targetId)}).catch(ignoreIfPrimaryLeaseLoss)}else removeAndCleanupTarget(er,ei.targetId),await localStoreReleaseTarget(er.localStore,ei.targetId,!0)}async function syncEngineWrite($,ee,er){let ei=syncEngineEnsureWriteCallbacks($);try{let $=await localStoreWriteLocally(ei.localStore,ee);ei.sharedClientState.addPendingMutation($.batchId),addMutationCallback(ei,$.batchId,er),await syncEngineEmitNewSnapsAndNotifyLocalStore(ei,$.changes),await fillWritePipeline(ei.remoteStore)}catch(ee){let $=wrapInUserErrorIfRecoverable(ee,"Failed to persist write");er.reject($)}}async function syncEngineApplyRemoteEvent($,ee){let er=debugCast($);try{let $=await localStoreApplyRemoteEventToLocalCache(er.localStore,ee);ee.targetChanges.forEach(($,ee)=>{let ei=er.activeLimboResolutionsByTarget.get(ee);ei&&(hardAssert($.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size<=1),$.addedDocuments.size>0?ei.receivedDocument=!0:$.modifiedDocuments.size>0?hardAssert(ei.receivedDocument):$.removedDocuments.size>0&&(hardAssert(ei.receivedDocument),ei.receivedDocument=!1))}),await syncEngineEmitNewSnapsAndNotifyLocalStore(er,$,ee)}catch($){await ignoreIfPrimaryLeaseLoss($)}}function syncEngineApplyOnlineStateChange($,ee,er){let ei=debugCast($);if(ei.isPrimaryClient&&0===er||!ei.isPrimaryClient&&1===er){let $=[];ei.queryViewsByQuery.forEach((er,ei)=>{let en=ei.view.applyOnlineStateChange(ee);en.snapshot&&$.push(en.snapshot)}),eventManagerOnOnlineStateChange(ei.eventManager,ee),$.length&&ei.syncEngineListener.onWatchChange($),ei.onlineState=ee,ei.isPrimaryClient&&ei.sharedClientState.setOnlineState(ee)}}async function syncEngineRejectListen($,ee,er){let ei=debugCast($);ei.sharedClientState.updateQueryState(ee,"rejected",er);let en=ei.activeLimboResolutionsByTarget.get(ee),es=en&&en.key;if(es){let $=new SortedMap(DocumentKey.comparator);$=$.insert(es,MutableDocument.newNoDocument(es,SnapshotVersion.min()));let er=documentKeySet().add(es),en=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(primitiveComparator),$,er);await syncEngineApplyRemoteEvent(ei,en),ei.activeLimboTargetsByKey=ei.activeLimboTargetsByKey.remove(es),ei.activeLimboResolutionsByTarget.delete(ee),pumpEnqueuedLimboResolutions(ei)}else await localStoreReleaseTarget(ei.localStore,ee,!1).then(()=>removeAndCleanupTarget(ei,ee,er)).catch(ignoreIfPrimaryLeaseLoss)}async function syncEngineApplySuccessfulWrite($,ee){let er=debugCast($),ei=ee.batch.batchId;try{let $=await localStoreAcknowledgeBatch(er.localStore,ee);processUserCallback(er,ei,null),triggerPendingWritesCallbacks(er,ei),er.sharedClientState.updateMutationState(ei,"acknowledged"),await syncEngineEmitNewSnapsAndNotifyLocalStore(er,$)}catch($){await ignoreIfPrimaryLeaseLoss($)}}async function syncEngineRejectFailedWrite($,ee,er){let ei=debugCast($);try{let $=await localStoreRejectBatch(ei.localStore,ee);processUserCallback(ei,ee,er),triggerPendingWritesCallbacks(ei,ee),ei.sharedClientState.updateMutationState(ee,"rejected",er),await syncEngineEmitNewSnapsAndNotifyLocalStore(ei,$)}catch($){await ignoreIfPrimaryLeaseLoss($)}}function triggerPendingWritesCallbacks($,ee){($.pendingWritesCallbacks.get(ee)||[]).forEach($=>{$.resolve()}),$.pendingWritesCallbacks.delete(ee)}function rejectOutstandingPendingWritesCallbacks($,ee){$.pendingWritesCallbacks.forEach($=>{$.forEach($=>{$.reject(new FirestoreError(tN.CANCELLED,ee))})}),$.pendingWritesCallbacks.clear()}function addMutationCallback($,ee,er){let ei=$.mutationUserCallbacks[$.currentUser.toKey()];ei||(ei=new SortedMap(primitiveComparator)),ei=ei.insert(ee,er),$.mutationUserCallbacks[$.currentUser.toKey()]=ei}function processUserCallback($,ee,er){let ei=debugCast($),en=ei.mutationUserCallbacks[ei.currentUser.toKey()];if(en){let $=en.get(ee);$&&(er?$.reject(er):$.resolve(),en=en.remove(ee)),ei.mutationUserCallbacks[ei.currentUser.toKey()]=en}}function removeAndCleanupTarget($,ee,er=null){for(let ei of($.sharedClientState.removeLocalQueryTarget(ee),$.queriesByTarget.get(ee)))$.queryViewsByQuery.delete(ei),er&&$.syncEngineListener.onWatchError(ei,er);if($.queriesByTarget.delete(ee),$.isPrimaryClient){let er=$.limboDocumentRefs.removeReferencesForId(ee);er.forEach(ee=>{let er=$.limboDocumentRefs.containsKey(ee);er||removeLimboTarget($,ee)})}}function removeLimboTarget($,ee){$.enqueuedLimboResolutions.delete(ee.path.canonicalString());let er=$.activeLimboTargetsByKey.get(ee);null!==er&&(remoteStoreUnlisten($.remoteStore,er),$.activeLimboTargetsByKey=$.activeLimboTargetsByKey.remove(ee),$.activeLimboResolutionsByTarget.delete(er),pumpEnqueuedLimboResolutions($))}function updateTrackedLimbos($,ee,er){for(let ei of er)if(ei instanceof AddedLimboDocument)$.limboDocumentRefs.addReference(ei.key,ee),trackLimboChange($,ei);else if(ei instanceof RemovedLimboDocument){logDebug(aV,"Document no longer in limbo: "+ei.key),$.limboDocumentRefs.removeReference(ei.key,ee);let er=$.limboDocumentRefs.containsKey(ei.key);er||removeLimboTarget($,ei.key)}else fail()}function trackLimboChange($,ee){let er=ee.key,ei=er.path.canonicalString();$.activeLimboTargetsByKey.get(er)||$.enqueuedLimboResolutions.has(ei)||(logDebug(aV,"New document in limbo: "+er),$.enqueuedLimboResolutions.add(ei),pumpEnqueuedLimboResolutions($))}function pumpEnqueuedLimboResolutions($){for(;$.enqueuedLimboResolutions.size>0&&$.activeLimboTargetsByKey.size<$.maxConcurrentLimboResolutions;){let ee=$.enqueuedLimboResolutions.values().next().value;$.enqueuedLimboResolutions.delete(ee);let er=new DocumentKey(ResourcePath.fromString(ee)),ei=$.limboTargetIdGenerator.next();$.activeLimboResolutionsByTarget.set(ei,new LimboResolution(er)),$.activeLimboTargetsByKey=$.activeLimboTargetsByKey.insert(er,ei),remoteStoreListen($.remoteStore,new TargetData(queryToTarget(newQueryForPath(er.path)),ei,"TargetPurposeLimboResolution",ListenSequence.INVALID))}}async function syncEngineEmitNewSnapsAndNotifyLocalStore($,ee,er){let ei=debugCast($),en=[],es=[],eo=[];ei.queryViewsByQuery.isEmpty()||(ei.queryViewsByQuery.forEach(($,ep)=>{eo.push(ei.applyDocChanges(ep,ee,er).then($=>{if(($||er)&&ei.isPrimaryClient&&ei.sharedClientState.updateQueryState(ep.targetId,(null==$?void 0:$.fromCache)?"not-current":"current"),$){en.push($);let ee=LocalViewChanges.fromSnapshot(ep.targetId,$);es.push(ee)}}))}),await Promise.all(eo),ei.syncEngineListener.onWatchChange(en),await localStoreNotifyLocalViewChanges(ei.localStore,es))}async function applyDocChanges($,ee,er,ei){let en=ee.view.computeDocChanges(er);en.needsRefill&&(en=await localStoreExecuteQuery($.localStore,ee.query,!1).then(({documents:$})=>ee.view.computeDocChanges($,en)));let es=ei&&ei.targetChanges.get(ee.targetId),eo=ee.view.applyChanges(en,$.isPrimaryClient,es);return updateTrackedLimbos($,ee.targetId,eo.limboChanges),eo.snapshot}async function syncEngineHandleCredentialChange($,ee){let er=debugCast($),ei=!er.currentUser.isEqual(ee);if(ei){logDebug(aV,"User change. New user:",ee.toKey());let $=await localStoreHandleUserChange(er.localStore,ee);er.currentUser=ee,rejectOutstandingPendingWritesCallbacks(er,"'waitForPendingWrites' promise is rejected due to a user change."),er.sharedClientState.handleUserChange(ee,$.removedBatchIds,$.addedBatchIds),await syncEngineEmitNewSnapsAndNotifyLocalStore(er,$.affectedDocuments)}}function syncEngineGetRemoteKeysForTarget($,ee){let er=debugCast($),ei=er.activeLimboResolutionsByTarget.get(ee);if(ei&&ei.receivedDocument)return documentKeySet().add(ei.key);{let $=documentKeySet(),ei=er.queriesByTarget.get(ee);if(!ei)return $;for(let ee of ei){let ei=er.queryViewsByQuery.get(ee);$=$.unionWith(ei.view.syncedDocuments)}return $}}async function synchronizeViewAndComputeSnapshot($,ee){let er=debugCast($),ei=await localStoreExecuteQuery(er.localStore,ee.query,!0),en=ee.view.synchronizeWithPersistedState(ei);return er.isPrimaryClient&&updateTrackedLimbos(er,ee.targetId,en.limboChanges),en}async function syncEngineSynchronizeWithChangedDocuments($,ee){let er=debugCast($);return localStoreGetNewDocumentChanges(er.localStore,ee).then($=>syncEngineEmitNewSnapsAndNotifyLocalStore(er,$))}async function syncEngineApplyBatchState($,ee,er,ei){let en=debugCast($),es=await localStoreLookupMutationDocuments(en.localStore,ee);if(null===es){logDebug(aV,"Cannot apply mutation batch with id: "+ee);return}"pending"===er?await fillWritePipeline(en.remoteStore):"acknowledged"===er||"rejected"===er?(processUserCallback(en,ee,ei||null),triggerPendingWritesCallbacks(en,ee),localStoreRemoveCachedMutationBatchMetadata(en.localStore,ee)):fail(),await syncEngineEmitNewSnapsAndNotifyLocalStore(en,es)}async function syncEngineApplyPrimaryState($,ee){let er=debugCast($);if(ensureWatchCallbacks(er),syncEngineEnsureWriteCallbacks(er),!0===ee&&!0!==er._isPrimaryClient){let $=er.sharedClientState.getAllActiveQueryTargets(),ee=await synchronizeQueryViewsAndRaiseSnapshots(er,$.toArray());for(let $ of(er._isPrimaryClient=!0,await remoteStoreApplyPrimaryState(er.remoteStore,!0),ee))remoteStoreListen(er.remoteStore,$)}else if(!1===ee&&!1!==er._isPrimaryClient){let $=[],ee=Promise.resolve();er.queriesByTarget.forEach((ei,en)=>{er.sharedClientState.isLocalQueryTarget(en)?$.push(en):ee=ee.then(()=>(removeAndCleanupTarget(er,en),localStoreReleaseTarget(er.localStore,en,!0))),remoteStoreUnlisten(er.remoteStore,en)}),await ee,await synchronizeQueryViewsAndRaiseSnapshots(er,$),resetLimboDocuments(er),er._isPrimaryClient=!1,await remoteStoreApplyPrimaryState(er.remoteStore,!1)}}function resetLimboDocuments($){let ee=debugCast($);ee.activeLimboResolutionsByTarget.forEach(($,er)=>{remoteStoreUnlisten(ee.remoteStore,er)}),ee.limboDocumentRefs.removeAllReferences(),ee.activeLimboResolutionsByTarget=new Map,ee.activeLimboTargetsByKey=new SortedMap(DocumentKey.comparator)}async function synchronizeQueryViewsAndRaiseSnapshots($,ee,er){let ei=debugCast($),en=[],es=[];for(let $ of ee){let ee;let er=ei.queriesByTarget.get($);if(er&&0!==er.length)for(let $ of(ee=await localStoreAllocateTarget(ei.localStore,queryToTarget(er[0])),er)){let ee=ei.queryViewsByQuery.get($),er=await synchronizeViewAndComputeSnapshot(ei,ee);er.snapshot&&es.push(er.snapshot)}else{let er=await localStoreGetCachedTarget(ei.localStore,$);ee=await localStoreAllocateTarget(ei.localStore,er),await initializeViewAndComputeSnapshot(ei,synthesizeTargetToQuery(er),$,!1,ee.resumeToken)}en.push(ee)}return ei.syncEngineListener.onWatchChange(es),en}function synthesizeTargetToQuery($){return newQuery($.path,$.collectionGroup,$.orderBy,$.filters,$.limit,"F",$.startAt,$.endAt)}function syncEngineGetActiveClients($){let ee=debugCast($);return localStoreGetActiveClients(ee.localStore)}async function syncEngineApplyTargetState($,ee,er,ei){let en=debugCast($);if(en._isPrimaryClient){logDebug(aV,"Ignoring unexpected query state notification.");return}let es=en.queriesByTarget.get(ee);if(es&&es.length>0)switch(er){case"current":case"not-current":{let $=await localStoreGetNewDocumentChanges(en.localStore,queryCollectionGroup(es[0])),ei=RemoteEvent.createSynthesizedRemoteEventForCurrentChange(ee,"current"===er,ByteString.EMPTY_BYTE_STRING);await syncEngineEmitNewSnapsAndNotifyLocalStore(en,$,ei);break}case"rejected":await localStoreReleaseTarget(en.localStore,ee,!0),removeAndCleanupTarget(en,ee,ei);break;default:fail()}}async function syncEngineApplyActiveTargetsChange($,ee,er){let ei=ensureWatchCallbacks($);if(ei._isPrimaryClient){for(let $ of ee){if(ei.queriesByTarget.has($)){logDebug(aV,"Adding an already active target "+$);continue}let ee=await localStoreGetCachedTarget(ei.localStore,$),er=await localStoreAllocateTarget(ei.localStore,ee);await initializeViewAndComputeSnapshot(ei,synthesizeTargetToQuery(ee),er.targetId,!1,er.resumeToken),remoteStoreListen(ei.remoteStore,er)}for(let $ of er)ei.queriesByTarget.has($)&&await localStoreReleaseTarget(ei.localStore,$,!1).then(()=>{remoteStoreUnlisten(ei.remoteStore,$),removeAndCleanupTarget(ei,$)}).catch(ignoreIfPrimaryLeaseLoss)}}function ensureWatchCallbacks($){let ee=debugCast($);return ee.remoteStore.remoteSyncer.applyRemoteEvent=syncEngineApplyRemoteEvent.bind(null,ee),ee.remoteStore.remoteSyncer.getRemoteKeysForTarget=syncEngineGetRemoteKeysForTarget.bind(null,ee),ee.remoteStore.remoteSyncer.rejectListen=syncEngineRejectListen.bind(null,ee),ee.syncEngineListener.onWatchChange=eventManagerOnWatchChange.bind(null,ee.eventManager),ee.syncEngineListener.onWatchError=eventManagerOnWatchError.bind(null,ee.eventManager),ee}function syncEngineEnsureWriteCallbacks($){let ee=debugCast($);return ee.remoteStore.remoteSyncer.applySuccessfulWrite=syncEngineApplySuccessfulWrite.bind(null,ee),ee.remoteStore.remoteSyncer.rejectFailedWrite=syncEngineRejectFailedWrite.bind(null,ee),ee}async function loadBundleImpl($,ee,er){try{let ei=await ee.getMetadata(),en=await localStoreHasNewerBundle($.localStore,ei);if(en)return await ee.close(),er._completeWith(bundleSuccessProgress(ei)),Promise.resolve(new Set);er._updateProgress(bundleInitialProgress(ei));let es=new BundleLoader(ei,$.localStore,ee.serializer),eo=await ee.nextElement();for(;eo;){let $=await es.addSizedElement(eo);$&&er._updateProgress($),eo=await ee.nextElement()}let ep=await es.complete();return await syncEngineEmitNewSnapsAndNotifyLocalStore($,ep.changedDocs,void 0),await localStoreSaveBundle($.localStore,ei),er._completeWith(ep.progress),Promise.resolve(ep.changedCollectionGroups)}catch($){return logWarn(aV,`Loading bundle failed with ${$}`),er._failWith($),Promise.resolve(new Set)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MemoryOfflineComponentProvider=class MemoryOfflineComponentProvider{constructor(){this.synchronizeTabs=!1}async initialize($){this.serializer=newSerializer($.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState($),this.persistence=this.createPersistence($),await this.persistence.start(),this.localStore=this.createLocalStore($),this.gcScheduler=this.createGarbageCollectionScheduler($,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler($,this.localStore)}createGarbageCollectionScheduler($,ee){return null}createIndexBackfillerScheduler($,ee){return null}createLocalStore($){return newLocalStore(this.persistence,new QueryEngine,$.initialUser,this.serializer)}createPersistence($){return new MemoryPersistence(MemoryEagerDelegate.factory,this.serializer)}createSharedClientState($){return new MemorySharedClientState}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}};let IndexedDbOfflineComponentProvider=class IndexedDbOfflineComponentProvider extends null{constructor($,ee,er){super(),this.onlineComponentProvider=$,this.cacheSizeBytes=ee,this.forceOwnership=er,this.synchronizeTabs=!1}async initialize($){await super.initialize($),await this.onlineComponentProvider.initialize(this,$),await syncEngineEnsureWriteCallbacks(this.onlineComponentProvider.syncEngine),await fillWritePipeline(this.onlineComponentProvider.remoteStore),await this.persistence.setPrimaryStateListener(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore($){return newLocalStore(this.persistence,new QueryEngine,$.initialUser,this.serializer)}createGarbageCollectionScheduler($,ee){let er=this.persistence.referenceDelegate.garbageCollector;return new LruScheduler(er,$.asyncQueue,ee)}createIndexBackfillerScheduler($,ee){let er=new IndexBackfiller(ee,this.persistence);return new IndexBackfillerScheduler($.asyncQueue,er)}createPersistence($){let ee=indexedDbStoragePrefix($.databaseInfo.databaseId,$.databaseInfo.persistenceKey),er=void 0!==this.cacheSizeBytes?LruParams.withCacheSize(this.cacheSizeBytes):LruParams.DEFAULT;return new IndexedDbPersistence(this.synchronizeTabs,ee,$.clientId,er,$.asyncQueue,getWindow(),getDocument(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState($){return new MemorySharedClientState}};let OnlineComponentProvider=class OnlineComponentProvider{async initialize($,ee){this.localStore||(this.localStore=$.localStore,this.sharedClientState=$.sharedClientState,this.datastore=this.createDatastore(ee),this.remoteStore=this.createRemoteStore(ee),this.eventManager=this.createEventManager(ee),this.syncEngine=this.createSyncEngine(ee,!$.synchronizeTabs),this.sharedClientState.onlineStateHandler=$=>syncEngineApplyOnlineStateChange(this.syncEngine,$,1),this.remoteStore.remoteSyncer.handleCredentialChange=syncEngineHandleCredentialChange.bind(null,this.syncEngine),await remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager($){return newEventManager()}createDatastore($){let ee=newSerializer($.databaseInfo.databaseId),er=newConnection($.databaseInfo);return newDatastore($.authCredentials,$.appCheckCredentials,er,ee)}createRemoteStore($){return newRemoteStore(this.localStore,this.datastore,$.asyncQueue,$=>syncEngineApplyOnlineStateChange(this.syncEngine,$,0),newConnectivityMonitor())}createSyncEngine($,ee){return newSyncEngine(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,$.initialUser,$.maxConcurrentLimboResolutions,ee)}terminate(){return remoteStoreShutdown(this.remoteStore)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aU=10240;function toByteStreamReaderHelper($,ee=aU){let er=0,ei={async read(){if(er<$.byteLength){let ei={value:$.slice(er,er+ee),done:!1};return er+=ee,ei}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()};return ei}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function validateNonEmptyArgument($,ee,er){if(!er)throw new FirestoreError(tN.INVALID_ARGUMENT,`Function ${$}() cannot be called with an empty ${ee}.`)}function validateIsNotUsedTogether($,ee,er,ei){if(!0===ee&&!0===ei)throw new FirestoreError(tN.INVALID_ARGUMENT,`${$} and ${er} cannot be used together.`)}function validateDocumentPath($){if(!DocumentKey.isDocumentKey($))throw new FirestoreError(tN.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${$} has ${$.length}.`)}function validateCollectionPath($){if(DocumentKey.isDocumentKey($))throw new FirestoreError(tN.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${$} has ${$.length}.`)}function isPlainObject($){return"object"==typeof $&&null!==$&&(Object.getPrototypeOf($)===Object.prototype||null===Object.getPrototypeOf($))}function valueDescription($){if(void 0===$)return"undefined";if(null===$)return"null";if("string"==typeof $)return $.length>20&&($=`${$.substring(0,20)}...`),JSON.stringify($);if("number"==typeof $||"boolean"==typeof $)return""+$;if("object"==typeof $){if($ instanceof Array)return"an array";{let ee=tryGetCustomObjectType($);return ee?`a custom ${ee} object`:"an object"}}if("function"==typeof $)return"a function";return fail()}function tryGetCustomObjectType($){return $.constructor?$.constructor.name:null}function cast($,ee){if("_delegate"in $&&($=$._delegate),!($ instanceof ee)){if(ee.name===$.constructor.name)throw new FirestoreError(tN.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let er=valueDescription($);throw new FirestoreError(tN.INVALID_ARGUMENT,`Expected type '${ee.name}', but it was: ${er}`)}}return $}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function toByteStreamReader($,ee){if(!($ instanceof Uint8Array))throw new FirestoreError(tN.INVALID_ARGUMENT,`NodePlatform.toByteStreamReader expects source to be Uint8Array, got ${valueDescription($)}`);return toByteStreamReaderHelper($,ee)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AsyncObserver=class AsyncObserver{constructor($){this.observer=$,this.muted=!1}next($){this.observer.next&&this.scheduleEvent(this.observer.next,$)}error($){this.observer.error?this.scheduleEvent(this.observer.error,$):logError("Uncaught Error in snapshot listener:",$.toString())}mute(){this.muted=!0}scheduleEvent($,ee){this.muted||setTimeout(()=>{this.muted||$(ee)},0)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SizedBundleElement=class SizedBundleElement{constructor($,ee){this.payload=$,this.byteLength=ee}isBundleMetadata(){return"metadata"in this.payload}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BundleReaderImpl=class BundleReaderImpl{constructor($,ee){this.reader=$,this.serializer=ee,this.metadata=new Deferred,this.buffer=new Uint8Array,this.textDecoder=newTextDecoder(),this.nextElementImpl().then($=>{$&&$.isBundleMetadata()?this.metadata.resolve($.payload.metadata):this.metadata.reject(Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(null==$?void 0:$.payload)}`))},$=>this.metadata.reject($))}close(){return this.reader.cancel()}async getMetadata(){return this.metadata.promise}async nextElement(){return await this.getMetadata(),this.nextElementImpl()}async nextElementImpl(){let $=await this.readLength();if(null===$)return null;let ee=this.textDecoder.decode($),er=Number(ee);isNaN(er)&&this.raiseError(`length string (${ee}) is not valid number`);let ei=await this.readJsonString(er);return new SizedBundleElement(JSON.parse(ei),$.length+er)}indexOfOpenBracket(){return this.buffer.findIndex($=>123===$)}async readLength(){for(;0>this.indexOfOpenBracket();){let $=await this.pullMoreDataToBuffer();if($)break}if(0===this.buffer.length)return null;let $=this.indexOfOpenBracket();$<0&&this.raiseError("Reached the end of bundle when a length string is expected.");let ee=this.buffer.slice(0,$);return this.buffer=this.buffer.slice($),ee}async readJsonString($){for(;this.buffer.length<$;){let $=await this.pullMoreDataToBuffer();$&&this.raiseError("Reached the end of bundle when more is expected.")}let ee=this.textDecoder.decode(this.buffer.slice(0,$));return this.buffer=this.buffer.slice($),ee}raiseError($){throw this.reader.cancel(),Error(`Invalid bundle format: ${$}`)}async pullMoreDataToBuffer(){let $=await this.reader.read();if(!$.done){let ee=new Uint8Array(this.buffer.length+$.value.length);ee.set(this.buffer),ee.set($.value,this.buffer.length),this.buffer=ee}return $.done}};function newBundleReader($,ee){return new BundleReaderImpl($,ee)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Transaction$2=class Transaction$2{constructor($){this.datastore=$,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup($){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new FirestoreError(tN.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");let ee=await invokeBatchGetDocumentsRpc(this.datastore,$);return ee.forEach($=>this.recordVersion($)),ee}set($,ee){this.write(ee.toMutation($,this.precondition($))),this.writtenDocs.add($.toString())}update($,ee){try{this.write(ee.toMutation($,this.preconditionForUpdate($)))}catch($){this.lastWriteError=$}this.writtenDocs.add($.toString())}delete($){this.write(new DeleteMutation($,this.precondition($))),this.writtenDocs.add($.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;let $=this.readVersions;this.mutations.forEach(ee=>{$.delete(ee.key.toString())}),$.forEach(($,ee)=>{let er=DocumentKey.fromPath(ee);this.mutations.push(new VerifyMutation(er,this.precondition(er)))}),await invokeCommitRpc(this.datastore,this.mutations),this.committed=!0}recordVersion($){let ee;if($.isFoundDocument())ee=$.version;else if($.isNoDocument())ee=SnapshotVersion.min();else throw fail();let er=this.readVersions.get($.key.toString());if(er){if(!ee.isEqual(er))throw new FirestoreError(tN.ABORTED,"Document version changed between two reads.")}else this.readVersions.set($.key.toString(),ee)}precondition($){let ee=this.readVersions.get($.toString());return this.writtenDocs.has($.toString())||!ee?Precondition.none():ee.isEqual(SnapshotVersion.min())?Precondition.exists(!1):Precondition.updateTime(ee)}preconditionForUpdate($){let ee=this.readVersions.get($.toString());if(this.writtenDocs.has($.toString())||!ee)return Precondition.exists(!0);if(ee.isEqual(SnapshotVersion.min()))throw new FirestoreError(tN.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Precondition.updateTime(ee)}write($){this.ensureCommitNotCalled(),this.mutations.push($)}ensureCommitNotCalled(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aj="FirestoreClient",aq=100,az=11,aW=20,aH=22;let FirestoreClient=class FirestoreClient{constructor($,ee,er,ei){this.authCredentials=$,this.appCheckCredentials=ee,this.asyncQueue=er,this.databaseInfo=ei,this.user=User.UNAUTHENTICATED,this.clientId=AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(er,async $=>{logDebug(aj,"Received user=",$.uid),await this.authCredentialListener($),this.user=$}),this.appCheckCredentials.start(er,$=>(logDebug(aj,"Received new app check token=",$),this.appCheckCredentialListener($,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:aq}}setCredentialChangeListener($){this.authCredentialListener=$}setAppCheckTokenChangeListener($){this.appCheckCredentialListener=$}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new FirestoreError(tN.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let $=new Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),$.resolve()}catch(er){let ee=wrapInUserErrorIfRecoverable(er,"Failed to shutdown persistence");$.reject(ee)}}),$.promise}};async function setOfflineComponentProvider($,ee){$.asyncQueue.verifyOperationInProgress(),logDebug(aj,"Initializing OfflineComponentProvider");let er=await $.getConfiguration();await ee.initialize(er);let ei=er.initialUser;$.setCredentialChangeListener(async $=>{ei.isEqual($)||(await localStoreHandleUserChange(ee.localStore,$),ei=$)}),ee.persistence.setDatabaseDeletedListener(()=>$.terminate()),$._offlineComponents=ee}async function setOnlineComponentProvider($,ee){$.asyncQueue.verifyOperationInProgress();let er=await ensureOfflineComponents($);logDebug(aj,"Initializing OnlineComponentProvider");let ei=await $.getConfiguration();await ee.initialize(er,ei),$.setCredentialChangeListener($=>remoteStoreHandleCredentialChange(ee.remoteStore,$)),$.setAppCheckTokenChangeListener(($,er)=>remoteStoreHandleCredentialChange(ee.remoteStore,er)),$._onlineComponents=ee}function canFallbackFromIndexedDbError($){return"FirebaseError"===$.name?$.code===tN.FAILED_PRECONDITION||$.code===tN.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&$ instanceof DOMException)||$.code===aH||$.code===aW||$.code===az}async function ensureOfflineComponents($){if(!$._offlineComponents){if($._uninitializedComponentsProvider){logDebug(aj,"Using user provided OfflineComponentProvider");try{await setOfflineComponentProvider($,$._uninitializedComponentsProvider._offline)}catch(er){let ee=er;if(!canFallbackFromIndexedDbError(ee))throw ee;logWarn("Error using user provided cache. Falling back to memory cache: "+ee),await setOfflineComponentProvider($,new MemoryOfflineComponentProvider)}}else logDebug(aj,"Using default OfflineComponentProvider"),await setOfflineComponentProvider($,new MemoryOfflineComponentProvider)}return $._offlineComponents}async function ensureOnlineComponents($){return $._onlineComponents||($._uninitializedComponentsProvider?(logDebug(aj,"Using user provided OnlineComponentProvider"),await setOnlineComponentProvider($,$._uninitializedComponentsProvider._online)):(logDebug(aj,"Using default OnlineComponentProvider"),await setOnlineComponentProvider($,new OnlineComponentProvider))),$._onlineComponents}function getLocalStore($){return ensureOfflineComponents($).then($=>$.localStore)}function getSyncEngine($){return ensureOnlineComponents($).then($=>$.syncEngine)}function getDatastore($){return ensureOnlineComponents($).then($=>$.datastore)}async function getEventManager($){let ee=await ensureOnlineComponents($),er=ee.eventManager;return er.onListen=syncEngineListen.bind(null,ee.syncEngine),er.onUnlisten=syncEngineUnlisten.bind(null,ee.syncEngine),er}function firestoreClientListen($,ee,er,ei){let en=new AsyncObserver(ei),es=new QueryListener(ee,en,er);return $.asyncQueue.enqueueAndForget(async()=>{let ee=await getEventManager($);return eventManagerListen(ee,es)}),()=>{en.mute(),$.asyncQueue.enqueueAndForget(async()=>{let ee=await getEventManager($);return eventManagerUnlisten(ee,es)})}}function firestoreClientGetDocumentViaSnapshotListener($,ee,er={}){let ei=new Deferred;return $.asyncQueue.enqueueAndForget(async()=>{let en=await getEventManager($);return readDocumentViaSnapshotListener(en,$.asyncQueue,ee,er,ei)}),ei.promise}function firestoreClientWrite($,ee){let er=new Deferred;return $.asyncQueue.enqueueAndForget(async()=>{let ei=await getSyncEngine($);return syncEngineWrite(ei,ee,er)}),er.promise}function readDocumentViaSnapshotListener($,ee,er,ei,en){let es=new AsyncObserver({next:es=>{ee.enqueueAndForget(()=>eventManagerUnlisten($,eo));let ep=es.docs.has(er);!ep&&es.fromCache?en.reject(new FirestoreError(tN.UNAVAILABLE,"Failed to get document because the client is offline.")):ep&&es.fromCache&&ei&&"server"===ei.source?en.reject(new FirestoreError(tN.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):en.resolve(es)},error:$=>en.reject($)}),eo=new QueryListener(newQueryForPath(er.path),es,{includeMetadataChanges:!0,waitForSyncWhenOnline:!0});return eventManagerListen($,eo)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function longPollingOptionsEqual($,ee){return $.timeoutSeconds===ee.timeoutSeconds}function cloneLongPollingOptions($){let ee={};return void 0!==$.timeoutSeconds&&(ee.timeoutSeconds=$.timeoutSeconds),ee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aG="ComponentProvider",aK=new Map;function removeComponents($){let ee=aK.get($);ee&&(logDebug(aG,"Removing Datastore"),aK.delete($),ee.terminate())}function makeDatabaseInfo($,ee,er,ei){return new DatabaseInfo($,ee,er,ei.host,ei.ssl,ei.experimentalForceLongPolling,ei.experimentalAutoDetectLongPolling,cloneLongPollingOptions(ei.experimentalLongPollingOptions),ei.useFetchStreams)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a$="firestore.googleapis.com",aQ=!0,aY=5,aJ=30,aX=!0;let FirestoreSettingsImpl=class FirestoreSettingsImpl{constructor($){var ee,er;if(void 0===$.host){if(void 0!==$.ssl)throw new FirestoreError(tN.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a$,this.ssl=aQ}else this.host=$.host,this.ssl=null!==(ee=$.ssl)&&void 0!==ee?ee:aQ;if(this.credentials=$.credentials,this.ignoreUndefinedProperties=!!$.ignoreUndefinedProperties,this.localCache=$.localCache,void 0===$.cacheSizeBytes)this.cacheSizeBytes=iY;else{if($.cacheSizeBytes!==iQ&&$.cacheSizeBytes<iX)throw new FirestoreError(tN.INVALID_ARGUMENT,`cacheSizeBytes must be at least ${iX}`);this.cacheSizeBytes=$.cacheSizeBytes}validateIsNotUsedTogether("experimentalForceLongPolling",$.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",$.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!$.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===$.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=aX:this.experimentalAutoDetectLongPolling=!!$.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cloneLongPollingOptions(null!==(er=$.experimentalLongPollingOptions)&&void 0!==er?er:{}),validateLongPollingOptions(this.experimentalLongPollingOptions),this.useFetchStreams=!!$.useFetchStreams}isEqual($){return this.host===$.host&&this.ssl===$.ssl&&this.credentials===$.credentials&&this.cacheSizeBytes===$.cacheSizeBytes&&this.experimentalForceLongPolling===$.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===$.experimentalAutoDetectLongPolling&&longPollingOptionsEqual(this.experimentalLongPollingOptions,$.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===$.ignoreUndefinedProperties&&this.useFetchStreams===$.useFetchStreams}};function validateLongPollingOptions($){if(void 0!==$.timeoutSeconds){if(isNaN($.timeoutSeconds))throw new FirestoreError(tN.INVALID_ARGUMENT,`invalid long polling timeout: ${$.timeoutSeconds} (must not be NaN)`);if($.timeoutSeconds<aY)throw new FirestoreError(tN.INVALID_ARGUMENT,`invalid long polling timeout: ${$.timeoutSeconds} (minimum allowed value is ${aY})`);if($.timeoutSeconds>aJ)throw new FirestoreError(tN.INVALID_ARGUMENT,`invalid long polling timeout: ${$.timeoutSeconds} (maximum allowed value is ${aJ})`)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Firestore$1=class Firestore$1{constructor($,ee,er,ei){this._authCredentials=$,this._appCheckCredentials=ee,this._databaseId=er,this._app=ei,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new FirestoreError(tN.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings($){if(this._settingsFrozen)throw new FirestoreError(tN.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl($),void 0!==$.credentials&&(this._authCredentials=makeAuthCredentialsProvider($.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return removeComponents(this),Promise.resolve()}};function connectFirestoreEmulator($,ee,er,ei={}){var en;$=cast($,Firestore$1);let es=$._getSettings(),eo=`${ee}:${er}`;if(es.host!==a$&&es.host!==eo&&logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),$._setSettings(Object.assign(Object.assign({},es),{host:eo,ssl:!1})),ei.mockUserToken){let ee,er;if("string"==typeof ei.mockUserToken)ee=ei.mockUserToken,er=User.MOCK_USER;else{ee=(0,eg.Sg)(ei.mockUserToken,null===(en=$._app)||void 0===en?void 0:en.options.projectId);let es=ei.mockUserToken.sub||ei.mockUserToken.user_id;if(!es)throw new FirestoreError(tN.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");er=new User(es)}$._authCredentials=new EmulatorAuthCredentialsProvider(new OAuthToken(ee,er))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Query=class Query{constructor($,ee,er){this.converter=ee,this._query=er,this.type="query",this.firestore=$}withConverter($){return new Query(this.firestore,$,this._query)}};let DocumentReference=class DocumentReference{constructor($,ee,er){this.converter=ee,this._key=er,this.type="document",this.firestore=$}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter($){return new DocumentReference(this.firestore,$,this._key)}};let CollectionReference=class CollectionReference extends Query{constructor($,ee,er){super($,ee,newQueryForPath(er)),this._path=er,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let $=this._path.popLast();return $.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey($))}withConverter($){return new CollectionReference(this.firestore,$,this._path)}};function collection($,ee,...er){if($=(0,eg.m9)($),validateNonEmptyArgument("collection","path",ee),$ instanceof Firestore$1){let ei=ResourcePath.fromString(ee,...er);return validateCollectionPath(ei),new CollectionReference($,null,ei)}{if(!($ instanceof DocumentReference)&&!($ instanceof CollectionReference))throw new FirestoreError(tN.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let ei=$._path.child(ResourcePath.fromString(ee,...er));return validateCollectionPath(ei),new CollectionReference($.firestore,null,ei)}}function doc($,ee,...er){if($=(0,eg.m9)($),1==arguments.length&&(ee=AutoId.newId()),validateNonEmptyArgument("doc","path",ee),$ instanceof Firestore$1){let ei=ResourcePath.fromString(ee,...er);return validateDocumentPath(ei),new DocumentReference($,null,new DocumentKey(ei))}{if(!($ instanceof DocumentReference)&&!($ instanceof CollectionReference))throw new FirestoreError(tN.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let ei=$._path.child(ResourcePath.fromString(ee,...er));return validateDocumentPath(ei),new DocumentReference($.firestore,$ instanceof CollectionReference?$.converter:null,new DocumentKey(ei))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aZ="AsyncQueue";let AsyncQueueImpl=class AsyncQueueImpl{constructor(){this.tail=Promise.resolve(),this.retryableOps=[],this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.skipNonRestrictedTasks=!1,this.timerIdsToSkip=[],this.backoff=new ExponentialBackoff(this,"async_queue_retry"),this.visibilityHandler=()=>{this.backoff.skipBackoff()}}get isShuttingDown(){return this._isShuttingDown}enqueueAndForget($){this.enqueue($)}enqueueAndForgetEvenWhileRestricted($){this.verifyNotFailed(),this.enqueueInternal($)}enterRestrictedMode($){this._isShuttingDown||(this._isShuttingDown=!0,this.skipNonRestrictedTasks=$||!1)}enqueue($){if(this.verifyNotFailed(),this._isShuttingDown)return new Promise(()=>{});let ee=new Deferred;return this.enqueueInternal(()=>this._isShuttingDown&&this.skipNonRestrictedTasks?Promise.resolve():($().then(ee.resolve,ee.reject),ee.promise)).then(()=>ee.promise)}enqueueRetryable($){this.enqueueAndForget(()=>(this.retryableOps.push($),this.retryNextOp()))}async retryNextOp(){if(0!==this.retryableOps.length){try{await this.retryableOps[0](),this.retryableOps.shift(),this.backoff.reset()}catch($){if(isIndexedDbTransactionError($))logDebug(aZ,"Operation failed with retryable error: "+$);else throw $}this.retryableOps.length>0&&this.backoff.backoffAndRun(()=>this.retryNextOp())}}enqueueInternal($){let ee=this.tail.then(()=>(this.operationInProgress=!0,$().catch($=>{this.failure=$,this.operationInProgress=!1;let ee=getMessageOrStack($);throw logError("INTERNAL UNHANDLED ERROR: ",ee),$}).then($=>(this.operationInProgress=!1,$))));return this.tail=ee,ee}enqueueAfterDelay($,ee,er){this.verifyNotFailed(),this.timerIdsToSkip.indexOf($)>-1&&(ee=0);let ei=DelayedOperation.createAndSchedule(this,$,ee,er,$=>this.removeDelayedOperation($));return this.delayedOperations.push(ei),ei}verifyNotFailed(){this.failure&&fail()}verifyOperationInProgress(){}async drain(){let $;do $=this.tail,await $;while($!==this.tail)}containsDelayedOperation($){for(let ee of this.delayedOperations)if(ee.timerId===$)return!0;return!1}runAllDelayedOperationsUntil($){return this.drain().then(()=>{for(let ee of(this.delayedOperations.sort(($,ee)=>$.targetTimeMs-ee.targetTimeMs),this.delayedOperations))if(ee.skipDelay(),"all"!==$&&ee.timerId===$)break;return this.drain()})}skipDelaysForTimerId($){this.timerIdsToSkip.push($)}removeDelayedOperation($){let ee=this.delayedOperations.indexOf($);this.delayedOperations.splice(ee,1)}};function newAsyncQueue(){return new AsyncQueueImpl}function getMessageOrStack($){let ee=$.message||"";return $.stack&&(ee=$.stack.includes($.message)?$.stack:$.message+"\n"+$.stack),ee}let Firestore=class Firestore extends Firestore$1{constructor($,ee,er,ei){super($,ee,er,ei),this.type="firestore",this._queue=newAsyncQueue(),this._persistenceKey=(null==ei?void 0:ei.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||configureFirestore(this),this._firestoreClient.terminate()}};function getFirestore($,ee){let er="object"==typeof $?$:(0,eu.Mq)(),ei="string"==typeof $?$:ee||r3,en=(0,eu.qX)(er,"firestore").getImmediate({identifier:ei});if(!en._initialized){let $=(0,eg.P0)("firestore");$&&connectFirestoreEmulator(en,...$)}return en}function ensureFirestoreConfigured($){return $._firestoreClient||configureFirestore($),$._firestoreClient.verifyNotTerminated(),$._firestoreClient}function configureFirestore($){var ee,er,ei;let en=$._freezeSettings(),es=makeDatabaseInfo($._databaseId,(null===(ee=$._app)||void 0===ee?void 0:ee.options.appId)||"",$._persistenceKey,en);$._firestoreClient=new FirestoreClient($._authCredentials,$._appCheckCredentials,$._queue,es),(null===(er=en.localCache)||void 0===er?void 0:er._offlineComponentProvider)&&(null===(ei=en.localCache)||void 0===ei?void 0:ei._onlineComponentProvider)&&($._firestoreClient._uninitializedComponentsProvider={_offlineKind:en.localCache.kind,_offline:en.localCache._offlineComponentProvider,_online:en.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerFirestore($,ee=!0){setSDKVersion(eu.Jn),(0,eu.Xd)(new eh.wA("firestore",($,{instanceIdentifier:er,options:ei})=>{let en=$.getProvider("app").getImmediate(),es=new Firestore(new FirebaseAuthCredentialsProvider($.getProvider("auth-internal")),new FirebaseAppCheckTokenProvider($.getProvider("app-check-internal")),databaseIdFromApp(en,er),en);return ei=Object.assign({useFetchStreams:ee},ei),es._setSettings(ei),es},"PUBLIC").setMultipleInstances(!0)),(0,eu.KN)(tE,tI,$),(0,eu.KN)(tE,tI,"esm2017")}let AggregateQuerySnapshot=class AggregateQuerySnapshot{constructor($,ee,er){this._userDataWriter=ee,this._data=er,this.type="AggregateQuerySnapshot",this.query=$}data(){return this._userDataWriter.convertObjectMap(this._data)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bytes=class Bytes{constructor($){this._byteString=$}static fromBase64String($){try{return new Bytes(ByteString.fromBase64String($))}catch($){throw new FirestoreError(tN.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+$)}}static fromUint8Array($){return new Bytes(ByteString.fromUint8Array($))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual($){return this._byteString.isEqual($._byteString)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FieldPath=class FieldPath{constructor(...$){for(let ee=0;ee<$.length;++ee)if(0===$[ee].length)throw new FirestoreError(tN.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1($)}isEqual($){return this._internalPath.isEqual($._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FieldValue=class FieldValue{constructor($){this._methodName=$}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GeoPoint=class GeoPoint{constructor($,ee){if(!isFinite($)||$<-90||$>90)throw new FirestoreError(tN.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+$);if(!isFinite(ee)||ee<-180||ee>180)throw new FirestoreError(tN.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+ee);this._lat=$,this._long=ee}get latitude(){return this._lat}get longitude(){return this._long}isEqual($){return this._lat===$._lat&&this._long===$._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo($){return primitiveComparator(this._lat,$._lat)||primitiveComparator(this._long,$._long)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a1=/^__.*__$/;let ParsedSetData=class ParsedSetData{constructor($,ee,er){this.data=$,this.fieldMask=ee,this.fieldTransforms=er}toMutation($,ee){return null!==this.fieldMask?new PatchMutation($,this.data,this.fieldMask,ee,this.fieldTransforms):new SetMutation($,this.data,ee,this.fieldTransforms)}};let ParsedUpdateData=class ParsedUpdateData{constructor($,ee,er){this.data=$,this.fieldMask=ee,this.fieldTransforms=er}toMutation($,ee){return new PatchMutation($,this.data,this.fieldMask,ee,this.fieldTransforms)}};function isWrite($){switch($){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}let ParseContextImpl=class ParseContextImpl{constructor($,ee,er,ei,en,es){this.settings=$,this.databaseId=ee,this.serializer=er,this.ignoreUndefinedProperties=ei,void 0===en&&this.validatePath(),this.fieldTransforms=en||[],this.fieldMask=es||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith($){return new ParseContextImpl(Object.assign(Object.assign({},this.settings),$),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField($){var ee;let er=null===(ee=this.path)||void 0===ee?void 0:ee.child($),ei=this.contextWith({path:er,arrayElement:!1});return ei.validatePathSegment($),ei}childContextForFieldPath($){var ee;let er=null===(ee=this.path)||void 0===ee?void 0:ee.child($),ei=this.contextWith({path:er,arrayElement:!1});return ei.validatePath(),ei}childContextForArray($){return this.contextWith({path:void 0,arrayElement:!0})}createError($){return createError($,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains($){return void 0!==this.fieldMask.find(ee=>$.isPrefixOf(ee))||void 0!==this.fieldTransforms.find(ee=>$.isPrefixOf(ee.field))}validatePath(){if(this.path)for(let $=0;$<this.path.length;$++)this.validatePathSegment(this.path.get($))}validatePathSegment($){if(0===$.length)throw this.createError("Document fields must not be empty");if(isWrite(this.dataSource)&&a1.test($))throw this.createError('Document fields cannot begin and end with "__"')}};let UserDataReader=class UserDataReader{constructor($,ee,er){this.databaseId=$,this.ignoreUndefinedProperties=ee,this.serializer=er||newSerializer($)}createContext($,ee,er,ei=!1){return new ParseContextImpl({dataSource:$,methodName:ee,targetDoc:er,path:FieldPath$1.emptyPath(),arrayElement:!1,hasConverter:ei},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function newUserDataReader($){let ee=$._freezeSettings(),er=newSerializer($._databaseId);return new UserDataReader($._databaseId,!!ee.ignoreUndefinedProperties,er)}function parseSetData($,ee,er,ei,en,es={}){let eo,ep;let eu=$.createContext(es.merge||es.mergeFields?2:0,ee,er,en);validatePlainObject("Data must be an object, but it was:",eu,ei);let eh=parseObject(ei,eu);if(es.merge)eo=new FieldMask(eu.fieldMask),ep=eu.fieldTransforms;else if(es.mergeFields){let $=[];for(let ei of es.mergeFields){let en=fieldPathFromArgument$1(ee,ei,er);if(!eu.contains(en))throw new FirestoreError(tN.INVALID_ARGUMENT,`Field '${en}' is specified in your field mask but missing from your input data.`);fieldMaskContains($,en)||$.push(en)}eo=new FieldMask($),ep=eu.fieldTransforms.filter($=>eo.covers($.field))}else eo=null,ep=eu.fieldTransforms;return new ParsedSetData(new ObjectValue(eh),eo,ep)}let DeleteFieldValueImpl=class DeleteFieldValueImpl extends FieldValue{_toFieldTransform($){if(2===$.dataSource)$.fieldMask.push($.path);else if(1===$.dataSource)throw $.createError(`${this._methodName}() can only appear at the top level of your update data`);else throw $.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return null}isEqual($){return $ instanceof DeleteFieldValueImpl}};let ServerTimestampFieldValueImpl=class ServerTimestampFieldValueImpl extends null{_toFieldTransform($){return new FieldTransform($.path,new ServerTimestampTransform)}isEqual($){return $ instanceof ServerTimestampFieldValueImpl}};function parseUpdateData($,ee,er,ei){let en=$.createContext(1,ee,er);validatePlainObject("Data must be an object, but it was:",en,ei);let es=[],eo=ObjectValue.empty();forEach(ei,($,ei)=>{let ep=fieldPathFromDotSeparatedString(ee,$,er);ei=(0,eg.m9)(ei);let eu=en.childContextForFieldPath(ep);if(ei instanceof DeleteFieldValueImpl)es.push(ep);else{let $=parseData(ei,eu);null!=$&&(es.push(ep),eo.set(ep,$))}});let ep=new FieldMask(es);return new ParsedUpdateData(eo,ep,en.fieldTransforms)}function parseUpdateVarargs($,ee,er,ei,en,es){let eo=$.createContext(1,ee,er),ep=[fieldPathFromArgument$1(ee,ei,er)],eu=[en];if(es.length%2!=0)throw new FirestoreError(tN.INVALID_ARGUMENT,`Function ${ee}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $=0;$<es.length;$+=2)ep.push(fieldPathFromArgument$1(ee,es[$])),eu.push(es[$+1]);let eh=[],em=ObjectValue.empty();for(let $=ep.length-1;$>=0;--$)if(!fieldMaskContains(eh,ep[$])){let ee=ep[$],er=eu[$];er=(0,eg.m9)(er);let ei=eo.childContextForFieldPath(ee);if(er instanceof DeleteFieldValueImpl)eh.push(ee);else{let $=parseData(er,ei);null!=$&&(eh.push(ee),em.set(ee,$))}}let ef=new FieldMask(eh);return new ParsedUpdateData(em,ef,eo.fieldTransforms)}function parseQueryValue($,ee,er,ei=!1){let en=$.createContext(ei?4:3,ee),es=parseData(er,en);return es}function parseData($,ee){if(looksLikeJsonObject($=(0,eg.m9)($)))return validatePlainObject("Unsupported field value:",ee,$),parseObject($,ee);if($ instanceof FieldValue)return parseSentinelFieldValue($,ee),null;if(void 0===$&&ee.ignoreUndefinedProperties)return null;if(ee.path&&ee.fieldMask.push(ee.path),!($ instanceof Array))return parseScalarValue($,ee);if(ee.settings.arrayElement&&4!==ee.dataSource)throw ee.createError("Nested arrays are not supported");return parseArray($,ee)}function parseObject($,ee){let er={};return isEmpty($)?ee.path&&ee.path.length>0&&ee.fieldMask.push(ee.path):forEach($,($,ei)=>{let en=parseData(ei,ee.childContextForField($));null!=en&&(er[$]=en)}),{mapValue:{fields:er}}}function parseArray($,ee){let er=[],ei=0;for(let en of $){let $=parseData(en,ee.childContextForArray(ei));null==$&&($={nullValue:"NULL_VALUE"}),er.push($),ei++}return{arrayValue:{values:er}}}function parseSentinelFieldValue($,ee){if(!isWrite(ee.dataSource))throw ee.createError(`${$._methodName}() can only be used with update() and set()`);if(!ee.path)throw ee.createError(`${$._methodName}() is not currently supported inside arrays`);let er=$._toFieldTransform(ee);er&&ee.fieldTransforms.push(er)}function parseScalarValue($,ee){if(null===($=(0,eg.m9)($)))return{nullValue:"NULL_VALUE"};if("number"==typeof $)return toNumber(ee.serializer,$);if("boolean"==typeof $)return{booleanValue:$};if("string"==typeof $)return{stringValue:$};if($ instanceof Date){let er=Timestamp.fromDate($);return{timestampValue:toTimestamp(ee.serializer,er)}}if($ instanceof Timestamp){let er=new Timestamp($.seconds,1e3*Math.floor($.nanoseconds/1e3));return{timestampValue:toTimestamp(ee.serializer,er)}}if($ instanceof GeoPoint)return{geoPointValue:{latitude:$.latitude,longitude:$.longitude}};else if($ instanceof Bytes)return{bytesValue:toBytes(ee.serializer,$._byteString)};else if($ instanceof DocumentReference){let er=ee.databaseId,ei=$.firestore._databaseId;if(!ei.isEqual(er))throw ee.createError(`Document reference is for database ${ei.projectId}/${ei.database} but should be for database ${er.projectId}/${er.database}`);return{referenceValue:toResourceName($.firestore._databaseId||ee.databaseId,$._key.path)}}else throw ee.createError(`Unsupported field value: ${valueDescription($)}`)}function looksLikeJsonObject($){return"object"==typeof $&&null!==$&&!($ instanceof Array)&&!($ instanceof Date)&&!($ instanceof Timestamp)&&!($ instanceof GeoPoint)&&!($ instanceof Bytes)&&!($ instanceof DocumentReference)&&!($ instanceof FieldValue)}function validatePlainObject($,ee,er){if(!looksLikeJsonObject(er)||!isPlainObject(er)){let ei=valueDescription(er);if("an object"===ei)throw ee.createError($+" a custom object");throw ee.createError($+" "+ei)}}function fieldPathFromArgument$1($,ee,er){if((ee=(0,eg.m9)(ee))instanceof FieldPath)return ee._internalPath;if("string"==typeof ee)return fieldPathFromDotSeparatedString($,ee);{let ee="Field path arguments must be of type string or ";throw createError(ee,$,!1,void 0,er)}}let a0=RegExp("[~\\*/\\[\\]]");function fieldPathFromDotSeparatedString($,ee,er){let ei=ee.search(a0);if(ei>=0)throw createError(`Invalid field path (${ee}). Paths must not contain '~', '*', '/', '[', or ']'`,$,!1,void 0,er);try{return new FieldPath(...ee.split("."))._internalPath}catch(ei){throw createError(`Invalid field path (${ee}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,$,!1,void 0,er)}}function createError($,ee,er,ei,en){let es=ei&&!ei.isEmpty(),eo=void 0!==en,ep=`Function ${ee}() called with invalid data`;er&&(ep+=" (via `toFirestore()`)"),ep+=". ";let eu="";return(es||eo)&&(eu+=" (found",es&&(eu+=` in field ${ei}`),eo&&(eu+=` in document ${en}`),eu+=")"),new FirestoreError(tN.INVALID_ARGUMENT,ep+$+eu)}function fieldMaskContains($,ee){return $.some($=>$.isEqual(ee))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DocumentSnapshot$1=class DocumentSnapshot$1{constructor($,ee,er,ei,en){this._firestore=$,this._userDataWriter=ee,this._key=er,this._document=ei,this._converter=en}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(!this._converter)return this._userDataWriter.convertValue(this._document.data.value);{let $=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore($)}}}get($){if(this._document){let ee=this._document.data.field(fieldPathFromArgument("DocumentSnapshot.get",$));if(null!==ee)return this._userDataWriter.convertValue(ee)}}};let QueryDocumentSnapshot$1=class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}};function fieldPathFromArgument($,ee){return"string"==typeof ee?fieldPathFromDotSeparatedString($,ee):ee instanceof FieldPath?ee._internalPath:ee._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function validateHasExplicitOrderByForLimitToLast($){if("L"===$.limitType&&0===$.explicitOrderBy.length)throw new FirestoreError(tN.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}let AppliableConstraint=class AppliableConstraint{};let QueryConstraint=class QueryConstraint extends AppliableConstraint{};function query($,ee,...er){let ei=[];for(let en of(ee instanceof AppliableConstraint&&ei.push(ee),validateQueryConstraintArray(ei=ei.concat(er)),ei))$=en._apply($);return $}let QueryFieldFilterConstraint=class QueryFieldFilterConstraint extends QueryConstraint{constructor($,ee,er){super(),this._field=$,this._op=ee,this._value=er,this.type="where"}static _create($,ee,er){return new QueryFieldFilterConstraint($,ee,er)}_apply($){let ee=this._parse($);return validateNewFieldFilter($._query,ee),new Query($.firestore,$.converter,queryWithAddedFilter($._query,ee))}_parse($){let ee=newUserDataReader($.firestore),er=newQueryFilter($._query,"where",ee,$.firestore._databaseId,this._field,this._op,this._value);return er}};let QueryCompositeFilterConstraint=class QueryCompositeFilterConstraint extends AppliableConstraint{constructor($,ee){super(),this.type=$,this._queryConstraints=ee}static _create($,ee){return new QueryCompositeFilterConstraint($,ee)}_parse($){let ee=this._queryConstraints.map(ee=>ee._parse($)).filter($=>$.getFilters().length>0);return 1===ee.length?ee[0]:CompositeFilter.create(ee,this._getOperator())}_apply($){let ee=this._parse($);return 0===ee.getFilters().length?$:(validateNewFilter($._query,ee),new Query($.firestore,$.converter,queryWithAddedFilter($._query,ee)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}};let QueryOrderByConstraint=class QueryOrderByConstraint extends null{constructor($,ee){super(),this._field=$,this._direction=ee,this.type="orderBy"}static _create($,ee){return new QueryOrderByConstraint($,ee)}_apply($){let ee=newQueryOrderBy($._query,this._field,this._direction);return new Query($.firestore,$.converter,queryWithAddedOrderBy($._query,ee))}};let QueryLimitConstraint=class QueryLimitConstraint extends null{constructor($,ee,er){super(),this.type=$,this._limit=ee,this._limitType=er}static _create($,ee,er){return new QueryLimitConstraint($,ee,er)}_apply($){return new Query($.firestore,$.converter,queryWithLimit($._query,this._limit,this._limitType))}};let QueryStartAtConstraint=class QueryStartAtConstraint extends null{constructor($,ee,er){super(),this.type=$,this._docOrFields=ee,this._inclusive=er}static _create($,ee,er){return new QueryStartAtConstraint($,ee,er)}_apply($){let ee=newQueryBoundFromDocOrFields($,this.type,this._docOrFields,this._inclusive);return new Query($.firestore,$.converter,queryWithStartAt($._query,ee))}};let QueryEndAtConstraint=class QueryEndAtConstraint extends null{constructor($,ee,er){super(),this.type=$,this._docOrFields=ee,this._inclusive=er}static _create($,ee,er){return new QueryEndAtConstraint($,ee,er)}_apply($){let ee=newQueryBoundFromDocOrFields($,this.type,this._docOrFields,this._inclusive);return new Query($.firestore,$.converter,queryWithEndAt($._query,ee))}};function newQueryBoundFromDocOrFields($,ee,er,ei){if(er[0]=getModularInstance(er[0]),er[0]instanceof DocumentSnapshot$1)return newQueryBoundFromDocument($._query,$.firestore._databaseId,ee,er[0]._document,ei);{let en=newUserDataReader($.firestore);return newQueryBoundFromFields($._query,$.firestore._databaseId,en,ee,er,ei)}}function newQueryFilter($,ee,er,ei,en,es,eo){let ep;if(en.isKeyField()){if("array-contains"===es||"array-contains-any"===es)throw new FirestoreError(tN.INVALID_ARGUMENT,`Invalid Query. You can't perform '${es}' queries on documentId().`);if("in"===es||"not-in"===es){validateDisjunctiveFilterElements(eo,es);let ee=[];for(let er of eo)ee.push(parseDocumentIdValue(ei,$,er));ep={arrayValue:{values:ee}}}else ep=parseDocumentIdValue(ei,$,eo)}else("in"===es||"not-in"===es||"array-contains-any"===es)&&validateDisjunctiveFilterElements(eo,es),ep=parseQueryValue(er,ee,eo,"in"===es||"not-in"===es);let eu=FieldFilter.create(en,es,ep);return eu}function newQueryOrderBy($,ee,er){if(null!==$.startAt)throw new FirestoreError(tN.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==$.endAt)throw new FirestoreError(tN.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");let ei=new OrderBy(ee,er);return ei}function newQueryBoundFromDocument($,ee,er,ei,en){if(!ei)throw new FirestoreError(tN.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${er}().`);let es=[];for(let er of queryNormalizedOrderBy($))if(er.field.isKeyField())es.push(refValue(ee,ei.key));else{let $=ei.data.field(er.field);if(isServerTimestamp($))throw new FirestoreError(tN.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+er.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null!==$)es.push($);else{let $=er.field.canonicalString();throw new FirestoreError(tN.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${$}' (used as the orderBy) does not exist.`)}}return new Bound(es,en)}function newQueryBoundFromFields($,ee,er,ei,en,es){let eo=$.explicitOrderBy;if(en.length>eo.length)throw new FirestoreError(tN.INVALID_ARGUMENT,`Too many arguments provided to ${ei}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let ep=[];for(let es=0;es<en.length;es++){let eu=en[es],eh=eo[es];if(eh.field.isKeyField()){if("string"!=typeof eu)throw new FirestoreError(tN.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ei}(), but got a ${typeof eu}`);if(!isCollectionGroupQuery($)&&-1!==eu.indexOf("/"))throw new FirestoreError(tN.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ei}() must be a plain document ID, but '${eu}' contains a slash.`);let er=$.path.child(ResourcePath.fromString(eu));if(!DocumentKey.isDocumentKey(er))throw new FirestoreError(tN.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ei}() must result in a valid document path, but '${er}' is not because it contains an odd number of segments.`);let en=new DocumentKey(er);ep.push(refValue(ee,en))}else{let $=parseQueryValue(er,ei,eu);ep.push($)}}return new Bound(ep,es)}function parseDocumentIdValue($,ee,er){if("string"==typeof(er=(0,eg.m9)(er))){if(""===er)throw new FirestoreError(tN.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!isCollectionGroupQuery(ee)&&-1!==er.indexOf("/"))throw new FirestoreError(tN.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${er}' contains a '/' character.`);let ei=ee.path.child(ResourcePath.fromString(er));if(!DocumentKey.isDocumentKey(ei))throw new FirestoreError(tN.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${ei}' is not because it has an odd number of segments (${ei.length}).`);return refValue($,new DocumentKey(ei))}if(er instanceof DocumentReference)return refValue($,er._key);throw new FirestoreError(tN.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${valueDescription(er)}.`)}function validateDisjunctiveFilterElements($,ee){if(!Array.isArray($)||0===$.length)throw new FirestoreError(tN.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${ee.toString()}' filters.`)}function conflictingOps($){switch($){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}function validateNewFieldFilter($,ee){let er=findOpInsideFilters($.filters,conflictingOps(ee.op));if(null!==er){if(er===ee.op)throw new FirestoreError(tN.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${ee.op.toString()}' filter.`);throw new FirestoreError(tN.INVALID_ARGUMENT,`Invalid query. You cannot use '${ee.op.toString()}' filters with '${er.toString()}' filters.`)}}function validateNewFilter($,ee){let er=$,ei=ee.getFlattenedFilters();for(let $ of ei)validateNewFieldFilter(er,$),er=queryWithAddedFilter(er,$)}function findOpInsideFilters($,ee){for(let er of $)for(let $ of er.getFlattenedFilters())if(ee.indexOf($.op)>=0)return $.op;return null}function validateQueryConstraintArray($){let ee=$.filter($=>$ instanceof QueryCompositeFilterConstraint).length,er=$.filter($=>$ instanceof QueryFieldFilterConstraint).length;if(ee>1||ee>0&&er>0)throw new FirestoreError(tN.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AbstractUserDataWriter=class AbstractUserDataWriter{convertValue($,ee="none"){switch(typeOrder($)){case 0:return null;case 1:return $.booleanValue;case 2:return normalizeNumber($.integerValue||$.doubleValue);case 3:return this.convertTimestamp($.timestampValue);case 4:return this.convertServerTimestamp($,ee);case 5:return $.stringValue;case 6:return this.convertBytes(normalizeByteString($.bytesValue));case 7:return this.convertReference($.referenceValue);case 8:return this.convertGeoPoint($.geoPointValue);case 9:return this.convertArray($.arrayValue,ee);case 10:return this.convertObject($.mapValue,ee);default:throw fail()}}convertObject($,ee){return this.convertObjectMap($.fields,ee)}convertObjectMap($,ee="none"){let er={};return forEach($,($,ei)=>{er[$]=this.convertValue(ei,ee)}),er}convertGeoPoint($){return new GeoPoint(normalizeNumber($.latitude),normalizeNumber($.longitude))}convertArray($,ee){return($.values||[]).map($=>this.convertValue($,ee))}convertServerTimestamp($,ee){switch(ee){case"previous":let er=getPreviousValue($);if(null==er)return null;return this.convertValue(er,ee);case"estimate":return this.convertTimestamp(getLocalWriteTime($));default:return null}}convertTimestamp($){let ee=normalizeTimestamp($);return new Timestamp(ee.seconds,ee.nanos)}convertDocumentKey($,ee){let er=ResourcePath.fromString($);hardAssert(isValidResourceName(er));let ei=new DatabaseId(er.get(1),er.get(3)),en=new DocumentKey(er.popFirst(5));return ei.isEqual(ee)||logError(`Document ${en} contains a document reference within a different database (${ei.projectId}/${ei.database}) which is not supported. It will be treated as a reference in the current database (${ee.projectId}/${ee.database}) instead.`),en}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function applyFirestoreDataConverter($,ee,er){return $?er&&(er.merge||er.mergeFields)?$.toFirestore(ee,er):$.toFirestore(ee):ee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isPartialObserver($){return implementsAnyMethods($,["next","error","complete"])}function implementsAnyMethods($,ee){if("object"!=typeof $||null===$)return!1;let er=$;for(let $ of ee)if($ in er&&"function"==typeof er[$])return!0;return!1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SnapshotMetadata=class SnapshotMetadata{constructor($,ee){this.hasPendingWrites=$,this.fromCache=ee}isEqual($){return this.hasPendingWrites===$.hasPendingWrites&&this.fromCache===$.fromCache}};let DocumentSnapshot=class DocumentSnapshot extends DocumentSnapshot$1{constructor($,ee,er,ei,en,es){super($,ee,er,ei,es),this._firestore=$,this._firestoreImpl=$,this.metadata=en}exists(){return super.exists()}data($={}){if(this._document){if(!this._converter)return this._userDataWriter.convertValue(this._document.data.value,$.serverTimestamps);{let ee=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(ee,$)}}}get($,ee={}){if(this._document){let er=this._document.data.field(fieldPathFromArgument("DocumentSnapshot.get",$));if(null!==er)return this._userDataWriter.convertValue(er,ee.serverTimestamps)}}};let QueryDocumentSnapshot=class QueryDocumentSnapshot extends DocumentSnapshot{data($={}){return super.data($)}};let QuerySnapshot=class QuerySnapshot{constructor($,ee,er,ei){this._firestore=$,this._userDataWriter=ee,this._snapshot=ei,this.metadata=new SnapshotMetadata(ei.hasPendingWrites,ei.fromCache),this.query=er}get docs(){let $=[];return this.forEach(ee=>$.push(ee)),$}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach($,ee){this._snapshot.docs.forEach(er=>{$.call(ee,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,er.key,er,new SnapshotMetadata(this._snapshot.mutatedKeys.has(er.key),this._snapshot.fromCache),this.query.converter))})}docChanges($={}){let ee=!!$.includeMetadataChanges;if(ee&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(tN.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===ee||(this._cachedChanges=changesFromSnapshot(this,ee),this._cachedChangesIncludeMetadataChanges=ee),this._cachedChanges}};function changesFromSnapshot($,ee){if($._snapshot.oldDocs.isEmpty()){let ee=0;return $._snapshot.docChanges.map(er=>{let ei=new QueryDocumentSnapshot($._firestore,$._userDataWriter,er.doc.key,er.doc,new SnapshotMetadata($._snapshot.mutatedKeys.has(er.doc.key),$._snapshot.fromCache),$.query.converter);return er.doc,{type:"added",doc:ei,oldIndex:-1,newIndex:ee++}})}{let er=$._snapshot.oldDocs;return $._snapshot.docChanges.filter($=>ee||3!==$.type).map(ee=>{let ei=new QueryDocumentSnapshot($._firestore,$._userDataWriter,ee.doc.key,ee.doc,new SnapshotMetadata($._snapshot.mutatedKeys.has(ee.doc.key),$._snapshot.fromCache),$.query.converter),en=-1,es=-1;return 0!==ee.type&&(en=er.indexOf(ee.doc.key),er=er.delete(ee.doc.key)),1!==ee.type&&(es=(er=er.add(ee.doc)).indexOf(ee.doc.key)),{type:resultChangeType(ee.type),doc:ei,oldIndex:en,newIndex:es}})}}function resultChangeType($){switch($){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc($){$=cast($,DocumentReference);let ee=cast($.firestore,Firestore),er=ensureFirestoreConfigured(ee);return firestoreClientGetDocumentViaSnapshotListener(er,$._key).then(er=>convertToDocSnapshot(ee,$,er))}let ExpUserDataWriter=class ExpUserDataWriter extends AbstractUserDataWriter{constructor($){super(),this.firestore=$}convertBytes($){return new Bytes($)}convertReference($){let ee=this.convertDocumentKey($,this.firestore._databaseId);return new DocumentReference(this.firestore,null,ee)}};function updateDoc($,ee,er,...ei){let en;$=cast($,DocumentReference);let es=cast($.firestore,Firestore),eo=newUserDataReader(es);en="string"==typeof(ee=(0,eg.m9)(ee))||ee instanceof FieldPath?parseUpdateVarargs(eo,"updateDoc",$._key,ee,er,ei):parseUpdateData(eo,"updateDoc",$._key,ee);let ep=en.toMutation($._key,Precondition.exists(!0));return executeWrite(es,[ep])}function deleteDoc($){let ee=cast($.firestore,Firestore),er=[new DeleteMutation($._key,Precondition.none())];return executeWrite(ee,er)}function addDoc($,ee){let er=cast($.firestore,Firestore),ei=doc($),en=applyFirestoreDataConverter($.converter,ee),es=newUserDataReader($.firestore),eo=parseSetData(es,"addDoc",ei._key,en,null!==$.converter,{}),ep=eo.toMutation(ei._key,Precondition.exists(!1));return executeWrite(er,[ep]).then(()=>ei)}function onSnapshot($,...ee){var er,ei,en;let es,eo,ep;$=(0,eg.m9)($);let eu={includeMetadataChanges:!1},eh=0;"object"==typeof ee[0]&&!isPartialObserver(ee[eh])&&(eu=ee[eh],eh++);let em={includeMetadataChanges:eu.includeMetadataChanges};if(isPartialObserver(ee[eh])){let $=ee[eh];ee[eh]=null===(er=$.next)||void 0===er?void 0:er.bind($),ee[eh+1]=null===(ei=$.error)||void 0===ei?void 0:ei.bind($),ee[eh+2]=null===(en=$.complete)||void 0===en?void 0:en.bind($)}if($ instanceof DocumentReference)eo=cast($.firestore,Firestore),ep=newQueryForPath($._key.path),es={next:er=>{ee[eh]&&ee[eh](convertToDocSnapshot(eo,$,er))},error:ee[eh+1],complete:ee[eh+2]};else{let er=cast($,Query);eo=cast(er.firestore,Firestore),ep=er._query;let ei=new ExpUserDataWriter(eo);es={next:$=>{ee[eh]&&ee[eh](new QuerySnapshot(eo,ei,er,$))},error:ee[eh+1],complete:ee[eh+2]},validateHasExplicitOrderByForLimitToLast($._query)}let ef=ensureFirestoreConfigured(eo);return firestoreClientListen(ef,ep,em,es)}function executeWrite($,ee){let er=ensureFirestoreConfigured($);return firestoreClientWrite(er,ee)}function convertToDocSnapshot($,ee,er){let ei=er.docs.get(ee._key),en=new ExpUserDataWriter($);return new DocumentSnapshot($,en,ee._key,ei,new SnapshotMetadata(er.hasPendingWrites,er.fromCache),ee.converter)}let SingleTabManagerImpl=class SingleTabManagerImpl{constructor($){this.forceOwnership=$,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize($){this._onlineComponentProvider=new OnlineComponentProvider,this._offlineComponentProvider=new IndexedDbOfflineComponentProvider(this._onlineComponentProvider,null==$?void 0:$.cacheSizeBytes,this.forceOwnership)}};new WeakMap,/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerFirestore("node")},17776:($,ee,er)=>{"use strict";er.d(ee,{cF:()=>getStorage});var ei,en,es=er(25662),eo=er(38465);er(12781),er(85465);var ep=er(86860);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu="firebasestorage.googleapis.com",eh="storageBucket",em=12e4,ef=6e5,eg=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let StorageError=class StorageError extends eo.ZR{constructor($,ee,er=0){super(prependCode($),`Firebase Storage: ${ee} (${prependCode($)})`),this.status_=er,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status($){this.status_=$}_codeEquals($){return prependCode($)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse($){this.customData.serverResponse=$,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}};function prependCode($){return"storage/"+$}function unknown(){let $="An unknown error occurred, please check the error payload for server response.";return new StorageError(ei.UNKNOWN,$)}function objectNotFound($){return new StorageError(ei.OBJECT_NOT_FOUND,"Object '"+$+"' does not exist.")}function quotaExceeded($){return new StorageError(ei.QUOTA_EXCEEDED,"Quota for bucket '"+$+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){let $="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError(ei.UNAUTHENTICATED,$)}function unauthorizedApp(){return new StorageError(ei.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function unauthorized($){return new StorageError(ei.UNAUTHORIZED,"User does not have permission to access '"+$+"'.")}function retryLimitExceeded(){return new StorageError(ei.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(ei.CANCELED,"User canceled the upload/download.")}function invalidUrl($){return new StorageError(ei.INVALID_URL,"Invalid URL '"+$+"'.")}function invalidDefaultBucket($){return new StorageError(ei.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+$+"'.")}function noDefaultBucket(){return new StorageError(ei.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+eh+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError(ei.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function serverFileWrongSize(){return new StorageError(ei.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function invalidArgument($){return new StorageError(ei.INVALID_ARGUMENT,$)}function appDeleted(){return new StorageError(ei.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation($){return new StorageError(ei.INVALID_ROOT_OPERATION,"The operation '"+$+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat($,ee){return new StorageError(ei.INVALID_FORMAT,"String does not match format '"+$+"': "+ee)}function internalError($){throw new StorageError(ei.INTERNAL_ERROR,"Internal error: "+$)}!function($){$.UNKNOWN="unknown",$.OBJECT_NOT_FOUND="object-not-found",$.BUCKET_NOT_FOUND="bucket-not-found",$.PROJECT_NOT_FOUND="project-not-found",$.QUOTA_EXCEEDED="quota-exceeded",$.UNAUTHENTICATED="unauthenticated",$.UNAUTHORIZED="unauthorized",$.UNAUTHORIZED_APP="unauthorized-app",$.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",$.INVALID_CHECKSUM="invalid-checksum",$.CANCELED="canceled",$.INVALID_EVENT_NAME="invalid-event-name",$.INVALID_URL="invalid-url",$.INVALID_DEFAULT_BUCKET="invalid-default-bucket",$.NO_DEFAULT_BUCKET="no-default-bucket",$.CANNOT_SLICE_BLOB="cannot-slice-blob",$.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",$.NO_DOWNLOAD_URL="no-download-url",$.INVALID_ARGUMENT="invalid-argument",$.INVALID_ARGUMENT_COUNT="invalid-argument-count",$.APP_DELETED="app-deleted",$.INVALID_ROOT_OPERATION="invalid-root-operation",$.INVALID_FORMAT="invalid-format",$.INTERNAL_ERROR="internal-error",$.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(ei||(ei={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Location=class Location{constructor($,ee){this.bucket=$,this.path_=ee}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){let $=encodeURIComponent;return"/b/"+$(this.bucket)+"/o/"+$(this.path)}bucketOnlyServerUrl(){let $=encodeURIComponent;return"/b/"+$(this.bucket)+"/o"}static makeFromBucketSpec($,ee){let er;try{er=Location.makeFromUrl($,ee)}catch(ee){return new Location($,"")}if(""===er.path)return er;throw invalidDefaultBucket($)}static makeFromUrl($,ee){let er=null,ei="([A-Za-z0-9.\\-_]+)";function gsModify($){"/"===$.path.charAt($.path.length-1)&&($.path_=$.path_.slice(0,-1))}let en="(/(.*))?$",es=RegExp("^gs://"+ei+en,"i"),eo={bucket:1,path:3};function httpModify($){$.path_=decodeURIComponent($.path)}let ep="v[A-Za-z0-9_]+",eh=ee.replace(/[.]/g,"\\."),em="(/([^?#]*).*)?$",ef=RegExp(`^https?://${eh}/${ep}/b/${ei}/o${em}`,"i"),eg={bucket:1,path:3},ey=ee===eu?"(?:storage.googleapis.com|storage.cloud.google.com)":ee,ev="([^?#]*)",eS=RegExp(`^https?://${ey}/${ei}/${ev}`,"i"),e_={bucket:1,path:2},ew=[{regex:es,indices:eo,postModify:gsModify},{regex:ef,indices:eg,postModify:httpModify},{regex:eS,indices:e_,postModify:httpModify}];for(let ee=0;ee<ew.length;ee++){let ei=ew[ee],en=ei.regex.exec($);if(en){let $=en[ei.indices.bucket],ee=en[ei.indices.path];ee||(ee=""),er=new Location($,ee),ei.postModify(er);break}}if(null==er)throw invalidUrl($);return er}};let FailRequest=class FailRequest{constructor($){this.promise_=Promise.reject($)}getPromise(){return this.promise_}cancel($=!1){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start($,ee,er){let ei=1,en=null,es=null,eo=!1,ep=0;function canceled(){return 2===ep}let eu=!1;function triggerCallback(...$){eu||(eu=!0,ee.apply(null,$))}function callWithDelay(ee){en=setTimeout(()=>{en=null,$(responseHandler,canceled())},ee)}function clearGlobalTimeout(){es&&clearTimeout(es)}function responseHandler($,...ee){let er;if(eu){clearGlobalTimeout();return}if($){clearGlobalTimeout(),triggerCallback.call(null,$,...ee);return}let en=canceled()||eo;if(en){clearGlobalTimeout(),triggerCallback.call(null,$,...ee);return}ei<64&&(ei*=2),1===ep?(ep=2,er=0):er=(ei+Math.random())*1e3,callWithDelay(er)}let eh=!1;function stop($){!eh&&(eh=!0,clearGlobalTimeout(),!eu&&(null!==en?($||(ep=2),clearTimeout(en),callWithDelay(0)):$||(ep=1)))}return callWithDelay(0),es=setTimeout(()=>{eo=!0,stop(!0)},er),stop}function stop($){$(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef($){return void 0!==$}function isFunction($){return"function"==typeof $}function isNonArrayObject($){return"object"==typeof $&&!Array.isArray($)}function isString($){return"string"==typeof $||$ instanceof String}function isNativeBlob($){return isNativeBlobDefined()&&$ instanceof Blob}function isNativeBlobDefined(){return"undefined"!=typeof Blob&&!isNode()}function validateNumber($,ee,er,ei){if(ei<ee)throw invalidArgument(`Invalid value for '${$}'. Expected ${ee} or greater.`);if(ei>er)throw invalidArgument(`Invalid value for '${$}'. Expected ${er} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl($,ee,er){let ei=ee;return null==er&&(ei=`https://${ee}`),`${er}://${ei}/v0${$}`}function makeQueryString($){let ee=encodeURIComponent,er="?";for(let ei in $)if($.hasOwnProperty(ei)){let en=ee(ei)+"="+ee($[ei]);er=er+en+"&"}return er.slice(0,-1)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode($,ee){let er=$>=500&&$<600,ei=[408,429],en=-1!==ei.indexOf($),es=-1!==ee.indexOf($);return er||en||es}!function($){$[$.NO_ERROR=0]="NO_ERROR",$[$.NETWORK_ERROR=1]="NETWORK_ERROR",$[$.ABORT=2]="ABORT"}(en||(en={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NetworkRequest=class NetworkRequest{constructor($,ee,er,ei,en,es,eo,ep,eu,eh,em,ef=!0){this.url_=$,this.method_=ee,this.headers_=er,this.body_=ei,this.successCodes_=en,this.additionalRetryCodes_=es,this.callback_=eo,this.errorCallback_=ep,this.timeout_=eu,this.progressCallback_=eh,this.connectionFactory_=em,this.retry=ef,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($,ee)=>{this.resolve_=$,this.reject_=ee,this.start_()})}start_(){let doTheRequest=($,ee)=>{if(ee){$(!1,new RequestEndStatus(!1,null,!0));return}let er=this.connectionFactory_();this.pendingConnection_=er;let progressListener=$=>{let ee=$.loaded,er=$.lengthComputable?$.total:-1;null!==this.progressCallback_&&this.progressCallback_(ee,er)};null!==this.progressCallback_&&er.addUploadProgressListener(progressListener),er.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&er.removeUploadProgressListener(progressListener),this.pendingConnection_=null;let ee=er.getErrorCode()===en.NO_ERROR,ei=er.getStatus();if(!ee||isRetryStatusCode(ei,this.additionalRetryCodes_)&&this.retry){let ee=er.getErrorCode()===en.ABORT;$(!1,new RequestEndStatus(!1,null,ee));return}let es=-1!==this.successCodes_.indexOf(ei);$(!0,new RequestEndStatus(es,er))})},backoffDone=($,ee)=>{let er=this.resolve_,ei=this.reject_,en=ee.connection;if(ee.wasSuccessCode)try{let $=this.callback_(en,en.getResponse());isJustDef($)?er($):er()}catch($){ei($)}else if(null!==en){let $=unknown();$.serverResponse=en.getErrorText(),ei(this.errorCallback_?this.errorCallback_(en,$):$)}else if(ee.canceled){let $=this.appDelete_?appDeleted():canceled();ei($)}else{let $=retryLimitExceeded();ei($)}};this.canceled_?backoffDone(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(doTheRequest,backoffDone,this.timeout_)}getPromise(){return this.promise_}cancel($){this.canceled_=!0,this.appDelete_=$||!1,null!==this.backoffId_&&stop(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}};let RequestEndStatus=class RequestEndStatus{constructor($,ee,er){this.wasSuccessCode=$,this.connection=ee,this.canceled=!!er}};function addAuthHeader_($,ee){null!==ee&&ee.length>0&&($.Authorization="Firebase "+ee)}function addVersionHeader_($,ee){$["X-Firebase-Storage-Version"]="webjs/"+(null!=ee?ee:"AppManager")}function addGmpidHeader_($,ee){ee&&($["X-Firebase-GMPID"]=ee)}function addAppCheckHeader_($,ee){null!==ee&&($["X-Firebase-AppCheck"]=ee)}function makeRequest($,ee,er,ei,en,es,eo=!0){let ep=makeQueryString($.urlParams),eu=$.url+ep,eh=Object.assign({},$.headers);return addGmpidHeader_(eh,ee),addAuthHeader_(eh,er),addVersionHeader_(eh,es),addAppCheckHeader_(eh,ei),new NetworkRequest(eu,$.method,eh,$.body,$.successCodes,$.additionalRetryCodes,$.handler,$.errorHandler,$.timeout,$.progressCallback,en,eo)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function getBlob$1(...$){let ee=getBlobBuilder();if(void 0!==ee){let er=new ee;for(let ee=0;ee<$.length;ee++)er.append($[ee]);return er.getBlob()}if(isNativeBlobDefined())return new Blob($);throw new StorageError(ei.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function sliceBlob($,ee,er){return $.webkitSlice?$.webkitSlice(ee,er):$.mozSlice?$.mozSlice(ee,er):$.slice?$.slice(ee,er):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64($){if(/[^-A-Za-z0-9+/=]/.test($))throw invalidFormat("base64","Invalid character found");return Buffer.from($,"base64").toString("binary")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ey={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};let StringData=class StringData{constructor($,ee){this.data=$,this.contentType=ee||null}};function dataFromString($,ee){switch($){case ey.RAW:return new StringData(utf8Bytes_(ee));case ey.BASE64:case ey.BASE64URL:return new StringData(base64Bytes_($,ee));case ey.DATA_URL:return new StringData(dataURLBytes_(ee),dataURLContentType_(ee))}throw unknown()}function utf8Bytes_($){let ee=[];for(let er=0;er<$.length;er++){let ei=$.charCodeAt(er);if(ei<=127)ee.push(ei);else if(ei<=2047)ee.push(192|ei>>6,128|63&ei);else if((64512&ei)==55296){let en=er<$.length-1&&(64512&$.charCodeAt(er+1))==56320;if(en){let en=ei,es=$.charCodeAt(++er);ei=65536|(1023&en)<<10|1023&es,ee.push(240|ei>>18,128|ei>>12&63,128|ei>>6&63,128|63&ei)}else ee.push(239,191,189)}else(64512&ei)==56320?ee.push(239,191,189):ee.push(224|ei>>12,128|ei>>6&63,128|63&ei)}return new Uint8Array(ee)}function percentEncodedBytes_($){let ee;try{ee=decodeURIComponent($)}catch($){throw invalidFormat(ey.DATA_URL,"Malformed data URL.")}return utf8Bytes_(ee)}function base64Bytes_($,ee){let er;switch($){case ey.BASE64:{let er=-1!==ee.indexOf("-"),ei=-1!==ee.indexOf("_");if(er||ei){let ee=er?"-":"_";throw invalidFormat($,"Invalid character '"+ee+"' found: is it base64url encoded?")}break}case ey.BASE64URL:{let er=-1!==ee.indexOf("+"),ei=-1!==ee.indexOf("/");if(er||ei){let ee=er?"+":"/";throw invalidFormat($,"Invalid character '"+ee+"' found: is it base64 encoded?")}ee=ee.replace(/-/g,"+").replace(/_/g,"/")}}try{er=decodeBase64(ee)}catch(ee){if(ee.message.includes("polyfill"))throw ee;throw invalidFormat($,"Invalid character found")}let ei=new Uint8Array(er.length);for(let $=0;$<er.length;$++)ei[$]=er.charCodeAt($);return ei}let DataURLParts=class DataURLParts{constructor($){this.base64=!1,this.contentType=null;let ee=$.match(/^data:([^,]+)?,/);if(null===ee)throw invalidFormat(ey.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let er=ee[1]||null;null!=er&&(this.base64=endsWith(er,";base64"),this.contentType=this.base64?er.substring(0,er.length-7):er),this.rest=$.substring($.indexOf(",")+1)}};function dataURLBytes_($){let ee=new DataURLParts($);return ee.base64?base64Bytes_(ey.BASE64,ee.rest):percentEncodedBytes_(ee.rest)}function dataURLContentType_($){let ee=new DataURLParts($);return ee.contentType}function endsWith($,ee){let er=$.length>=ee.length;return!!er&&$.substring($.length-ee.length)===ee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FbsBlob=class FbsBlob{constructor($,ee){let er=0,ei="";isNativeBlob($)?(this.data_=$,er=$.size,ei=$.type):$ instanceof ArrayBuffer?(ee?this.data_=new Uint8Array($):(this.data_=new Uint8Array($.byteLength),this.data_.set(new Uint8Array($))),er=this.data_.length):$ instanceof Uint8Array&&(ee?this.data_=$:(this.data_=new Uint8Array($.length),this.data_.set($)),er=$.length),this.size_=er,this.type_=ei}size(){return this.size_}type(){return this.type_}slice($,ee){if(isNativeBlob(this.data_)){let er=this.data_,ei=sliceBlob(er,$,ee);return null===ei?null:new FbsBlob(ei)}{let er=new Uint8Array(this.data_.buffer,$,ee-$);return new FbsBlob(er,!0)}}static getBlob(...$){if(isNativeBlobDefined()){let ee=$.map($=>$ instanceof FbsBlob?$.data_:$);return new FbsBlob(getBlob$1.apply(null,ee))}{let ee=$.map($=>isString($)?dataFromString(ey.RAW,$).data:$.data_),er=0;ee.forEach($=>{er+=$.byteLength});let ei=new Uint8Array(er),en=0;return ee.forEach($=>{for(let ee=0;ee<$.length;ee++)ei[en++]=$[ee]}),new FbsBlob(ei,!0)}}uploadData(){return this.data_}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull($){let ee;try{ee=JSON.parse($)}catch($){return null}return isNonArrayObject(ee)?ee:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function index_node_esm_parent($){if(0===$.length)return null;let ee=$.lastIndexOf("/");if(-1===ee)return"";let er=$.slice(0,ee);return er}function child($,ee){let er=ee.split("/").filter($=>$.length>0).join("/");return 0===$.length?er:$+"/"+er}function lastComponent($){let ee=$.lastIndexOf("/",$.length-2);return -1===ee?$:$.slice(ee+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_($,ee){return ee}let Mapping=class Mapping{constructor($,ee,er,ei){this.server=$,this.local=ee||$,this.writable=!!er,this.xform=ei||noXform_}};let ev=null;function xformPath($){return!isString($)||$.length<2?$:lastComponent($)}function getMappings(){if(ev)return ev;let $=[];function mappingsXformPath($,ee){return xformPath(ee)}$.push(new Mapping("bucket")),$.push(new Mapping("generation")),$.push(new Mapping("metageneration")),$.push(new Mapping("name","fullPath",!0));let ee=new Mapping("name");function xformSize($,ee){return void 0!==ee?Number(ee):ee}ee.xform=mappingsXformPath,$.push(ee);let er=new Mapping("size");return er.xform=xformSize,$.push(er),$.push(new Mapping("timeCreated")),$.push(new Mapping("updated")),$.push(new Mapping("md5Hash",null,!0)),$.push(new Mapping("cacheControl",null,!0)),$.push(new Mapping("contentDisposition",null,!0)),$.push(new Mapping("contentEncoding",null,!0)),$.push(new Mapping("contentLanguage",null,!0)),$.push(new Mapping("contentType",null,!0)),$.push(new Mapping("metadata","customMetadata",!0)),ev=$}function addRef($,ee){function generateRef(){let er=$.bucket,ei=$.fullPath,en=new Location(er,ei);return ee._makeStorageReference(en)}Object.defineProperty($,"ref",{get:generateRef})}function fromResource($,ee,er){let ei={};ei.type="file";let en=er.length;for(let $=0;$<en;$++){let en=er[$];ei[en.local]=en.xform(ei,ee[en.server])}return addRef(ei,$),ei}function fromResourceString($,ee,er){let ei=jsonObjectOrNull(ee);if(null===ei)return null;let en=ei;return fromResource($,en,er)}function downloadUrlFromResourceString($,ee,er,ei){let en=jsonObjectOrNull(ee);if(null===en||!isString(en.downloadTokens))return null;let es=en.downloadTokens;if(0===es.length)return null;let eo=encodeURIComponent,ep=es.split(","),eu=ep.map(ee=>{let en=$.bucket,es=$.fullPath,ep="/b/"+eo(en)+"/o/"+eo(es),eu=makeUrl(ep,er,ei),eh=makeQueryString({alt:"media",token:ee});return eu+eh});return eu[0]}function toResourceString($,ee){let er={},ei=ee.length;for(let en=0;en<ei;en++){let ei=ee[en];ei.writable&&(er[ei.server]=$[ei.local])}return JSON.stringify(er)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eS="prefixes",e_="items";function fromBackendResponse($,ee,er){let ei={prefixes:[],items:[],nextPageToken:er.nextPageToken};if(er[eS])for(let en of er[eS]){let er=en.replace(/\/$/,""),es=$._makeStorageReference(new Location(ee,er));ei.prefixes.push(es)}if(er[e_])for(let en of er[e_]){let er=$._makeStorageReference(new Location(ee,en.name));ei.items.push(er)}return ei}function fromResponseString($,ee,er){let ei=jsonObjectOrNull(er);if(null===ei)return null;let en=ei;return fromBackendResponse($,ee,en)}let RequestInfo=class RequestInfo{constructor($,ee,er,ei){this.url=$,this.method=ee,this.handler=er,this.timeout=ei,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck($){if(!$)throw unknown()}function metadataHandler($,ee){return function(er,ei){let en=fromResourceString($,ei,ee);return handlerCheck(null!==en),en}}function listHandler($,ee){return function(er,ei){let en=fromResponseString($,ee,ei);return handlerCheck(null!==en),en}}function downloadUrlHandler($,ee){return function(er,ei){let en=fromResourceString($,ei,ee);return handlerCheck(null!==en),downloadUrlFromResourceString(en,ei,$.host,$._protocol)}}function sharedErrorHandler($){return function(ee,er){let ei;return(ei=401===ee.getStatus()?ee.getErrorText().includes("Firebase App Check token is invalid")?unauthorizedApp():unauthenticated():402===ee.getStatus()?quotaExceeded($.bucket):403===ee.getStatus()?unauthorized($.path):er).status=ee.getStatus(),ei.serverResponse=er.serverResponse,ei}}function objectErrorHandler($){let ee=sharedErrorHandler($);return function(er,ei){let en=ee(er,ei);return 404===er.getStatus()&&(en=objectNotFound($.path)),en.serverResponse=ei.serverResponse,en}}function getMetadata$2($,ee,er){let ei=ee.fullServerUrl(),en=makeUrl(ei,$.host,$._protocol),es="GET",eo=$.maxOperationRetryTime,ep=new RequestInfo(en,es,metadataHandler($,er),eo);return ep.errorHandler=objectErrorHandler(ee),ep}function list$2($,ee,er,ei,en){let es={};ee.isRoot?es.prefix="":es.prefix=ee.path+"/",er&&er.length>0&&(es.delimiter=er),ei&&(es.pageToken=ei),en&&(es.maxResults=en);let eo=ee.bucketOnlyServerUrl(),ep=makeUrl(eo,$.host,$._protocol),eu="GET",eh=$.maxOperationRetryTime,em=new RequestInfo(ep,eu,listHandler($,ee.bucket),eh);return em.urlParams=es,em.errorHandler=sharedErrorHandler(ee),em}function determineContentType_($,ee){return $&&$.contentType||ee&&ee.type()||"application/octet-stream"}function metadataForUpload_($,ee,er){let ei=Object.assign({},er);return ei.fullPath=$.path,ei.size=ee.size(),ei.contentType||(ei.contentType=determineContentType_(null,ee)),ei}function multipartUpload($,ee,er,ei,en){let es=ee.bucketOnlyServerUrl(),eo={"X-Goog-Upload-Protocol":"multipart"};function genBoundary(){let $="";for(let ee=0;ee<2;ee++)$+=Math.random().toString().slice(2);return $}let ep=genBoundary();eo["Content-Type"]="multipart/related; boundary="+ep;let eu=metadataForUpload_(ee,ei,en),eh=toResourceString(eu,er),em="--"+ep+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+eh+"\r\n--"+ep+"\r\nContent-Type: "+eu.contentType+"\r\n\r\n",ef="\r\n--"+ep+"--",eg=FbsBlob.getBlob(em,ei,ef);if(null===eg)throw cannotSliceBlob();let ey={name:eu.fullPath},ev=makeUrl(es,$.host,$._protocol),eS="POST",e_=$.maxUploadRetryTime,ew=new RequestInfo(ev,eS,metadataHandler($,er),e_);return ew.urlParams=ey,ew.headers=eo,ew.body=eg.uploadData(),ew.errorHandler=sharedErrorHandler(ee),ew}let ResumableUploadStatus=class ResumableUploadStatus{constructor($,ee,er,ei){this.current=$,this.total=ee,this.finalized=!!er,this.metadata=ei||null}};function checkResumeHeader_($,ee){let er=null;try{er=$.getResponseHeader("X-Goog-Upload-Status")}catch($){handlerCheck(!1)}let ei=ee||["active"];return handlerCheck(!!er&&-1!==ei.indexOf(er)),er}function createResumableUpload($,ee,er,ei,en){let es=ee.bucketOnlyServerUrl(),eo=metadataForUpload_(ee,ei,en),ep={name:eo.fullPath},eu=makeUrl(es,$.host,$._protocol),eh="POST",em={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${ei.size()}`,"X-Goog-Upload-Header-Content-Type":eo.contentType,"Content-Type":"application/json; charset=utf-8"},ef=toResourceString(eo,er),eg=$.maxUploadRetryTime;function handler($){let ee;checkResumeHeader_($);try{ee=$.getResponseHeader("X-Goog-Upload-URL")}catch($){handlerCheck(!1)}return handlerCheck(isString(ee)),ee}let ey=new RequestInfo(eu,eh,handler,eg);return ey.urlParams=ep,ey.headers=em,ey.body=ef,ey.errorHandler=sharedErrorHandler(ee),ey}function getResumableUploadStatus($,ee,er,ei){let en={"X-Goog-Upload-Command":"query"};function handler($){let ee=checkResumeHeader_($,["active","final"]),er=null;try{er=$.getResponseHeader("X-Goog-Upload-Size-Received")}catch($){handlerCheck(!1)}er||handlerCheck(!1);let en=Number(er);return handlerCheck(!isNaN(en)),new ResumableUploadStatus(en,ei.size(),"final"===ee)}let es="POST",eo=$.maxUploadRetryTime,ep=new RequestInfo(er,es,handler,eo);return ep.headers=en,ep.errorHandler=sharedErrorHandler(ee),ep}let ew=null;function continueResumableUpload($,ee,er,ei,en,es,eo,ep){let eu=new ResumableUploadStatus(0,0);if(eo?(eu.current=eo.current,eu.total=eo.total):(eu.current=0,eu.total=ei.size()),ei.size()!==eu.total)throw serverFileWrongSize();let eh=eu.total-eu.current,em=eh;en>0&&(em=Math.min(em,en));let ef=eu.current,eg=ef+em,ey="";ey=0===em?"finalize":eh===em?"upload, finalize":"upload";let ev={"X-Goog-Upload-Command":ey,"X-Goog-Upload-Offset":`${eu.current}`},eS=ei.slice(ef,eg);if(null===eS)throw cannotSliceBlob();function handler($,er){let en;let eo=checkResumeHeader_($,["active","final"]),ep=eu.current+em,eh=ei.size();return en="final"===eo?metadataHandler(ee,es)($,er):null,new ResumableUploadStatus(ep,eh,"final"===eo,en)}let e_="POST",ew=ee.maxUploadRetryTime,eC=new RequestInfo(er,e_,handler,ew);return eC.headers=ev,eC.body=eS.uploadData(),eC.progressCallback=ep||null,eC.errorHandler=sharedErrorHandler($),eC}let eC={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function taskStateFromInternalTaskState($){switch($){case"running":case"pausing":case"canceling":return eC.RUNNING;case"paused":return eC.PAUSED;case"success":return eC.SUCCESS;case"canceled":return eC.CANCELED;default:return eC.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Observer=class Observer{constructor($,ee,er){let ei=isFunction($)||null!=ee||null!=er;if(ei)this.next=$,this.error=null!=ee?ee:void 0,this.complete=null!=er?er:void 0;else{let ee=$;this.next=ee.next,this.error=ee.error,this.complete=ee.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function index_node_esm_async($){return(...ee)=>{Promise.resolve().then(()=>$(...ee))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eT=null;let FetchTextConnection=class FetchTextConnection extends null{getResponse(){if(!this.body_)throw internalError("cannot .getResponse() before receiving response");return Buffer.from(this.body_).toString("utf-8")}};function newTextConnection(){return eT?eT():new FetchTextConnection}let FetchBytesConnection=class FetchBytesConnection extends null{getResponse(){if(!this.body_)throw internalError("cannot .getResponse() before sending");return this.body_}};let FetchStreamConnection=class FetchStreamConnection extends null{constructor(){super(...arguments),this.stream_=null}async send($,ee,er,ei){if(this.sent_)throw internalError("cannot .send() more than once");this.sent_=!0;try{let es=await this.fetch_($,{method:ee,headers:ei||{},body:er});this.headers_=es.headers,this.statusCode_=es.status,this.errorCode_=en.NO_ERROR,this.stream_=es.body}catch($){this.errorText_=null==$?void 0:$.message,this.statusCode_=0,this.errorCode_=en.NETWORK_ERROR}}getResponse(){if(!this.stream_)throw internalError("cannot .getResponse() before sending");return this.stream_}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Reference=class Reference{constructor($,ee){this._service=$,ee instanceof Location?this._location=ee:this._location=Location.makeFromUrl(ee,$.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef($,ee){return new Reference($,ee)}get root(){let $=new Location(this._location.bucket,"");return this._newRef(this._service,$)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){let $=index_node_esm_parent(this._location.path);if(null===$)return null;let ee=new Location(this._location.bucket,$);return new Reference(this._service,ee)}_throwIfRoot($){if(""===this._location.path)throw invalidRootOperation($)}};function list$1($,ee){null!=ee&&"number"==typeof ee.maxResults&&validateNumber("options.maxResults",1,1e3,ee.maxResults);let er=ee||{},ei=list$2($.storage,$._location,"/",er.pageToken,er.maxResults);return $.storage.makeRequestWithTokens(ei,newTextConnection)}function _getChild$1($,ee){let er=child($._location.path,ee),ei=new Location($._location.bucket,er);return new Reference($.storage,ei)}function extractBucket($,ee){let er=null==ee?void 0:ee[eh];return null==er?null:Location.makeFromBucketSpec(er,$)}function connectStorageEmulator$1($,ee,er,ei={}){$.host=`${ee}:${er}`,$._protocol="http";let{mockUserToken:en}=ei;en&&($._overrideAuthToken="string"==typeof en?en:(0,eo.Sg)(en,$.app.options.projectId))}let FirebaseStorageImpl=class FirebaseStorageImpl{constructor($,ee,er,ei,en){this.app=$,this._authProvider=ee,this._appCheckProvider=er,this._url=ei,this._firebaseVersion=en,this._bucket=null,this._host=eu,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=em,this._maxUploadRetryTime=ef,this._requests=new Set,null!=ei?this._bucket=Location.makeFromBucketSpec(ei,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host($){this._host=$,null!=this._url?this._bucket=Location.makeFromBucketSpec(this._url,$):this._bucket=extractBucket($,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime($){validateNumber("time",0,Number.POSITIVE_INFINITY,$),this._maxUploadRetryTime=$}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime($){validateNumber("time",0,Number.POSITIVE_INFINITY,$),this._maxOperationRetryTime=$}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let $=this._authProvider.getImmediate({optional:!0});if($){let ee=await $.getToken();if(null!==ee)return ee.accessToken}return null}async _getAppCheckToken(){let $=this._appCheckProvider.getImmediate({optional:!0});if($){let ee=await $.getToken();return ee.token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach($=>$.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference($){return new Reference(this,$)}_makeRequest($,ee,er,ei,en=!0){if(this._deleted)return new FailRequest(appDeleted());{let es=makeRequest($,this._appId,er,ei,ee,this._firebaseVersion,en);return this._requests.add(es),es.getPromise().then(()=>this._requests.delete(es),()=>this._requests.delete(es)),es}}async makeRequestWithTokens($,ee){let[er,ei]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest($,ee,er,ei).getPromise()}};let eE="@firebase/storage",eI="0.11.2",eD="storage";function getStorage($=(0,es.Mq)(),ee){$=(0,eo.m9)($);let er=(0,es.qX)($,eD),ei=er.getImmediate({identifier:ee}),en=(0,eo.P0)("storage");return en&&connectStorageEmulator(ei,...en),ei}function connectStorageEmulator($,ee,er,ei={}){connectStorageEmulator$1($,ee,er,ei)}function factory($,{instanceIdentifier:ee}){let er=$.getProvider("app").getImmediate(),ei=$.getProvider("auth-internal"),en=$.getProvider("app-check-internal");return new FirebaseStorageImpl(er,ei,en,ee,es.Jn)}(function(){(0,es.Xd)(new ep.wA(eD,factory,"PUBLIC").setMultipleInstances(!0)),(0,es.KN)(eE,eI)})()},45191:$=>{"use strict";$.exports={i8:"1.9.5"}},1890:$=>{"use strict";$.exports=JSON.parse('[["8740","\uD85C\uDE67\uD85F\uDCB1\uD85F\uDCC5\uD850\uDEBF\uD84D\uDE17\uD85C\uDF52\uD85B\uDE8B\uD85C\uDCD2\uD868\uDF51\uD85F\uDC6C\uD85A\uDF23\uD856\uDE54\uD846\uDE63\uD84F\uDE06\uD84F\uDF61"],["8767","\uD862\uDFB9\uD85E\uDFEF\uD847\uDD5E\uD867\uDEB0\uD866\uDD45\uD847\uDD53\uD84D\uDE9E\uD858\uDC21"],["87a1","\uD856\uDCDE\uD850\uDD61\uD862\uDD0D\uD84C\uDDEA\uD842\uDE8A\uD84C\uDE5E\uD857\uDDB9\uD84D\uDE8E\uD85E\uDF65\uD85B\uDE88\uD857\uDD99\uD849\uDCBC\uD849\uDCC1\uD849\uDCC9\uD849\uDCCC\uD84D\uDDBB\uD86B\uDDFF"],["8840","",4,"\uD840\uDD0C\uD840\uDCD1\uD840\uDCCD\uD840\uDCCB\uD847\uDFE8\uD840\uDCCA\uD840\uDD0E\xc1\xc0\xc9\xc8\xd3\xd2\xca\xca\xca\xe1\xe0\xe9\xe8\xed\xec\xf3\xf2\xfa\xf9"],["88a1","\xfc\xea\xea\xea"],["8940","\uD868\uDFA9\uD844\uDD45"],["8943",""],["8946",""],["894c","\uD85D\uDF35"],["89a1",""],["89ab",""],["89b0","\uD842\uDDE7"],["89b5","\uD867\uDDF6\uD85C\uDC0E\uD868\uDD33"],["89c1",""],["89c5","\uD861\uDC6C\uD847\uDDCA\uD841\uDDD0\uD84A\uDEE6"],["8a40","\uD85F\uDD84"],["8a43","\uD843\uDC42\uD843\uDD15\uD854\uDD2B\uD84B\uDCC6\uD840\uDF41\uD853\uDDB8\uD865\uDCE5\uD860\uDCBE\uD84B\uDC38\uD860\uDD5D\uD85A\uDDF2\uD853\uDDEA\uD843\uDD7C\uD843\uDFB4\uD843\uDCD5\uD844\uDCF4\uD843\uDE96\uD843\uDC0B\uD843\uDF64\uD84B\uDCA9\uD860\uDE56\uD851\uDCD3"],["8a64","\uD843\uDD46\uD866\uDE4D\uD860\uDCE9\uD853\uDEA7\uD84B\uDCC2\uD865\uDDF4\uD854\uDEC7\uD865\uDFD4\uD85E\uDCC8\uD84B\uDD44"],["8a76","\uD858\uDCA5\uD84B\uDD4C\uD84A\uDFCA\uD844\uDC77\uD844\uDC6F"],["8aa1","\uD859\uDEDA\uD859\uDF16\uD85E\uDDA0\uD854\uDC52\uD843\uDC43\uD848\uDDA1\uD862\uDF4C\uD841\uDF31"],["8aac","\uD840\uDDA9\uD84B\uDD8D"],["8ab2","\uD851\uDDC8\uD841\uDCFC\uD858\uDC97\uD843\uDF4C\uD843\uDD96"],["8abb","\uD84A\uDE66\uD844\uDC9D\uD843\uDD9C\uD849\uDF75"],["8ac9","\uD869\uDE01\uD843\uDE09\uD84A\uDECF\uD84B\uDCC9"],["8ace","\uD844\uDCC8\uD84E\uDDC2\uD860\uDE9B\uD857\uDE49\uD848\uDCC7\uD843\uDF31\uD84B\uDCB2\uD865\uDF20\uD853\uDE3B"],["8adf","\uD85D\uDD74\uD84B\uDE8B\uD848\uDE08\uD869\uDE5B\uD863\uDCCD\uD843\uDE7A\uD843\uDC34\uD85A\uDC1C\uD844\uDCCF\uD84A\uDC03\uD84A\uDD39\uD854\uDDE3\uD843\uDE8C\uD843\uDF8D\uD843\uDEAA\uD843\uDF30\uD843\uDD47\uD844\uDD4F\uD843\uDE4C"],["8af6","\uD843\uDEAB\uD842\uDFA9\uD843\uDD48\uD844\uDCC0\uD844\uDD3D\uD849\uDE96\uD843\uDFAD"],["8b40","\uD84C\uDFF4\uD85D\uDE39\uD84A\uDFCE\uD843\uDD7E\uD843\uDD7F\uD84B\uDC51\uD84B\uDC55\uD843\uDE98\uD844\uDCC7\uD843\uDF2E\uD869\uDE32\uD85A\uDF50\uD863\uDCD2\uD863\uDD99\uD863\uDCCA"],["8b55","\uD867\uDEC3\uD85D\uDF5E\uD84B\uDDEE\uD859\uDD72\uD860\uDCBD\uD843\uDEFA\uD843\uDE0F\uD843\uDE77\uD843\uDEFB\uD853\uDDEB\uD843\uDCD6\uD849\uDFB5\uD844\uDCC9\uD843\uDE10\uD843\uDE78\uD844\uDC78\uD844\uDD48\uD860\uDE07\uD845\uDC55\uD843\uDE79\uD853\uDE50\uD84B\uDDA4\uD844\uDC1D\uD844\uDC1E\uD844\uDCF5\uD844\uDCF6\uD843\uDE11"],["8ba1","\uD85D\uDE94\uD860\uDECD\uD843\uDFB5\uD843\uDE7B\uD854\uDD7E\uD843\uDFB6\uD844\uDD80\uD854\uDED8\uD868\uDEBD\uD852\uDDDA\uD846\uDC3A\uD850\uDD77\uD860\uDE7C\uD855\uDF3D\uD856\uDF74\uD84C\uDD3D\uD846\uDFC1\uD87E\uDC78\uD840\uDC86\uD852\uDCE9\uD858\uDE6A"],["8bde","\uD858\uDF4B\uD859\uDE12\uD85A\uDD51\uD85E\uDCB2\uD863\uDE0F\uD866\uDC10\uD840\uDC87"],["8c40","\uD867\uDC73\uD850\uDD4E\uD854\uDDCD\uD857\uDD30\uD862\uDE32\uD84C\uDE81\uD868\uDD07\uD846\uDD80\uD861\uDF0F\uD868\uDEBA\uD842\uDE6F\uD866\uDD47\uD862\uDEEA\uD848\uDC7E\uD862\uDDE3\uD847\uDDB6\uD849\uDF12"],["8ca1","\uD84C\uDFF9\uD84F\uDC63"],["8ca7","\uD851\uDD05\uD852\uDE13\uD857\uDCA4\uD855\uDE95\uD863\uDDB9\uD845\uDC3F"],["8cc9",""],["8cce","\uD852\uDD7B\uD85C\uDD0D\uD85B\uDD74\uD85A\uDF15\uD85B\uDFBE\uD84C\uDE56\uD849\uDF96"],["8ce6","\uD84E\uDF1A\uD84D\uDD51\uD850\uDCEC\uD847\uDE23\uD840\uDDA4\uD85B\uDC41\uD840\uDE39\uD866\uDCFA"],["8d40","\uD842\uDF9F"],["8d42","\uD848\uDDC1\uD862\uDD6D\uD864\uDC79\uD868\uDDB5\uD85B\uDC46\uD861\uDEB2\uD85C\uDFFF\uD855\uDC9A\uD852\uDF0F"],["8da1","\uD862\uDDC0\uD84F\uDF41\uD840\uDF25\uD843\uDED8"],["8e40","\uD84F\uDED7\uD85B\uDED3\uD855\uDFE0\uD862\uDFE9\uD856\uDCE1\uD865\uDCD9\uD856\uDDAC\uD859\uDC8D\uD857\uDC01\uD854\uDF0E\uD857\uDCFE\uD856\uDFB4\uD85B\uDC7F\uD857\uDD20\uD857\uDC65\uD857\uDCC1\uD852\uDC82\uD851\uDD78"],["8ea1","\uD85B\uDE44\uD85B\uDED6\uD850\uDC57\uD858\uDC29\uD845\uDFF9\uD860\uDF6D\uD858\uDD21\uD858\uDD5A\uD858\uDED0\uD858\uDF51\uD845\uDE61\uD840\uDC68\uD84D\uDF66\uD860\uDF3A\uD859\uDC89\uD868\uDC87\uD85B\uDCC3\uD849\uDF14\uD859\uDE26\uD84F\uDDE3\uD859\uDEE8\uD862\uDE48\uD849\uDEF6\uD859\uDC98\uD853\uDFB8\uD845\uDC8A\uD846\uDC5E\uD852\uDE65\uD852\uDE95\uD842\uDF0D\uD85A\uDE52\uD84F\uDD7E\uD845\uDCFD\uD85A\uDF0A\uD852\uDDA7\uD84D\uDD30\uD845\uDF73\uD84F\uDDF8\uD87E\uDD94"],["8f40","\uD843\uDE16\uD845\uDFB4\uD84C\uDD7D\uD84D\uDD5A\uD84F\uDE8B\uD85B\uDDA3\uD85A\uDF05\uD85A\uDF97\uD84D\uDDCE\uD85B\uDDA5\uD85B\uDED4\uD85B\uDE42\uD84B\uDEEF\uD856\uDFE4\uD84F\uDCB5\uD85A\uDF96\uD85B\uDE77\uD85B\uDE43\uD857\uDC91\uD857\uDCC0\uD85B\uDE99"],["8fa1","\uD861\uDE25\uD861\uDE3B\uD85C\uDC88\uD845\uDD82\uD85C\uDCCD\uD87E\uDDB2\uD846\uDCA2\uD85C\uDF9A\uD868\uDCF8\uD84B\uDC27\uD85D\uDDE0\uD84F\uDDB9\uD85D\uDDE4\uD85D\uDF0F\uD862\uDE25\uD85E\uDD24\uD85E\uDEBD\uD85E\uDE59\uD85E\uDF3A\uD84F\uDF8F\uD85E\uDF38\uD855\uDC30\uD855\uDD65\uD852\uDE7A\uD845\uDEDF\uD85F\uDD54\uD85F\uDD8F\uD87E\uDDD4\uD85F\uDD53\uD85F\uDD98\uD85F\uDDBD\uD846\uDD10\uD853\uDCC9"],["9040","\uD860\uDC02\uD844\uDC14\uD852\uDD8A\uD860\uDDBC\uD85C\uDD0C\uD860\uDF65\uD861\uDC12\uD868\uDE9F\uD842\uDE50\uD862\uDDDE\uD861\uDD3D\uD84F\uDDBB\uD84C\uDE62\uD868\uDC14\uD861\uDEBC\uD861\uDD01\uD848\uDF25\uD85B\uDED7\uD861\uDD3C\uD85E\uDEBE\uD861\uDD6C\uD861\uDE0B\uD861\uDF13\uD861\uDEE6\uD862\uDD33\uD847\uDE89\uD855\uDDB9\uD862\uDEC6\uD84F\uDC9B\uD862\uDF0C\uD855\uDDDB"],["90a1","\uD843\uDD31\uD862\uDEE1\uD862\uDFEB\uD862\uDEE2\uD862\uDEE5\uD862\uDFEC\uD863\uDC39\uD862\uDFFF\uD849\uDE7A\uD861\uDED8\uD844\uDE7C\uD84F\uDE2E\uD85B\uDED5\uD862\uDEE0\uD85B\uDCB8\uD840\uDE74\uD859\uDC10\uD864\uDCAF\uD864\uDCE5\uD852\uDED1\uD846\uDD15\uD84C\uDF0A\uD852\uDEE9\uD864\uDDD5\uD864\uDDEB\uD84C\uDCB7\uD84C\uDCBC\uD855\uDC6C\uD865\uDC33\uD865\uDC1D\uD85E\uDD7A\uD85C\uDD75\uD841\uDE30\uD850\uDD5C"],["9140","\uD855\uDF06\uD85B\uDD27\uD845\uDED3\uD852\uDE29\uD866\uDC57\uD866\uDD05\uD855\uDF25\uD864\uDCB1\uD866\uDFD5\uD866\uDF05\uD861\uDE00\uD85A\uDDA8\uD84C\uDC7D\uD867\uDD3E\uD846\uDC63\uD850\uDE4B\uD867\uDE68\uD867\uDFB7\uD868\uDD92\uD868\uDDAB\uD868\uDCE1\uD868\uDD23\uD868\uDDDF\uD868\uDD34"],["91a1","\uD848\uDD5B\uD868\uDD93\uD868\uDE20\uD846\uDD3B\uD868\uDE33\uD868\uDCB9\uD868\uDEB4\uD850\uDF64\uD863\uDC2B\uD85B\uDDA2\uD864\uDC8B\uD852\uDD75\uD852\uDDBB\uD852\uDDF8\uD850\uDF48\uD852\uDE51\uD862\uDFDA\uD846\uDCFA\uD862\uDD7E\uD863\uDE36\uD862\uDE44\uD862\uDD6C\uD851\uDCB9\uD851\uDC73\uD850\uDFF8\uD845\uDFEF\uD846\uDCBE\uD84D\uDD99\uD846\uDC85\uD855\uDC2F\uD845\uDFF8\uD845\uDEFB\uD846\uDC39\uD845\uDF74\uD846\uDCD1\uD857\uDF4B\uD845\uDEC0\uD852\uDE25\uD844\uDFFE\uD844\uDEA8"],["9240","\uD844\uDFC6\uD845\uDCB6\uD84D\uDEA6\uD852\uDD94\uD85C\uDD65\uD84F\uDE31\uD855\uDD5C\uD84F\uDEFB\uD85C\uDC52\uD84D\uDEEE\uD866\uDD9D\uD85B\uDF26\uD846\uDD22\uD84D\uDF3F\uD850\uDCE1\uD850\uDC8B\uD850\uDD0F\uD85B\uDC21\uD859\uDEB1\uD843\uDFDF\uD842\uDFA8\uD843\uDE0D\uD862\uDF13\uD851\uDC36\uD841\uDC65\uD840\uDF7F\uD855\uDE51\uD840\uDDAB\uD840\uDFCB\uD840\uDF0A\uD841\uDC14\uD840\uDEC0\uD863\uDEB3\uD840\uDE75\uD840\uDE0C"],["92a1","\uD852\uDE0E\uD84F\uDE8A\uD84D\uDD95\uD84F\uDE39\uD84F\uDEBF\uD846\uDC84\uD84F\uDE89\uD841\uDDE0\uD841\uDCA3\uD841\uDC92\uD841\uDC91\uD862\uDE9C\uD841\uDF0E\uD842\uDC73\uD850\uDF8C\uD843\uDC20\uD852\uDDAC\uD844\uDCE4\uD843\uDE1D\uD852\uDEBC\uD850\uDC8D\uD850\uDCC9\uD840\uDF45\uD842\uDFC6\uD862\uDE46\uD845\uDEFA\uD845\uDF6F\uD845\uDF10\uD856\uDD46\uD846\uDDF3\uD846\uDC61\uD850\uDE95\uD857\uDE83"],["9340","\uD862\uDFD7\uD841\uDC13\uD844\uDF03\uD862\uDDFB\uD846\uDD96\uD846\uDD7C\uD84E\uDEEE\uD846\uDD03\uD846\uDD04\uD846\uDCA0\uD845\uDEFE\uD862\uDE47\uD847\uDDBA\uD84D\uDC72\uD862\uDDA8\uD846\uDD27\uD845\uDFAB\uD845\uDF3B\uD85D\uDDFD\uD84A\uDC60\uD849\uDE2B\uD849\uDDAF\uD849\uDDBE\uD864\uDC88\uD85B\uDF73\uD840\uDC3E\uD840\uDC46\uD849\uDE1B\uD84B\uDC9B\uD84B\uDD07\uD851\uDED4\uD864\uDD4D"],["93a1","\uD851\uDE65\uD84A\uDF6A\uD84A\uDF22\uD84D\uDC50\uD866\uDCEA\uD84B\uDE78\uD869\uDC5B\uD852\uDDE3\uD84B\uDD67\uD84B\uDCA1\uD84C\uDC8E\uD84C\uDEAD\uD852\uDD89\uD84C\uDEAB\uD84C\uDEE0\uD846\uDCD9\uD865\uDC3F\uD84C\uDE89\uD84C\uDDB3\uD855\uDD84\uD862\uDF22\uD855\uDD8F\uD845\uDEFC\uD855\uDD5B\uD855\uDC25\uD84C\uDD03\uD846\uDC2A\uD84C\uDE34\uD84C\uDE0F\uD84C\uDD82\uD850\uDEC9\uD85B\uDD24\uD85E\uDC70\uD847\uDDEB\uD84C\uDED2\uD84C\uDEE1\uD856\uDC72\uD84E\uDC3A\uD84D\uDFBC\uD84D\uDFA2\uD84C\uDFFE\uD851\uDE2A\uD84D\uDFD5\uD851\uDC87\uD846\uDD12\uD84F\uDFC0\uD84F\uDC9A\uD862\uDFEA\uD862\uDECB"],["9440","\uD860\uDC1E\uD862\uDDDC\uD852\uDDEC\uD84F\uDF7F\uD850\uDC3C\uD850\uDF1A\uD850\uDE76\uD851\uDF8F\uD851\uDF25\uD852\uDEA4\uD841\uDDEB\uD84F\uDEF8\uD84D\uDE5F\uD852\uDE4A\uD852\uDD17\uD857\uDFE1\uD852\uDEDF\uD863\uDC23\uD84F\uDF35\uD85B\uDDEA\uD853\uDCD9\uD853\uDD06\uD869\uDDC6\uD862\uDECC\uD852\uDDAB\uD852\uDD8E"],["94a1","\uD852\uDE4E\uD852\uDDC5\uD852\uDCF3\uD862\uDEE3\uD846\uDC64\uD854\uDE21\uD854\uDDE7\uD84C\uDE32\uD851\uDE97\uD84D\uDF81\uD852\uDCF0\uD852\uDEBA\uD852\uDEC7\uD852\uDE96\uD858\uDDAE\uD855\uDD81\uD85D\uDF41\uD855\uDEE3\uD84F\uDEFA\uD845\uDEE6\uD843\uDD4C\uD852\uDD8C\uD840\uDE99\uD84F\uDDBA\uD845\uDF6E\uD840\uDDD4\uD843\uDC0D\uD849\uDEF5\uD856\uDEAF\uD856\uDE9C\uD840\uDE5B\uD856\uDFC6\uD856\uDFB3\uD857\uDEBC\uD857\uDEA6\uD852\uDDF9\uD845\uDFB0\uD858\uDE61"],["9540","\uD858\uDD5C\uD85E\uDF48\uD857\uDE82\uD85A\uDF75\uD842\uDD16\uD840\uDC4E\uD84D\uDDCF\uD859\uDC12\uD858\uDFF8\uD852\uDD62\uD842\uDC2C\uD856\uDEE9\uD857\uDD43\uD857\uDE0E\uD84D\uDC3F\uD852\uDDF7\uD859\uDDAD\uD859\uDDA0\uD85C\uDD27\uD85B\uDCD1\uD859\uDFB4\uD85A\uDE42\uD85A\uDE51\uD85B\uDDA7\uD85C\uDE1B\uD846\uDC40\uD846\uDCA1\uD846\uDCD8\uD87E\uDDBC\uD84F\uDD8F\uD85D\uDC22"],["95a1","\uD855\uDE83\uD85D\uDF85\uD85D\uDF84\uD862\uDFF5\uD862\uDFD9\uD862\uDF9C\uD862\uDDF9\uD865\uDC48\uD850\uDE84\uD846\uDC45\uD85F\uDDDC\uD853\uDC09\uD848\uDF21\uD845\uDFDA\uD852\uDD2F\uD862\uDE4B\uD862\uDEFC\uD863\uDC1D\uD863\uDC3B\uD863\uDD34\uD852\uDCFF\uD852\uDE42\uD850\uDFEA\uD84C\uDE25\uD863\uDEE7\uD863\uDE66\uD863\uDE65\uD852\uDDED\uD852\uDE78\uD84F\uDFEE\uD864\uDCB0"],["9640","\uD864\uDC93\uD855\uDFDF\uD862\uDD89\uD863\uDC26\uD862\uDF2F\uD858\uDFBE\uD850\uDE1B\uD843\uDF26\uD862\uDFC5\uD852\uDEB2\uD865\uDCDA\uD865\uDDD7\uD862\uDF50\uD852\uDE67\uD862\uDF64\uD862\uDE45\uD85E\uDF06\uD862\uDF65\uD856\uDCC8\uD866\uDCF1\uD866\uDD48\uD844\uDF02\uD852\uDDB8"],["96a1","\uD845\uDCE8\uD849\uDF1F\uD84F\uDDB8\uD849\uDF81\uD84A\uDD6B\uD867\uDE2D\uD868\uDDF5\uD868\uDCFE\uD850\uDD04\uD868\uDDB4\uD868\uDCED\uD868\uDCF3\uD866\uDD2F\uD85B\uDE12\uD85B\uDFDF\uD85A\uDF82\uD85B\uDDA4\uD85B\uDE84\uD85B\uDDF0\uD85B\uDE00\uD84D\uDFD7\uD858\uDC64\uD84D\uDD9C\uD84D\uDE40\uD852\uDDDE\uD840\uDEBF\uD855\uDD5D\uD845\uDF57\uD84C\uDDC9\uD852\uDD41\uD850\uDDB5\uD850\uDDAC\uD85B\uDC40\uD853\uDF97\uD845\uDFB5\uD862\uDE49"],["9740","\uD851\uDC88\uD862\uDDFC\uD846\uDCD6\uD843\uDF1D\uD85B\uDCC0\uD845\uDC13\uD850\uDEFA\uD84B\uDC26\uD850\uDFC1\uD84F\uDDB7\uD859\uDF41\uD858\uDD5B\uD858\uDCA4\uD852\uDDB9\uD852\uDD8B\uD862\uDDFA\uD862\uDF63\uD846\uDC9F\uD852\uDEB3\uD852\uDE3E\uD852\uDE94\uD845\uDFD9\uD852\uDE66\uD840\uDFA7\uD845\uDC24\uD852\uDDE5\uD852\uDD16\uD852\uDD76\uD841\uDCFE\uD862\uDECE\uD862\uDE16\uD862\uDFE7\uD855\uDDD5\uD862\uDE82"],["97a1","\uD852\uDD43\uD843\uDCFF\uD841\uDE1A\uD842\uDFEB\uD843\uDCB8\uD845\uDFFA\uD845\uDEC2\uD852\uDE50\uD846\uDC52\uD862\uDEC0\uD852\uDDAD\uD846\uDCBF\uD846\uDC83\uD85D\uDC84\uD84F\uDD5B\uD862\uDE81\uD846\uDC62\uD842\uDEB4\uD844\uDF9C\uD860\uDE18\uD864\uDCE4\uD85F\uDE4F\uD84F\uDFED\uD84F\uDE2D\uD840\uDFF5\uD863\uDC1C\uD85A\uDFC0\uD845\uDC52\uD850\uDF62\uD852\uDE71\uD84B\uDFE3\uD844\uDEB0\uD848\uDFBD\uD844\uDF98\uD84D\uDCE5\uD85E\uDFF4\uD84D\uDEDF\uD862\uDE83\uD84D\uDFD6\uD84C\uDFFA\uD853\uDC9F\uD84D\uDEAD\uD85B\uDCB7"],["9840","\uD85B\uDD26\uD85B\uDD51\uD85B\uDC82\uD85B\uDFDE\uD85C\uDD09\uD845\uDF3A\uD85B\uDC80\uD85C\uDC53\uD845\uDFDB\uD845\uDFB3\uD846\uDD05\uD850\uDDFC\uD845\uDF3C\uD850\uDEA5\uD850\uDE93\uD84F\uDEF9\uD85D\uDF36\uD851\uDC5B\uD850\uDECA\uD850\uDE59\uD862\uDDE1\uD85B\uDD28\uD851\uDCCE\uD85F\uDE4D\uD850\uDFBD\uD850\uDE56\uD844\uDF04\uD850\uDFE9\uD87E\uDC25\uD852\uDE4F\uD852\uDE5D\uD845\uDFDF"],["98a1","\uD84E\uDEFA\uD84C\uDF00\uD840\uDE14\uD842\uDCD5\uD841\uDE19\uD847\uDF9E\uD868\uDEB6\uD864\uDD5B\uD862\uDE59\uD865\uDC20\uD85E\uDEF4\uD855\uDEF6\uD85E\uDF18\uD852\uDCF2\uD853\uDF5C\uD855\uDD35"],["9940","\uD843\uDCCF"],["99a1","\uD85E\uDD67"],["9a40","\uD846\uDFC2"],["9aa1","\uD840\uDC94\uD840\uDEB7\uD840\uDFA0\uD841\uDCD7\uD841\uDDD5\uD841\uDE15\uD841\uDE76\uD845\uDEBA\uD842\uDEC2\uD842\uDECD\uD842\uDFBF\uD87E\uDC3B\uD842\uDFCB\uD842\uDFFB\uD843\uDC3B\uD843\uDC53\uD843\uDC65\uD843\uDC7C\uD843\uDC8D\uD843\uDCB5\uD843\uDCDD\uD843\uDCED\uD843\uDD6F\uD843\uDDB2\uD843\uDDC8\uD843\uDE04\uD843\uDE0E\uD843\uDED7\uD843\uDF90\uD843\uDF2D\uD843\uDE73\uD843\uDFBC\uD844\uDC5C\uD844\uDC4F\uD844\uDC76\uD844\uDC7B\uD844\uDC88\uD844\uDC96\uD844\uDCBF\uD844\uDCD3\uD844\uDD2F\uD844\uDD3B\uD844\uDEE3\uD844\uDF75\uD844\uDF36\uD845\uDD77\uD845\uDE19\uD845\uDFC3\uD845\uDFC7\uD846\uDC2D\uD846\uDD6A"],["9b40","\uD846\uDE2D\uD846\uDE45\uD847\uDC2A\uD847\uDC70\uD847\uDCAC\uD847\uDEC8\uD847\uDED5\uD847\uDF15\uD848\uDC45\uD848\uDE7C\uD848\uDFD7\uD848\uDFFA\uD849\uDF2A\uD84A\uDC71\uD84A\uDD4F\uD84A\uDD67\uD84A\uDD93\uD84A\uDED5\uD84A\uDEE8\uD84A\uDF0E\uD84A\uDF3F\uD84B\uDC4C"],["9b62","\uD84B\uDC88\uD84B\uDCB7\uD856\uDFE8\uD84B\uDD08\uD84B\uDD12\uD84B\uDDB7\uD84B\uDD95\uD84B\uDE42\uD84B\uDF74\uD84B\uDFCC\uD84C\uDC33\uD84C\uDC66\uD84C\uDF1F\uD84C\uDFDE\uD85E\uDE79\uD84D\uDD67\uD84D\uDDF3\uD852\uDDBA\uD84D\uDE1A\uD84D\uDF16\uD840\uDF46"],["9ba1","\uD84E\uDEA7\uD85D\uDE57\uD857\uDFE2\uD84F\uDE11\uD84F\uDEB9\uD85D\uDDFE\uD848\uDC9A\uD850\uDD19\uD862\uDE9A\uD850\uDEEE\uD850\uDF0D\uD850\uDC3B\uD850\uDF34\uD850\uDF96\uD852\uDE45\uD841\uDDCA\uD841\uDE11\uD847\uDEA8\uD84F\uDCFF\uD851\uDC04\uD851\uDCD6\uD851\uDE74\uD851\uDF2F\uD861\uDDE8\uD866\uDDC9\uD848\uDDC3\uD862\uDF4E\uD852\uDC12\uD852\uDCFB\uD852\uDE15\uD852\uDEC0\uD843\uDC78\uD853\uDEA5\uD853\uDF86\uD841\uDF79\uD854\uDC2C\uD854\uDE99\uD855\uDC19\uD84F\uDF4A\uD852\uDEA7\uD855\uDC46\uD855\uDC6E\uD85A\uDF52\uD855\uDD3F\uD85D\uDE32\uD855\uDD5E\uD855\uDD62\uD855\uDD66\uD855\uDFC7\uD852\uDD3F\uD856\uDC5D\uD84C\uDFCC\uD856\uDD03\uD862\uDD48\uD856\uDEAE\uD856\uDF89\uD857\uDC06\uD847\uDD90\uD858\uDD02\uD85F\uDC12\uD858\uDDB2\uD853\uDF9A\uD859\uDC02\uD859\uDC4A"],["9c40","\uD85A\uDFF7\uD859\uDC84\uD846\uDD1C\uD852\uDDF6\uD859\uDC88\uD84F\uDFEF\uD859\uDD12\uD859\uDDBF\uD859\uDEB5\uD849\uDF1B\uD855\uDFE1\uD87E\uDCCD\uD851\uDD21\uD859\uDEFC\uD852\uDD34\uD85B\uDCBD\uD859\uDF99\uD85A\uDC6E\uD859\uDC11\uD85A\uDC5E\uD85A\uDCC7\uD864\uDCC0\uD842\uDE11\uD85A\uDD26\uD85A\uDD39\uD85A\uDDFA\uD85A\uDE2D\uD859\uDC69\uD840\uDC21\uD85A\uDE34\uD85A\uDF5B\uD84D\uDD19\uD85A\uDF9D\uD85B\uDCA4\uD85B\uDDAE"],["9ca1","\uD849\uDD8D\uD85C\uDC4B\uD85C\uDDCD\uD85C\uDE80\uD85C\uDE85\uD848\uDD7A\uD85C\uDE8B\uD85C\uDEE6\uD852\uDDD0\uD85D\uDC50\uD843\uDEF8\uD84A\uDD26\uD861\uDC73\uD845\uDFB1\uD852\uDE2A\uD846\uDC20\uD867\uDCAD\uD866\uDCA4\uD85D\uDFCC\uD85E\uDC58\uD845\uDE0A\uD84D\uDF2F\uD860\uDCE8\uD844\uDFC5\uD85E\uDDDD\uD864\uDDA8\uD85C\uDCAF\uD862\uDDAB\uD85E\uDDFD\uD85E\uDE0A\uD85E\uDF0B\uD85F\uDD66\uD850\uDD7A\uD860\uDC09\uD868\uDEDF\uD860\uDF18\uD85B\uDE07\uD860\uDD6F\uD860\uDC23\uD85A\uDDB5\uD844\uDFED\uD84C\uDE2F\uD860\uDC48\uD863\uDC30\uD860\uDC83\uD862\uDD49\uD852\uDD88\uD852\uDEA5\uD84F\uDF81\uD860\uDC90\uD860\uDCF4\uD860\uDD2E\uD847\uDFA1\uD860\uDD4F"],["9d40","\uD860\uDD89\uD860\uDDAF\uD860\uDE1A\uD860\uDF06\uD860\uDF2F\uD860\uDF8A\uD861\uDC68\uD861\uDEAA\uD862\uDD56\uD862\uDDB8\uD862\uDDE7\uD862\uDDE8\uD862\uDF46\uD862\uDFD4\uD863\uDC09\uD863\uDFC5\uD864\uDCEC\uD864\uDD10\uD864\uDD3C\uD864\uDD5E\uD852\uDECA\uD865\uDCE7\uD865\uDDE9\uD865\uDDB0\uD865\uDDB8\uD865\uDF32\uD866\uDCD1\uD866\uDD49\uD866\uDD6A\uD866\uDDC3\uD866\uDE28\uD866\uDF0E\uD867\uDD5A\uD867\uDD9B\uD867\uDEF8\uD867\uDF23\uD868\uDE93\uD868\uDEFF\uD869\uDDCB\uD843\uDC9C"],["9da1","\uD849\uDCB0\uD852\uDE93\uD862\uDF2C\uD85E\uDC9D\uD845\uDFF5\uD860\uDC24\uD862\uDF6C\uD862\uDF99\uD85E\uDE3E\uD859\uDEAF\uD85D\uDE55\uD84F\uDCB7\uD855\uDE35\uD856\uDD56\uD857\uDE81\uD858\uDE58\uD843\uDE6D\uD84F\uDE88\uD853\uDC9E\uD845\uDFF6\uD846\uDC7B\uD857\uDC4A\uD854\uDF11\uD867\uDD98\uD857\uDED8\uD84F\uDD40\uD843\uDFEA\uD843\uDD49\uD84D\uDEBA\uD843\uDE9D\uD860\uDEE2\uD843\uDC41\uD843\uDC96\uD854\uDD48\uD843\uDE76\uD84B\uDC62"],["9e40","\uD843\uDEA2\uD844\uDC75\uD84A\uDF43\uD84B\uDEB3\uD843\uDDA7\uD85A\uDC8A\uD844\uDCC1\uD851\uDF06\uD85A\uDC93\uD849\uDEF4\uD85F\uDD2F\uD850\uDDA3\uD85F\uDD73\uD85B\uDED0\uD85C\uDEB6\uD844\uDDD9\uD84F\uDCFC\uD869\uDEA9\uD843\uDEAC\uD843\uDEF9\uD847\uDCA2\uD853\uDFC2\uD85F\uDFF9\uD843\uDFEB"],["9ea1","\uD84B\uDDA0\uD851\uDFE0\uD867\uDD7C\uD843\uDFEC\uD843\uDE0A\uD85D\uDDA3\uD843\uDFED"],["9ead","\uD858\uDC48\uD844\uDD87\uD851\uDE18\uD852\uDF6E\uD856\uDE95\uD842\uDD79"],["9ec5","\uD849\uDC65\uD867\uDEAC\uD84F\uDCFE\uD867\uDF30\uD853\uDFA9\uD865\uDD9E\uD867\uDFDE\uD84F\uDDB6\uD85C\uDEB2\uD859\uDFB3\uD84D\uDF20\uD84F\uDEF7\uD84F\uDE2C\uD841\uDC8E\uD843\uDEB6\uD85F\uDF2E\uD869\uDC34\uD84C\uDCDA\uD850\uDFF2"],["9ef5","\uD844\uDEA9\uD852\uDD63\uD867\uDE06\uD85C\uDCAE"],["9f40","\uD845\uDF6C\uD865\uDCD0\uD858\uDF35\uD85C\uDD64\uD843\uDD28\uD85B\uDD22\uD852\uDEE2\uD843\uDD71"],["9f4f","\uD847\uDF0F\uD847\uDDD1\uD852\uDD3E"],["9fa1","\uD845\uDF6D"],["9fae",""],["9fb2","\uD863\uDE97\uD85B\uDD23\uD840\uDFFC\uD857\uDC21\uD84F\uDCFD"],["9fc1","\uD852\uDD19\uD843\uDCD4"],["9fc9","\uD840\uDDF2"],["9fdb",""],["9fe7",""],["9feb","\uD869\uDE4A"],["9ff0","\uD860\uDF7D\uD852\uDE77"],["a040","\uD862\uDE5A\uD868\uDEB2\uD87E\uDC40\uD852\uDEBB"],["a055","\uD846\uDC3B\uD85B\uDE05"],["a058","\uD849\uDD1B"],["a05b",""],["a063","\uD858\uDD59"],["a073","\uD84C\uDFF5"],["a0a1","\uD862\uDFC2\uD863\uDE39"],["a0a6","\uD847\uDD46\uD843\uDF3B"],["a0ae",""],["a0b0","\uD857\uDF1A\uD85D\uDC86\uD859\uDFCC\uD85B\uDED1"],["a0d4","\uD850\uDC11"],["a0e2","\uD862\uDF2D\uD84F\uDCC7\uD857\uDED7\uD85D\uDE56\uD855\uDD31\uD846\uDD44\uD844\uDEFE\uD866\uDD03\uD85B\uDDDC\uD85C\uDCAD\uD858\uDDAD\uD862\uDE0F\uD84D\uDE77\uD840\uDCEE\uD85A\uDC46\uD853\uDF0E\uD858\uDF4C\uD858\uDE6B"],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"\xa8",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,"\uD840\uDCCC\uD840\uDC8A"],["c8a1","\uD85D\uDE07"],["c8cd",""],["c8f5","\xf8"],["f9fe",""],["fa40","\uD841\uDD47\uD841\uDDDF\uD84F\uDFC5\uD852\uDD42\uD862\uDDE4\uD846\uDDDB\uD84F\uDCC8\uD852\uDD33\uD862\uDDAA\uD840\uDEA0\uD85A\uDFB3\uD844\uDF05\uD849\uDCED\uD85B\uDD29\uD85E\uDE84\uD84D\uDE00\uD852\uDEB1\uD849\uDD13\uD840\uDF7E\uD840\uDF80\uD840\uDF47\uD841\uDC1F\uD852\uDDA4\uD841\uDC87\uD84C\uDFB4\uD842\uDFFF\uD848\uDCFC\uD840\uDEE5\uD849\uDD30\uD841\uDD8E\uD84C\uDE33\uD846\uDD83\uD841\uDDB3\uD84F\uDC99"],["faa1","\uD852\uDEA6\uD84D\uDF2D\uD85A\uDF13\uD862\uDEDE\uD84F\uDF80\uD842\uDD54\uD84F\uDFEC\uD842\uDFE2\uD845\uDF26\uD845\uDEE8\uD861\uDEAB\uD845\uDD96\uD845\uDE13\uD862\uDE9B\uD855\uDF72\uD842\uDF8F\uD84F\uDFEB\uD84B\uDDA3\uD843\uDC77\uD85A\uDF53\uD843\uDD74\uD845\uDF0D\uD843\uDEDD\uD843\uDD4D"],["fb40","\uD862\uDDBC\uD849\uDE98\uD846\uDCD7\uD850\uDC3A\uD851\uDC35\uD844\uDCB4\uD84C\uDE8A\uD862\uDF66\uD844\uDE4F\uD850\uDDA5\uD85B\uDC7E\uD845\uDC16\uD845\uDC54\uD850\uDF63\uD852\uDFF5\uD844\uDE3C\uD868\uDD50\uD850\uDE78"],["fba1","\uD845\uDE3E\uD845\uDE92\uD843\uDD4E\uD85B\uDC81\uD85B\uDD2A\uD845\uDFDC\uD845\uDFFB\uD845\uDFB2\uD85B\uDDA6\uD846\uDC28\uD845\uDED5\uD85B\uDE45\uD852\uDDA9\uD85B\uDFA1\uD849\uDD54\uD846\uDD11\uD845\uDEB8\uD85E\uDE0E\uD840\uDE04\uD846\uDE34\uD856\uDDCC\uD841\uDDA5\uD846\uDF44\uD847\uDCA5\uD85A\uDF28\uD847\uDDF9\uD847\uDE37\uD847\uDEA4\uD852\uDD01\uD848\uDC49\uD848\uDD73\uD851\uDCBC\uD843\uDCD3\uD845\uDF71\uD861\uDC82"],["fc40","\uD840\uDDC1\uD87E\uDC94\uD844\uDF3A\uD85A\uDC88\uD848\uDFD0\uD849\uDC71\uD85B\uDE6E\uD862\uDE36\uD854\uDE50\uD847\uDF6A\uD85C\uDCF8\uD849\uDE68\uD840\uDE9E\uD862\uDE29\uD846\uDC77\uD849\uDFB4\uD852\uDD82\uD852\uDD8F\uD85E\uDE53\uD87E\uDCA6\uD85B\uDED2\uD841\uDE56\uD84F\uDFB7"],["fca1","\uD84A\uDC5F\uD862\uDF9D\uD866\uDD5D\uD84A\uDD80\uD84A\uDCC1\uD840\uDD18\uD845\uDF70\uD84B\uDE0D\uD852\uDDDF\uD844\uDF8E\uD845\uDFFC\uD84B\uDE36\uD850\uDC8C\uD855\uDF1D\uD852\uDE28\uD852\uDE23\uD84C\uDC7E\uD852\uDD40\uD846\uDC29\uD84D\uDC00\uD84C\uDDF7\uD84C\uDDF8\uD84C\uDDA4\uD84C\uDDA5\uD843\uDE75\uD854\uDDE6\uD847\uDE3D\uD84C\uDE31\uD861\uDDF4\uD84C\uDDC8\uD854\uDF13\uD84A\uDCF7\uD850\uDF9C\uD852\uDE21\uD84D\uDFC2\uD850\uDDCD\uD864\uDCED\uD84C\uDFE6\uD85B\uDDA0"],["fd40","\uD84D\uDC6F\uD862\uDEDF\uD84D\uDDCD\uD84D\uDE3C\uD862\uDE4A\uD840\uDFC9\uD84D\uDE59\uD848\uDD2A\uD84D\uDF03\uD864\uDD9C\uD842\uDD23\uD849\uDFCD\uD84E\uDEDB\uD840\uDFB5\uD846\uDD58\uD84E\uDF5A\uD84F\uDEFC\uD849\uDC8B\uD852\uDCF1\uD85A\uDF51\uD84F\uDDBC\uD84F\uDDBD\uD850\uDDA4\uD852\uDD0C\uD852\uDD00"],["fda1","\uD84F\uDCC9\uD843\uDD32\uD84C\uDDF9\uD849\uDC91\uD85B\uDD25\uD85B\uDDA1\uD85B\uDDEB\uD852\uDD7F\uD850\uDC85\uD85B\uDE72\uD85B\uDF74\uD862\uDF21\uD84F\uDE2F\uD84F\uDF82\uD84C\uDC4B\uD84F\uDE30\uD845\uDC97\uD850\uDC3D\uD864\uDD70\uD850\uDD44\uD850\uDC91\uD850\uDD55\uD850\uDC39\uD84F\uDFF0\uD84F\uDFB4\uD850\uDD3F\uD850\uDD56\uD850\uDD57\uD850\uDD40\uD858\uDDDD\uD850\uDE77\uD850\uDF65\uD850\uDEC1\uD851\uDC5A\uD852\uDE27\uD852\uDE22\uD862\uDFE8"],["fe40","\uD855\uDE05\uD852\uDD74\uD84C\uDC44\uD852\uDC23\uD862\uDC2B\uD862\uDC04\uD843\uDC3A\uD85A\uDE2E\uD850\uDDE2\uD845\uDEE7\uD852\uDE24\uD852\uDDB7\uD852\uDD8D\uD852\uDDFB\uD852\uDE26\uD841\uDDC3\uD84A\uDCAD\uD863\uDEB2\uD852\uDE8C"],["fea1","\uD850\uDD5F\uD852\uDE79\uD862\uDF8F\uD863\uDC03\uD846\uDC9E\uD846\uDD88\uD863\uDED9\uD846\uDE4B\uD863\uDEAC\uD853\uDF82\uD853\uDD13\uD858\uDFF5\uD85A\uDD11\uD85A\uDD0E\uD85B\uDF9F\uD854\uDC9D\uD854\uDD7D\uD847\uDE1C\uD854\uDE20\uD84C\uDEAC\uD862\uDD64\uD862\uDD68\uD845\uDEC1\uD844\uDF76\uD852\uDE12\uD855\uDDE0\uD85D\uDE0C\uD862\uDF2B\uD858\uDC83\uD849\uDE1C\uD856\uDC57\uD85E\uDF39\uD85C\uDD26\uD864\uDD0D"]]')},28921:$=>{"use strict";$.exports=JSON.parse('[["0","\\u0000",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","\xb7\xa8",7,"\xb1\xd7\xf7\xb0\xa4\xa7"],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1","\xe1\xe0\xe9\xe8\xed\xec\xf3\xf2\xfa\xf9\xfc\xea"],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]')},16617:$=>{"use strict";$.exports=JSON.parse('[["0","\\u0000",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"\xb7\xa8\xad",9,"\xb1\xd7\xf7\xb0\xa7"],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,"\xb4\xb8\xa1\xbf\xa4\xb6\xae"],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,"\xc6\xd0\xaa"],["a8a6",""],["a8a8","\xd8\xba\xde"],["a8b1","",27,"",25,"",14,"\xbd\xbc\xbe"],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"\xe6\xf0\xf8\xdf\xfe",27,"",25,"",14,"\xb9\xb2\xb3"],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]')},41898:$=>{"use strict";$.exports=JSON.parse('[["0","\\u0000",127],["a140","\xb7"],["a1a1","\xa7\xaf\xd7\xf7\xb1",4,""],["a240","\xb0",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]')},3863:$=>{"use strict";$.exports=JSON.parse('[["0","\\u0000",127],["8ea1","",62],["a1a1","\xb4\xa8",9,"\xb1\xd7\xf7\xb0\xa7"],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2","\xb6"],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af","\xb8\xaf"],["8fa2c2","\xa1\xa6\xbf"],["8fa2eb","\xba\xaa\xa9\xae\xa4"],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1","\xc6"],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab","\xd8"],["8fa9af","\xde"],["8fa9c1","\xe6\xf0\xf8\xdf\xfe"],["8faaa1","\xc1\xc0\xc4\xc2\xc5\xc3\xc7\xc9\xc8\xcb\xca"],["8faaba","\xcd\xcc\xcf\xce\xd1\xd3\xd2\xd6\xd4\xd5\xda\xd9\xdc\xdb\xdd"],["8faba1","\xe1\xe0\xe4\xe2\xe5\xe3\xe7\xe9\xe8\xeb\xea"],["8fabbd","\xed\xec\xef\xee"],["8fabc5","\xf1\xf3\xf2\xf6\xf4\xf5\xfa\xf9\xfc\xfb\xfd\xff"],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]')},8496:$=>{"use strict";$.exports=JSON.parse('{"uChars":[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],"gbChars":[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189000]}')},9821:$=>{"use strict";$.exports=JSON.parse('[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93],["8135f437",""]]')},54437:$=>{"use strict";$.exports=JSON.parse('[["0","\\u0000",128],["a1","",62],["8140","\xb4\xa8",9,"\xb1\xd7"],["8180","\xf7\xb0\xa7"],["81b8",""],["81c8",""],["81da",""],["81f0","\xb6"],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]')},73981:$=>{"use strict";$.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Api":{"fields":{"name":{"type":"string","id":1},"methods":{"rule":"repeated","type":"Method","id":2},"options":{"rule":"repeated","type":"Option","id":3},"version":{"type":"string","id":4},"sourceContext":{"type":"SourceContext","id":5},"mixins":{"rule":"repeated","type":"Mixin","id":6},"syntax":{"type":"Syntax","id":7}}},"Method":{"fields":{"name":{"type":"string","id":1},"requestTypeUrl":{"type":"string","id":2},"requestStreaming":{"type":"bool","id":3},"responseTypeUrl":{"type":"string","id":4},"responseStreaming":{"type":"bool","id":5},"options":{"rule":"repeated","type":"Option","id":6},"syntax":{"type":"Syntax","id":7}}},"Mixin":{"fields":{"name":{"type":"string","id":1},"root":{"type":"string","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}}}}}}}}')},52699:$=>{"use strict";$.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}}}}}}}}')},79716:$=>{"use strict";$.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},37817:$=>{"use strict";$.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Type":{"fields":{"name":{"type":"string","id":1},"fields":{"rule":"repeated","type":"Field","id":2},"oneofs":{"rule":"repeated","type":"string","id":3},"options":{"rule":"repeated","type":"Option","id":4},"sourceContext":{"type":"SourceContext","id":5},"syntax":{"type":"Syntax","id":6}}},"Field":{"fields":{"kind":{"type":"Kind","id":1},"cardinality":{"type":"Cardinality","id":2},"number":{"type":"int32","id":3},"name":{"type":"string","id":4},"typeUrl":{"type":"string","id":6},"oneofIndex":{"type":"int32","id":7},"packed":{"type":"bool","id":8},"options":{"rule":"repeated","type":"Option","id":9},"jsonName":{"type":"string","id":10},"defaultValue":{"type":"string","id":11}},"nested":{"Kind":{"values":{"TYPE_UNKNOWN":0,"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Cardinality":{"values":{"CARDINALITY_UNKNOWN":0,"CARDINALITY_OPTIONAL":1,"CARDINALITY_REQUIRED":2,"CARDINALITY_REPEATED":3}}}},"Enum":{"fields":{"name":{"type":"string","id":1},"enumvalue":{"rule":"repeated","type":"EnumValue","id":2},"options":{"rule":"repeated","type":"Option","id":3},"sourceContext":{"type":"SourceContext","id":4},"syntax":{"type":"Syntax","id":5}}},"EnumValue":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"rule":"repeated","type":"Option","id":3}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},96797:$=>{"use strict";$.exports=JSON.parse('[[[0,44],"disallowed_STD3_valid"],[[45,46],"valid"],[[47,47],"disallowed_STD3_valid"],[[48,57],"valid"],[[58,64],"disallowed_STD3_valid"],[[65,65],"mapped",[97]],[[66,66],"mapped",[98]],[[67,67],"mapped",[99]],[[68,68],"mapped",[100]],[[69,69],"mapped",[101]],[[70,70],"mapped",[102]],[[71,71],"mapped",[103]],[[72,72],"mapped",[104]],[[73,73],"mapped",[105]],[[74,74],"mapped",[106]],[[75,75],"mapped",[107]],[[76,76],"mapped",[108]],[[77,77],"mapped",[109]],[[78,78],"mapped",[110]],[[79,79],"mapped",[111]],[[80,80],"mapped",[112]],[[81,81],"mapped",[113]],[[82,82],"mapped",[114]],[[83,83],"mapped",[115]],[[84,84],"mapped",[116]],[[85,85],"mapped",[117]],[[86,86],"mapped",[118]],[[87,87],"mapped",[119]],[[88,88],"mapped",[120]],[[89,89],"mapped",[121]],[[90,90],"mapped",[122]],[[91,96],"disallowed_STD3_valid"],[[97,122],"valid"],[[123,127],"disallowed_STD3_valid"],[[128,159],"disallowed"],[[160,160],"disallowed_STD3_mapped",[32]],[[161,167],"valid",[],"NV8"],[[168,168],"disallowed_STD3_mapped",[32,776]],[[169,169],"valid",[],"NV8"],[[170,170],"mapped",[97]],[[171,172],"valid",[],"NV8"],[[173,173],"ignored"],[[174,174],"valid",[],"NV8"],[[175,175],"disallowed_STD3_mapped",[32,772]],[[176,177],"valid",[],"NV8"],[[178,178],"mapped",[50]],[[179,179],"mapped",[51]],[[180,180],"disallowed_STD3_mapped",[32,769]],[[181,181],"mapped",[956]],[[182,182],"valid",[],"NV8"],[[183,183],"valid"],[[184,184],"disallowed_STD3_mapped",[32,807]],[[185,185],"mapped",[49]],[[186,186],"mapped",[111]],[[187,187],"valid",[],"NV8"],[[188,188],"mapped",[49,8260,52]],[[189,189],"mapped",[49,8260,50]],[[190,190],"mapped",[51,8260,52]],[[191,191],"valid",[],"NV8"],[[192,192],"mapped",[224]],[[193,193],"mapped",[225]],[[194,194],"mapped",[226]],[[195,195],"mapped",[227]],[[196,196],"mapped",[228]],[[197,197],"mapped",[229]],[[198,198],"mapped",[230]],[[199,199],"mapped",[231]],[[200,200],"mapped",[232]],[[201,201],"mapped",[233]],[[202,202],"mapped",[234]],[[203,203],"mapped",[235]],[[204,204],"mapped",[236]],[[205,205],"mapped",[237]],[[206,206],"mapped",[238]],[[207,207],"mapped",[239]],[[208,208],"mapped",[240]],[[209,209],"mapped",[241]],[[210,210],"mapped",[242]],[[211,211],"mapped",[243]],[[212,212],"mapped",[244]],[[213,213],"mapped",[245]],[[214,214],"mapped",[246]],[[215,215],"valid",[],"NV8"],[[216,216],"mapped",[248]],[[217,217],"mapped",[249]],[[218,218],"mapped",[250]],[[219,219],"mapped",[251]],[[220,220],"mapped",[252]],[[221,221],"mapped",[253]],[[222,222],"mapped",[254]],[[223,223],"deviation",[115,115]],[[224,246],"valid"],[[247,247],"valid",[],"NV8"],[[248,255],"valid"],[[256,256],"mapped",[257]],[[257,257],"valid"],[[258,258],"mapped",[259]],[[259,259],"valid"],[[260,260],"mapped",[261]],[[261,261],"valid"],[[262,262],"mapped",[263]],[[263,263],"valid"],[[264,264],"mapped",[265]],[[265,265],"valid"],[[266,266],"mapped",[267]],[[267,267],"valid"],[[268,268],"mapped",[269]],[[269,269],"valid"],[[270,270],"mapped",[271]],[[271,271],"valid"],[[272,272],"mapped",[273]],[[273,273],"valid"],[[274,274],"mapped",[275]],[[275,275],"valid"],[[276,276],"mapped",[277]],[[277,277],"valid"],[[278,278],"mapped",[279]],[[279,279],"valid"],[[280,280],"mapped",[281]],[[281,281],"valid"],[[282,282],"mapped",[283]],[[283,283],"valid"],[[284,284],"mapped",[285]],[[285,285],"valid"],[[286,286],"mapped",[287]],[[287,287],"valid"],[[288,288],"mapped",[289]],[[289,289],"valid"],[[290,290],"mapped",[291]],[[291,291],"valid"],[[292,292],"mapped",[293]],[[293,293],"valid"],[[294,294],"mapped",[295]],[[295,295],"valid"],[[296,296],"mapped",[297]],[[297,297],"valid"],[[298,298],"mapped",[299]],[[299,299],"valid"],[[300,300],"mapped",[301]],[[301,301],"valid"],[[302,302],"mapped",[303]],[[303,303],"valid"],[[304,304],"mapped",[105,775]],[[305,305],"valid"],[[306,307],"mapped",[105,106]],[[308,308],"mapped",[309]],[[309,309],"valid"],[[310,310],"mapped",[311]],[[311,312],"valid"],[[313,313],"mapped",[314]],[[314,314],"valid"],[[315,315],"mapped",[316]],[[316,316],"valid"],[[317,317],"mapped",[318]],[[318,318],"valid"],[[319,320],"mapped",[108,183]],[[321,321],"mapped",[322]],[[322,322],"valid"],[[323,323],"mapped",[324]],[[324,324],"valid"],[[325,325],"mapped",[326]],[[326,326],"valid"],[[327,327],"mapped",[328]],[[328,328],"valid"],[[329,329],"mapped",[700,110]],[[330,330],"mapped",[331]],[[331,331],"valid"],[[332,332],"mapped",[333]],[[333,333],"valid"],[[334,334],"mapped",[335]],[[335,335],"valid"],[[336,336],"mapped",[337]],[[337,337],"valid"],[[338,338],"mapped",[339]],[[339,339],"valid"],[[340,340],"mapped",[341]],[[341,341],"valid"],[[342,342],"mapped",[343]],[[343,343],"valid"],[[344,344],"mapped",[345]],[[345,345],"valid"],[[346,346],"mapped",[347]],[[347,347],"valid"],[[348,348],"mapped",[349]],[[349,349],"valid"],[[350,350],"mapped",[351]],[[351,351],"valid"],[[352,352],"mapped",[353]],[[353,353],"valid"],[[354,354],"mapped",[355]],[[355,355],"valid"],[[356,356],"mapped",[357]],[[357,357],"valid"],[[358,358],"mapped",[359]],[[359,359],"valid"],[[360,360],"mapped",[361]],[[361,361],"valid"],[[362,362],"mapped",[363]],[[363,363],"valid"],[[364,364],"mapped",[365]],[[365,365],"valid"],[[366,366],"mapped",[367]],[[367,367],"valid"],[[368,368],"mapped",[369]],[[369,369],"valid"],[[370,370],"mapped",[371]],[[371,371],"valid"],[[372,372],"mapped",[373]],[[373,373],"valid"],[[374,374],"mapped",[375]],[[375,375],"valid"],[[376,376],"mapped",[255]],[[377,377],"mapped",[378]],[[378,378],"valid"],[[379,379],"mapped",[380]],[[380,380],"valid"],[[381,381],"mapped",[382]],[[382,382],"valid"],[[383,383],"mapped",[115]],[[384,384],"valid"],[[385,385],"mapped",[595]],[[386,386],"mapped",[387]],[[387,387],"valid"],[[388,388],"mapped",[389]],[[389,389],"valid"],[[390,390],"mapped",[596]],[[391,391],"mapped",[392]],[[392,392],"valid"],[[393,393],"mapped",[598]],[[394,394],"mapped",[599]],[[395,395],"mapped",[396]],[[396,397],"valid"],[[398,398],"mapped",[477]],[[399,399],"mapped",[601]],[[400,400],"mapped",[603]],[[401,401],"mapped",[402]],[[402,402],"valid"],[[403,403],"mapped",[608]],[[404,404],"mapped",[611]],[[405,405],"valid"],[[406,406],"mapped",[617]],[[407,407],"mapped",[616]],[[408,408],"mapped",[409]],[[409,411],"valid"],[[412,412],"mapped",[623]],[[413,413],"mapped",[626]],[[414,414],"valid"],[[415,415],"mapped",[629]],[[416,416],"mapped",[417]],[[417,417],"valid"],[[418,418],"mapped",[419]],[[419,419],"valid"],[[420,420],"mapped",[421]],[[421,421],"valid"],[[422,422],"mapped",[640]],[[423,423],"mapped",[424]],[[424,424],"valid"],[[425,425],"mapped",[643]],[[426,427],"valid"],[[428,428],"mapped",[429]],[[429,429],"valid"],[[430,430],"mapped",[648]],[[431,431],"mapped",[432]],[[432,432],"valid"],[[433,433],"mapped",[650]],[[434,434],"mapped",[651]],[[435,435],"mapped",[436]],[[436,436],"valid"],[[437,437],"mapped",[438]],[[438,438],"valid"],[[439,439],"mapped",[658]],[[440,440],"mapped",[441]],[[441,443],"valid"],[[444,444],"mapped",[445]],[[445,451],"valid"],[[452,454],"mapped",[100,382]],[[455,457],"mapped",[108,106]],[[458,460],"mapped",[110,106]],[[461,461],"mapped",[462]],[[462,462],"valid"],[[463,463],"mapped",[464]],[[464,464],"valid"],[[465,465],"mapped",[466]],[[466,466],"valid"],[[467,467],"mapped",[468]],[[468,468],"valid"],[[469,469],"mapped",[470]],[[470,470],"valid"],[[471,471],"mapped",[472]],[[472,472],"valid"],[[473,473],"mapped",[474]],[[474,474],"valid"],[[475,475],"mapped",[476]],[[476,477],"valid"],[[478,478],"mapped",[479]],[[479,479],"valid"],[[480,480],"mapped",[481]],[[481,481],"valid"],[[482,482],"mapped",[483]],[[483,483],"valid"],[[484,484],"mapped",[485]],[[485,485],"valid"],[[486,486],"mapped",[487]],[[487,487],"valid"],[[488,488],"mapped",[489]],[[489,489],"valid"],[[490,490],"mapped",[491]],[[491,491],"valid"],[[492,492],"mapped",[493]],[[493,493],"valid"],[[494,494],"mapped",[495]],[[495,496],"valid"],[[497,499],"mapped",[100,122]],[[500,500],"mapped",[501]],[[501,501],"valid"],[[502,502],"mapped",[405]],[[503,503],"mapped",[447]],[[504,504],"mapped",[505]],[[505,505],"valid"],[[506,506],"mapped",[507]],[[507,507],"valid"],[[508,508],"mapped",[509]],[[509,509],"valid"],[[510,510],"mapped",[511]],[[511,511],"valid"],[[512,512],"mapped",[513]],[[513,513],"valid"],[[514,514],"mapped",[515]],[[515,515],"valid"],[[516,516],"mapped",[517]],[[517,517],"valid"],[[518,518],"mapped",[519]],[[519,519],"valid"],[[520,520],"mapped",[521]],[[521,521],"valid"],[[522,522],"mapped",[523]],[[523,523],"valid"],[[524,524],"mapped",[525]],[[525,525],"valid"],[[526,526],"mapped",[527]],[[527,527],"valid"],[[528,528],"mapped",[529]],[[529,529],"valid"],[[530,530],"mapped",[531]],[[531,531],"valid"],[[532,532],"mapped",[533]],[[533,533],"valid"],[[534,534],"mapped",[535]],[[535,535],"valid"],[[536,536],"mapped",[537]],[[537,537],"valid"],[[538,538],"mapped",[539]],[[539,539],"valid"],[[540,540],"mapped",[541]],[[541,541],"valid"],[[542,542],"mapped",[543]],[[543,543],"valid"],[[544,544],"mapped",[414]],[[545,545],"valid"],[[546,546],"mapped",[547]],[[547,547],"valid"],[[548,548],"mapped",[549]],[[549,549],"valid"],[[550,550],"mapped",[551]],[[551,551],"valid"],[[552,552],"mapped",[553]],[[553,553],"valid"],[[554,554],"mapped",[555]],[[555,555],"valid"],[[556,556],"mapped",[557]],[[557,557],"valid"],[[558,558],"mapped",[559]],[[559,559],"valid"],[[560,560],"mapped",[561]],[[561,561],"valid"],[[562,562],"mapped",[563]],[[563,563],"valid"],[[564,566],"valid"],[[567,569],"valid"],[[570,570],"mapped",[11365]],[[571,571],"mapped",[572]],[[572,572],"valid"],[[573,573],"mapped",[410]],[[574,574],"mapped",[11366]],[[575,576],"valid"],[[577,577],"mapped",[578]],[[578,578],"valid"],[[579,579],"mapped",[384]],[[580,580],"mapped",[649]],[[581,581],"mapped",[652]],[[582,582],"mapped",[583]],[[583,583],"valid"],[[584,584],"mapped",[585]],[[585,585],"valid"],[[586,586],"mapped",[587]],[[587,587],"valid"],[[588,588],"mapped",[589]],[[589,589],"valid"],[[590,590],"mapped",[591]],[[591,591],"valid"],[[592,680],"valid"],[[681,685],"valid"],[[686,687],"valid"],[[688,688],"mapped",[104]],[[689,689],"mapped",[614]],[[690,690],"mapped",[106]],[[691,691],"mapped",[114]],[[692,692],"mapped",[633]],[[693,693],"mapped",[635]],[[694,694],"mapped",[641]],[[695,695],"mapped",[119]],[[696,696],"mapped",[121]],[[697,705],"valid"],[[706,709],"valid",[],"NV8"],[[710,721],"valid"],[[722,727],"valid",[],"NV8"],[[728,728],"disallowed_STD3_mapped",[32,774]],[[729,729],"disallowed_STD3_mapped",[32,775]],[[730,730],"disallowed_STD3_mapped",[32,778]],[[731,731],"disallowed_STD3_mapped",[32,808]],[[732,732],"disallowed_STD3_mapped",[32,771]],[[733,733],"disallowed_STD3_mapped",[32,779]],[[734,734],"valid",[],"NV8"],[[735,735],"valid",[],"NV8"],[[736,736],"mapped",[611]],[[737,737],"mapped",[108]],[[738,738],"mapped",[115]],[[739,739],"mapped",[120]],[[740,740],"mapped",[661]],[[741,745],"valid",[],"NV8"],[[746,747],"valid",[],"NV8"],[[748,748],"valid"],[[749,749],"valid",[],"NV8"],[[750,750],"valid"],[[751,767],"valid",[],"NV8"],[[768,831],"valid"],[[832,832],"mapped",[768]],[[833,833],"mapped",[769]],[[834,834],"valid"],[[835,835],"mapped",[787]],[[836,836],"mapped",[776,769]],[[837,837],"mapped",[953]],[[838,846],"valid"],[[847,847],"ignored"],[[848,855],"valid"],[[856,860],"valid"],[[861,863],"valid"],[[864,865],"valid"],[[866,866],"valid"],[[867,879],"valid"],[[880,880],"mapped",[881]],[[881,881],"valid"],[[882,882],"mapped",[883]],[[883,883],"valid"],[[884,884],"mapped",[697]],[[885,885],"valid"],[[886,886],"mapped",[887]],[[887,887],"valid"],[[888,889],"disallowed"],[[890,890],"disallowed_STD3_mapped",[32,953]],[[891,893],"valid"],[[894,894],"disallowed_STD3_mapped",[59]],[[895,895],"mapped",[1011]],[[896,899],"disallowed"],[[900,900],"disallowed_STD3_mapped",[32,769]],[[901,901],"disallowed_STD3_mapped",[32,776,769]],[[902,902],"mapped",[940]],[[903,903],"mapped",[183]],[[904,904],"mapped",[941]],[[905,905],"mapped",[942]],[[906,906],"mapped",[943]],[[907,907],"disallowed"],[[908,908],"mapped",[972]],[[909,909],"disallowed"],[[910,910],"mapped",[973]],[[911,911],"mapped",[974]],[[912,912],"valid"],[[913,913],"mapped",[945]],[[914,914],"mapped",[946]],[[915,915],"mapped",[947]],[[916,916],"mapped",[948]],[[917,917],"mapped",[949]],[[918,918],"mapped",[950]],[[919,919],"mapped",[951]],[[920,920],"mapped",[952]],[[921,921],"mapped",[953]],[[922,922],"mapped",[954]],[[923,923],"mapped",[955]],[[924,924],"mapped",[956]],[[925,925],"mapped",[957]],[[926,926],"mapped",[958]],[[927,927],"mapped",[959]],[[928,928],"mapped",[960]],[[929,929],"mapped",[961]],[[930,930],"disallowed"],[[931,931],"mapped",[963]],[[932,932],"mapped",[964]],[[933,933],"mapped",[965]],[[934,934],"mapped",[966]],[[935,935],"mapped",[967]],[[936,936],"mapped",[968]],[[937,937],"mapped",[969]],[[938,938],"mapped",[970]],[[939,939],"mapped",[971]],[[940,961],"valid"],[[962,962],"deviation",[963]],[[963,974],"valid"],[[975,975],"mapped",[983]],[[976,976],"mapped",[946]],[[977,977],"mapped",[952]],[[978,978],"mapped",[965]],[[979,979],"mapped",[973]],[[980,980],"mapped",[971]],[[981,981],"mapped",[966]],[[982,982],"mapped",[960]],[[983,983],"valid"],[[984,984],"mapped",[985]],[[985,985],"valid"],[[986,986],"mapped",[987]],[[987,987],"valid"],[[988,988],"mapped",[989]],[[989,989],"valid"],[[990,990],"mapped",[991]],[[991,991],"valid"],[[992,992],"mapped",[993]],[[993,993],"valid"],[[994,994],"mapped",[995]],[[995,995],"valid"],[[996,996],"mapped",[997]],[[997,997],"valid"],[[998,998],"mapped",[999]],[[999,999],"valid"],[[1000,1000],"mapped",[1001]],[[1001,1001],"valid"],[[1002,1002],"mapped",[1003]],[[1003,1003],"valid"],[[1004,1004],"mapped",[1005]],[[1005,1005],"valid"],[[1006,1006],"mapped",[1007]],[[1007,1007],"valid"],[[1008,1008],"mapped",[954]],[[1009,1009],"mapped",[961]],[[1010,1010],"mapped",[963]],[[1011,1011],"valid"],[[1012,1012],"mapped",[952]],[[1013,1013],"mapped",[949]],[[1014,1014],"valid",[],"NV8"],[[1015,1015],"mapped",[1016]],[[1016,1016],"valid"],[[1017,1017],"mapped",[963]],[[1018,1018],"mapped",[1019]],[[1019,1019],"valid"],[[1020,1020],"valid"],[[1021,1021],"mapped",[891]],[[1022,1022],"mapped",[892]],[[1023,1023],"mapped",[893]],[[1024,1024],"mapped",[1104]],[[1025,1025],"mapped",[1105]],[[1026,1026],"mapped",[1106]],[[1027,1027],"mapped",[1107]],[[1028,1028],"mapped",[1108]],[[1029,1029],"mapped",[1109]],[[1030,1030],"mapped",[1110]],[[1031,1031],"mapped",[1111]],[[1032,1032],"mapped",[1112]],[[1033,1033],"mapped",[1113]],[[1034,1034],"mapped",[1114]],[[1035,1035],"mapped",[1115]],[[1036,1036],"mapped",[1116]],[[1037,1037],"mapped",[1117]],[[1038,1038],"mapped",[1118]],[[1039,1039],"mapped",[1119]],[[1040,1040],"mapped",[1072]],[[1041,1041],"mapped",[1073]],[[1042,1042],"mapped",[1074]],[[1043,1043],"mapped",[1075]],[[1044,1044],"mapped",[1076]],[[1045,1045],"mapped",[1077]],[[1046,1046],"mapped",[1078]],[[1047,1047],"mapped",[1079]],[[1048,1048],"mapped",[1080]],[[1049,1049],"mapped",[1081]],[[1050,1050],"mapped",[1082]],[[1051,1051],"mapped",[1083]],[[1052,1052],"mapped",[1084]],[[1053,1053],"mapped",[1085]],[[1054,1054],"mapped",[1086]],[[1055,1055],"mapped",[1087]],[[1056,1056],"mapped",[1088]],[[1057,1057],"mapped",[1089]],[[1058,1058],"mapped",[1090]],[[1059,1059],"mapped",[1091]],[[1060,1060],"mapped",[1092]],[[1061,1061],"mapped",[1093]],[[1062,1062],"mapped",[1094]],[[1063,1063],"mapped",[1095]],[[1064,1064],"mapped",[1096]],[[1065,1065],"mapped",[1097]],[[1066,1066],"mapped",[1098]],[[1067,1067],"mapped",[1099]],[[1068,1068],"mapped",[1100]],[[1069,1069],"mapped",[1101]],[[1070,1070],"mapped",[1102]],[[1071,1071],"mapped",[1103]],[[1072,1103],"valid"],[[1104,1104],"valid"],[[1105,1116],"valid"],[[1117,1117],"valid"],[[1118,1119],"valid"],[[1120,1120],"mapped",[1121]],[[1121,1121],"valid"],[[1122,1122],"mapped",[1123]],[[1123,1123],"valid"],[[1124,1124],"mapped",[1125]],[[1125,1125],"valid"],[[1126,1126],"mapped",[1127]],[[1127,1127],"valid"],[[1128,1128],"mapped",[1129]],[[1129,1129],"valid"],[[1130,1130],"mapped",[1131]],[[1131,1131],"valid"],[[1132,1132],"mapped",[1133]],[[1133,1133],"valid"],[[1134,1134],"mapped",[1135]],[[1135,1135],"valid"],[[1136,1136],"mapped",[1137]],[[1137,1137],"valid"],[[1138,1138],"mapped",[1139]],[[1139,1139],"valid"],[[1140,1140],"mapped",[1141]],[[1141,1141],"valid"],[[1142,1142],"mapped",[1143]],[[1143,1143],"valid"],[[1144,1144],"mapped",[1145]],[[1145,1145],"valid"],[[1146,1146],"mapped",[1147]],[[1147,1147],"valid"],[[1148,1148],"mapped",[1149]],[[1149,1149],"valid"],[[1150,1150],"mapped",[1151]],[[1151,1151],"valid"],[[1152,1152],"mapped",[1153]],[[1153,1153],"valid"],[[1154,1154],"valid",[],"NV8"],[[1155,1158],"valid"],[[1159,1159],"valid"],[[1160,1161],"valid",[],"NV8"],[[1162,1162],"mapped",[1163]],[[1163,1163],"valid"],[[1164,1164],"mapped",[1165]],[[1165,1165],"valid"],[[1166,1166],"mapped",[1167]],[[1167,1167],"valid"],[[1168,1168],"mapped",[1169]],[[1169,1169],"valid"],[[1170,1170],"mapped",[1171]],[[1171,1171],"valid"],[[1172,1172],"mapped",[1173]],[[1173,1173],"valid"],[[1174,1174],"mapped",[1175]],[[1175,1175],"valid"],[[1176,1176],"mapped",[1177]],[[1177,1177],"valid"],[[1178,1178],"mapped",[1179]],[[1179,1179],"valid"],[[1180,1180],"mapped",[1181]],[[1181,1181],"valid"],[[1182,1182],"mapped",[1183]],[[1183,1183],"valid"],[[1184,1184],"mapped",[1185]],[[1185,1185],"valid"],[[1186,1186],"mapped",[1187]],[[1187,1187],"valid"],[[1188,1188],"mapped",[1189]],[[1189,1189],"valid"],[[1190,1190],"mapped",[1191]],[[1191,1191],"valid"],[[1192,1192],"mapped",[1193]],[[1193,1193],"valid"],[[1194,1194],"mapped",[1195]],[[1195,1195],"valid"],[[1196,1196],"mapped",[1197]],[[1197,1197],"valid"],[[1198,1198],"mapped",[1199]],[[1199,1199],"valid"],[[1200,1200],"mapped",[1201]],[[1201,1201],"valid"],[[1202,1202],"mapped",[1203]],[[1203,1203],"valid"],[[1204,1204],"mapped",[1205]],[[1205,1205],"valid"],[[1206,1206],"mapped",[1207]],[[1207,1207],"valid"],[[1208,1208],"mapped",[1209]],[[1209,1209],"valid"],[[1210,1210],"mapped",[1211]],[[1211,1211],"valid"],[[1212,1212],"mapped",[1213]],[[1213,1213],"valid"],[[1214,1214],"mapped",[1215]],[[1215,1215],"valid"],[[1216,1216],"disallowed"],[[1217,1217],"mapped",[1218]],[[1218,1218],"valid"],[[1219,1219],"mapped",[1220]],[[1220,1220],"valid"],[[1221,1221],"mapped",[1222]],[[1222,1222],"valid"],[[1223,1223],"mapped",[1224]],[[1224,1224],"valid"],[[1225,1225],"mapped",[1226]],[[1226,1226],"valid"],[[1227,1227],"mapped",[1228]],[[1228,1228],"valid"],[[1229,1229],"mapped",[1230]],[[1230,1230],"valid"],[[1231,1231],"valid"],[[1232,1232],"mapped",[1233]],[[1233,1233],"valid"],[[1234,1234],"mapped",[1235]],[[1235,1235],"valid"],[[1236,1236],"mapped",[1237]],[[1237,1237],"valid"],[[1238,1238],"mapped",[1239]],[[1239,1239],"valid"],[[1240,1240],"mapped",[1241]],[[1241,1241],"valid"],[[1242,1242],"mapped",[1243]],[[1243,1243],"valid"],[[1244,1244],"mapped",[1245]],[[1245,1245],"valid"],[[1246,1246],"mapped",[1247]],[[1247,1247],"valid"],[[1248,1248],"mapped",[1249]],[[1249,1249],"valid"],[[1250,1250],"mapped",[1251]],[[1251,1251],"valid"],[[1252,1252],"mapped",[1253]],[[1253,1253],"valid"],[[1254,1254],"mapped",[1255]],[[1255,1255],"valid"],[[1256,1256],"mapped",[1257]],[[1257,1257],"valid"],[[1258,1258],"mapped",[1259]],[[1259,1259],"valid"],[[1260,1260],"mapped",[1261]],[[1261,1261],"valid"],[[1262,1262],"mapped",[1263]],[[1263,1263],"valid"],[[1264,1264],"mapped",[1265]],[[1265,1265],"valid"],[[1266,1266],"mapped",[1267]],[[1267,1267],"valid"],[[1268,1268],"mapped",[1269]],[[1269,1269],"valid"],[[1270,1270],"mapped",[1271]],[[1271,1271],"valid"],[[1272,1272],"mapped",[1273]],[[1273,1273],"valid"],[[1274,1274],"mapped",[1275]],[[1275,1275],"valid"],[[1276,1276],"mapped",[1277]],[[1277,1277],"valid"],[[1278,1278],"mapped",[1279]],[[1279,1279],"valid"],[[1280,1280],"mapped",[1281]],[[1281,1281],"valid"],[[1282,1282],"mapped",[1283]],[[1283,1283],"valid"],[[1284,1284],"mapped",[1285]],[[1285,1285],"valid"],[[1286,1286],"mapped",[1287]],[[1287,1287],"valid"],[[1288,1288],"mapped",[1289]],[[1289,1289],"valid"],[[1290,1290],"mapped",[1291]],[[1291,1291],"valid"],[[1292,1292],"mapped",[1293]],[[1293,1293],"valid"],[[1294,1294],"mapped",[1295]],[[1295,1295],"valid"],[[1296,1296],"mapped",[1297]],[[1297,1297],"valid"],[[1298,1298],"mapped",[1299]],[[1299,1299],"valid"],[[1300,1300],"mapped",[1301]],[[1301,1301],"valid"],[[1302,1302],"mapped",[1303]],[[1303,1303],"valid"],[[1304,1304],"mapped",[1305]],[[1305,1305],"valid"],[[1306,1306],"mapped",[1307]],[[1307,1307],"valid"],[[1308,1308],"mapped",[1309]],[[1309,1309],"valid"],[[1310,1310],"mapped",[1311]],[[1311,1311],"valid"],[[1312,1312],"mapped",[1313]],[[1313,1313],"valid"],[[1314,1314],"mapped",[1315]],[[1315,1315],"valid"],[[1316,1316],"mapped",[1317]],[[1317,1317],"valid"],[[1318,1318],"mapped",[1319]],[[1319,1319],"valid"],[[1320,1320],"mapped",[1321]],[[1321,1321],"valid"],[[1322,1322],"mapped",[1323]],[[1323,1323],"valid"],[[1324,1324],"mapped",[1325]],[[1325,1325],"valid"],[[1326,1326],"mapped",[1327]],[[1327,1327],"valid"],[[1328,1328],"disallowed"],[[1329,1329],"mapped",[1377]],[[1330,1330],"mapped",[1378]],[[1331,1331],"mapped",[1379]],[[1332,1332],"mapped",[1380]],[[1333,1333],"mapped",[1381]],[[1334,1334],"mapped",[1382]],[[1335,1335],"mapped",[1383]],[[1336,1336],"mapped",[1384]],[[1337,1337],"mapped",[1385]],[[1338,1338],"mapped",[1386]],[[1339,1339],"mapped",[1387]],[[1340,1340],"mapped",[1388]],[[1341,1341],"mapped",[1389]],[[1342,1342],"mapped",[1390]],[[1343,1343],"mapped",[1391]],[[1344,1344],"mapped",[1392]],[[1345,1345],"mapped",[1393]],[[1346,1346],"mapped",[1394]],[[1347,1347],"mapped",[1395]],[[1348,1348],"mapped",[1396]],[[1349,1349],"mapped",[1397]],[[1350,1350],"mapped",[1398]],[[1351,1351],"mapped",[1399]],[[1352,1352],"mapped",[1400]],[[1353,1353],"mapped",[1401]],[[1354,1354],"mapped",[1402]],[[1355,1355],"mapped",[1403]],[[1356,1356],"mapped",[1404]],[[1357,1357],"mapped",[1405]],[[1358,1358],"mapped",[1406]],[[1359,1359],"mapped",[1407]],[[1360,1360],"mapped",[1408]],[[1361,1361],"mapped",[1409]],[[1362,1362],"mapped",[1410]],[[1363,1363],"mapped",[1411]],[[1364,1364],"mapped",[1412]],[[1365,1365],"mapped",[1413]],[[1366,1366],"mapped",[1414]],[[1367,1368],"disallowed"],[[1369,1369],"valid"],[[1370,1375],"valid",[],"NV8"],[[1376,1376],"disallowed"],[[1377,1414],"valid"],[[1415,1415],"mapped",[1381,1410]],[[1416,1416],"disallowed"],[[1417,1417],"valid",[],"NV8"],[[1418,1418],"valid",[],"NV8"],[[1419,1420],"disallowed"],[[1421,1422],"valid",[],"NV8"],[[1423,1423],"valid",[],"NV8"],[[1424,1424],"disallowed"],[[1425,1441],"valid"],[[1442,1442],"valid"],[[1443,1455],"valid"],[[1456,1465],"valid"],[[1466,1466],"valid"],[[1467,1469],"valid"],[[1470,1470],"valid",[],"NV8"],[[1471,1471],"valid"],[[1472,1472],"valid",[],"NV8"],[[1473,1474],"valid"],[[1475,1475],"valid",[],"NV8"],[[1476,1476],"valid"],[[1477,1477],"valid"],[[1478,1478],"valid",[],"NV8"],[[1479,1479],"valid"],[[1480,1487],"disallowed"],[[1488,1514],"valid"],[[1515,1519],"disallowed"],[[1520,1524],"valid"],[[1525,1535],"disallowed"],[[1536,1539],"disallowed"],[[1540,1540],"disallowed"],[[1541,1541],"disallowed"],[[1542,1546],"valid",[],"NV8"],[[1547,1547],"valid",[],"NV8"],[[1548,1548],"valid",[],"NV8"],[[1549,1551],"valid",[],"NV8"],[[1552,1557],"valid"],[[1558,1562],"valid"],[[1563,1563],"valid",[],"NV8"],[[1564,1564],"disallowed"],[[1565,1565],"disallowed"],[[1566,1566],"valid",[],"NV8"],[[1567,1567],"valid",[],"NV8"],[[1568,1568],"valid"],[[1569,1594],"valid"],[[1595,1599],"valid"],[[1600,1600],"valid",[],"NV8"],[[1601,1618],"valid"],[[1619,1621],"valid"],[[1622,1624],"valid"],[[1625,1630],"valid"],[[1631,1631],"valid"],[[1632,1641],"valid"],[[1642,1645],"valid",[],"NV8"],[[1646,1647],"valid"],[[1648,1652],"valid"],[[1653,1653],"mapped",[1575,1652]],[[1654,1654],"mapped",[1608,1652]],[[1655,1655],"mapped",[1735,1652]],[[1656,1656],"mapped",[1610,1652]],[[1657,1719],"valid"],[[1720,1721],"valid"],[[1722,1726],"valid"],[[1727,1727],"valid"],[[1728,1742],"valid"],[[1743,1743],"valid"],[[1744,1747],"valid"],[[1748,1748],"valid",[],"NV8"],[[1749,1756],"valid"],[[1757,1757],"disallowed"],[[1758,1758],"valid",[],"NV8"],[[1759,1768],"valid"],[[1769,1769],"valid",[],"NV8"],[[1770,1773],"valid"],[[1774,1775],"valid"],[[1776,1785],"valid"],[[1786,1790],"valid"],[[1791,1791],"valid"],[[1792,1805],"valid",[],"NV8"],[[1806,1806],"disallowed"],[[1807,1807],"disallowed"],[[1808,1836],"valid"],[[1837,1839],"valid"],[[1840,1866],"valid"],[[1867,1868],"disallowed"],[[1869,1871],"valid"],[[1872,1901],"valid"],[[1902,1919],"valid"],[[1920,1968],"valid"],[[1969,1969],"valid"],[[1970,1983],"disallowed"],[[1984,2037],"valid"],[[2038,2042],"valid",[],"NV8"],[[2043,2047],"disallowed"],[[2048,2093],"valid"],[[2094,2095],"disallowed"],[[2096,2110],"valid",[],"NV8"],[[2111,2111],"disallowed"],[[2112,2139],"valid"],[[2140,2141],"disallowed"],[[2142,2142],"valid",[],"NV8"],[[2143,2207],"disallowed"],[[2208,2208],"valid"],[[2209,2209],"valid"],[[2210,2220],"valid"],[[2221,2226],"valid"],[[2227,2228],"valid"],[[2229,2274],"disallowed"],[[2275,2275],"valid"],[[2276,2302],"valid"],[[2303,2303],"valid"],[[2304,2304],"valid"],[[2305,2307],"valid"],[[2308,2308],"valid"],[[2309,2361],"valid"],[[2362,2363],"valid"],[[2364,2381],"valid"],[[2382,2382],"valid"],[[2383,2383],"valid"],[[2384,2388],"valid"],[[2389,2389],"valid"],[[2390,2391],"valid"],[[2392,2392],"mapped",[2325,2364]],[[2393,2393],"mapped",[2326,2364]],[[2394,2394],"mapped",[2327,2364]],[[2395,2395],"mapped",[2332,2364]],[[2396,2396],"mapped",[2337,2364]],[[2397,2397],"mapped",[2338,2364]],[[2398,2398],"mapped",[2347,2364]],[[2399,2399],"mapped",[2351,2364]],[[2400,2403],"valid"],[[2404,2405],"valid",[],"NV8"],[[2406,2415],"valid"],[[2416,2416],"valid",[],"NV8"],[[2417,2418],"valid"],[[2419,2423],"valid"],[[2424,2424],"valid"],[[2425,2426],"valid"],[[2427,2428],"valid"],[[2429,2429],"valid"],[[2430,2431],"valid"],[[2432,2432],"valid"],[[2433,2435],"valid"],[[2436,2436],"disallowed"],[[2437,2444],"valid"],[[2445,2446],"disallowed"],[[2447,2448],"valid"],[[2449,2450],"disallowed"],[[2451,2472],"valid"],[[2473,2473],"disallowed"],[[2474,2480],"valid"],[[2481,2481],"disallowed"],[[2482,2482],"valid"],[[2483,2485],"disallowed"],[[2486,2489],"valid"],[[2490,2491],"disallowed"],[[2492,2492],"valid"],[[2493,2493],"valid"],[[2494,2500],"valid"],[[2501,2502],"disallowed"],[[2503,2504],"valid"],[[2505,2506],"disallowed"],[[2507,2509],"valid"],[[2510,2510],"valid"],[[2511,2518],"disallowed"],[[2519,2519],"valid"],[[2520,2523],"disallowed"],[[2524,2524],"mapped",[2465,2492]],[[2525,2525],"mapped",[2466,2492]],[[2526,2526],"disallowed"],[[2527,2527],"mapped",[2479,2492]],[[2528,2531],"valid"],[[2532,2533],"disallowed"],[[2534,2545],"valid"],[[2546,2554],"valid",[],"NV8"],[[2555,2555],"valid",[],"NV8"],[[2556,2560],"disallowed"],[[2561,2561],"valid"],[[2562,2562],"valid"],[[2563,2563],"valid"],[[2564,2564],"disallowed"],[[2565,2570],"valid"],[[2571,2574],"disallowed"],[[2575,2576],"valid"],[[2577,2578],"disallowed"],[[2579,2600],"valid"],[[2601,2601],"disallowed"],[[2602,2608],"valid"],[[2609,2609],"disallowed"],[[2610,2610],"valid"],[[2611,2611],"mapped",[2610,2620]],[[2612,2612],"disallowed"],[[2613,2613],"valid"],[[2614,2614],"mapped",[2616,2620]],[[2615,2615],"disallowed"],[[2616,2617],"valid"],[[2618,2619],"disallowed"],[[2620,2620],"valid"],[[2621,2621],"disallowed"],[[2622,2626],"valid"],[[2627,2630],"disallowed"],[[2631,2632],"valid"],[[2633,2634],"disallowed"],[[2635,2637],"valid"],[[2638,2640],"disallowed"],[[2641,2641],"valid"],[[2642,2648],"disallowed"],[[2649,2649],"mapped",[2582,2620]],[[2650,2650],"mapped",[2583,2620]],[[2651,2651],"mapped",[2588,2620]],[[2652,2652],"valid"],[[2653,2653],"disallowed"],[[2654,2654],"mapped",[2603,2620]],[[2655,2661],"disallowed"],[[2662,2676],"valid"],[[2677,2677],"valid"],[[2678,2688],"disallowed"],[[2689,2691],"valid"],[[2692,2692],"disallowed"],[[2693,2699],"valid"],[[2700,2700],"valid"],[[2701,2701],"valid"],[[2702,2702],"disallowed"],[[2703,2705],"valid"],[[2706,2706],"disallowed"],[[2707,2728],"valid"],[[2729,2729],"disallowed"],[[2730,2736],"valid"],[[2737,2737],"disallowed"],[[2738,2739],"valid"],[[2740,2740],"disallowed"],[[2741,2745],"valid"],[[2746,2747],"disallowed"],[[2748,2757],"valid"],[[2758,2758],"disallowed"],[[2759,2761],"valid"],[[2762,2762],"disallowed"],[[2763,2765],"valid"],[[2766,2767],"disallowed"],[[2768,2768],"valid"],[[2769,2783],"disallowed"],[[2784,2784],"valid"],[[2785,2787],"valid"],[[2788,2789],"disallowed"],[[2790,2799],"valid"],[[2800,2800],"valid",[],"NV8"],[[2801,2801],"valid",[],"NV8"],[[2802,2808],"disallowed"],[[2809,2809],"valid"],[[2810,2816],"disallowed"],[[2817,2819],"valid"],[[2820,2820],"disallowed"],[[2821,2828],"valid"],[[2829,2830],"disallowed"],[[2831,2832],"valid"],[[2833,2834],"disallowed"],[[2835,2856],"valid"],[[2857,2857],"disallowed"],[[2858,2864],"valid"],[[2865,2865],"disallowed"],[[2866,2867],"valid"],[[2868,2868],"disallowed"],[[2869,2869],"valid"],[[2870,2873],"valid"],[[2874,2875],"disallowed"],[[2876,2883],"valid"],[[2884,2884],"valid"],[[2885,2886],"disallowed"],[[2887,2888],"valid"],[[2889,2890],"disallowed"],[[2891,2893],"valid"],[[2894,2901],"disallowed"],[[2902,2903],"valid"],[[2904,2907],"disallowed"],[[2908,2908],"mapped",[2849,2876]],[[2909,2909],"mapped",[2850,2876]],[[2910,2910],"disallowed"],[[2911,2913],"valid"],[[2914,2915],"valid"],[[2916,2917],"disallowed"],[[2918,2927],"valid"],[[2928,2928],"valid",[],"NV8"],[[2929,2929],"valid"],[[2930,2935],"valid",[],"NV8"],[[2936,2945],"disallowed"],[[2946,2947],"valid"],[[2948,2948],"disallowed"],[[2949,2954],"valid"],[[2955,2957],"disallowed"],[[2958,2960],"valid"],[[2961,2961],"disallowed"],[[2962,2965],"valid"],[[2966,2968],"disallowed"],[[2969,2970],"valid"],[[2971,2971],"disallowed"],[[2972,2972],"valid"],[[2973,2973],"disallowed"],[[2974,2975],"valid"],[[2976,2978],"disallowed"],[[2979,2980],"valid"],[[2981,2983],"disallowed"],[[2984,2986],"valid"],[[2987,2989],"disallowed"],[[2990,2997],"valid"],[[2998,2998],"valid"],[[2999,3001],"valid"],[[3002,3005],"disallowed"],[[3006,3010],"valid"],[[3011,3013],"disallowed"],[[3014,3016],"valid"],[[3017,3017],"disallowed"],[[3018,3021],"valid"],[[3022,3023],"disallowed"],[[3024,3024],"valid"],[[3025,3030],"disallowed"],[[3031,3031],"valid"],[[3032,3045],"disallowed"],[[3046,3046],"valid"],[[3047,3055],"valid"],[[3056,3058],"valid",[],"NV8"],[[3059,3066],"valid",[],"NV8"],[[3067,3071],"disallowed"],[[3072,3072],"valid"],[[3073,3075],"valid"],[[3076,3076],"disallowed"],[[3077,3084],"valid"],[[3085,3085],"disallowed"],[[3086,3088],"valid"],[[3089,3089],"disallowed"],[[3090,3112],"valid"],[[3113,3113],"disallowed"],[[3114,3123],"valid"],[[3124,3124],"valid"],[[3125,3129],"valid"],[[3130,3132],"disallowed"],[[3133,3133],"valid"],[[3134,3140],"valid"],[[3141,3141],"disallowed"],[[3142,3144],"valid"],[[3145,3145],"disallowed"],[[3146,3149],"valid"],[[3150,3156],"disallowed"],[[3157,3158],"valid"],[[3159,3159],"disallowed"],[[3160,3161],"valid"],[[3162,3162],"valid"],[[3163,3167],"disallowed"],[[3168,3169],"valid"],[[3170,3171],"valid"],[[3172,3173],"disallowed"],[[3174,3183],"valid"],[[3184,3191],"disallowed"],[[3192,3199],"valid",[],"NV8"],[[3200,3200],"disallowed"],[[3201,3201],"valid"],[[3202,3203],"valid"],[[3204,3204],"disallowed"],[[3205,3212],"valid"],[[3213,3213],"disallowed"],[[3214,3216],"valid"],[[3217,3217],"disallowed"],[[3218,3240],"valid"],[[3241,3241],"disallowed"],[[3242,3251],"valid"],[[3252,3252],"disallowed"],[[3253,3257],"valid"],[[3258,3259],"disallowed"],[[3260,3261],"valid"],[[3262,3268],"valid"],[[3269,3269],"disallowed"],[[3270,3272],"valid"],[[3273,3273],"disallowed"],[[3274,3277],"valid"],[[3278,3284],"disallowed"],[[3285,3286],"valid"],[[3287,3293],"disallowed"],[[3294,3294],"valid"],[[3295,3295],"disallowed"],[[3296,3297],"valid"],[[3298,3299],"valid"],[[3300,3301],"disallowed"],[[3302,3311],"valid"],[[3312,3312],"disallowed"],[[3313,3314],"valid"],[[3315,3328],"disallowed"],[[3329,3329],"valid"],[[3330,3331],"valid"],[[3332,3332],"disallowed"],[[3333,3340],"valid"],[[3341,3341],"disallowed"],[[3342,3344],"valid"],[[3345,3345],"disallowed"],[[3346,3368],"valid"],[[3369,3369],"valid"],[[3370,3385],"valid"],[[3386,3386],"valid"],[[3387,3388],"disallowed"],[[3389,3389],"valid"],[[3390,3395],"valid"],[[3396,3396],"valid"],[[3397,3397],"disallowed"],[[3398,3400],"valid"],[[3401,3401],"disallowed"],[[3402,3405],"valid"],[[3406,3406],"valid"],[[3407,3414],"disallowed"],[[3415,3415],"valid"],[[3416,3422],"disallowed"],[[3423,3423],"valid"],[[3424,3425],"valid"],[[3426,3427],"valid"],[[3428,3429],"disallowed"],[[3430,3439],"valid"],[[3440,3445],"valid",[],"NV8"],[[3446,3448],"disallowed"],[[3449,3449],"valid",[],"NV8"],[[3450,3455],"valid"],[[3456,3457],"disallowed"],[[3458,3459],"valid"],[[3460,3460],"disallowed"],[[3461,3478],"valid"],[[3479,3481],"disallowed"],[[3482,3505],"valid"],[[3506,3506],"disallowed"],[[3507,3515],"valid"],[[3516,3516],"disallowed"],[[3517,3517],"valid"],[[3518,3519],"disallowed"],[[3520,3526],"valid"],[[3527,3529],"disallowed"],[[3530,3530],"valid"],[[3531,3534],"disallowed"],[[3535,3540],"valid"],[[3541,3541],"disallowed"],[[3542,3542],"valid"],[[3543,3543],"disallowed"],[[3544,3551],"valid"],[[3552,3557],"disallowed"],[[3558,3567],"valid"],[[3568,3569],"disallowed"],[[3570,3571],"valid"],[[3572,3572],"valid",[],"NV8"],[[3573,3584],"disallowed"],[[3585,3634],"valid"],[[3635,3635],"mapped",[3661,3634]],[[3636,3642],"valid"],[[3643,3646],"disallowed"],[[3647,3647],"valid",[],"NV8"],[[3648,3662],"valid"],[[3663,3663],"valid",[],"NV8"],[[3664,3673],"valid"],[[3674,3675],"valid",[],"NV8"],[[3676,3712],"disallowed"],[[3713,3714],"valid"],[[3715,3715],"disallowed"],[[3716,3716],"valid"],[[3717,3718],"disallowed"],[[3719,3720],"valid"],[[3721,3721],"disallowed"],[[3722,3722],"valid"],[[3723,3724],"disallowed"],[[3725,3725],"valid"],[[3726,3731],"disallowed"],[[3732,3735],"valid"],[[3736,3736],"disallowed"],[[3737,3743],"valid"],[[3744,3744],"disallowed"],[[3745,3747],"valid"],[[3748,3748],"disallowed"],[[3749,3749],"valid"],[[3750,3750],"disallowed"],[[3751,3751],"valid"],[[3752,3753],"disallowed"],[[3754,3755],"valid"],[[3756,3756],"disallowed"],[[3757,3762],"valid"],[[3763,3763],"mapped",[3789,3762]],[[3764,3769],"valid"],[[3770,3770],"disallowed"],[[3771,3773],"valid"],[[3774,3775],"disallowed"],[[3776,3780],"valid"],[[3781,3781],"disallowed"],[[3782,3782],"valid"],[[3783,3783],"disallowed"],[[3784,3789],"valid"],[[3790,3791],"disallowed"],[[3792,3801],"valid"],[[3802,3803],"disallowed"],[[3804,3804],"mapped",[3755,3737]],[[3805,3805],"mapped",[3755,3745]],[[3806,3807],"valid"],[[3808,3839],"disallowed"],[[3840,3840],"valid"],[[3841,3850],"valid",[],"NV8"],[[3851,3851],"valid"],[[3852,3852],"mapped",[3851]],[[3853,3863],"valid",[],"NV8"],[[3864,3865],"valid"],[[3866,3871],"valid",[],"NV8"],[[3872,3881],"valid"],[[3882,3892],"valid",[],"NV8"],[[3893,3893],"valid"],[[3894,3894],"valid",[],"NV8"],[[3895,3895],"valid"],[[3896,3896],"valid",[],"NV8"],[[3897,3897],"valid"],[[3898,3901],"valid",[],"NV8"],[[3902,3906],"valid"],[[3907,3907],"mapped",[3906,4023]],[[3908,3911],"valid"],[[3912,3912],"disallowed"],[[3913,3916],"valid"],[[3917,3917],"mapped",[3916,4023]],[[3918,3921],"valid"],[[3922,3922],"mapped",[3921,4023]],[[3923,3926],"valid"],[[3927,3927],"mapped",[3926,4023]],[[3928,3931],"valid"],[[3932,3932],"mapped",[3931,4023]],[[3933,3944],"valid"],[[3945,3945],"mapped",[3904,4021]],[[3946,3946],"valid"],[[3947,3948],"valid"],[[3949,3952],"disallowed"],[[3953,3954],"valid"],[[3955,3955],"mapped",[3953,3954]],[[3956,3956],"valid"],[[3957,3957],"mapped",[3953,3956]],[[3958,3958],"mapped",[4018,3968]],[[3959,3959],"mapped",[4018,3953,3968]],[[3960,3960],"mapped",[4019,3968]],[[3961,3961],"mapped",[4019,3953,3968]],[[3962,3968],"valid"],[[3969,3969],"mapped",[3953,3968]],[[3970,3972],"valid"],[[3973,3973],"valid",[],"NV8"],[[3974,3979],"valid"],[[3980,3983],"valid"],[[3984,3986],"valid"],[[3987,3987],"mapped",[3986,4023]],[[3988,3989],"valid"],[[3990,3990],"valid"],[[3991,3991],"valid"],[[3992,3992],"disallowed"],[[3993,3996],"valid"],[[3997,3997],"mapped",[3996,4023]],[[3998,4001],"valid"],[[4002,4002],"mapped",[4001,4023]],[[4003,4006],"valid"],[[4007,4007],"mapped",[4006,4023]],[[4008,4011],"valid"],[[4012,4012],"mapped",[4011,4023]],[[4013,4013],"valid"],[[4014,4016],"valid"],[[4017,4023],"valid"],[[4024,4024],"valid"],[[4025,4025],"mapped",[3984,4021]],[[4026,4028],"valid"],[[4029,4029],"disallowed"],[[4030,4037],"valid",[],"NV8"],[[4038,4038],"valid"],[[4039,4044],"valid",[],"NV8"],[[4045,4045],"disallowed"],[[4046,4046],"valid",[],"NV8"],[[4047,4047],"valid",[],"NV8"],[[4048,4049],"valid",[],"NV8"],[[4050,4052],"valid",[],"NV8"],[[4053,4056],"valid",[],"NV8"],[[4057,4058],"valid",[],"NV8"],[[4059,4095],"disallowed"],[[4096,4129],"valid"],[[4130,4130],"valid"],[[4131,4135],"valid"],[[4136,4136],"valid"],[[4137,4138],"valid"],[[4139,4139],"valid"],[[4140,4146],"valid"],[[4147,4149],"valid"],[[4150,4153],"valid"],[[4154,4159],"valid"],[[4160,4169],"valid"],[[4170,4175],"valid",[],"NV8"],[[4176,4185],"valid"],[[4186,4249],"valid"],[[4250,4253],"valid"],[[4254,4255],"valid",[],"NV8"],[[4256,4293],"disallowed"],[[4294,4294],"disallowed"],[[4295,4295],"mapped",[11559]],[[4296,4300],"disallowed"],[[4301,4301],"mapped",[11565]],[[4302,4303],"disallowed"],[[4304,4342],"valid"],[[4343,4344],"valid"],[[4345,4346],"valid"],[[4347,4347],"valid",[],"NV8"],[[4348,4348],"mapped",[4316]],[[4349,4351],"valid"],[[4352,4441],"valid",[],"NV8"],[[4442,4446],"valid",[],"NV8"],[[4447,4448],"disallowed"],[[4449,4514],"valid",[],"NV8"],[[4515,4519],"valid",[],"NV8"],[[4520,4601],"valid",[],"NV8"],[[4602,4607],"valid",[],"NV8"],[[4608,4614],"valid"],[[4615,4615],"valid"],[[4616,4678],"valid"],[[4679,4679],"valid"],[[4680,4680],"valid"],[[4681,4681],"disallowed"],[[4682,4685],"valid"],[[4686,4687],"disallowed"],[[4688,4694],"valid"],[[4695,4695],"disallowed"],[[4696,4696],"valid"],[[4697,4697],"disallowed"],[[4698,4701],"valid"],[[4702,4703],"disallowed"],[[4704,4742],"valid"],[[4743,4743],"valid"],[[4744,4744],"valid"],[[4745,4745],"disallowed"],[[4746,4749],"valid"],[[4750,4751],"disallowed"],[[4752,4782],"valid"],[[4783,4783],"valid"],[[4784,4784],"valid"],[[4785,4785],"disallowed"],[[4786,4789],"valid"],[[4790,4791],"disallowed"],[[4792,4798],"valid"],[[4799,4799],"disallowed"],[[4800,4800],"valid"],[[4801,4801],"disallowed"],[[4802,4805],"valid"],[[4806,4807],"disallowed"],[[4808,4814],"valid"],[[4815,4815],"valid"],[[4816,4822],"valid"],[[4823,4823],"disallowed"],[[4824,4846],"valid"],[[4847,4847],"valid"],[[4848,4878],"valid"],[[4879,4879],"valid"],[[4880,4880],"valid"],[[4881,4881],"disallowed"],[[4882,4885],"valid"],[[4886,4887],"disallowed"],[[4888,4894],"valid"],[[4895,4895],"valid"],[[4896,4934],"valid"],[[4935,4935],"valid"],[[4936,4954],"valid"],[[4955,4956],"disallowed"],[[4957,4958],"valid"],[[4959,4959],"valid"],[[4960,4960],"valid",[],"NV8"],[[4961,4988],"valid",[],"NV8"],[[4989,4991],"disallowed"],[[4992,5007],"valid"],[[5008,5017],"valid",[],"NV8"],[[5018,5023],"disallowed"],[[5024,5108],"valid"],[[5109,5109],"valid"],[[5110,5111],"disallowed"],[[5112,5112],"mapped",[5104]],[[5113,5113],"mapped",[5105]],[[5114,5114],"mapped",[5106]],[[5115,5115],"mapped",[5107]],[[5116,5116],"mapped",[5108]],[[5117,5117],"mapped",[5109]],[[5118,5119],"disallowed"],[[5120,5120],"valid",[],"NV8"],[[5121,5740],"valid"],[[5741,5742],"valid",[],"NV8"],[[5743,5750],"valid"],[[5751,5759],"valid"],[[5760,5760],"disallowed"],[[5761,5786],"valid"],[[5787,5788],"valid",[],"NV8"],[[5789,5791],"disallowed"],[[5792,5866],"valid"],[[5867,5872],"valid",[],"NV8"],[[5873,5880],"valid"],[[5881,5887],"disallowed"],[[5888,5900],"valid"],[[5901,5901],"disallowed"],[[5902,5908],"valid"],[[5909,5919],"disallowed"],[[5920,5940],"valid"],[[5941,5942],"valid",[],"NV8"],[[5943,5951],"disallowed"],[[5952,5971],"valid"],[[5972,5983],"disallowed"],[[5984,5996],"valid"],[[5997,5997],"disallowed"],[[5998,6000],"valid"],[[6001,6001],"disallowed"],[[6002,6003],"valid"],[[6004,6015],"disallowed"],[[6016,6067],"valid"],[[6068,6069],"disallowed"],[[6070,6099],"valid"],[[6100,6102],"valid",[],"NV8"],[[6103,6103],"valid"],[[6104,6107],"valid",[],"NV8"],[[6108,6108],"valid"],[[6109,6109],"valid"],[[6110,6111],"disallowed"],[[6112,6121],"valid"],[[6122,6127],"disallowed"],[[6128,6137],"valid",[],"NV8"],[[6138,6143],"disallowed"],[[6144,6149],"valid",[],"NV8"],[[6150,6150],"disallowed"],[[6151,6154],"valid",[],"NV8"],[[6155,6157],"ignored"],[[6158,6158],"disallowed"],[[6159,6159],"disallowed"],[[6160,6169],"valid"],[[6170,6175],"disallowed"],[[6176,6263],"valid"],[[6264,6271],"disallowed"],[[6272,6313],"valid"],[[6314,6314],"valid"],[[6315,6319],"disallowed"],[[6320,6389],"valid"],[[6390,6399],"disallowed"],[[6400,6428],"valid"],[[6429,6430],"valid"],[[6431,6431],"disallowed"],[[6432,6443],"valid"],[[6444,6447],"disallowed"],[[6448,6459],"valid"],[[6460,6463],"disallowed"],[[6464,6464],"valid",[],"NV8"],[[6465,6467],"disallowed"],[[6468,6469],"valid",[],"NV8"],[[6470,6509],"valid"],[[6510,6511],"disallowed"],[[6512,6516],"valid"],[[6517,6527],"disallowed"],[[6528,6569],"valid"],[[6570,6571],"valid"],[[6572,6575],"disallowed"],[[6576,6601],"valid"],[[6602,6607],"disallowed"],[[6608,6617],"valid"],[[6618,6618],"valid",[],"XV8"],[[6619,6621],"disallowed"],[[6622,6623],"valid",[],"NV8"],[[6624,6655],"valid",[],"NV8"],[[6656,6683],"valid"],[[6684,6685],"disallowed"],[[6686,6687],"valid",[],"NV8"],[[6688,6750],"valid"],[[6751,6751],"disallowed"],[[6752,6780],"valid"],[[6781,6782],"disallowed"],[[6783,6793],"valid"],[[6794,6799],"disallowed"],[[6800,6809],"valid"],[[6810,6815],"disallowed"],[[6816,6822],"valid",[],"NV8"],[[6823,6823],"valid"],[[6824,6829],"valid",[],"NV8"],[[6830,6831],"disallowed"],[[6832,6845],"valid"],[[6846,6846],"valid",[],"NV8"],[[6847,6911],"disallowed"],[[6912,6987],"valid"],[[6988,6991],"disallowed"],[[6992,7001],"valid"],[[7002,7018],"valid",[],"NV8"],[[7019,7027],"valid"],[[7028,7036],"valid",[],"NV8"],[[7037,7039],"disallowed"],[[7040,7082],"valid"],[[7083,7085],"valid"],[[7086,7097],"valid"],[[7098,7103],"valid"],[[7104,7155],"valid"],[[7156,7163],"disallowed"],[[7164,7167],"valid",[],"NV8"],[[7168,7223],"valid"],[[7224,7226],"disallowed"],[[7227,7231],"valid",[],"NV8"],[[7232,7241],"valid"],[[7242,7244],"disallowed"],[[7245,7293],"valid"],[[7294,7295],"valid",[],"NV8"],[[7296,7359],"disallowed"],[[7360,7367],"valid",[],"NV8"],[[7368,7375],"disallowed"],[[7376,7378],"valid"],[[7379,7379],"valid",[],"NV8"],[[7380,7410],"valid"],[[7411,7414],"valid"],[[7415,7415],"disallowed"],[[7416,7417],"valid"],[[7418,7423],"disallowed"],[[7424,7467],"valid"],[[7468,7468],"mapped",[97]],[[7469,7469],"mapped",[230]],[[7470,7470],"mapped",[98]],[[7471,7471],"valid"],[[7472,7472],"mapped",[100]],[[7473,7473],"mapped",[101]],[[7474,7474],"mapped",[477]],[[7475,7475],"mapped",[103]],[[7476,7476],"mapped",[104]],[[7477,7477],"mapped",[105]],[[7478,7478],"mapped",[106]],[[7479,7479],"mapped",[107]],[[7480,7480],"mapped",[108]],[[7481,7481],"mapped",[109]],[[7482,7482],"mapped",[110]],[[7483,7483],"valid"],[[7484,7484],"mapped",[111]],[[7485,7485],"mapped",[547]],[[7486,7486],"mapped",[112]],[[7487,7487],"mapped",[114]],[[7488,7488],"mapped",[116]],[[7489,7489],"mapped",[117]],[[7490,7490],"mapped",[119]],[[7491,7491],"mapped",[97]],[[7492,7492],"mapped",[592]],[[7493,7493],"mapped",[593]],[[7494,7494],"mapped",[7426]],[[7495,7495],"mapped",[98]],[[7496,7496],"mapped",[100]],[[7497,7497],"mapped",[101]],[[7498,7498],"mapped",[601]],[[7499,7499],"mapped",[603]],[[7500,7500],"mapped",[604]],[[7501,7501],"mapped",[103]],[[7502,7502],"valid"],[[7503,7503],"mapped",[107]],[[7504,7504],"mapped",[109]],[[7505,7505],"mapped",[331]],[[7506,7506],"mapped",[111]],[[7507,7507],"mapped",[596]],[[7508,7508],"mapped",[7446]],[[7509,7509],"mapped",[7447]],[[7510,7510],"mapped",[112]],[[7511,7511],"mapped",[116]],[[7512,7512],"mapped",[117]],[[7513,7513],"mapped",[7453]],[[7514,7514],"mapped",[623]],[[7515,7515],"mapped",[118]],[[7516,7516],"mapped",[7461]],[[7517,7517],"mapped",[946]],[[7518,7518],"mapped",[947]],[[7519,7519],"mapped",[948]],[[7520,7520],"mapped",[966]],[[7521,7521],"mapped",[967]],[[7522,7522],"mapped",[105]],[[7523,7523],"mapped",[114]],[[7524,7524],"mapped",[117]],[[7525,7525],"mapped",[118]],[[7526,7526],"mapped",[946]],[[7527,7527],"mapped",[947]],[[7528,7528],"mapped",[961]],[[7529,7529],"mapped",[966]],[[7530,7530],"mapped",[967]],[[7531,7531],"valid"],[[7532,7543],"valid"],[[7544,7544],"mapped",[1085]],[[7545,7578],"valid"],[[7579,7579],"mapped",[594]],[[7580,7580],"mapped",[99]],[[7581,7581],"mapped",[597]],[[7582,7582],"mapped",[240]],[[7583,7583],"mapped",[604]],[[7584,7584],"mapped",[102]],[[7585,7585],"mapped",[607]],[[7586,7586],"mapped",[609]],[[7587,7587],"mapped",[613]],[[7588,7588],"mapped",[616]],[[7589,7589],"mapped",[617]],[[7590,7590],"mapped",[618]],[[7591,7591],"mapped",[7547]],[[7592,7592],"mapped",[669]],[[7593,7593],"mapped",[621]],[[7594,7594],"mapped",[7557]],[[7595,7595],"mapped",[671]],[[7596,7596],"mapped",[625]],[[7597,7597],"mapped",[624]],[[7598,7598],"mapped",[626]],[[7599,7599],"mapped",[627]],[[7600,7600],"mapped",[628]],[[7601,7601],"mapped",[629]],[[7602,7602],"mapped",[632]],[[7603,7603],"mapped",[642]],[[7604,7604],"mapped",[643]],[[7605,7605],"mapped",[427]],[[7606,7606],"mapped",[649]],[[7607,7607],"mapped",[650]],[[7608,7608],"mapped",[7452]],[[7609,7609],"mapped",[651]],[[7610,7610],"mapped",[652]],[[7611,7611],"mapped",[122]],[[7612,7612],"mapped",[656]],[[7613,7613],"mapped",[657]],[[7614,7614],"mapped",[658]],[[7615,7615],"mapped",[952]],[[7616,7619],"valid"],[[7620,7626],"valid"],[[7627,7654],"valid"],[[7655,7669],"valid"],[[7670,7675],"disallowed"],[[7676,7676],"valid"],[[7677,7677],"valid"],[[7678,7679],"valid"],[[7680,7680],"mapped",[7681]],[[7681,7681],"valid"],[[7682,7682],"mapped",[7683]],[[7683,7683],"valid"],[[7684,7684],"mapped",[7685]],[[7685,7685],"valid"],[[7686,7686],"mapped",[7687]],[[7687,7687],"valid"],[[7688,7688],"mapped",[7689]],[[7689,7689],"valid"],[[7690,7690],"mapped",[7691]],[[7691,7691],"valid"],[[7692,7692],"mapped",[7693]],[[7693,7693],"valid"],[[7694,7694],"mapped",[7695]],[[7695,7695],"valid"],[[7696,7696],"mapped",[7697]],[[7697,7697],"valid"],[[7698,7698],"mapped",[7699]],[[7699,7699],"valid"],[[7700,7700],"mapped",[7701]],[[7701,7701],"valid"],[[7702,7702],"mapped",[7703]],[[7703,7703],"valid"],[[7704,7704],"mapped",[7705]],[[7705,7705],"valid"],[[7706,7706],"mapped",[7707]],[[7707,7707],"valid"],[[7708,7708],"mapped",[7709]],[[7709,7709],"valid"],[[7710,7710],"mapped",[7711]],[[7711,7711],"valid"],[[7712,7712],"mapped",[7713]],[[7713,7713],"valid"],[[7714,7714],"mapped",[7715]],[[7715,7715],"valid"],[[7716,7716],"mapped",[7717]],[[7717,7717],"valid"],[[7718,7718],"mapped",[7719]],[[7719,7719],"valid"],[[7720,7720],"mapped",[7721]],[[7721,7721],"valid"],[[7722,7722],"mapped",[7723]],[[7723,7723],"valid"],[[7724,7724],"mapped",[7725]],[[7725,7725],"valid"],[[7726,7726],"mapped",[7727]],[[7727,7727],"valid"],[[7728,7728],"mapped",[7729]],[[7729,7729],"valid"],[[7730,7730],"mapped",[7731]],[[7731,7731],"valid"],[[7732,7732],"mapped",[7733]],[[7733,7733],"valid"],[[7734,7734],"mapped",[7735]],[[7735,7735],"valid"],[[7736,7736],"mapped",[7737]],[[7737,7737],"valid"],[[7738,7738],"mapped",[7739]],[[7739,7739],"valid"],[[7740,7740],"mapped",[7741]],[[7741,7741],"valid"],[[7742,7742],"mapped",[7743]],[[7743,7743],"valid"],[[7744,7744],"mapped",[7745]],[[7745,7745],"valid"],[[7746,7746],"mapped",[7747]],[[7747,7747],"valid"],[[7748,7748],"mapped",[7749]],[[7749,7749],"valid"],[[7750,7750],"mapped",[7751]],[[7751,7751],"valid"],[[7752,7752],"mapped",[7753]],[[7753,7753],"valid"],[[7754,7754],"mapped",[7755]],[[7755,7755],"valid"],[[7756,7756],"mapped",[7757]],[[7757,7757],"valid"],[[7758,7758],"mapped",[7759]],[[7759,7759],"valid"],[[7760,7760],"mapped",[7761]],[[7761,7761],"valid"],[[7762,7762],"mapped",[7763]],[[7763,7763],"valid"],[[7764,7764],"mapped",[7765]],[[7765,7765],"valid"],[[7766,7766],"mapped",[7767]],[[7767,7767],"valid"],[[7768,7768],"mapped",[7769]],[[7769,7769],"valid"],[[7770,7770],"mapped",[7771]],[[7771,7771],"valid"],[[7772,7772],"mapped",[7773]],[[7773,7773],"valid"],[[7774,7774],"mapped",[7775]],[[7775,7775],"valid"],[[7776,7776],"mapped",[7777]],[[7777,7777],"valid"],[[7778,7778],"mapped",[7779]],[[7779,7779],"valid"],[[7780,7780],"mapped",[7781]],[[7781,7781],"valid"],[[7782,7782],"mapped",[7783]],[[7783,7783],"valid"],[[7784,7784],"mapped",[7785]],[[7785,7785],"valid"],[[7786,7786],"mapped",[7787]],[[7787,7787],"valid"],[[7788,7788],"mapped",[7789]],[[7789,7789],"valid"],[[7790,7790],"mapped",[7791]],[[7791,7791],"valid"],[[7792,7792],"mapped",[7793]],[[7793,7793],"valid"],[[7794,7794],"mapped",[7795]],[[7795,7795],"valid"],[[7796,7796],"mapped",[7797]],[[7797,7797],"valid"],[[7798,7798],"mapped",[7799]],[[7799,7799],"valid"],[[7800,7800],"mapped",[7801]],[[7801,7801],"valid"],[[7802,7802],"mapped",[7803]],[[7803,7803],"valid"],[[7804,7804],"mapped",[7805]],[[7805,7805],"valid"],[[7806,7806],"mapped",[7807]],[[7807,7807],"valid"],[[7808,7808],"mapped",[7809]],[[7809,7809],"valid"],[[7810,7810],"mapped",[7811]],[[7811,7811],"valid"],[[7812,7812],"mapped",[7813]],[[7813,7813],"valid"],[[7814,7814],"mapped",[7815]],[[7815,7815],"valid"],[[7816,7816],"mapped",[7817]],[[7817,7817],"valid"],[[7818,7818],"mapped",[7819]],[[7819,7819],"valid"],[[7820,7820],"mapped",[7821]],[[7821,7821],"valid"],[[7822,7822],"mapped",[7823]],[[7823,7823],"valid"],[[7824,7824],"mapped",[7825]],[[7825,7825],"valid"],[[7826,7826],"mapped",[7827]],[[7827,7827],"valid"],[[7828,7828],"mapped",[7829]],[[7829,7833],"valid"],[[7834,7834],"mapped",[97,702]],[[7835,7835],"mapped",[7777]],[[7836,7837],"valid"],[[7838,7838],"mapped",[115,115]],[[7839,7839],"valid"],[[7840,7840],"mapped",[7841]],[[7841,7841],"valid"],[[7842,7842],"mapped",[7843]],[[7843,7843],"valid"],[[7844,7844],"mapped",[7845]],[[7845,7845],"valid"],[[7846,7846],"mapped",[7847]],[[7847,7847],"valid"],[[7848,7848],"mapped",[7849]],[[7849,7849],"valid"],[[7850,7850],"mapped",[7851]],[[7851,7851],"valid"],[[7852,7852],"mapped",[7853]],[[7853,7853],"valid"],[[7854,7854],"mapped",[7855]],[[7855,7855],"valid"],[[7856,7856],"mapped",[7857]],[[7857,7857],"valid"],[[7858,7858],"mapped",[7859]],[[7859,7859],"valid"],[[7860,7860],"mapped",[7861]],[[7861,7861],"valid"],[[7862,7862],"mapped",[7863]],[[7863,7863],"valid"],[[7864,7864],"mapped",[7865]],[[7865,7865],"valid"],[[7866,7866],"mapped",[7867]],[[7867,7867],"valid"],[[7868,7868],"mapped",[7869]],[[7869,7869],"valid"],[[7870,7870],"mapped",[7871]],[[7871,7871],"valid"],[[7872,7872],"mapped",[7873]],[[7873,7873],"valid"],[[7874,7874],"mapped",[7875]],[[7875,7875],"valid"],[[7876,7876],"mapped",[7877]],[[7877,7877],"valid"],[[7878,7878],"mapped",[7879]],[[7879,7879],"valid"],[[7880,7880],"mapped",[7881]],[[7881,7881],"valid"],[[7882,7882],"mapped",[7883]],[[7883,7883],"valid"],[[7884,7884],"mapped",[7885]],[[7885,7885],"valid"],[[7886,7886],"mapped",[7887]],[[7887,7887],"valid"],[[7888,7888],"mapped",[7889]],[[7889,7889],"valid"],[[7890,7890],"mapped",[7891]],[[7891,7891],"valid"],[[7892,7892],"mapped",[7893]],[[7893,7893],"valid"],[[7894,7894],"mapped",[7895]],[[7895,7895],"valid"],[[7896,7896],"mapped",[7897]],[[7897,7897],"valid"],[[7898,7898],"mapped",[7899]],[[7899,7899],"valid"],[[7900,7900],"mapped",[7901]],[[7901,7901],"valid"],[[7902,7902],"mapped",[7903]],[[7903,7903],"valid"],[[7904,7904],"mapped",[7905]],[[7905,7905],"valid"],[[7906,7906],"mapped",[7907]],[[7907,7907],"valid"],[[7908,7908],"mapped",[7909]],[[7909,7909],"valid"],[[7910,7910],"mapped",[7911]],[[7911,7911],"valid"],[[7912,7912],"mapped",[7913]],[[7913,7913],"valid"],[[7914,7914],"mapped",[7915]],[[7915,7915],"valid"],[[7916,7916],"mapped",[7917]],[[7917,7917],"valid"],[[7918,7918],"mapped",[7919]],[[7919,7919],"valid"],[[7920,7920],"mapped",[7921]],[[7921,7921],"valid"],[[7922,7922],"mapped",[7923]],[[7923,7923],"valid"],[[7924,7924],"mapped",[7925]],[[7925,7925],"valid"],[[7926,7926],"mapped",[7927]],[[7927,7927],"valid"],[[7928,7928],"mapped",[7929]],[[7929,7929],"valid"],[[7930,7930],"mapped",[7931]],[[7931,7931],"valid"],[[7932,7932],"mapped",[7933]],[[7933,7933],"valid"],[[7934,7934],"mapped",[7935]],[[7935,7935],"valid"],[[7936,7943],"valid"],[[7944,7944],"mapped",[7936]],[[7945,7945],"mapped",[7937]],[[7946,7946],"mapped",[7938]],[[7947,7947],"mapped",[7939]],[[7948,7948],"mapped",[7940]],[[7949,7949],"mapped",[7941]],[[7950,7950],"mapped",[7942]],[[7951,7951],"mapped",[7943]],[[7952,7957],"valid"],[[7958,7959],"disallowed"],[[7960,7960],"mapped",[7952]],[[7961,7961],"mapped",[7953]],[[7962,7962],"mapped",[7954]],[[7963,7963],"mapped",[7955]],[[7964,7964],"mapped",[7956]],[[7965,7965],"mapped",[7957]],[[7966,7967],"disallowed"],[[7968,7975],"valid"],[[7976,7976],"mapped",[7968]],[[7977,7977],"mapped",[7969]],[[7978,7978],"mapped",[7970]],[[7979,7979],"mapped",[7971]],[[7980,7980],"mapped",[7972]],[[7981,7981],"mapped",[7973]],[[7982,7982],"mapped",[7974]],[[7983,7983],"mapped",[7975]],[[7984,7991],"valid"],[[7992,7992],"mapped",[7984]],[[7993,7993],"mapped",[7985]],[[7994,7994],"mapped",[7986]],[[7995,7995],"mapped",[7987]],[[7996,7996],"mapped",[7988]],[[7997,7997],"mapped",[7989]],[[7998,7998],"mapped",[7990]],[[7999,7999],"mapped",[7991]],[[8000,8005],"valid"],[[8006,8007],"disallowed"],[[8008,8008],"mapped",[8000]],[[8009,8009],"mapped",[8001]],[[8010,8010],"mapped",[8002]],[[8011,8011],"mapped",[8003]],[[8012,8012],"mapped",[8004]],[[8013,8013],"mapped",[8005]],[[8014,8015],"disallowed"],[[8016,8023],"valid"],[[8024,8024],"disallowed"],[[8025,8025],"mapped",[8017]],[[8026,8026],"disallowed"],[[8027,8027],"mapped",[8019]],[[8028,8028],"disallowed"],[[8029,8029],"mapped",[8021]],[[8030,8030],"disallowed"],[[8031,8031],"mapped",[8023]],[[8032,8039],"valid"],[[8040,8040],"mapped",[8032]],[[8041,8041],"mapped",[8033]],[[8042,8042],"mapped",[8034]],[[8043,8043],"mapped",[8035]],[[8044,8044],"mapped",[8036]],[[8045,8045],"mapped",[8037]],[[8046,8046],"mapped",[8038]],[[8047,8047],"mapped",[8039]],[[8048,8048],"valid"],[[8049,8049],"mapped",[940]],[[8050,8050],"valid"],[[8051,8051],"mapped",[941]],[[8052,8052],"valid"],[[8053,8053],"mapped",[942]],[[8054,8054],"valid"],[[8055,8055],"mapped",[943]],[[8056,8056],"valid"],[[8057,8057],"mapped",[972]],[[8058,8058],"valid"],[[8059,8059],"mapped",[973]],[[8060,8060],"valid"],[[8061,8061],"mapped",[974]],[[8062,8063],"disallowed"],[[8064,8064],"mapped",[7936,953]],[[8065,8065],"mapped",[7937,953]],[[8066,8066],"mapped",[7938,953]],[[8067,8067],"mapped",[7939,953]],[[8068,8068],"mapped",[7940,953]],[[8069,8069],"mapped",[7941,953]],[[8070,8070],"mapped",[7942,953]],[[8071,8071],"mapped",[7943,953]],[[8072,8072],"mapped",[7936,953]],[[8073,8073],"mapped",[7937,953]],[[8074,8074],"mapped",[7938,953]],[[8075,8075],"mapped",[7939,953]],[[8076,8076],"mapped",[7940,953]],[[8077,8077],"mapped",[7941,953]],[[8078,8078],"mapped",[7942,953]],[[8079,8079],"mapped",[7943,953]],[[8080,8080],"mapped",[7968,953]],[[8081,8081],"mapped",[7969,953]],[[8082,8082],"mapped",[7970,953]],[[8083,8083],"mapped",[7971,953]],[[8084,8084],"mapped",[7972,953]],[[8085,8085],"mapped",[7973,953]],[[8086,8086],"mapped",[7974,953]],[[8087,8087],"mapped",[7975,953]],[[8088,8088],"mapped",[7968,953]],[[8089,8089],"mapped",[7969,953]],[[8090,8090],"mapped",[7970,953]],[[8091,8091],"mapped",[7971,953]],[[8092,8092],"mapped",[7972,953]],[[8093,8093],"mapped",[7973,953]],[[8094,8094],"mapped",[7974,953]],[[8095,8095],"mapped",[7975,953]],[[8096,8096],"mapped",[8032,953]],[[8097,8097],"mapped",[8033,953]],[[8098,8098],"mapped",[8034,953]],[[8099,8099],"mapped",[8035,953]],[[8100,8100],"mapped",[8036,953]],[[8101,8101],"mapped",[8037,953]],[[8102,8102],"mapped",[8038,953]],[[8103,8103],"mapped",[8039,953]],[[8104,8104],"mapped",[8032,953]],[[8105,8105],"mapped",[8033,953]],[[8106,8106],"mapped",[8034,953]],[[8107,8107],"mapped",[8035,953]],[[8108,8108],"mapped",[8036,953]],[[8109,8109],"mapped",[8037,953]],[[8110,8110],"mapped",[8038,953]],[[8111,8111],"mapped",[8039,953]],[[8112,8113],"valid"],[[8114,8114],"mapped",[8048,953]],[[8115,8115],"mapped",[945,953]],[[8116,8116],"mapped",[940,953]],[[8117,8117],"disallowed"],[[8118,8118],"valid"],[[8119,8119],"mapped",[8118,953]],[[8120,8120],"mapped",[8112]],[[8121,8121],"mapped",[8113]],[[8122,8122],"mapped",[8048]],[[8123,8123],"mapped",[940]],[[8124,8124],"mapped",[945,953]],[[8125,8125],"disallowed_STD3_mapped",[32,787]],[[8126,8126],"mapped",[953]],[[8127,8127],"disallowed_STD3_mapped",[32,787]],[[8128,8128],"disallowed_STD3_mapped",[32,834]],[[8129,8129],"disallowed_STD3_mapped",[32,776,834]],[[8130,8130],"mapped",[8052,953]],[[8131,8131],"mapped",[951,953]],[[8132,8132],"mapped",[942,953]],[[8133,8133],"disallowed"],[[8134,8134],"valid"],[[8135,8135],"mapped",[8134,953]],[[8136,8136],"mapped",[8050]],[[8137,8137],"mapped",[941]],[[8138,8138],"mapped",[8052]],[[8139,8139],"mapped",[942]],[[8140,8140],"mapped",[951,953]],[[8141,8141],"disallowed_STD3_mapped",[32,787,768]],[[8142,8142],"disallowed_STD3_mapped",[32,787,769]],[[8143,8143],"disallowed_STD3_mapped",[32,787,834]],[[8144,8146],"valid"],[[8147,8147],"mapped",[912]],[[8148,8149],"disallowed"],[[8150,8151],"valid"],[[8152,8152],"mapped",[8144]],[[8153,8153],"mapped",[8145]],[[8154,8154],"mapped",[8054]],[[8155,8155],"mapped",[943]],[[8156,8156],"disallowed"],[[8157,8157],"disallowed_STD3_mapped",[32,788,768]],[[8158,8158],"disallowed_STD3_mapped",[32,788,769]],[[8159,8159],"disallowed_STD3_mapped",[32,788,834]],[[8160,8162],"valid"],[[8163,8163],"mapped",[944]],[[8164,8167],"valid"],[[8168,8168],"mapped",[8160]],[[8169,8169],"mapped",[8161]],[[8170,8170],"mapped",[8058]],[[8171,8171],"mapped",[973]],[[8172,8172],"mapped",[8165]],[[8173,8173],"disallowed_STD3_mapped",[32,776,768]],[[8174,8174],"disallowed_STD3_mapped",[32,776,769]],[[8175,8175],"disallowed_STD3_mapped",[96]],[[8176,8177],"disallowed"],[[8178,8178],"mapped",[8060,953]],[[8179,8179],"mapped",[969,953]],[[8180,8180],"mapped",[974,953]],[[8181,8181],"disallowed"],[[8182,8182],"valid"],[[8183,8183],"mapped",[8182,953]],[[8184,8184],"mapped",[8056]],[[8185,8185],"mapped",[972]],[[8186,8186],"mapped",[8060]],[[8187,8187],"mapped",[974]],[[8188,8188],"mapped",[969,953]],[[8189,8189],"disallowed_STD3_mapped",[32,769]],[[8190,8190],"disallowed_STD3_mapped",[32,788]],[[8191,8191],"disallowed"],[[8192,8202],"disallowed_STD3_mapped",[32]],[[8203,8203],"ignored"],[[8204,8205],"deviation",[]],[[8206,8207],"disallowed"],[[8208,8208],"valid",[],"NV8"],[[8209,8209],"mapped",[8208]],[[8210,8214],"valid",[],"NV8"],[[8215,8215],"disallowed_STD3_mapped",[32,819]],[[8216,8227],"valid",[],"NV8"],[[8228,8230],"disallowed"],[[8231,8231],"valid",[],"NV8"],[[8232,8238],"disallowed"],[[8239,8239],"disallowed_STD3_mapped",[32]],[[8240,8242],"valid",[],"NV8"],[[8243,8243],"mapped",[8242,8242]],[[8244,8244],"mapped",[8242,8242,8242]],[[8245,8245],"valid",[],"NV8"],[[8246,8246],"mapped",[8245,8245]],[[8247,8247],"mapped",[8245,8245,8245]],[[8248,8251],"valid",[],"NV8"],[[8252,8252],"disallowed_STD3_mapped",[33,33]],[[8253,8253],"valid",[],"NV8"],[[8254,8254],"disallowed_STD3_mapped",[32,773]],[[8255,8262],"valid",[],"NV8"],[[8263,8263],"disallowed_STD3_mapped",[63,63]],[[8264,8264],"disallowed_STD3_mapped",[63,33]],[[8265,8265],"disallowed_STD3_mapped",[33,63]],[[8266,8269],"valid",[],"NV8"],[[8270,8274],"valid",[],"NV8"],[[8275,8276],"valid",[],"NV8"],[[8277,8278],"valid",[],"NV8"],[[8279,8279],"mapped",[8242,8242,8242,8242]],[[8280,8286],"valid",[],"NV8"],[[8287,8287],"disallowed_STD3_mapped",[32]],[[8288,8288],"ignored"],[[8289,8291],"disallowed"],[[8292,8292],"ignored"],[[8293,8293],"disallowed"],[[8294,8297],"disallowed"],[[8298,8303],"disallowed"],[[8304,8304],"mapped",[48]],[[8305,8305],"mapped",[105]],[[8306,8307],"disallowed"],[[8308,8308],"mapped",[52]],[[8309,8309],"mapped",[53]],[[8310,8310],"mapped",[54]],[[8311,8311],"mapped",[55]],[[8312,8312],"mapped",[56]],[[8313,8313],"mapped",[57]],[[8314,8314],"disallowed_STD3_mapped",[43]],[[8315,8315],"mapped",[8722]],[[8316,8316],"disallowed_STD3_mapped",[61]],[[8317,8317],"disallowed_STD3_mapped",[40]],[[8318,8318],"disallowed_STD3_mapped",[41]],[[8319,8319],"mapped",[110]],[[8320,8320],"mapped",[48]],[[8321,8321],"mapped",[49]],[[8322,8322],"mapped",[50]],[[8323,8323],"mapped",[51]],[[8324,8324],"mapped",[52]],[[8325,8325],"mapped",[53]],[[8326,8326],"mapped",[54]],[[8327,8327],"mapped",[55]],[[8328,8328],"mapped",[56]],[[8329,8329],"mapped",[57]],[[8330,8330],"disallowed_STD3_mapped",[43]],[[8331,8331],"mapped",[8722]],[[8332,8332],"disallowed_STD3_mapped",[61]],[[8333,8333],"disallowed_STD3_mapped",[40]],[[8334,8334],"disallowed_STD3_mapped",[41]],[[8335,8335],"disallowed"],[[8336,8336],"mapped",[97]],[[8337,8337],"mapped",[101]],[[8338,8338],"mapped",[111]],[[8339,8339],"mapped",[120]],[[8340,8340],"mapped",[601]],[[8341,8341],"mapped",[104]],[[8342,8342],"mapped",[107]],[[8343,8343],"mapped",[108]],[[8344,8344],"mapped",[109]],[[8345,8345],"mapped",[110]],[[8346,8346],"mapped",[112]],[[8347,8347],"mapped",[115]],[[8348,8348],"mapped",[116]],[[8349,8351],"disallowed"],[[8352,8359],"valid",[],"NV8"],[[8360,8360],"mapped",[114,115]],[[8361,8362],"valid",[],"NV8"],[[8363,8363],"valid",[],"NV8"],[[8364,8364],"valid",[],"NV8"],[[8365,8367],"valid",[],"NV8"],[[8368,8369],"valid",[],"NV8"],[[8370,8373],"valid",[],"NV8"],[[8374,8376],"valid",[],"NV8"],[[8377,8377],"valid",[],"NV8"],[[8378,8378],"valid",[],"NV8"],[[8379,8381],"valid",[],"NV8"],[[8382,8382],"valid",[],"NV8"],[[8383,8399],"disallowed"],[[8400,8417],"valid",[],"NV8"],[[8418,8419],"valid",[],"NV8"],[[8420,8426],"valid",[],"NV8"],[[8427,8427],"valid",[],"NV8"],[[8428,8431],"valid",[],"NV8"],[[8432,8432],"valid",[],"NV8"],[[8433,8447],"disallowed"],[[8448,8448],"disallowed_STD3_mapped",[97,47,99]],[[8449,8449],"disallowed_STD3_mapped",[97,47,115]],[[8450,8450],"mapped",[99]],[[8451,8451],"mapped",[176,99]],[[8452,8452],"valid",[],"NV8"],[[8453,8453],"disallowed_STD3_mapped",[99,47,111]],[[8454,8454],"disallowed_STD3_mapped",[99,47,117]],[[8455,8455],"mapped",[603]],[[8456,8456],"valid",[],"NV8"],[[8457,8457],"mapped",[176,102]],[[8458,8458],"mapped",[103]],[[8459,8462],"mapped",[104]],[[8463,8463],"mapped",[295]],[[8464,8465],"mapped",[105]],[[8466,8467],"mapped",[108]],[[8468,8468],"valid",[],"NV8"],[[8469,8469],"mapped",[110]],[[8470,8470],"mapped",[110,111]],[[8471,8472],"valid",[],"NV8"],[[8473,8473],"mapped",[112]],[[8474,8474],"mapped",[113]],[[8475,8477],"mapped",[114]],[[8478,8479],"valid",[],"NV8"],[[8480,8480],"mapped",[115,109]],[[8481,8481],"mapped",[116,101,108]],[[8482,8482],"mapped",[116,109]],[[8483,8483],"valid",[],"NV8"],[[8484,8484],"mapped",[122]],[[8485,8485],"valid",[],"NV8"],[[8486,8486],"mapped",[969]],[[8487,8487],"valid",[],"NV8"],[[8488,8488],"mapped",[122]],[[8489,8489],"valid",[],"NV8"],[[8490,8490],"mapped",[107]],[[8491,8491],"mapped",[229]],[[8492,8492],"mapped",[98]],[[8493,8493],"mapped",[99]],[[8494,8494],"valid",[],"NV8"],[[8495,8496],"mapped",[101]],[[8497,8497],"mapped",[102]],[[8498,8498],"disallowed"],[[8499,8499],"mapped",[109]],[[8500,8500],"mapped",[111]],[[8501,8501],"mapped",[1488]],[[8502,8502],"mapped",[1489]],[[8503,8503],"mapped",[1490]],[[8504,8504],"mapped",[1491]],[[8505,8505],"mapped",[105]],[[8506,8506],"valid",[],"NV8"],[[8507,8507],"mapped",[102,97,120]],[[8508,8508],"mapped",[960]],[[8509,8510],"mapped",[947]],[[8511,8511],"mapped",[960]],[[8512,8512],"mapped",[8721]],[[8513,8516],"valid",[],"NV8"],[[8517,8518],"mapped",[100]],[[8519,8519],"mapped",[101]],[[8520,8520],"mapped",[105]],[[8521,8521],"mapped",[106]],[[8522,8523],"valid",[],"NV8"],[[8524,8524],"valid",[],"NV8"],[[8525,8525],"valid",[],"NV8"],[[8526,8526],"valid"],[[8527,8527],"valid",[],"NV8"],[[8528,8528],"mapped",[49,8260,55]],[[8529,8529],"mapped",[49,8260,57]],[[8530,8530],"mapped",[49,8260,49,48]],[[8531,8531],"mapped",[49,8260,51]],[[8532,8532],"mapped",[50,8260,51]],[[8533,8533],"mapped",[49,8260,53]],[[8534,8534],"mapped",[50,8260,53]],[[8535,8535],"mapped",[51,8260,53]],[[8536,8536],"mapped",[52,8260,53]],[[8537,8537],"mapped",[49,8260,54]],[[8538,8538],"mapped",[53,8260,54]],[[8539,8539],"mapped",[49,8260,56]],[[8540,8540],"mapped",[51,8260,56]],[[8541,8541],"mapped",[53,8260,56]],[[8542,8542],"mapped",[55,8260,56]],[[8543,8543],"mapped",[49,8260]],[[8544,8544],"mapped",[105]],[[8545,8545],"mapped",[105,105]],[[8546,8546],"mapped",[105,105,105]],[[8547,8547],"mapped",[105,118]],[[8548,8548],"mapped",[118]],[[8549,8549],"mapped",[118,105]],[[8550,8550],"mapped",[118,105,105]],[[8551,8551],"mapped",[118,105,105,105]],[[8552,8552],"mapped",[105,120]],[[8553,8553],"mapped",[120]],[[8554,8554],"mapped",[120,105]],[[8555,8555],"mapped",[120,105,105]],[[8556,8556],"mapped",[108]],[[8557,8557],"mapped",[99]],[[8558,8558],"mapped",[100]],[[8559,8559],"mapped",[109]],[[8560,8560],"mapped",[105]],[[8561,8561],"mapped",[105,105]],[[8562,8562],"mapped",[105,105,105]],[[8563,8563],"mapped",[105,118]],[[8564,8564],"mapped",[118]],[[8565,8565],"mapped",[118,105]],[[8566,8566],"mapped",[118,105,105]],[[8567,8567],"mapped",[118,105,105,105]],[[8568,8568],"mapped",[105,120]],[[8569,8569],"mapped",[120]],[[8570,8570],"mapped",[120,105]],[[8571,8571],"mapped",[120,105,105]],[[8572,8572],"mapped",[108]],[[8573,8573],"mapped",[99]],[[8574,8574],"mapped",[100]],[[8575,8575],"mapped",[109]],[[8576,8578],"valid",[],"NV8"],[[8579,8579],"disallowed"],[[8580,8580],"valid"],[[8581,8584],"valid",[],"NV8"],[[8585,8585],"mapped",[48,8260,51]],[[8586,8587],"valid",[],"NV8"],[[8588,8591],"disallowed"],[[8592,8682],"valid",[],"NV8"],[[8683,8691],"valid",[],"NV8"],[[8692,8703],"valid",[],"NV8"],[[8704,8747],"valid",[],"NV8"],[[8748,8748],"mapped",[8747,8747]],[[8749,8749],"mapped",[8747,8747,8747]],[[8750,8750],"valid",[],"NV8"],[[8751,8751],"mapped",[8750,8750]],[[8752,8752],"mapped",[8750,8750,8750]],[[8753,8799],"valid",[],"NV8"],[[8800,8800],"disallowed_STD3_valid"],[[8801,8813],"valid",[],"NV8"],[[8814,8815],"disallowed_STD3_valid"],[[8816,8945],"valid",[],"NV8"],[[8946,8959],"valid",[],"NV8"],[[8960,8960],"valid",[],"NV8"],[[8961,8961],"valid",[],"NV8"],[[8962,9000],"valid",[],"NV8"],[[9001,9001],"mapped",[12296]],[[9002,9002],"mapped",[12297]],[[9003,9082],"valid",[],"NV8"],[[9083,9083],"valid",[],"NV8"],[[9084,9084],"valid",[],"NV8"],[[9085,9114],"valid",[],"NV8"],[[9115,9166],"valid",[],"NV8"],[[9167,9168],"valid",[],"NV8"],[[9169,9179],"valid",[],"NV8"],[[9180,9191],"valid",[],"NV8"],[[9192,9192],"valid",[],"NV8"],[[9193,9203],"valid",[],"NV8"],[[9204,9210],"valid",[],"NV8"],[[9211,9215],"disallowed"],[[9216,9252],"valid",[],"NV8"],[[9253,9254],"valid",[],"NV8"],[[9255,9279],"disallowed"],[[9280,9290],"valid",[],"NV8"],[[9291,9311],"disallowed"],[[9312,9312],"mapped",[49]],[[9313,9313],"mapped",[50]],[[9314,9314],"mapped",[51]],[[9315,9315],"mapped",[52]],[[9316,9316],"mapped",[53]],[[9317,9317],"mapped",[54]],[[9318,9318],"mapped",[55]],[[9319,9319],"mapped",[56]],[[9320,9320],"mapped",[57]],[[9321,9321],"mapped",[49,48]],[[9322,9322],"mapped",[49,49]],[[9323,9323],"mapped",[49,50]],[[9324,9324],"mapped",[49,51]],[[9325,9325],"mapped",[49,52]],[[9326,9326],"mapped",[49,53]],[[9327,9327],"mapped",[49,54]],[[9328,9328],"mapped",[49,55]],[[9329,9329],"mapped",[49,56]],[[9330,9330],"mapped",[49,57]],[[9331,9331],"mapped",[50,48]],[[9332,9332],"disallowed_STD3_mapped",[40,49,41]],[[9333,9333],"disallowed_STD3_mapped",[40,50,41]],[[9334,9334],"disallowed_STD3_mapped",[40,51,41]],[[9335,9335],"disallowed_STD3_mapped",[40,52,41]],[[9336,9336],"disallowed_STD3_mapped",[40,53,41]],[[9337,9337],"disallowed_STD3_mapped",[40,54,41]],[[9338,9338],"disallowed_STD3_mapped",[40,55,41]],[[9339,9339],"disallowed_STD3_mapped",[40,56,41]],[[9340,9340],"disallowed_STD3_mapped",[40,57,41]],[[9341,9341],"disallowed_STD3_mapped",[40,49,48,41]],[[9342,9342],"disallowed_STD3_mapped",[40,49,49,41]],[[9343,9343],"disallowed_STD3_mapped",[40,49,50,41]],[[9344,9344],"disallowed_STD3_mapped",[40,49,51,41]],[[9345,9345],"disallowed_STD3_mapped",[40,49,52,41]],[[9346,9346],"disallowed_STD3_mapped",[40,49,53,41]],[[9347,9347],"disallowed_STD3_mapped",[40,49,54,41]],[[9348,9348],"disallowed_STD3_mapped",[40,49,55,41]],[[9349,9349],"disallowed_STD3_mapped",[40,49,56,41]],[[9350,9350],"disallowed_STD3_mapped",[40,49,57,41]],[[9351,9351],"disallowed_STD3_mapped",[40,50,48,41]],[[9352,9371],"disallowed"],[[9372,9372],"disallowed_STD3_mapped",[40,97,41]],[[9373,9373],"disallowed_STD3_mapped",[40,98,41]],[[9374,9374],"disallowed_STD3_mapped",[40,99,41]],[[9375,9375],"disallowed_STD3_mapped",[40,100,41]],[[9376,9376],"disallowed_STD3_mapped",[40,101,41]],[[9377,9377],"disallowed_STD3_mapped",[40,102,41]],[[9378,9378],"disallowed_STD3_mapped",[40,103,41]],[[9379,9379],"disallowed_STD3_mapped",[40,104,41]],[[9380,9380],"disallowed_STD3_mapped",[40,105,41]],[[9381,9381],"disallowed_STD3_mapped",[40,106,41]],[[9382,9382],"disallowed_STD3_mapped",[40,107,41]],[[9383,9383],"disallowed_STD3_mapped",[40,108,41]],[[9384,9384],"disallowed_STD3_mapped",[40,109,41]],[[9385,9385],"disallowed_STD3_mapped",[40,110,41]],[[9386,9386],"disallowed_STD3_mapped",[40,111,41]],[[9387,9387],"disallowed_STD3_mapped",[40,112,41]],[[9388,9388],"disallowed_STD3_mapped",[40,113,41]],[[9389,9389],"disallowed_STD3_mapped",[40,114,41]],[[9390,9390],"disallowed_STD3_mapped",[40,115,41]],[[9391,9391],"disallowed_STD3_mapped",[40,116,41]],[[9392,9392],"disallowed_STD3_mapped",[40,117,41]],[[9393,9393],"disallowed_STD3_mapped",[40,118,41]],[[9394,9394],"disallowed_STD3_mapped",[40,119,41]],[[9395,9395],"disallowed_STD3_mapped",[40,120,41]],[[9396,9396],"disallowed_STD3_mapped",[40,121,41]],[[9397,9397],"disallowed_STD3_mapped",[40,122,41]],[[9398,9398],"mapped",[97]],[[9399,9399],"mapped",[98]],[[9400,9400],"mapped",[99]],[[9401,9401],"mapped",[100]],[[9402,9402],"mapped",[101]],[[9403,9403],"mapped",[102]],[[9404,9404],"mapped",[103]],[[9405,9405],"mapped",[104]],[[9406,9406],"mapped",[105]],[[9407,9407],"mapped",[106]],[[9408,9408],"mapped",[107]],[[9409,9409],"mapped",[108]],[[9410,9410],"mapped",[109]],[[9411,9411],"mapped",[110]],[[9412,9412],"mapped",[111]],[[9413,9413],"mapped",[112]],[[9414,9414],"mapped",[113]],[[9415,9415],"mapped",[114]],[[9416,9416],"mapped",[115]],[[9417,9417],"mapped",[116]],[[9418,9418],"mapped",[117]],[[9419,9419],"mapped",[118]],[[9420,9420],"mapped",[119]],[[9421,9421],"mapped",[120]],[[9422,9422],"mapped",[121]],[[9423,9423],"mapped",[122]],[[9424,9424],"mapped",[97]],[[9425,9425],"mapped",[98]],[[9426,9426],"mapped",[99]],[[9427,9427],"mapped",[100]],[[9428,9428],"mapped",[101]],[[9429,9429],"mapped",[102]],[[9430,9430],"mapped",[103]],[[9431,9431],"mapped",[104]],[[9432,9432],"mapped",[105]],[[9433,9433],"mapped",[106]],[[9434,9434],"mapped",[107]],[[9435,9435],"mapped",[108]],[[9436,9436],"mapped",[109]],[[9437,9437],"mapped",[110]],[[9438,9438],"mapped",[111]],[[9439,9439],"mapped",[112]],[[9440,9440],"mapped",[113]],[[9441,9441],"mapped",[114]],[[9442,9442],"mapped",[115]],[[9443,9443],"mapped",[116]],[[9444,9444],"mapped",[117]],[[9445,9445],"mapped",[118]],[[9446,9446],"mapped",[119]],[[9447,9447],"mapped",[120]],[[9448,9448],"mapped",[121]],[[9449,9449],"mapped",[122]],[[9450,9450],"mapped",[48]],[[9451,9470],"valid",[],"NV8"],[[9471,9471],"valid",[],"NV8"],[[9472,9621],"valid",[],"NV8"],[[9622,9631],"valid",[],"NV8"],[[9632,9711],"valid",[],"NV8"],[[9712,9719],"valid",[],"NV8"],[[9720,9727],"valid",[],"NV8"],[[9728,9747],"valid",[],"NV8"],[[9748,9749],"valid",[],"NV8"],[[9750,9751],"valid",[],"NV8"],[[9752,9752],"valid",[],"NV8"],[[9753,9753],"valid",[],"NV8"],[[9754,9839],"valid",[],"NV8"],[[9840,9841],"valid",[],"NV8"],[[9842,9853],"valid",[],"NV8"],[[9854,9855],"valid",[],"NV8"],[[9856,9865],"valid",[],"NV8"],[[9866,9873],"valid",[],"NV8"],[[9874,9884],"valid",[],"NV8"],[[9885,9885],"valid",[],"NV8"],[[9886,9887],"valid",[],"NV8"],[[9888,9889],"valid",[],"NV8"],[[9890,9905],"valid",[],"NV8"],[[9906,9906],"valid",[],"NV8"],[[9907,9916],"valid",[],"NV8"],[[9917,9919],"valid",[],"NV8"],[[9920,9923],"valid",[],"NV8"],[[9924,9933],"valid",[],"NV8"],[[9934,9934],"valid",[],"NV8"],[[9935,9953],"valid",[],"NV8"],[[9954,9954],"valid",[],"NV8"],[[9955,9955],"valid",[],"NV8"],[[9956,9959],"valid",[],"NV8"],[[9960,9983],"valid",[],"NV8"],[[9984,9984],"valid",[],"NV8"],[[9985,9988],"valid",[],"NV8"],[[9989,9989],"valid",[],"NV8"],[[9990,9993],"valid",[],"NV8"],[[9994,9995],"valid",[],"NV8"],[[9996,10023],"valid",[],"NV8"],[[10024,10024],"valid",[],"NV8"],[[10025,10059],"valid",[],"NV8"],[[10060,10060],"valid",[],"NV8"],[[10061,10061],"valid",[],"NV8"],[[10062,10062],"valid",[],"NV8"],[[10063,10066],"valid",[],"NV8"],[[10067,10069],"valid",[],"NV8"],[[10070,10070],"valid",[],"NV8"],[[10071,10071],"valid",[],"NV8"],[[10072,10078],"valid",[],"NV8"],[[10079,10080],"valid",[],"NV8"],[[10081,10087],"valid",[],"NV8"],[[10088,10101],"valid",[],"NV8"],[[10102,10132],"valid",[],"NV8"],[[10133,10135],"valid",[],"NV8"],[[10136,10159],"valid",[],"NV8"],[[10160,10160],"valid",[],"NV8"],[[10161,10174],"valid",[],"NV8"],[[10175,10175],"valid",[],"NV8"],[[10176,10182],"valid",[],"NV8"],[[10183,10186],"valid",[],"NV8"],[[10187,10187],"valid",[],"NV8"],[[10188,10188],"valid",[],"NV8"],[[10189,10189],"valid",[],"NV8"],[[10190,10191],"valid",[],"NV8"],[[10192,10219],"valid",[],"NV8"],[[10220,10223],"valid",[],"NV8"],[[10224,10239],"valid",[],"NV8"],[[10240,10495],"valid",[],"NV8"],[[10496,10763],"valid",[],"NV8"],[[10764,10764],"mapped",[8747,8747,8747,8747]],[[10765,10867],"valid",[],"NV8"],[[10868,10868],"disallowed_STD3_mapped",[58,58,61]],[[10869,10869],"disallowed_STD3_mapped",[61,61]],[[10870,10870],"disallowed_STD3_mapped",[61,61,61]],[[10871,10971],"valid",[],"NV8"],[[10972,10972],"mapped",[10973,824]],[[10973,11007],"valid",[],"NV8"],[[11008,11021],"valid",[],"NV8"],[[11022,11027],"valid",[],"NV8"],[[11028,11034],"valid",[],"NV8"],[[11035,11039],"valid",[],"NV8"],[[11040,11043],"valid",[],"NV8"],[[11044,11084],"valid",[],"NV8"],[[11085,11087],"valid",[],"NV8"],[[11088,11092],"valid",[],"NV8"],[[11093,11097],"valid",[],"NV8"],[[11098,11123],"valid",[],"NV8"],[[11124,11125],"disallowed"],[[11126,11157],"valid",[],"NV8"],[[11158,11159],"disallowed"],[[11160,11193],"valid",[],"NV8"],[[11194,11196],"disallowed"],[[11197,11208],"valid",[],"NV8"],[[11209,11209],"disallowed"],[[11210,11217],"valid",[],"NV8"],[[11218,11243],"disallowed"],[[11244,11247],"valid",[],"NV8"],[[11248,11263],"disallowed"],[[11264,11264],"mapped",[11312]],[[11265,11265],"mapped",[11313]],[[11266,11266],"mapped",[11314]],[[11267,11267],"mapped",[11315]],[[11268,11268],"mapped",[11316]],[[11269,11269],"mapped",[11317]],[[11270,11270],"mapped",[11318]],[[11271,11271],"mapped",[11319]],[[11272,11272],"mapped",[11320]],[[11273,11273],"mapped",[11321]],[[11274,11274],"mapped",[11322]],[[11275,11275],"mapped",[11323]],[[11276,11276],"mapped",[11324]],[[11277,11277],"mapped",[11325]],[[11278,11278],"mapped",[11326]],[[11279,11279],"mapped",[11327]],[[11280,11280],"mapped",[11328]],[[11281,11281],"mapped",[11329]],[[11282,11282],"mapped",[11330]],[[11283,11283],"mapped",[11331]],[[11284,11284],"mapped",[11332]],[[11285,11285],"mapped",[11333]],[[11286,11286],"mapped",[11334]],[[11287,11287],"mapped",[11335]],[[11288,11288],"mapped",[11336]],[[11289,11289],"mapped",[11337]],[[11290,11290],"mapped",[11338]],[[11291,11291],"mapped",[11339]],[[11292,11292],"mapped",[11340]],[[11293,11293],"mapped",[11341]],[[11294,11294],"mapped",[11342]],[[11295,11295],"mapped",[11343]],[[11296,11296],"mapped",[11344]],[[11297,11297],"mapped",[11345]],[[11298,11298],"mapped",[11346]],[[11299,11299],"mapped",[11347]],[[11300,11300],"mapped",[11348]],[[11301,11301],"mapped",[11349]],[[11302,11302],"mapped",[11350]],[[11303,11303],"mapped",[11351]],[[11304,11304],"mapped",[11352]],[[11305,11305],"mapped",[11353]],[[11306,11306],"mapped",[11354]],[[11307,11307],"mapped",[11355]],[[11308,11308],"mapped",[11356]],[[11309,11309],"mapped",[11357]],[[11310,11310],"mapped",[11358]],[[11311,11311],"disallowed"],[[11312,11358],"valid"],[[11359,11359],"disallowed"],[[11360,11360],"mapped",[11361]],[[11361,11361],"valid"],[[11362,11362],"mapped",[619]],[[11363,11363],"mapped",[7549]],[[11364,11364],"mapped",[637]],[[11365,11366],"valid"],[[11367,11367],"mapped",[11368]],[[11368,11368],"valid"],[[11369,11369],"mapped",[11370]],[[11370,11370],"valid"],[[11371,11371],"mapped",[11372]],[[11372,11372],"valid"],[[11373,11373],"mapped",[593]],[[11374,11374],"mapped",[625]],[[11375,11375],"mapped",[592]],[[11376,11376],"mapped",[594]],[[11377,11377],"valid"],[[11378,11378],"mapped",[11379]],[[11379,11379],"valid"],[[11380,11380],"valid"],[[11381,11381],"mapped",[11382]],[[11382,11383],"valid"],[[11384,11387],"valid"],[[11388,11388],"mapped",[106]],[[11389,11389],"mapped",[118]],[[11390,11390],"mapped",[575]],[[11391,11391],"mapped",[576]],[[11392,11392],"mapped",[11393]],[[11393,11393],"valid"],[[11394,11394],"mapped",[11395]],[[11395,11395],"valid"],[[11396,11396],"mapped",[11397]],[[11397,11397],"valid"],[[11398,11398],"mapped",[11399]],[[11399,11399],"valid"],[[11400,11400],"mapped",[11401]],[[11401,11401],"valid"],[[11402,11402],"mapped",[11403]],[[11403,11403],"valid"],[[11404,11404],"mapped",[11405]],[[11405,11405],"valid"],[[11406,11406],"mapped",[11407]],[[11407,11407],"valid"],[[11408,11408],"mapped",[11409]],[[11409,11409],"valid"],[[11410,11410],"mapped",[11411]],[[11411,11411],"valid"],[[11412,11412],"mapped",[11413]],[[11413,11413],"valid"],[[11414,11414],"mapped",[11415]],[[11415,11415],"valid"],[[11416,11416],"mapped",[11417]],[[11417,11417],"valid"],[[11418,11418],"mapped",[11419]],[[11419,11419],"valid"],[[11420,11420],"mapped",[11421]],[[11421,11421],"valid"],[[11422,11422],"mapped",[11423]],[[11423,11423],"valid"],[[11424,11424],"mapped",[11425]],[[11425,11425],"valid"],[[11426,11426],"mapped",[11427]],[[11427,11427],"valid"],[[11428,11428],"mapped",[11429]],[[11429,11429],"valid"],[[11430,11430],"mapped",[11431]],[[11431,11431],"valid"],[[11432,11432],"mapped",[11433]],[[11433,11433],"valid"],[[11434,11434],"mapped",[11435]],[[11435,11435],"valid"],[[11436,11436],"mapped",[11437]],[[11437,11437],"valid"],[[11438,11438],"mapped",[11439]],[[11439,11439],"valid"],[[11440,11440],"mapped",[11441]],[[11441,11441],"valid"],[[11442,11442],"mapped",[11443]],[[11443,11443],"valid"],[[11444,11444],"mapped",[11445]],[[11445,11445],"valid"],[[11446,11446],"mapped",[11447]],[[11447,11447],"valid"],[[11448,11448],"mapped",[11449]],[[11449,11449],"valid"],[[11450,11450],"mapped",[11451]],[[11451,11451],"valid"],[[11452,11452],"mapped",[11453]],[[11453,11453],"valid"],[[11454,11454],"mapped",[11455]],[[11455,11455],"valid"],[[11456,11456],"mapped",[11457]],[[11457,11457],"valid"],[[11458,11458],"mapped",[11459]],[[11459,11459],"valid"],[[11460,11460],"mapped",[11461]],[[11461,11461],"valid"],[[11462,11462],"mapped",[11463]],[[11463,11463],"valid"],[[11464,11464],"mapped",[11465]],[[11465,11465],"valid"],[[11466,11466],"mapped",[11467]],[[11467,11467],"valid"],[[11468,11468],"mapped",[11469]],[[11469,11469],"valid"],[[11470,11470],"mapped",[11471]],[[11471,11471],"valid"],[[11472,11472],"mapped",[11473]],[[11473,11473],"valid"],[[11474,11474],"mapped",[11475]],[[11475,11475],"valid"],[[11476,11476],"mapped",[11477]],[[11477,11477],"valid"],[[11478,11478],"mapped",[11479]],[[11479,11479],"valid"],[[11480,11480],"mapped",[11481]],[[11481,11481],"valid"],[[11482,11482],"mapped",[11483]],[[11483,11483],"valid"],[[11484,11484],"mapped",[11485]],[[11485,11485],"valid"],[[11486,11486],"mapped",[11487]],[[11487,11487],"valid"],[[11488,11488],"mapped",[11489]],[[11489,11489],"valid"],[[11490,11490],"mapped",[11491]],[[11491,11492],"valid"],[[11493,11498],"valid",[],"NV8"],[[11499,11499],"mapped",[11500]],[[11500,11500],"valid"],[[11501,11501],"mapped",[11502]],[[11502,11505],"valid"],[[11506,11506],"mapped",[11507]],[[11507,11507],"valid"],[[11508,11512],"disallowed"],[[11513,11519],"valid",[],"NV8"],[[11520,11557],"valid"],[[11558,11558],"disallowed"],[[11559,11559],"valid"],[[11560,11564],"disallowed"],[[11565,11565],"valid"],[[11566,11567],"disallowed"],[[11568,11621],"valid"],[[11622,11623],"valid"],[[11624,11630],"disallowed"],[[11631,11631],"mapped",[11617]],[[11632,11632],"valid",[],"NV8"],[[11633,11646],"disallowed"],[[11647,11647],"valid"],[[11648,11670],"valid"],[[11671,11679],"disallowed"],[[11680,11686],"valid"],[[11687,11687],"disallowed"],[[11688,11694],"valid"],[[11695,11695],"disallowed"],[[11696,11702],"valid"],[[11703,11703],"disallowed"],[[11704,11710],"valid"],[[11711,11711],"disallowed"],[[11712,11718],"valid"],[[11719,11719],"disallowed"],[[11720,11726],"valid"],[[11727,11727],"disallowed"],[[11728,11734],"valid"],[[11735,11735],"disallowed"],[[11736,11742],"valid"],[[11743,11743],"disallowed"],[[11744,11775],"valid"],[[11776,11799],"valid",[],"NV8"],[[11800,11803],"valid",[],"NV8"],[[11804,11805],"valid",[],"NV8"],[[11806,11822],"valid",[],"NV8"],[[11823,11823],"valid"],[[11824,11824],"valid",[],"NV8"],[[11825,11825],"valid",[],"NV8"],[[11826,11835],"valid",[],"NV8"],[[11836,11842],"valid",[],"NV8"],[[11843,11903],"disallowed"],[[11904,11929],"valid",[],"NV8"],[[11930,11930],"disallowed"],[[11931,11934],"valid",[],"NV8"],[[11935,11935],"mapped",[27597]],[[11936,12018],"valid",[],"NV8"],[[12019,12019],"mapped",[40863]],[[12020,12031],"disallowed"],[[12032,12032],"mapped",[19968]],[[12033,12033],"mapped",[20008]],[[12034,12034],"mapped",[20022]],[[12035,12035],"mapped",[20031]],[[12036,12036],"mapped",[20057]],[[12037,12037],"mapped",[20101]],[[12038,12038],"mapped",[20108]],[[12039,12039],"mapped",[20128]],[[12040,12040],"mapped",[20154]],[[12041,12041],"mapped",[20799]],[[12042,12042],"mapped",[20837]],[[12043,12043],"mapped",[20843]],[[12044,12044],"mapped",[20866]],[[12045,12045],"mapped",[20886]],[[12046,12046],"mapped",[20907]],[[12047,12047],"mapped",[20960]],[[12048,12048],"mapped",[20981]],[[12049,12049],"mapped",[20992]],[[12050,12050],"mapped",[21147]],[[12051,12051],"mapped",[21241]],[[12052,12052],"mapped",[21269]],[[12053,12053],"mapped",[21274]],[[12054,12054],"mapped",[21304]],[[12055,12055],"mapped",[21313]],[[12056,12056],"mapped",[21340]],[[12057,12057],"mapped",[21353]],[[12058,12058],"mapped",[21378]],[[12059,12059],"mapped",[21430]],[[12060,12060],"mapped",[21448]],[[12061,12061],"mapped",[21475]],[[12062,12062],"mapped",[22231]],[[12063,12063],"mapped",[22303]],[[12064,12064],"mapped",[22763]],[[12065,12065],"mapped",[22786]],[[12066,12066],"mapped",[22794]],[[12067,12067],"mapped",[22805]],[[12068,12068],"mapped",[22823]],[[12069,12069],"mapped",[22899]],[[12070,12070],"mapped",[23376]],[[12071,12071],"mapped",[23424]],[[12072,12072],"mapped",[23544]],[[12073,12073],"mapped",[23567]],[[12074,12074],"mapped",[23586]],[[12075,12075],"mapped",[23608]],[[12076,12076],"mapped",[23662]],[[12077,12077],"mapped",[23665]],[[12078,12078],"mapped",[24027]],[[12079,12079],"mapped",[24037]],[[12080,12080],"mapped",[24049]],[[12081,12081],"mapped",[24062]],[[12082,12082],"mapped",[24178]],[[12083,12083],"mapped",[24186]],[[12084,12084],"mapped",[24191]],[[12085,12085],"mapped",[24308]],[[12086,12086],"mapped",[24318]],[[12087,12087],"mapped",[24331]],[[12088,12088],"mapped",[24339]],[[12089,12089],"mapped",[24400]],[[12090,12090],"mapped",[24417]],[[12091,12091],"mapped",[24435]],[[12092,12092],"mapped",[24515]],[[12093,12093],"mapped",[25096]],[[12094,12094],"mapped",[25142]],[[12095,12095],"mapped",[25163]],[[12096,12096],"mapped",[25903]],[[12097,12097],"mapped",[25908]],[[12098,12098],"mapped",[25991]],[[12099,12099],"mapped",[26007]],[[12100,12100],"mapped",[26020]],[[12101,12101],"mapped",[26041]],[[12102,12102],"mapped",[26080]],[[12103,12103],"mapped",[26085]],[[12104,12104],"mapped",[26352]],[[12105,12105],"mapped",[26376]],[[12106,12106],"mapped",[26408]],[[12107,12107],"mapped",[27424]],[[12108,12108],"mapped",[27490]],[[12109,12109],"mapped",[27513]],[[12110,12110],"mapped",[27571]],[[12111,12111],"mapped",[27595]],[[12112,12112],"mapped",[27604]],[[12113,12113],"mapped",[27611]],[[12114,12114],"mapped",[27663]],[[12115,12115],"mapped",[27668]],[[12116,12116],"mapped",[27700]],[[12117,12117],"mapped",[28779]],[[12118,12118],"mapped",[29226]],[[12119,12119],"mapped",[29238]],[[12120,12120],"mapped",[29243]],[[12121,12121],"mapped",[29247]],[[12122,12122],"mapped",[29255]],[[12123,12123],"mapped",[29273]],[[12124,12124],"mapped",[29275]],[[12125,12125],"mapped",[29356]],[[12126,12126],"mapped",[29572]],[[12127,12127],"mapped",[29577]],[[12128,12128],"mapped",[29916]],[[12129,12129],"mapped",[29926]],[[12130,12130],"mapped",[29976]],[[12131,12131],"mapped",[29983]],[[12132,12132],"mapped",[29992]],[[12133,12133],"mapped",[30000]],[[12134,12134],"mapped",[30091]],[[12135,12135],"mapped",[30098]],[[12136,12136],"mapped",[30326]],[[12137,12137],"mapped",[30333]],[[12138,12138],"mapped",[30382]],[[12139,12139],"mapped",[30399]],[[12140,12140],"mapped",[30446]],[[12141,12141],"mapped",[30683]],[[12142,12142],"mapped",[30690]],[[12143,12143],"mapped",[30707]],[[12144,12144],"mapped",[31034]],[[12145,12145],"mapped",[31160]],[[12146,12146],"mapped",[31166]],[[12147,12147],"mapped",[31348]],[[12148,12148],"mapped",[31435]],[[12149,12149],"mapped",[31481]],[[12150,12150],"mapped",[31859]],[[12151,12151],"mapped",[31992]],[[12152,12152],"mapped",[32566]],[[12153,12153],"mapped",[32593]],[[12154,12154],"mapped",[32650]],[[12155,12155],"mapped",[32701]],[[12156,12156],"mapped",[32769]],[[12157,12157],"mapped",[32780]],[[12158,12158],"mapped",[32786]],[[12159,12159],"mapped",[32819]],[[12160,12160],"mapped",[32895]],[[12161,12161],"mapped",[32905]],[[12162,12162],"mapped",[33251]],[[12163,12163],"mapped",[33258]],[[12164,12164],"mapped",[33267]],[[12165,12165],"mapped",[33276]],[[12166,12166],"mapped",[33292]],[[12167,12167],"mapped",[33307]],[[12168,12168],"mapped",[33311]],[[12169,12169],"mapped",[33390]],[[12170,12170],"mapped",[33394]],[[12171,12171],"mapped",[33400]],[[12172,12172],"mapped",[34381]],[[12173,12173],"mapped",[34411]],[[12174,12174],"mapped",[34880]],[[12175,12175],"mapped",[34892]],[[12176,12176],"mapped",[34915]],[[12177,12177],"mapped",[35198]],[[12178,12178],"mapped",[35211]],[[12179,12179],"mapped",[35282]],[[12180,12180],"mapped",[35328]],[[12181,12181],"mapped",[35895]],[[12182,12182],"mapped",[35910]],[[12183,12183],"mapped",[35925]],[[12184,12184],"mapped",[35960]],[[12185,12185],"mapped",[35997]],[[12186,12186],"mapped",[36196]],[[12187,12187],"mapped",[36208]],[[12188,12188],"mapped",[36275]],[[12189,12189],"mapped",[36523]],[[12190,12190],"mapped",[36554]],[[12191,12191],"mapped",[36763]],[[12192,12192],"mapped",[36784]],[[12193,12193],"mapped",[36789]],[[12194,12194],"mapped",[37009]],[[12195,12195],"mapped",[37193]],[[12196,12196],"mapped",[37318]],[[12197,12197],"mapped",[37324]],[[12198,12198],"mapped",[37329]],[[12199,12199],"mapped",[38263]],[[12200,12200],"mapped",[38272]],[[12201,12201],"mapped",[38428]],[[12202,12202],"mapped",[38582]],[[12203,12203],"mapped",[38585]],[[12204,12204],"mapped",[38632]],[[12205,12205],"mapped",[38737]],[[12206,12206],"mapped",[38750]],[[12207,12207],"mapped",[38754]],[[12208,12208],"mapped",[38761]],[[12209,12209],"mapped",[38859]],[[12210,12210],"mapped",[38893]],[[12211,12211],"mapped",[38899]],[[12212,12212],"mapped",[38913]],[[12213,12213],"mapped",[39080]],[[12214,12214],"mapped",[39131]],[[12215,12215],"mapped",[39135]],[[12216,12216],"mapped",[39318]],[[12217,12217],"mapped",[39321]],[[12218,12218],"mapped",[39340]],[[12219,12219],"mapped",[39592]],[[12220,12220],"mapped",[39640]],[[12221,12221],"mapped",[39647]],[[12222,12222],"mapped",[39717]],[[12223,12223],"mapped",[39727]],[[12224,12224],"mapped",[39730]],[[12225,12225],"mapped",[39740]],[[12226,12226],"mapped",[39770]],[[12227,12227],"mapped",[40165]],[[12228,12228],"mapped",[40565]],[[12229,12229],"mapped",[40575]],[[12230,12230],"mapped",[40613]],[[12231,12231],"mapped",[40635]],[[12232,12232],"mapped",[40643]],[[12233,12233],"mapped",[40653]],[[12234,12234],"mapped",[40657]],[[12235,12235],"mapped",[40697]],[[12236,12236],"mapped",[40701]],[[12237,12237],"mapped",[40718]],[[12238,12238],"mapped",[40723]],[[12239,12239],"mapped",[40736]],[[12240,12240],"mapped",[40763]],[[12241,12241],"mapped",[40778]],[[12242,12242],"mapped",[40786]],[[12243,12243],"mapped",[40845]],[[12244,12244],"mapped",[40860]],[[12245,12245],"mapped",[40864]],[[12246,12271],"disallowed"],[[12272,12283],"disallowed"],[[12284,12287],"disallowed"],[[12288,12288],"disallowed_STD3_mapped",[32]],[[12289,12289],"valid",[],"NV8"],[[12290,12290],"mapped",[46]],[[12291,12292],"valid",[],"NV8"],[[12293,12295],"valid"],[[12296,12329],"valid",[],"NV8"],[[12330,12333],"valid"],[[12334,12341],"valid",[],"NV8"],[[12342,12342],"mapped",[12306]],[[12343,12343],"valid",[],"NV8"],[[12344,12344],"mapped",[21313]],[[12345,12345],"mapped",[21316]],[[12346,12346],"mapped",[21317]],[[12347,12347],"valid",[],"NV8"],[[12348,12348],"valid"],[[12349,12349],"valid",[],"NV8"],[[12350,12350],"valid",[],"NV8"],[[12351,12351],"valid",[],"NV8"],[[12352,12352],"disallowed"],[[12353,12436],"valid"],[[12437,12438],"valid"],[[12439,12440],"disallowed"],[[12441,12442],"valid"],[[12443,12443],"disallowed_STD3_mapped",[32,12441]],[[12444,12444],"disallowed_STD3_mapped",[32,12442]],[[12445,12446],"valid"],[[12447,12447],"mapped",[12424,12426]],[[12448,12448],"valid",[],"NV8"],[[12449,12542],"valid"],[[12543,12543],"mapped",[12467,12488]],[[12544,12548],"disallowed"],[[12549,12588],"valid"],[[12589,12589],"valid"],[[12590,12592],"disallowed"],[[12593,12593],"mapped",[4352]],[[12594,12594],"mapped",[4353]],[[12595,12595],"mapped",[4522]],[[12596,12596],"mapped",[4354]],[[12597,12597],"mapped",[4524]],[[12598,12598],"mapped",[4525]],[[12599,12599],"mapped",[4355]],[[12600,12600],"mapped",[4356]],[[12601,12601],"mapped",[4357]],[[12602,12602],"mapped",[4528]],[[12603,12603],"mapped",[4529]],[[12604,12604],"mapped",[4530]],[[12605,12605],"mapped",[4531]],[[12606,12606],"mapped",[4532]],[[12607,12607],"mapped",[4533]],[[12608,12608],"mapped",[4378]],[[12609,12609],"mapped",[4358]],[[12610,12610],"mapped",[4359]],[[12611,12611],"mapped",[4360]],[[12612,12612],"mapped",[4385]],[[12613,12613],"mapped",[4361]],[[12614,12614],"mapped",[4362]],[[12615,12615],"mapped",[4363]],[[12616,12616],"mapped",[4364]],[[12617,12617],"mapped",[4365]],[[12618,12618],"mapped",[4366]],[[12619,12619],"mapped",[4367]],[[12620,12620],"mapped",[4368]],[[12621,12621],"mapped",[4369]],[[12622,12622],"mapped",[4370]],[[12623,12623],"mapped",[4449]],[[12624,12624],"mapped",[4450]],[[12625,12625],"mapped",[4451]],[[12626,12626],"mapped",[4452]],[[12627,12627],"mapped",[4453]],[[12628,12628],"mapped",[4454]],[[12629,12629],"mapped",[4455]],[[12630,12630],"mapped",[4456]],[[12631,12631],"mapped",[4457]],[[12632,12632],"mapped",[4458]],[[12633,12633],"mapped",[4459]],[[12634,12634],"mapped",[4460]],[[12635,12635],"mapped",[4461]],[[12636,12636],"mapped",[4462]],[[12637,12637],"mapped",[4463]],[[12638,12638],"mapped",[4464]],[[12639,12639],"mapped",[4465]],[[12640,12640],"mapped",[4466]],[[12641,12641],"mapped",[4467]],[[12642,12642],"mapped",[4468]],[[12643,12643],"mapped",[4469]],[[12644,12644],"disallowed"],[[12645,12645],"mapped",[4372]],[[12646,12646],"mapped",[4373]],[[12647,12647],"mapped",[4551]],[[12648,12648],"mapped",[4552]],[[12649,12649],"mapped",[4556]],[[12650,12650],"mapped",[4558]],[[12651,12651],"mapped",[4563]],[[12652,12652],"mapped",[4567]],[[12653,12653],"mapped",[4569]],[[12654,12654],"mapped",[4380]],[[12655,12655],"mapped",[4573]],[[12656,12656],"mapped",[4575]],[[12657,12657],"mapped",[4381]],[[12658,12658],"mapped",[4382]],[[12659,12659],"mapped",[4384]],[[12660,12660],"mapped",[4386]],[[12661,12661],"mapped",[4387]],[[12662,12662],"mapped",[4391]],[[12663,12663],"mapped",[4393]],[[12664,12664],"mapped",[4395]],[[12665,12665],"mapped",[4396]],[[12666,12666],"mapped",[4397]],[[12667,12667],"mapped",[4398]],[[12668,12668],"mapped",[4399]],[[12669,12669],"mapped",[4402]],[[12670,12670],"mapped",[4406]],[[12671,12671],"mapped",[4416]],[[12672,12672],"mapped",[4423]],[[12673,12673],"mapped",[4428]],[[12674,12674],"mapped",[4593]],[[12675,12675],"mapped",[4594]],[[12676,12676],"mapped",[4439]],[[12677,12677],"mapped",[4440]],[[12678,12678],"mapped",[4441]],[[12679,12679],"mapped",[4484]],[[12680,12680],"mapped",[4485]],[[12681,12681],"mapped",[4488]],[[12682,12682],"mapped",[4497]],[[12683,12683],"mapped",[4498]],[[12684,12684],"mapped",[4500]],[[12685,12685],"mapped",[4510]],[[12686,12686],"mapped",[4513]],[[12687,12687],"disallowed"],[[12688,12689],"valid",[],"NV8"],[[12690,12690],"mapped",[19968]],[[12691,12691],"mapped",[20108]],[[12692,12692],"mapped",[19977]],[[12693,12693],"mapped",[22235]],[[12694,12694],"mapped",[19978]],[[12695,12695],"mapped",[20013]],[[12696,12696],"mapped",[19979]],[[12697,12697],"mapped",[30002]],[[12698,12698],"mapped",[20057]],[[12699,12699],"mapped",[19993]],[[12700,12700],"mapped",[19969]],[[12701,12701],"mapped",[22825]],[[12702,12702],"mapped",[22320]],[[12703,12703],"mapped",[20154]],[[12704,12727],"valid"],[[12728,12730],"valid"],[[12731,12735],"disallowed"],[[12736,12751],"valid",[],"NV8"],[[12752,12771],"valid",[],"NV8"],[[12772,12783],"disallowed"],[[12784,12799],"valid"],[[12800,12800],"disallowed_STD3_mapped",[40,4352,41]],[[12801,12801],"disallowed_STD3_mapped",[40,4354,41]],[[12802,12802],"disallowed_STD3_mapped",[40,4355,41]],[[12803,12803],"disallowed_STD3_mapped",[40,4357,41]],[[12804,12804],"disallowed_STD3_mapped",[40,4358,41]],[[12805,12805],"disallowed_STD3_mapped",[40,4359,41]],[[12806,12806],"disallowed_STD3_mapped",[40,4361,41]],[[12807,12807],"disallowed_STD3_mapped",[40,4363,41]],[[12808,12808],"disallowed_STD3_mapped",[40,4364,41]],[[12809,12809],"disallowed_STD3_mapped",[40,4366,41]],[[12810,12810],"disallowed_STD3_mapped",[40,4367,41]],[[12811,12811],"disallowed_STD3_mapped",[40,4368,41]],[[12812,12812],"disallowed_STD3_mapped",[40,4369,41]],[[12813,12813],"disallowed_STD3_mapped",[40,4370,41]],[[12814,12814],"disallowed_STD3_mapped",[40,44032,41]],[[12815,12815],"disallowed_STD3_mapped",[40,45208,41]],[[12816,12816],"disallowed_STD3_mapped",[40,45796,41]],[[12817,12817],"disallowed_STD3_mapped",[40,46972,41]],[[12818,12818],"disallowed_STD3_mapped",[40,47560,41]],[[12819,12819],"disallowed_STD3_mapped",[40,48148,41]],[[12820,12820],"disallowed_STD3_mapped",[40,49324,41]],[[12821,12821],"disallowed_STD3_mapped",[40,50500,41]],[[12822,12822],"disallowed_STD3_mapped",[40,51088,41]],[[12823,12823],"disallowed_STD3_mapped",[40,52264,41]],[[12824,12824],"disallowed_STD3_mapped",[40,52852,41]],[[12825,12825],"disallowed_STD3_mapped",[40,53440,41]],[[12826,12826],"disallowed_STD3_mapped",[40,54028,41]],[[12827,12827],"disallowed_STD3_mapped",[40,54616,41]],[[12828,12828],"disallowed_STD3_mapped",[40,51452,41]],[[12829,12829],"disallowed_STD3_mapped",[40,50724,51204,41]],[[12830,12830],"disallowed_STD3_mapped",[40,50724,54980,41]],[[12831,12831],"disallowed"],[[12832,12832],"disallowed_STD3_mapped",[40,19968,41]],[[12833,12833],"disallowed_STD3_mapped",[40,20108,41]],[[12834,12834],"disallowed_STD3_mapped",[40,19977,41]],[[12835,12835],"disallowed_STD3_mapped",[40,22235,41]],[[12836,12836],"disallowed_STD3_mapped",[40,20116,41]],[[12837,12837],"disallowed_STD3_mapped",[40,20845,41]],[[12838,12838],"disallowed_STD3_mapped",[40,19971,41]],[[12839,12839],"disallowed_STD3_mapped",[40,20843,41]],[[12840,12840],"disallowed_STD3_mapped",[40,20061,41]],[[12841,12841],"disallowed_STD3_mapped",[40,21313,41]],[[12842,12842],"disallowed_STD3_mapped",[40,26376,41]],[[12843,12843],"disallowed_STD3_mapped",[40,28779,41]],[[12844,12844],"disallowed_STD3_mapped",[40,27700,41]],[[12845,12845],"disallowed_STD3_mapped",[40,26408,41]],[[12846,12846],"disallowed_STD3_mapped",[40,37329,41]],[[12847,12847],"disallowed_STD3_mapped",[40,22303,41]],[[12848,12848],"disallowed_STD3_mapped",[40,26085,41]],[[12849,12849],"disallowed_STD3_mapped",[40,26666,41]],[[12850,12850],"disallowed_STD3_mapped",[40,26377,41]],[[12851,12851],"disallowed_STD3_mapped",[40,31038,41]],[[12852,12852],"disallowed_STD3_mapped",[40,21517,41]],[[12853,12853],"disallowed_STD3_mapped",[40,29305,41]],[[12854,12854],"disallowed_STD3_mapped",[40,36001,41]],[[12855,12855],"disallowed_STD3_mapped",[40,31069,41]],[[12856,12856],"disallowed_STD3_mapped",[40,21172,41]],[[12857,12857],"disallowed_STD3_mapped",[40,20195,41]],[[12858,12858],"disallowed_STD3_mapped",[40,21628,41]],[[12859,12859],"disallowed_STD3_mapped",[40,23398,41]],[[12860,12860],"disallowed_STD3_mapped",[40,30435,41]],[[12861,12861],"disallowed_STD3_mapped",[40,20225,41]],[[12862,12862],"disallowed_STD3_mapped",[40,36039,41]],[[12863,12863],"disallowed_STD3_mapped",[40,21332,41]],[[12864,12864],"disallowed_STD3_mapped",[40,31085,41]],[[12865,12865],"disallowed_STD3_mapped",[40,20241,41]],[[12866,12866],"disallowed_STD3_mapped",[40,33258,41]],[[12867,12867],"disallowed_STD3_mapped",[40,33267,41]],[[12868,12868],"mapped",[21839]],[[12869,12869],"mapped",[24188]],[[12870,12870],"mapped",[25991]],[[12871,12871],"mapped",[31631]],[[12872,12879],"valid",[],"NV8"],[[12880,12880],"mapped",[112,116,101]],[[12881,12881],"mapped",[50,49]],[[12882,12882],"mapped",[50,50]],[[12883,12883],"mapped",[50,51]],[[12884,12884],"mapped",[50,52]],[[12885,12885],"mapped",[50,53]],[[12886,12886],"mapped",[50,54]],[[12887,12887],"mapped",[50,55]],[[12888,12888],"mapped",[50,56]],[[12889,12889],"mapped",[50,57]],[[12890,12890],"mapped",[51,48]],[[12891,12891],"mapped",[51,49]],[[12892,12892],"mapped",[51,50]],[[12893,12893],"mapped",[51,51]],[[12894,12894],"mapped",[51,52]],[[12895,12895],"mapped",[51,53]],[[12896,12896],"mapped",[4352]],[[12897,12897],"mapped",[4354]],[[12898,12898],"mapped",[4355]],[[12899,12899],"mapped",[4357]],[[12900,12900],"mapped",[4358]],[[12901,12901],"mapped",[4359]],[[12902,12902],"mapped",[4361]],[[12903,12903],"mapped",[4363]],[[12904,12904],"mapped",[4364]],[[12905,12905],"mapped",[4366]],[[12906,12906],"mapped",[4367]],[[12907,12907],"mapped",[4368]],[[12908,12908],"mapped",[4369]],[[12909,12909],"mapped",[4370]],[[12910,12910],"mapped",[44032]],[[12911,12911],"mapped",[45208]],[[12912,12912],"mapped",[45796]],[[12913,12913],"mapped",[46972]],[[12914,12914],"mapped",[47560]],[[12915,12915],"mapped",[48148]],[[12916,12916],"mapped",[49324]],[[12917,12917],"mapped",[50500]],[[12918,12918],"mapped",[51088]],[[12919,12919],"mapped",[52264]],[[12920,12920],"mapped",[52852]],[[12921,12921],"mapped",[53440]],[[12922,12922],"mapped",[54028]],[[12923,12923],"mapped",[54616]],[[12924,12924],"mapped",[52280,44256]],[[12925,12925],"mapped",[51452,51032]],[[12926,12926],"mapped",[50864]],[[12927,12927],"valid",[],"NV8"],[[12928,12928],"mapped",[19968]],[[12929,12929],"mapped",[20108]],[[12930,12930],"mapped",[19977]],[[12931,12931],"mapped",[22235]],[[12932,12932],"mapped",[20116]],[[12933,12933],"mapped",[20845]],[[12934,12934],"mapped",[19971]],[[12935,12935],"mapped",[20843]],[[12936,12936],"mapped",[20061]],[[12937,12937],"mapped",[21313]],[[12938,12938],"mapped",[26376]],[[12939,12939],"mapped",[28779]],[[12940,12940],"mapped",[27700]],[[12941,12941],"mapped",[26408]],[[12942,12942],"mapped",[37329]],[[12943,12943],"mapped",[22303]],[[12944,12944],"mapped",[26085]],[[12945,12945],"mapped",[26666]],[[12946,12946],"mapped",[26377]],[[12947,12947],"mapped",[31038]],[[12948,12948],"mapped",[21517]],[[12949,12949],"mapped",[29305]],[[12950,12950],"mapped",[36001]],[[12951,12951],"mapped",[31069]],[[12952,12952],"mapped",[21172]],[[12953,12953],"mapped",[31192]],[[12954,12954],"mapped",[30007]],[[12955,12955],"mapped",[22899]],[[12956,12956],"mapped",[36969]],[[12957,12957],"mapped",[20778]],[[12958,12958],"mapped",[21360]],[[12959,12959],"mapped",[27880]],[[12960,12960],"mapped",[38917]],[[12961,12961],"mapped",[20241]],[[12962,12962],"mapped",[20889]],[[12963,12963],"mapped",[27491]],[[12964,12964],"mapped",[19978]],[[12965,12965],"mapped",[20013]],[[12966,12966],"mapped",[19979]],[[12967,12967],"mapped",[24038]],[[12968,12968],"mapped",[21491]],[[12969,12969],"mapped",[21307]],[[12970,12970],"mapped",[23447]],[[12971,12971],"mapped",[23398]],[[12972,12972],"mapped",[30435]],[[12973,12973],"mapped",[20225]],[[12974,12974],"mapped",[36039]],[[12975,12975],"mapped",[21332]],[[12976,12976],"mapped",[22812]],[[12977,12977],"mapped",[51,54]],[[12978,12978],"mapped",[51,55]],[[12979,12979],"mapped",[51,56]],[[12980,12980],"mapped",[51,57]],[[12981,12981],"mapped",[52,48]],[[12982,12982],"mapped",[52,49]],[[12983,12983],"mapped",[52,50]],[[12984,12984],"mapped",[52,51]],[[12985,12985],"mapped",[52,52]],[[12986,12986],"mapped",[52,53]],[[12987,12987],"mapped",[52,54]],[[12988,12988],"mapped",[52,55]],[[12989,12989],"mapped",[52,56]],[[12990,12990],"mapped",[52,57]],[[12991,12991],"mapped",[53,48]],[[12992,12992],"mapped",[49,26376]],[[12993,12993],"mapped",[50,26376]],[[12994,12994],"mapped",[51,26376]],[[12995,12995],"mapped",[52,26376]],[[12996,12996],"mapped",[53,26376]],[[12997,12997],"mapped",[54,26376]],[[12998,12998],"mapped",[55,26376]],[[12999,12999],"mapped",[56,26376]],[[13000,13000],"mapped",[57,26376]],[[13001,13001],"mapped",[49,48,26376]],[[13002,13002],"mapped",[49,49,26376]],[[13003,13003],"mapped",[49,50,26376]],[[13004,13004],"mapped",[104,103]],[[13005,13005],"mapped",[101,114,103]],[[13006,13006],"mapped",[101,118]],[[13007,13007],"mapped",[108,116,100]],[[13008,13008],"mapped",[12450]],[[13009,13009],"mapped",[12452]],[[13010,13010],"mapped",[12454]],[[13011,13011],"mapped",[12456]],[[13012,13012],"mapped",[12458]],[[13013,13013],"mapped",[12459]],[[13014,13014],"mapped",[12461]],[[13015,13015],"mapped",[12463]],[[13016,13016],"mapped",[12465]],[[13017,13017],"mapped",[12467]],[[13018,13018],"mapped",[12469]],[[13019,13019],"mapped",[12471]],[[13020,13020],"mapped",[12473]],[[13021,13021],"mapped",[12475]],[[13022,13022],"mapped",[12477]],[[13023,13023],"mapped",[12479]],[[13024,13024],"mapped",[12481]],[[13025,13025],"mapped",[12484]],[[13026,13026],"mapped",[12486]],[[13027,13027],"mapped",[12488]],[[13028,13028],"mapped",[12490]],[[13029,13029],"mapped",[12491]],[[13030,13030],"mapped",[12492]],[[13031,13031],"mapped",[12493]],[[13032,13032],"mapped",[12494]],[[13033,13033],"mapped",[12495]],[[13034,13034],"mapped",[12498]],[[13035,13035],"mapped",[12501]],[[13036,13036],"mapped",[12504]],[[13037,13037],"mapped",[12507]],[[13038,13038],"mapped",[12510]],[[13039,13039],"mapped",[12511]],[[13040,13040],"mapped",[12512]],[[13041,13041],"mapped",[12513]],[[13042,13042],"mapped",[12514]],[[13043,13043],"mapped",[12516]],[[13044,13044],"mapped",[12518]],[[13045,13045],"mapped",[12520]],[[13046,13046],"mapped",[12521]],[[13047,13047],"mapped",[12522]],[[13048,13048],"mapped",[12523]],[[13049,13049],"mapped",[12524]],[[13050,13050],"mapped",[12525]],[[13051,13051],"mapped",[12527]],[[13052,13052],"mapped",[12528]],[[13053,13053],"mapped",[12529]],[[13054,13054],"mapped",[12530]],[[13055,13055],"disallowed"],[[13056,13056],"mapped",[12450,12497,12540,12488]],[[13057,13057],"mapped",[12450,12523,12501,12449]],[[13058,13058],"mapped",[12450,12531,12506,12450]],[[13059,13059],"mapped",[12450,12540,12523]],[[13060,13060],"mapped",[12452,12491,12531,12464]],[[13061,13061],"mapped",[12452,12531,12481]],[[13062,13062],"mapped",[12454,12457,12531]],[[13063,13063],"mapped",[12456,12473,12463,12540,12489]],[[13064,13064],"mapped",[12456,12540,12459,12540]],[[13065,13065],"mapped",[12458,12531,12473]],[[13066,13066],"mapped",[12458,12540,12512]],[[13067,13067],"mapped",[12459,12452,12522]],[[13068,13068],"mapped",[12459,12521,12483,12488]],[[13069,13069],"mapped",[12459,12525,12522,12540]],[[13070,13070],"mapped",[12460,12525,12531]],[[13071,13071],"mapped",[12460,12531,12510]],[[13072,13072],"mapped",[12462,12460]],[[13073,13073],"mapped",[12462,12491,12540]],[[13074,13074],"mapped",[12461,12517,12522,12540]],[[13075,13075],"mapped",[12462,12523,12480,12540]],[[13076,13076],"mapped",[12461,12525]],[[13077,13077],"mapped",[12461,12525,12464,12521,12512]],[[13078,13078],"mapped",[12461,12525,12513,12540,12488,12523]],[[13079,13079],"mapped",[12461,12525,12527,12483,12488]],[[13080,13080],"mapped",[12464,12521,12512]],[[13081,13081],"mapped",[12464,12521,12512,12488,12531]],[[13082,13082],"mapped",[12463,12523,12476,12452,12525]],[[13083,13083],"mapped",[12463,12525,12540,12493]],[[13084,13084],"mapped",[12465,12540,12473]],[[13085,13085],"mapped",[12467,12523,12490]],[[13086,13086],"mapped",[12467,12540,12509]],[[13087,13087],"mapped",[12469,12452,12463,12523]],[[13088,13088],"mapped",[12469,12531,12481,12540,12512]],[[13089,13089],"mapped",[12471,12522,12531,12464]],[[13090,13090],"mapped",[12475,12531,12481]],[[13091,13091],"mapped",[12475,12531,12488]],[[13092,13092],"mapped",[12480,12540,12473]],[[13093,13093],"mapped",[12487,12471]],[[13094,13094],"mapped",[12489,12523]],[[13095,13095],"mapped",[12488,12531]],[[13096,13096],"mapped",[12490,12494]],[[13097,13097],"mapped",[12494,12483,12488]],[[13098,13098],"mapped",[12495,12452,12484]],[[13099,13099],"mapped",[12497,12540,12475,12531,12488]],[[13100,13100],"mapped",[12497,12540,12484]],[[13101,13101],"mapped",[12496,12540,12524,12523]],[[13102,13102],"mapped",[12500,12450,12473,12488,12523]],[[13103,13103],"mapped",[12500,12463,12523]],[[13104,13104],"mapped",[12500,12467]],[[13105,13105],"mapped",[12499,12523]],[[13106,13106],"mapped",[12501,12449,12521,12483,12489]],[[13107,13107],"mapped",[12501,12451,12540,12488]],[[13108,13108],"mapped",[12502,12483,12471,12455,12523]],[[13109,13109],"mapped",[12501,12521,12531]],[[13110,13110],"mapped",[12504,12463,12479,12540,12523]],[[13111,13111],"mapped",[12506,12477]],[[13112,13112],"mapped",[12506,12491,12498]],[[13113,13113],"mapped",[12504,12523,12484]],[[13114,13114],"mapped",[12506,12531,12473]],[[13115,13115],"mapped",[12506,12540,12472]],[[13116,13116],"mapped",[12505,12540,12479]],[[13117,13117],"mapped",[12509,12452,12531,12488]],[[13118,13118],"mapped",[12508,12523,12488]],[[13119,13119],"mapped",[12507,12531]],[[13120,13120],"mapped",[12509,12531,12489]],[[13121,13121],"mapped",[12507,12540,12523]],[[13122,13122],"mapped",[12507,12540,12531]],[[13123,13123],"mapped",[12510,12452,12463,12525]],[[13124,13124],"mapped",[12510,12452,12523]],[[13125,13125],"mapped",[12510,12483,12495]],[[13126,13126],"mapped",[12510,12523,12463]],[[13127,13127],"mapped",[12510,12531,12471,12519,12531]],[[13128,13128],"mapped",[12511,12463,12525,12531]],[[13129,13129],"mapped",[12511,12522]],[[13130,13130],"mapped",[12511,12522,12496,12540,12523]],[[13131,13131],"mapped",[12513,12460]],[[13132,13132],"mapped",[12513,12460,12488,12531]],[[13133,13133],"mapped",[12513,12540,12488,12523]],[[13134,13134],"mapped",[12516,12540,12489]],[[13135,13135],"mapped",[12516,12540,12523]],[[13136,13136],"mapped",[12518,12450,12531]],[[13137,13137],"mapped",[12522,12483,12488,12523]],[[13138,13138],"mapped",[12522,12521]],[[13139,13139],"mapped",[12523,12500,12540]],[[13140,13140],"mapped",[12523,12540,12502,12523]],[[13141,13141],"mapped",[12524,12512]],[[13142,13142],"mapped",[12524,12531,12488,12466,12531]],[[13143,13143],"mapped",[12527,12483,12488]],[[13144,13144],"mapped",[48,28857]],[[13145,13145],"mapped",[49,28857]],[[13146,13146],"mapped",[50,28857]],[[13147,13147],"mapped",[51,28857]],[[13148,13148],"mapped",[52,28857]],[[13149,13149],"mapped",[53,28857]],[[13150,13150],"mapped",[54,28857]],[[13151,13151],"mapped",[55,28857]],[[13152,13152],"mapped",[56,28857]],[[13153,13153],"mapped",[57,28857]],[[13154,13154],"mapped",[49,48,28857]],[[13155,13155],"mapped",[49,49,28857]],[[13156,13156],"mapped",[49,50,28857]],[[13157,13157],"mapped",[49,51,28857]],[[13158,13158],"mapped",[49,52,28857]],[[13159,13159],"mapped",[49,53,28857]],[[13160,13160],"mapped",[49,54,28857]],[[13161,13161],"mapped",[49,55,28857]],[[13162,13162],"mapped",[49,56,28857]],[[13163,13163],"mapped",[49,57,28857]],[[13164,13164],"mapped",[50,48,28857]],[[13165,13165],"mapped",[50,49,28857]],[[13166,13166],"mapped",[50,50,28857]],[[13167,13167],"mapped",[50,51,28857]],[[13168,13168],"mapped",[50,52,28857]],[[13169,13169],"mapped",[104,112,97]],[[13170,13170],"mapped",[100,97]],[[13171,13171],"mapped",[97,117]],[[13172,13172],"mapped",[98,97,114]],[[13173,13173],"mapped",[111,118]],[[13174,13174],"mapped",[112,99]],[[13175,13175],"mapped",[100,109]],[[13176,13176],"mapped",[100,109,50]],[[13177,13177],"mapped",[100,109,51]],[[13178,13178],"mapped",[105,117]],[[13179,13179],"mapped",[24179,25104]],[[13180,13180],"mapped",[26157,21644]],[[13181,13181],"mapped",[22823,27491]],[[13182,13182],"mapped",[26126,27835]],[[13183,13183],"mapped",[26666,24335,20250,31038]],[[13184,13184],"mapped",[112,97]],[[13185,13185],"mapped",[110,97]],[[13186,13186],"mapped",[956,97]],[[13187,13187],"mapped",[109,97]],[[13188,13188],"mapped",[107,97]],[[13189,13189],"mapped",[107,98]],[[13190,13190],"mapped",[109,98]],[[13191,13191],"mapped",[103,98]],[[13192,13192],"mapped",[99,97,108]],[[13193,13193],"mapped",[107,99,97,108]],[[13194,13194],"mapped",[112,102]],[[13195,13195],"mapped",[110,102]],[[13196,13196],"mapped",[956,102]],[[13197,13197],"mapped",[956,103]],[[13198,13198],"mapped",[109,103]],[[13199,13199],"mapped",[107,103]],[[13200,13200],"mapped",[104,122]],[[13201,13201],"mapped",[107,104,122]],[[13202,13202],"mapped",[109,104,122]],[[13203,13203],"mapped",[103,104,122]],[[13204,13204],"mapped",[116,104,122]],[[13205,13205],"mapped",[956,108]],[[13206,13206],"mapped",[109,108]],[[13207,13207],"mapped",[100,108]],[[13208,13208],"mapped",[107,108]],[[13209,13209],"mapped",[102,109]],[[13210,13210],"mapped",[110,109]],[[13211,13211],"mapped",[956,109]],[[13212,13212],"mapped",[109,109]],[[13213,13213],"mapped",[99,109]],[[13214,13214],"mapped",[107,109]],[[13215,13215],"mapped",[109,109,50]],[[13216,13216],"mapped",[99,109,50]],[[13217,13217],"mapped",[109,50]],[[13218,13218],"mapped",[107,109,50]],[[13219,13219],"mapped",[109,109,51]],[[13220,13220],"mapped",[99,109,51]],[[13221,13221],"mapped",[109,51]],[[13222,13222],"mapped",[107,109,51]],[[13223,13223],"mapped",[109,8725,115]],[[13224,13224],"mapped",[109,8725,115,50]],[[13225,13225],"mapped",[112,97]],[[13226,13226],"mapped",[107,112,97]],[[13227,13227],"mapped",[109,112,97]],[[13228,13228],"mapped",[103,112,97]],[[13229,13229],"mapped",[114,97,100]],[[13230,13230],"mapped",[114,97,100,8725,115]],[[13231,13231],"mapped",[114,97,100,8725,115,50]],[[13232,13232],"mapped",[112,115]],[[13233,13233],"mapped",[110,115]],[[13234,13234],"mapped",[956,115]],[[13235,13235],"mapped",[109,115]],[[13236,13236],"mapped",[112,118]],[[13237,13237],"mapped",[110,118]],[[13238,13238],"mapped",[956,118]],[[13239,13239],"mapped",[109,118]],[[13240,13240],"mapped",[107,118]],[[13241,13241],"mapped",[109,118]],[[13242,13242],"mapped",[112,119]],[[13243,13243],"mapped",[110,119]],[[13244,13244],"mapped",[956,119]],[[13245,13245],"mapped",[109,119]],[[13246,13246],"mapped",[107,119]],[[13247,13247],"mapped",[109,119]],[[13248,13248],"mapped",[107,969]],[[13249,13249],"mapped",[109,969]],[[13250,13250],"disallowed"],[[13251,13251],"mapped",[98,113]],[[13252,13252],"mapped",[99,99]],[[13253,13253],"mapped",[99,100]],[[13254,13254],"mapped",[99,8725,107,103]],[[13255,13255],"disallowed"],[[13256,13256],"mapped",[100,98]],[[13257,13257],"mapped",[103,121]],[[13258,13258],"mapped",[104,97]],[[13259,13259],"mapped",[104,112]],[[13260,13260],"mapped",[105,110]],[[13261,13261],"mapped",[107,107]],[[13262,13262],"mapped",[107,109]],[[13263,13263],"mapped",[107,116]],[[13264,13264],"mapped",[108,109]],[[13265,13265],"mapped",[108,110]],[[13266,13266],"mapped",[108,111,103]],[[13267,13267],"mapped",[108,120]],[[13268,13268],"mapped",[109,98]],[[13269,13269],"mapped",[109,105,108]],[[13270,13270],"mapped",[109,111,108]],[[13271,13271],"mapped",[112,104]],[[13272,13272],"disallowed"],[[13273,13273],"mapped",[112,112,109]],[[13274,13274],"mapped",[112,114]],[[13275,13275],"mapped",[115,114]],[[13276,13276],"mapped",[115,118]],[[13277,13277],"mapped",[119,98]],[[13278,13278],"mapped",[118,8725,109]],[[13279,13279],"mapped",[97,8725,109]],[[13280,13280],"mapped",[49,26085]],[[13281,13281],"mapped",[50,26085]],[[13282,13282],"mapped",[51,26085]],[[13283,13283],"mapped",[52,26085]],[[13284,13284],"mapped",[53,26085]],[[13285,13285],"mapped",[54,26085]],[[13286,13286],"mapped",[55,26085]],[[13287,13287],"mapped",[56,26085]],[[13288,13288],"mapped",[57,26085]],[[13289,13289],"mapped",[49,48,26085]],[[13290,13290],"mapped",[49,49,26085]],[[13291,13291],"mapped",[49,50,26085]],[[13292,13292],"mapped",[49,51,26085]],[[13293,13293],"mapped",[49,52,26085]],[[13294,13294],"mapped",[49,53,26085]],[[13295,13295],"mapped",[49,54,26085]],[[13296,13296],"mapped",[49,55,26085]],[[13297,13297],"mapped",[49,56,26085]],[[13298,13298],"mapped",[49,57,26085]],[[13299,13299],"mapped",[50,48,26085]],[[13300,13300],"mapped",[50,49,26085]],[[13301,13301],"mapped",[50,50,26085]],[[13302,13302],"mapped",[50,51,26085]],[[13303,13303],"mapped",[50,52,26085]],[[13304,13304],"mapped",[50,53,26085]],[[13305,13305],"mapped",[50,54,26085]],[[13306,13306],"mapped",[50,55,26085]],[[13307,13307],"mapped",[50,56,26085]],[[13308,13308],"mapped",[50,57,26085]],[[13309,13309],"mapped",[51,48,26085]],[[13310,13310],"mapped",[51,49,26085]],[[13311,13311],"mapped",[103,97,108]],[[13312,19893],"valid"],[[19894,19903],"disallowed"],[[19904,19967],"valid",[],"NV8"],[[19968,40869],"valid"],[[40870,40891],"valid"],[[40892,40899],"valid"],[[40900,40907],"valid"],[[40908,40908],"valid"],[[40909,40917],"valid"],[[40918,40959],"disallowed"],[[40960,42124],"valid"],[[42125,42127],"disallowed"],[[42128,42145],"valid",[],"NV8"],[[42146,42147],"valid",[],"NV8"],[[42148,42163],"valid",[],"NV8"],[[42164,42164],"valid",[],"NV8"],[[42165,42176],"valid",[],"NV8"],[[42177,42177],"valid",[],"NV8"],[[42178,42180],"valid",[],"NV8"],[[42181,42181],"valid",[],"NV8"],[[42182,42182],"valid",[],"NV8"],[[42183,42191],"disallowed"],[[42192,42237],"valid"],[[42238,42239],"valid",[],"NV8"],[[42240,42508],"valid"],[[42509,42511],"valid",[],"NV8"],[[42512,42539],"valid"],[[42540,42559],"disallowed"],[[42560,42560],"mapped",[42561]],[[42561,42561],"valid"],[[42562,42562],"mapped",[42563]],[[42563,42563],"valid"],[[42564,42564],"mapped",[42565]],[[42565,42565],"valid"],[[42566,42566],"mapped",[42567]],[[42567,42567],"valid"],[[42568,42568],"mapped",[42569]],[[42569,42569],"valid"],[[42570,42570],"mapped",[42571]],[[42571,42571],"valid"],[[42572,42572],"mapped",[42573]],[[42573,42573],"valid"],[[42574,42574],"mapped",[42575]],[[42575,42575],"valid"],[[42576,42576],"mapped",[42577]],[[42577,42577],"valid"],[[42578,42578],"mapped",[42579]],[[42579,42579],"valid"],[[42580,42580],"mapped",[42581]],[[42581,42581],"valid"],[[42582,42582],"mapped",[42583]],[[42583,42583],"valid"],[[42584,42584],"mapped",[42585]],[[42585,42585],"valid"],[[42586,42586],"mapped",[42587]],[[42587,42587],"valid"],[[42588,42588],"mapped",[42589]],[[42589,42589],"valid"],[[42590,42590],"mapped",[42591]],[[42591,42591],"valid"],[[42592,42592],"mapped",[42593]],[[42593,42593],"valid"],[[42594,42594],"mapped",[42595]],[[42595,42595],"valid"],[[42596,42596],"mapped",[42597]],[[42597,42597],"valid"],[[42598,42598],"mapped",[42599]],[[42599,42599],"valid"],[[42600,42600],"mapped",[42601]],[[42601,42601],"valid"],[[42602,42602],"mapped",[42603]],[[42603,42603],"valid"],[[42604,42604],"mapped",[42605]],[[42605,42607],"valid"],[[42608,42611],"valid",[],"NV8"],[[42612,42619],"valid"],[[42620,42621],"valid"],[[42622,42622],"valid",[],"NV8"],[[42623,42623],"valid"],[[42624,42624],"mapped",[42625]],[[42625,42625],"valid"],[[42626,42626],"mapped",[42627]],[[42627,42627],"valid"],[[42628,42628],"mapped",[42629]],[[42629,42629],"valid"],[[42630,42630],"mapped",[42631]],[[42631,42631],"valid"],[[42632,42632],"mapped",[42633]],[[42633,42633],"valid"],[[42634,42634],"mapped",[42635]],[[42635,42635],"valid"],[[42636,42636],"mapped",[42637]],[[42637,42637],"valid"],[[42638,42638],"mapped",[42639]],[[42639,42639],"valid"],[[42640,42640],"mapped",[42641]],[[42641,42641],"valid"],[[42642,42642],"mapped",[42643]],[[42643,42643],"valid"],[[42644,42644],"mapped",[42645]],[[42645,42645],"valid"],[[42646,42646],"mapped",[42647]],[[42647,42647],"valid"],[[42648,42648],"mapped",[42649]],[[42649,42649],"valid"],[[42650,42650],"mapped",[42651]],[[42651,42651],"valid"],[[42652,42652],"mapped",[1098]],[[42653,42653],"mapped",[1100]],[[42654,42654],"valid"],[[42655,42655],"valid"],[[42656,42725],"valid"],[[42726,42735],"valid",[],"NV8"],[[42736,42737],"valid"],[[42738,42743],"valid",[],"NV8"],[[42744,42751],"disallowed"],[[42752,42774],"valid",[],"NV8"],[[42775,42778],"valid"],[[42779,42783],"valid"],[[42784,42785],"valid",[],"NV8"],[[42786,42786],"mapped",[42787]],[[42787,42787],"valid"],[[42788,42788],"mapped",[42789]],[[42789,42789],"valid"],[[42790,42790],"mapped",[42791]],[[42791,42791],"valid"],[[42792,42792],"mapped",[42793]],[[42793,42793],"valid"],[[42794,42794],"mapped",[42795]],[[42795,42795],"valid"],[[42796,42796],"mapped",[42797]],[[42797,42797],"valid"],[[42798,42798],"mapped",[42799]],[[42799,42801],"valid"],[[42802,42802],"mapped",[42803]],[[42803,42803],"valid"],[[42804,42804],"mapped",[42805]],[[42805,42805],"valid"],[[42806,42806],"mapped",[42807]],[[42807,42807],"valid"],[[42808,42808],"mapped",[42809]],[[42809,42809],"valid"],[[42810,42810],"mapped",[42811]],[[42811,42811],"valid"],[[42812,42812],"mapped",[42813]],[[42813,42813],"valid"],[[42814,42814],"mapped",[42815]],[[42815,42815],"valid"],[[42816,42816],"mapped",[42817]],[[42817,42817],"valid"],[[42818,42818],"mapped",[42819]],[[42819,42819],"valid"],[[42820,42820],"mapped",[42821]],[[42821,42821],"valid"],[[42822,42822],"mapped",[42823]],[[42823,42823],"valid"],[[42824,42824],"mapped",[42825]],[[42825,42825],"valid"],[[42826,42826],"mapped",[42827]],[[42827,42827],"valid"],[[42828,42828],"mapped",[42829]],[[42829,42829],"valid"],[[42830,42830],"mapped",[42831]],[[42831,42831],"valid"],[[42832,42832],"mapped",[42833]],[[42833,42833],"valid"],[[42834,42834],"mapped",[42835]],[[42835,42835],"valid"],[[42836,42836],"mapped",[42837]],[[42837,42837],"valid"],[[42838,42838],"mapped",[42839]],[[42839,42839],"valid"],[[42840,42840],"mapped",[42841]],[[42841,42841],"valid"],[[42842,42842],"mapped",[42843]],[[42843,42843],"valid"],[[42844,42844],"mapped",[42845]],[[42845,42845],"valid"],[[42846,42846],"mapped",[42847]],[[42847,42847],"valid"],[[42848,42848],"mapped",[42849]],[[42849,42849],"valid"],[[42850,42850],"mapped",[42851]],[[42851,42851],"valid"],[[42852,42852],"mapped",[42853]],[[42853,42853],"valid"],[[42854,42854],"mapped",[42855]],[[42855,42855],"valid"],[[42856,42856],"mapped",[42857]],[[42857,42857],"valid"],[[42858,42858],"mapped",[42859]],[[42859,42859],"valid"],[[42860,42860],"mapped",[42861]],[[42861,42861],"valid"],[[42862,42862],"mapped",[42863]],[[42863,42863],"valid"],[[42864,42864],"mapped",[42863]],[[42865,42872],"valid"],[[42873,42873],"mapped",[42874]],[[42874,42874],"valid"],[[42875,42875],"mapped",[42876]],[[42876,42876],"valid"],[[42877,42877],"mapped",[7545]],[[42878,42878],"mapped",[42879]],[[42879,42879],"valid"],[[42880,42880],"mapped",[42881]],[[42881,42881],"valid"],[[42882,42882],"mapped",[42883]],[[42883,42883],"valid"],[[42884,42884],"mapped",[42885]],[[42885,42885],"valid"],[[42886,42886],"mapped",[42887]],[[42887,42888],"valid"],[[42889,42890],"valid",[],"NV8"],[[42891,42891],"mapped",[42892]],[[42892,42892],"valid"],[[42893,42893],"mapped",[613]],[[42894,42894],"valid"],[[42895,42895],"valid"],[[42896,42896],"mapped",[42897]],[[42897,42897],"valid"],[[42898,42898],"mapped",[42899]],[[42899,42899],"valid"],[[42900,42901],"valid"],[[42902,42902],"mapped",[42903]],[[42903,42903],"valid"],[[42904,42904],"mapped",[42905]],[[42905,42905],"valid"],[[42906,42906],"mapped",[42907]],[[42907,42907],"valid"],[[42908,42908],"mapped",[42909]],[[42909,42909],"valid"],[[42910,42910],"mapped",[42911]],[[42911,42911],"valid"],[[42912,42912],"mapped",[42913]],[[42913,42913],"valid"],[[42914,42914],"mapped",[42915]],[[42915,42915],"valid"],[[42916,42916],"mapped",[42917]],[[42917,42917],"valid"],[[42918,42918],"mapped",[42919]],[[42919,42919],"valid"],[[42920,42920],"mapped",[42921]],[[42921,42921],"valid"],[[42922,42922],"mapped",[614]],[[42923,42923],"mapped",[604]],[[42924,42924],"mapped",[609]],[[42925,42925],"mapped",[620]],[[42926,42927],"disallowed"],[[42928,42928],"mapped",[670]],[[42929,42929],"mapped",[647]],[[42930,42930],"mapped",[669]],[[42931,42931],"mapped",[43859]],[[42932,42932],"mapped",[42933]],[[42933,42933],"valid"],[[42934,42934],"mapped",[42935]],[[42935,42935],"valid"],[[42936,42998],"disallowed"],[[42999,42999],"valid"],[[43000,43000],"mapped",[295]],[[43001,43001],"mapped",[339]],[[43002,43002],"valid"],[[43003,43007],"valid"],[[43008,43047],"valid"],[[43048,43051],"valid",[],"NV8"],[[43052,43055],"disallowed"],[[43056,43065],"valid",[],"NV8"],[[43066,43071],"disallowed"],[[43072,43123],"valid"],[[43124,43127],"valid",[],"NV8"],[[43128,43135],"disallowed"],[[43136,43204],"valid"],[[43205,43213],"disallowed"],[[43214,43215],"valid",[],"NV8"],[[43216,43225],"valid"],[[43226,43231],"disallowed"],[[43232,43255],"valid"],[[43256,43258],"valid",[],"NV8"],[[43259,43259],"valid"],[[43260,43260],"valid",[],"NV8"],[[43261,43261],"valid"],[[43262,43263],"disallowed"],[[43264,43309],"valid"],[[43310,43311],"valid",[],"NV8"],[[43312,43347],"valid"],[[43348,43358],"disallowed"],[[43359,43359],"valid",[],"NV8"],[[43360,43388],"valid",[],"NV8"],[[43389,43391],"disallowed"],[[43392,43456],"valid"],[[43457,43469],"valid",[],"NV8"],[[43470,43470],"disallowed"],[[43471,43481],"valid"],[[43482,43485],"disallowed"],[[43486,43487],"valid",[],"NV8"],[[43488,43518],"valid"],[[43519,43519],"disallowed"],[[43520,43574],"valid"],[[43575,43583],"disallowed"],[[43584,43597],"valid"],[[43598,43599],"disallowed"],[[43600,43609],"valid"],[[43610,43611],"disallowed"],[[43612,43615],"valid",[],"NV8"],[[43616,43638],"valid"],[[43639,43641],"valid",[],"NV8"],[[43642,43643],"valid"],[[43644,43647],"valid"],[[43648,43714],"valid"],[[43715,43738],"disallowed"],[[43739,43741],"valid"],[[43742,43743],"valid",[],"NV8"],[[43744,43759],"valid"],[[43760,43761],"valid",[],"NV8"],[[43762,43766],"valid"],[[43767,43776],"disallowed"],[[43777,43782],"valid"],[[43783,43784],"disallowed"],[[43785,43790],"valid"],[[43791,43792],"disallowed"],[[43793,43798],"valid"],[[43799,43807],"disallowed"],[[43808,43814],"valid"],[[43815,43815],"disallowed"],[[43816,43822],"valid"],[[43823,43823],"disallowed"],[[43824,43866],"valid"],[[43867,43867],"valid",[],"NV8"],[[43868,43868],"mapped",[42791]],[[43869,43869],"mapped",[43831]],[[43870,43870],"mapped",[619]],[[43871,43871],"mapped",[43858]],[[43872,43875],"valid"],[[43876,43877],"valid"],[[43878,43887],"disallowed"],[[43888,43888],"mapped",[5024]],[[43889,43889],"mapped",[5025]],[[43890,43890],"mapped",[5026]],[[43891,43891],"mapped",[5027]],[[43892,43892],"mapped",[5028]],[[43893,43893],"mapped",[5029]],[[43894,43894],"mapped",[5030]],[[43895,43895],"mapped",[5031]],[[43896,43896],"mapped",[5032]],[[43897,43897],"mapped",[5033]],[[43898,43898],"mapped",[5034]],[[43899,43899],"mapped",[5035]],[[43900,43900],"mapped",[5036]],[[43901,43901],"mapped",[5037]],[[43902,43902],"mapped",[5038]],[[43903,43903],"mapped",[5039]],[[43904,43904],"mapped",[5040]],[[43905,43905],"mapped",[5041]],[[43906,43906],"mapped",[5042]],[[43907,43907],"mapped",[5043]],[[43908,43908],"mapped",[5044]],[[43909,43909],"mapped",[5045]],[[43910,43910],"mapped",[5046]],[[43911,43911],"mapped",[5047]],[[43912,43912],"mapped",[5048]],[[43913,43913],"mapped",[5049]],[[43914,43914],"mapped",[5050]],[[43915,43915],"mapped",[5051]],[[43916,43916],"mapped",[5052]],[[43917,43917],"mapped",[5053]],[[43918,43918],"mapped",[5054]],[[43919,43919],"mapped",[5055]],[[43920,43920],"mapped",[5056]],[[43921,43921],"mapped",[5057]],[[43922,43922],"mapped",[5058]],[[43923,43923],"mapped",[5059]],[[43924,43924],"mapped",[5060]],[[43925,43925],"mapped",[5061]],[[43926,43926],"mapped",[5062]],[[43927,43927],"mapped",[5063]],[[43928,43928],"mapped",[5064]],[[43929,43929],"mapped",[5065]],[[43930,43930],"mapped",[5066]],[[43931,43931],"mapped",[5067]],[[43932,43932],"mapped",[5068]],[[43933,43933],"mapped",[5069]],[[43934,43934],"mapped",[5070]],[[43935,43935],"mapped",[5071]],[[43936,43936],"mapped",[5072]],[[43937,43937],"mapped",[5073]],[[43938,43938],"mapped",[5074]],[[43939,43939],"mapped",[5075]],[[43940,43940],"mapped",[5076]],[[43941,43941],"mapped",[5077]],[[43942,43942],"mapped",[5078]],[[43943,43943],"mapped",[5079]],[[43944,43944],"mapped",[5080]],[[43945,43945],"mapped",[5081]],[[43946,43946],"mapped",[5082]],[[43947,43947],"mapped",[5083]],[[43948,43948],"mapped",[5084]],[[43949,43949],"mapped",[5085]],[[43950,43950],"mapped",[5086]],[[43951,43951],"mapped",[5087]],[[43952,43952],"mapped",[5088]],[[43953,43953],"mapped",[5089]],[[43954,43954],"mapped",[5090]],[[43955,43955],"mapped",[5091]],[[43956,43956],"mapped",[5092]],[[43957,43957],"mapped",[5093]],[[43958,43958],"mapped",[5094]],[[43959,43959],"mapped",[5095]],[[43960,43960],"mapped",[5096]],[[43961,43961],"mapped",[5097]],[[43962,43962],"mapped",[5098]],[[43963,43963],"mapped",[5099]],[[43964,43964],"mapped",[5100]],[[43965,43965],"mapped",[5101]],[[43966,43966],"mapped",[5102]],[[43967,43967],"mapped",[5103]],[[43968,44010],"valid"],[[44011,44011],"valid",[],"NV8"],[[44012,44013],"valid"],[[44014,44015],"disallowed"],[[44016,44025],"valid"],[[44026,44031],"disallowed"],[[44032,55203],"valid"],[[55204,55215],"disallowed"],[[55216,55238],"valid",[],"NV8"],[[55239,55242],"disallowed"],[[55243,55291],"valid",[],"NV8"],[[55292,55295],"disallowed"],[[55296,57343],"disallowed"],[[57344,63743],"disallowed"],[[63744,63744],"mapped",[35912]],[[63745,63745],"mapped",[26356]],[[63746,63746],"mapped",[36554]],[[63747,63747],"mapped",[36040]],[[63748,63748],"mapped",[28369]],[[63749,63749],"mapped",[20018]],[[63750,63750],"mapped",[21477]],[[63751,63752],"mapped",[40860]],[[63753,63753],"mapped",[22865]],[[63754,63754],"mapped",[37329]],[[63755,63755],"mapped",[21895]],[[63756,63756],"mapped",[22856]],[[63757,63757],"mapped",[25078]],[[63758,63758],"mapped",[30313]],[[63759,63759],"mapped",[32645]],[[63760,63760],"mapped",[34367]],[[63761,63761],"mapped",[34746]],[[63762,63762],"mapped",[35064]],[[63763,63763],"mapped",[37007]],[[63764,63764],"mapped",[27138]],[[63765,63765],"mapped",[27931]],[[63766,63766],"mapped",[28889]],[[63767,63767],"mapped",[29662]],[[63768,63768],"mapped",[33853]],[[63769,63769],"mapped",[37226]],[[63770,63770],"mapped",[39409]],[[63771,63771],"mapped",[20098]],[[63772,63772],"mapped",[21365]],[[63773,63773],"mapped",[27396]],[[63774,63774],"mapped",[29211]],[[63775,63775],"mapped",[34349]],[[63776,63776],"mapped",[40478]],[[63777,63777],"mapped",[23888]],[[63778,63778],"mapped",[28651]],[[63779,63779],"mapped",[34253]],[[63780,63780],"mapped",[35172]],[[63781,63781],"mapped",[25289]],[[63782,63782],"mapped",[33240]],[[63783,63783],"mapped",[34847]],[[63784,63784],"mapped",[24266]],[[63785,63785],"mapped",[26391]],[[63786,63786],"mapped",[28010]],[[63787,63787],"mapped",[29436]],[[63788,63788],"mapped",[37070]],[[63789,63789],"mapped",[20358]],[[63790,63790],"mapped",[20919]],[[63791,63791],"mapped",[21214]],[[63792,63792],"mapped",[25796]],[[63793,63793],"mapped",[27347]],[[63794,63794],"mapped",[29200]],[[63795,63795],"mapped",[30439]],[[63796,63796],"mapped",[32769]],[[63797,63797],"mapped",[34310]],[[63798,63798],"mapped",[34396]],[[63799,63799],"mapped",[36335]],[[63800,63800],"mapped",[38706]],[[63801,63801],"mapped",[39791]],[[63802,63802],"mapped",[40442]],[[63803,63803],"mapped",[30860]],[[63804,63804],"mapped",[31103]],[[63805,63805],"mapped",[32160]],[[63806,63806],"mapped",[33737]],[[63807,63807],"mapped",[37636]],[[63808,63808],"mapped",[40575]],[[63809,63809],"mapped",[35542]],[[63810,63810],"mapped",[22751]],[[63811,63811],"mapped",[24324]],[[63812,63812],"mapped",[31840]],[[63813,63813],"mapped",[32894]],[[63814,63814],"mapped",[29282]],[[63815,63815],"mapped",[30922]],[[63816,63816],"mapped",[36034]],[[63817,63817],"mapped",[38647]],[[63818,63818],"mapped",[22744]],[[63819,63819],"mapped",[23650]],[[63820,63820],"mapped",[27155]],[[63821,63821],"mapped",[28122]],[[63822,63822],"mapped",[28431]],[[63823,63823],"mapped",[32047]],[[63824,63824],"mapped",[32311]],[[63825,63825],"mapped",[38475]],[[63826,63826],"mapped",[21202]],[[63827,63827],"mapped",[32907]],[[63828,63828],"mapped",[20956]],[[63829,63829],"mapped",[20940]],[[63830,63830],"mapped",[31260]],[[63831,63831],"mapped",[32190]],[[63832,63832],"mapped",[33777]],[[63833,63833],"mapped",[38517]],[[63834,63834],"mapped",[35712]],[[63835,63835],"mapped",[25295]],[[63836,63836],"mapped",[27138]],[[63837,63837],"mapped",[35582]],[[63838,63838],"mapped",[20025]],[[63839,63839],"mapped",[23527]],[[63840,63840],"mapped",[24594]],[[63841,63841],"mapped",[29575]],[[63842,63842],"mapped",[30064]],[[63843,63843],"mapped",[21271]],[[63844,63844],"mapped",[30971]],[[63845,63845],"mapped",[20415]],[[63846,63846],"mapped",[24489]],[[63847,63847],"mapped",[19981]],[[63848,63848],"mapped",[27852]],[[63849,63849],"mapped",[25976]],[[63850,63850],"mapped",[32034]],[[63851,63851],"mapped",[21443]],[[63852,63852],"mapped",[22622]],[[63853,63853],"mapped",[30465]],[[63854,63854],"mapped",[33865]],[[63855,63855],"mapped",[35498]],[[63856,63856],"mapped",[27578]],[[63857,63857],"mapped",[36784]],[[63858,63858],"mapped",[27784]],[[63859,63859],"mapped",[25342]],[[63860,63860],"mapped",[33509]],[[63861,63861],"mapped",[25504]],[[63862,63862],"mapped",[30053]],[[63863,63863],"mapped",[20142]],[[63864,63864],"mapped",[20841]],[[63865,63865],"mapped",[20937]],[[63866,63866],"mapped",[26753]],[[63867,63867],"mapped",[31975]],[[63868,63868],"mapped",[33391]],[[63869,63869],"mapped",[35538]],[[63870,63870],"mapped",[37327]],[[63871,63871],"mapped",[21237]],[[63872,63872],"mapped",[21570]],[[63873,63873],"mapped",[22899]],[[63874,63874],"mapped",[24300]],[[63875,63875],"mapped",[26053]],[[63876,63876],"mapped",[28670]],[[63877,63877],"mapped",[31018]],[[63878,63878],"mapped",[38317]],[[63879,63879],"mapped",[39530]],[[63880,63880],"mapped",[40599]],[[63881,63881],"mapped",[40654]],[[63882,63882],"mapped",[21147]],[[63883,63883],"mapped",[26310]],[[63884,63884],"mapped",[27511]],[[63885,63885],"mapped",[36706]],[[63886,63886],"mapped",[24180]],[[63887,63887],"mapped",[24976]],[[63888,63888],"mapped",[25088]],[[63889,63889],"mapped",[25754]],[[63890,63890],"mapped",[28451]],[[63891,63891],"mapped",[29001]],[[63892,63892],"mapped",[29833]],[[63893,63893],"mapped",[31178]],[[63894,63894],"mapped",[32244]],[[63895,63895],"mapped",[32879]],[[63896,63896],"mapped",[36646]],[[63897,63897],"mapped",[34030]],[[63898,63898],"mapped",[36899]],[[63899,63899],"mapped",[37706]],[[63900,63900],"mapped",[21015]],[[63901,63901],"mapped",[21155]],[[63902,63902],"mapped",[21693]],[[63903,63903],"mapped",[28872]],[[63904,63904],"mapped",[35010]],[[63905,63905],"mapped",[35498]],[[63906,63906],"mapped",[24265]],[[63907,63907],"mapped",[24565]],[[63908,63908],"mapped",[25467]],[[63909,63909],"mapped",[27566]],[[63910,63910],"mapped",[31806]],[[63911,63911],"mapped",[29557]],[[63912,63912],"mapped",[20196]],[[63913,63913],"mapped",[22265]],[[63914,63914],"mapped",[23527]],[[63915,63915],"mapped",[23994]],[[63916,63916],"mapped",[24604]],[[63917,63917],"mapped",[29618]],[[63918,63918],"mapped",[29801]],[[63919,63919],"mapped",[32666]],[[63920,63920],"mapped",[32838]],[[63921,63921],"mapped",[37428]],[[63922,63922],"mapped",[38646]],[[63923,63923],"mapped",[38728]],[[63924,63924],"mapped",[38936]],[[63925,63925],"mapped",[20363]],[[63926,63926],"mapped",[31150]],[[63927,63927],"mapped",[37300]],[[63928,63928],"mapped",[38584]],[[63929,63929],"mapped",[24801]],[[63930,63930],"mapped",[20102]],[[63931,63931],"mapped",[20698]],[[63932,63932],"mapped",[23534]],[[63933,63933],"mapped",[23615]],[[63934,63934],"mapped",[26009]],[[63935,63935],"mapped",[27138]],[[63936,63936],"mapped",[29134]],[[63937,63937],"mapped",[30274]],[[63938,63938],"mapped",[34044]],[[63939,63939],"mapped",[36988]],[[63940,63940],"mapped",[40845]],[[63941,63941],"mapped",[26248]],[[63942,63942],"mapped",[38446]],[[63943,63943],"mapped",[21129]],[[63944,63944],"mapped",[26491]],[[63945,63945],"mapped",[26611]],[[63946,63946],"mapped",[27969]],[[63947,63947],"mapped",[28316]],[[63948,63948],"mapped",[29705]],[[63949,63949],"mapped",[30041]],[[63950,63950],"mapped",[30827]],[[63951,63951],"mapped",[32016]],[[63952,63952],"mapped",[39006]],[[63953,63953],"mapped",[20845]],[[63954,63954],"mapped",[25134]],[[63955,63955],"mapped",[38520]],[[63956,63956],"mapped",[20523]],[[63957,63957],"mapped",[23833]],[[63958,63958],"mapped",[28138]],[[63959,63959],"mapped",[36650]],[[63960,63960],"mapped",[24459]],[[63961,63961],"mapped",[24900]],[[63962,63962],"mapped",[26647]],[[63963,63963],"mapped",[29575]],[[63964,63964],"mapped",[38534]],[[63965,63965],"mapped",[21033]],[[63966,63966],"mapped",[21519]],[[63967,63967],"mapped",[23653]],[[63968,63968],"mapped",[26131]],[[63969,63969],"mapped",[26446]],[[63970,63970],"mapped",[26792]],[[63971,63971],"mapped",[27877]],[[63972,63972],"mapped",[29702]],[[63973,63973],"mapped",[30178]],[[63974,63974],"mapped",[32633]],[[63975,63975],"mapped",[35023]],[[63976,63976],"mapped",[35041]],[[63977,63977],"mapped",[37324]],[[63978,63978],"mapped",[38626]],[[63979,63979],"mapped",[21311]],[[63980,63980],"mapped",[28346]],[[63981,63981],"mapped",[21533]],[[63982,63982],"mapped",[29136]],[[63983,63983],"mapped",[29848]],[[63984,63984],"mapped",[34298]],[[63985,63985],"mapped",[38563]],[[63986,63986],"mapped",[40023]],[[63987,63987],"mapped",[40607]],[[63988,63988],"mapped",[26519]],[[63989,63989],"mapped",[28107]],[[63990,63990],"mapped",[33256]],[[63991,63991],"mapped",[31435]],[[63992,63992],"mapped",[31520]],[[63993,63993],"mapped",[31890]],[[63994,63994],"mapped",[29376]],[[63995,63995],"mapped",[28825]],[[63996,63996],"mapped",[35672]],[[63997,63997],"mapped",[20160]],[[63998,63998],"mapped",[33590]],[[63999,63999],"mapped",[21050]],[[64000,64000],"mapped",[20999]],[[64001,64001],"mapped",[24230]],[[64002,64002],"mapped",[25299]],[[64003,64003],"mapped",[31958]],[[64004,64004],"mapped",[23429]],[[64005,64005],"mapped",[27934]],[[64006,64006],"mapped",[26292]],[[64007,64007],"mapped",[36667]],[[64008,64008],"mapped",[34892]],[[64009,64009],"mapped",[38477]],[[64010,64010],"mapped",[35211]],[[64011,64011],"mapped",[24275]],[[64012,64012],"mapped",[20800]],[[64013,64013],"mapped",[21952]],[[64014,64015],"valid"],[[64016,64016],"mapped",[22618]],[[64017,64017],"valid"],[[64018,64018],"mapped",[26228]],[[64019,64020],"valid"],[[64021,64021],"mapped",[20958]],[[64022,64022],"mapped",[29482]],[[64023,64023],"mapped",[30410]],[[64024,64024],"mapped",[31036]],[[64025,64025],"mapped",[31070]],[[64026,64026],"mapped",[31077]],[[64027,64027],"mapped",[31119]],[[64028,64028],"mapped",[38742]],[[64029,64029],"mapped",[31934]],[[64030,64030],"mapped",[32701]],[[64031,64031],"valid"],[[64032,64032],"mapped",[34322]],[[64033,64033],"valid"],[[64034,64034],"mapped",[35576]],[[64035,64036],"valid"],[[64037,64037],"mapped",[36920]],[[64038,64038],"mapped",[37117]],[[64039,64041],"valid"],[[64042,64042],"mapped",[39151]],[[64043,64043],"mapped",[39164]],[[64044,64044],"mapped",[39208]],[[64045,64045],"mapped",[40372]],[[64046,64046],"mapped",[37086]],[[64047,64047],"mapped",[38583]],[[64048,64048],"mapped",[20398]],[[64049,64049],"mapped",[20711]],[[64050,64050],"mapped",[20813]],[[64051,64051],"mapped",[21193]],[[64052,64052],"mapped",[21220]],[[64053,64053],"mapped",[21329]],[[64054,64054],"mapped",[21917]],[[64055,64055],"mapped",[22022]],[[64056,64056],"mapped",[22120]],[[64057,64057],"mapped",[22592]],[[64058,64058],"mapped",[22696]],[[64059,64059],"mapped",[23652]],[[64060,64060],"mapped",[23662]],[[64061,64061],"mapped",[24724]],[[64062,64062],"mapped",[24936]],[[64063,64063],"mapped",[24974]],[[64064,64064],"mapped",[25074]],[[64065,64065],"mapped",[25935]],[[64066,64066],"mapped",[26082]],[[64067,64067],"mapped",[26257]],[[64068,64068],"mapped",[26757]],[[64069,64069],"mapped",[28023]],[[64070,64070],"mapped",[28186]],[[64071,64071],"mapped",[28450]],[[64072,64072],"mapped",[29038]],[[64073,64073],"mapped",[29227]],[[64074,64074],"mapped",[29730]],[[64075,64075],"mapped",[30865]],[[64076,64076],"mapped",[31038]],[[64077,64077],"mapped",[31049]],[[64078,64078],"mapped",[31048]],[[64079,64079],"mapped",[31056]],[[64080,64080],"mapped",[31062]],[[64081,64081],"mapped",[31069]],[[64082,64082],"mapped",[31117]],[[64083,64083],"mapped",[31118]],[[64084,64084],"mapped",[31296]],[[64085,64085],"mapped",[31361]],[[64086,64086],"mapped",[31680]],[[64087,64087],"mapped",[32244]],[[64088,64088],"mapped",[32265]],[[64089,64089],"mapped",[32321]],[[64090,64090],"mapped",[32626]],[[64091,64091],"mapped",[32773]],[[64092,64092],"mapped",[33261]],[[64093,64094],"mapped",[33401]],[[64095,64095],"mapped",[33879]],[[64096,64096],"mapped",[35088]],[[64097,64097],"mapped",[35222]],[[64098,64098],"mapped",[35585]],[[64099,64099],"mapped",[35641]],[[64100,64100],"mapped",[36051]],[[64101,64101],"mapped",[36104]],[[64102,64102],"mapped",[36790]],[[64103,64103],"mapped",[36920]],[[64104,64104],"mapped",[38627]],[[64105,64105],"mapped",[38911]],[[64106,64106],"mapped",[38971]],[[64107,64107],"mapped",[24693]],[[64108,64108],"mapped",[148206]],[[64109,64109],"mapped",[33304]],[[64110,64111],"disallowed"],[[64112,64112],"mapped",[20006]],[[64113,64113],"mapped",[20917]],[[64114,64114],"mapped",[20840]],[[64115,64115],"mapped",[20352]],[[64116,64116],"mapped",[20805]],[[64117,64117],"mapped",[20864]],[[64118,64118],"mapped",[21191]],[[64119,64119],"mapped",[21242]],[[64120,64120],"mapped",[21917]],[[64121,64121],"mapped",[21845]],[[64122,64122],"mapped",[21913]],[[64123,64123],"mapped",[21986]],[[64124,64124],"mapped",[22618]],[[64125,64125],"mapped",[22707]],[[64126,64126],"mapped",[22852]],[[64127,64127],"mapped",[22868]],[[64128,64128],"mapped",[23138]],[[64129,64129],"mapped",[23336]],[[64130,64130],"mapped",[24274]],[[64131,64131],"mapped",[24281]],[[64132,64132],"mapped",[24425]],[[64133,64133],"mapped",[24493]],[[64134,64134],"mapped",[24792]],[[64135,64135],"mapped",[24910]],[[64136,64136],"mapped",[24840]],[[64137,64137],"mapped",[24974]],[[64138,64138],"mapped",[24928]],[[64139,64139],"mapped",[25074]],[[64140,64140],"mapped",[25140]],[[64141,64141],"mapped",[25540]],[[64142,64142],"mapped",[25628]],[[64143,64143],"mapped",[25682]],[[64144,64144],"mapped",[25942]],[[64145,64145],"mapped",[26228]],[[64146,64146],"mapped",[26391]],[[64147,64147],"mapped",[26395]],[[64148,64148],"mapped",[26454]],[[64149,64149],"mapped",[27513]],[[64150,64150],"mapped",[27578]],[[64151,64151],"mapped",[27969]],[[64152,64152],"mapped",[28379]],[[64153,64153],"mapped",[28363]],[[64154,64154],"mapped",[28450]],[[64155,64155],"mapped",[28702]],[[64156,64156],"mapped",[29038]],[[64157,64157],"mapped",[30631]],[[64158,64158],"mapped",[29237]],[[64159,64159],"mapped",[29359]],[[64160,64160],"mapped",[29482]],[[64161,64161],"mapped",[29809]],[[64162,64162],"mapped",[29958]],[[64163,64163],"mapped",[30011]],[[64164,64164],"mapped",[30237]],[[64165,64165],"mapped",[30239]],[[64166,64166],"mapped",[30410]],[[64167,64167],"mapped",[30427]],[[64168,64168],"mapped",[30452]],[[64169,64169],"mapped",[30538]],[[64170,64170],"mapped",[30528]],[[64171,64171],"mapped",[30924]],[[64172,64172],"mapped",[31409]],[[64173,64173],"mapped",[31680]],[[64174,64174],"mapped",[31867]],[[64175,64175],"mapped",[32091]],[[64176,64176],"mapped",[32244]],[[64177,64177],"mapped",[32574]],[[64178,64178],"mapped",[32773]],[[64179,64179],"mapped",[33618]],[[64180,64180],"mapped",[33775]],[[64181,64181],"mapped",[34681]],[[64182,64182],"mapped",[35137]],[[64183,64183],"mapped",[35206]],[[64184,64184],"mapped",[35222]],[[64185,64185],"mapped",[35519]],[[64186,64186],"mapped",[35576]],[[64187,64187],"mapped",[35531]],[[64188,64188],"mapped",[35585]],[[64189,64189],"mapped",[35582]],[[64190,64190],"mapped",[35565]],[[64191,64191],"mapped",[35641]],[[64192,64192],"mapped",[35722]],[[64193,64193],"mapped",[36104]],[[64194,64194],"mapped",[36664]],[[64195,64195],"mapped",[36978]],[[64196,64196],"mapped",[37273]],[[64197,64197],"mapped",[37494]],[[64198,64198],"mapped",[38524]],[[64199,64199],"mapped",[38627]],[[64200,64200],"mapped",[38742]],[[64201,64201],"mapped",[38875]],[[64202,64202],"mapped",[38911]],[[64203,64203],"mapped",[38923]],[[64204,64204],"mapped",[38971]],[[64205,64205],"mapped",[39698]],[[64206,64206],"mapped",[40860]],[[64207,64207],"mapped",[141386]],[[64208,64208],"mapped",[141380]],[[64209,64209],"mapped",[144341]],[[64210,64210],"mapped",[15261]],[[64211,64211],"mapped",[16408]],[[64212,64212],"mapped",[16441]],[[64213,64213],"mapped",[152137]],[[64214,64214],"mapped",[154832]],[[64215,64215],"mapped",[163539]],[[64216,64216],"mapped",[40771]],[[64217,64217],"mapped",[40846]],[[64218,64255],"disallowed"],[[64256,64256],"mapped",[102,102]],[[64257,64257],"mapped",[102,105]],[[64258,64258],"mapped",[102,108]],[[64259,64259],"mapped",[102,102,105]],[[64260,64260],"mapped",[102,102,108]],[[64261,64262],"mapped",[115,116]],[[64263,64274],"disallowed"],[[64275,64275],"mapped",[1396,1398]],[[64276,64276],"mapped",[1396,1381]],[[64277,64277],"mapped",[1396,1387]],[[64278,64278],"mapped",[1406,1398]],[[64279,64279],"mapped",[1396,1389]],[[64280,64284],"disallowed"],[[64285,64285],"mapped",[1497,1460]],[[64286,64286],"valid"],[[64287,64287],"mapped",[1522,1463]],[[64288,64288],"mapped",[1506]],[[64289,64289],"mapped",[1488]],[[64290,64290],"mapped",[1491]],[[64291,64291],"mapped",[1492]],[[64292,64292],"mapped",[1499]],[[64293,64293],"mapped",[1500]],[[64294,64294],"mapped",[1501]],[[64295,64295],"mapped",[1512]],[[64296,64296],"mapped",[1514]],[[64297,64297],"disallowed_STD3_mapped",[43]],[[64298,64298],"mapped",[1513,1473]],[[64299,64299],"mapped",[1513,1474]],[[64300,64300],"mapped",[1513,1468,1473]],[[64301,64301],"mapped",[1513,1468,1474]],[[64302,64302],"mapped",[1488,1463]],[[64303,64303],"mapped",[1488,1464]],[[64304,64304],"mapped",[1488,1468]],[[64305,64305],"mapped",[1489,1468]],[[64306,64306],"mapped",[1490,1468]],[[64307,64307],"mapped",[1491,1468]],[[64308,64308],"mapped",[1492,1468]],[[64309,64309],"mapped",[1493,1468]],[[64310,64310],"mapped",[1494,1468]],[[64311,64311],"disallowed"],[[64312,64312],"mapped",[1496,1468]],[[64313,64313],"mapped",[1497,1468]],[[64314,64314],"mapped",[1498,1468]],[[64315,64315],"mapped",[1499,1468]],[[64316,64316],"mapped",[1500,1468]],[[64317,64317],"disallowed"],[[64318,64318],"mapped",[1502,1468]],[[64319,64319],"disallowed"],[[64320,64320],"mapped",[1504,1468]],[[64321,64321],"mapped",[1505,1468]],[[64322,64322],"disallowed"],[[64323,64323],"mapped",[1507,1468]],[[64324,64324],"mapped",[1508,1468]],[[64325,64325],"disallowed"],[[64326,64326],"mapped",[1510,1468]],[[64327,64327],"mapped",[1511,1468]],[[64328,64328],"mapped",[1512,1468]],[[64329,64329],"mapped",[1513,1468]],[[64330,64330],"mapped",[1514,1468]],[[64331,64331],"mapped",[1493,1465]],[[64332,64332],"mapped",[1489,1471]],[[64333,64333],"mapped",[1499,1471]],[[64334,64334],"mapped",[1508,1471]],[[64335,64335],"mapped",[1488,1500]],[[64336,64337],"mapped",[1649]],[[64338,64341],"mapped",[1659]],[[64342,64345],"mapped",[1662]],[[64346,64349],"mapped",[1664]],[[64350,64353],"mapped",[1658]],[[64354,64357],"mapped",[1663]],[[64358,64361],"mapped",[1657]],[[64362,64365],"mapped",[1700]],[[64366,64369],"mapped",[1702]],[[64370,64373],"mapped",[1668]],[[64374,64377],"mapped",[1667]],[[64378,64381],"mapped",[1670]],[[64382,64385],"mapped",[1671]],[[64386,64387],"mapped",[1677]],[[64388,64389],"mapped",[1676]],[[64390,64391],"mapped",[1678]],[[64392,64393],"mapped",[1672]],[[64394,64395],"mapped",[1688]],[[64396,64397],"mapped",[1681]],[[64398,64401],"mapped",[1705]],[[64402,64405],"mapped",[1711]],[[64406,64409],"mapped",[1715]],[[64410,64413],"mapped",[1713]],[[64414,64415],"mapped",[1722]],[[64416,64419],"mapped",[1723]],[[64420,64421],"mapped",[1728]],[[64422,64425],"mapped",[1729]],[[64426,64429],"mapped",[1726]],[[64430,64431],"mapped",[1746]],[[64432,64433],"mapped",[1747]],[[64434,64449],"valid",[],"NV8"],[[64450,64466],"disallowed"],[[64467,64470],"mapped",[1709]],[[64471,64472],"mapped",[1735]],[[64473,64474],"mapped",[1734]],[[64475,64476],"mapped",[1736]],[[64477,64477],"mapped",[1735,1652]],[[64478,64479],"mapped",[1739]],[[64480,64481],"mapped",[1733]],[[64482,64483],"mapped",[1737]],[[64484,64487],"mapped",[1744]],[[64488,64489],"mapped",[1609]],[[64490,64491],"mapped",[1574,1575]],[[64492,64493],"mapped",[1574,1749]],[[64494,64495],"mapped",[1574,1608]],[[64496,64497],"mapped",[1574,1735]],[[64498,64499],"mapped",[1574,1734]],[[64500,64501],"mapped",[1574,1736]],[[64502,64504],"mapped",[1574,1744]],[[64505,64507],"mapped",[1574,1609]],[[64508,64511],"mapped",[1740]],[[64512,64512],"mapped",[1574,1580]],[[64513,64513],"mapped",[1574,1581]],[[64514,64514],"mapped",[1574,1605]],[[64515,64515],"mapped",[1574,1609]],[[64516,64516],"mapped",[1574,1610]],[[64517,64517],"mapped",[1576,1580]],[[64518,64518],"mapped",[1576,1581]],[[64519,64519],"mapped",[1576,1582]],[[64520,64520],"mapped",[1576,1605]],[[64521,64521],"mapped",[1576,1609]],[[64522,64522],"mapped",[1576,1610]],[[64523,64523],"mapped",[1578,1580]],[[64524,64524],"mapped",[1578,1581]],[[64525,64525],"mapped",[1578,1582]],[[64526,64526],"mapped",[1578,1605]],[[64527,64527],"mapped",[1578,1609]],[[64528,64528],"mapped",[1578,1610]],[[64529,64529],"mapped",[1579,1580]],[[64530,64530],"mapped",[1579,1605]],[[64531,64531],"mapped",[1579,1609]],[[64532,64532],"mapped",[1579,1610]],[[64533,64533],"mapped",[1580,1581]],[[64534,64534],"mapped",[1580,1605]],[[64535,64535],"mapped",[1581,1580]],[[64536,64536],"mapped",[1581,1605]],[[64537,64537],"mapped",[1582,1580]],[[64538,64538],"mapped",[1582,1581]],[[64539,64539],"mapped",[1582,1605]],[[64540,64540],"mapped",[1587,1580]],[[64541,64541],"mapped",[1587,1581]],[[64542,64542],"mapped",[1587,1582]],[[64543,64543],"mapped",[1587,1605]],[[64544,64544],"mapped",[1589,1581]],[[64545,64545],"mapped",[1589,1605]],[[64546,64546],"mapped",[1590,1580]],[[64547,64547],"mapped",[1590,1581]],[[64548,64548],"mapped",[1590,1582]],[[64549,64549],"mapped",[1590,1605]],[[64550,64550],"mapped",[1591,1581]],[[64551,64551],"mapped",[1591,1605]],[[64552,64552],"mapped",[1592,1605]],[[64553,64553],"mapped",[1593,1580]],[[64554,64554],"mapped",[1593,1605]],[[64555,64555],"mapped",[1594,1580]],[[64556,64556],"mapped",[1594,1605]],[[64557,64557],"mapped",[1601,1580]],[[64558,64558],"mapped",[1601,1581]],[[64559,64559],"mapped",[1601,1582]],[[64560,64560],"mapped",[1601,1605]],[[64561,64561],"mapped",[1601,1609]],[[64562,64562],"mapped",[1601,1610]],[[64563,64563],"mapped",[1602,1581]],[[64564,64564],"mapped",[1602,1605]],[[64565,64565],"mapped",[1602,1609]],[[64566,64566],"mapped",[1602,1610]],[[64567,64567],"mapped",[1603,1575]],[[64568,64568],"mapped",[1603,1580]],[[64569,64569],"mapped",[1603,1581]],[[64570,64570],"mapped",[1603,1582]],[[64571,64571],"mapped",[1603,1604]],[[64572,64572],"mapped",[1603,1605]],[[64573,64573],"mapped",[1603,1609]],[[64574,64574],"mapped",[1603,1610]],[[64575,64575],"mapped",[1604,1580]],[[64576,64576],"mapped",[1604,1581]],[[64577,64577],"mapped",[1604,1582]],[[64578,64578],"mapped",[1604,1605]],[[64579,64579],"mapped",[1604,1609]],[[64580,64580],"mapped",[1604,1610]],[[64581,64581],"mapped",[1605,1580]],[[64582,64582],"mapped",[1605,1581]],[[64583,64583],"mapped",[1605,1582]],[[64584,64584],"mapped",[1605,1605]],[[64585,64585],"mapped",[1605,1609]],[[64586,64586],"mapped",[1605,1610]],[[64587,64587],"mapped",[1606,1580]],[[64588,64588],"mapped",[1606,1581]],[[64589,64589],"mapped",[1606,1582]],[[64590,64590],"mapped",[1606,1605]],[[64591,64591],"mapped",[1606,1609]],[[64592,64592],"mapped",[1606,1610]],[[64593,64593],"mapped",[1607,1580]],[[64594,64594],"mapped",[1607,1605]],[[64595,64595],"mapped",[1607,1609]],[[64596,64596],"mapped",[1607,1610]],[[64597,64597],"mapped",[1610,1580]],[[64598,64598],"mapped",[1610,1581]],[[64599,64599],"mapped",[1610,1582]],[[64600,64600],"mapped",[1610,1605]],[[64601,64601],"mapped",[1610,1609]],[[64602,64602],"mapped",[1610,1610]],[[64603,64603],"mapped",[1584,1648]],[[64604,64604],"mapped",[1585,1648]],[[64605,64605],"mapped",[1609,1648]],[[64606,64606],"disallowed_STD3_mapped",[32,1612,1617]],[[64607,64607],"disallowed_STD3_mapped",[32,1613,1617]],[[64608,64608],"disallowed_STD3_mapped",[32,1614,1617]],[[64609,64609],"disallowed_STD3_mapped",[32,1615,1617]],[[64610,64610],"disallowed_STD3_mapped",[32,1616,1617]],[[64611,64611],"disallowed_STD3_mapped",[32,1617,1648]],[[64612,64612],"mapped",[1574,1585]],[[64613,64613],"mapped",[1574,1586]],[[64614,64614],"mapped",[1574,1605]],[[64615,64615],"mapped",[1574,1606]],[[64616,64616],"mapped",[1574,1609]],[[64617,64617],"mapped",[1574,1610]],[[64618,64618],"mapped",[1576,1585]],[[64619,64619],"mapped",[1576,1586]],[[64620,64620],"mapped",[1576,1605]],[[64621,64621],"mapped",[1576,1606]],[[64622,64622],"mapped",[1576,1609]],[[64623,64623],"mapped",[1576,1610]],[[64624,64624],"mapped",[1578,1585]],[[64625,64625],"mapped",[1578,1586]],[[64626,64626],"mapped",[1578,1605]],[[64627,64627],"mapped",[1578,1606]],[[64628,64628],"mapped",[1578,1609]],[[64629,64629],"mapped",[1578,1610]],[[64630,64630],"mapped",[1579,1585]],[[64631,64631],"mapped",[1579,1586]],[[64632,64632],"mapped",[1579,1605]],[[64633,64633],"mapped",[1579,1606]],[[64634,64634],"mapped",[1579,1609]],[[64635,64635],"mapped",[1579,1610]],[[64636,64636],"mapped",[1601,1609]],[[64637,64637],"mapped",[1601,1610]],[[64638,64638],"mapped",[1602,1609]],[[64639,64639],"mapped",[1602,1610]],[[64640,64640],"mapped",[1603,1575]],[[64641,64641],"mapped",[1603,1604]],[[64642,64642],"mapped",[1603,1605]],[[64643,64643],"mapped",[1603,1609]],[[64644,64644],"mapped",[1603,1610]],[[64645,64645],"mapped",[1604,1605]],[[64646,64646],"mapped",[1604,1609]],[[64647,64647],"mapped",[1604,1610]],[[64648,64648],"mapped",[1605,1575]],[[64649,64649],"mapped",[1605,1605]],[[64650,64650],"mapped",[1606,1585]],[[64651,64651],"mapped",[1606,1586]],[[64652,64652],"mapped",[1606,1605]],[[64653,64653],"mapped",[1606,1606]],[[64654,64654],"mapped",[1606,1609]],[[64655,64655],"mapped",[1606,1610]],[[64656,64656],"mapped",[1609,1648]],[[64657,64657],"mapped",[1610,1585]],[[64658,64658],"mapped",[1610,1586]],[[64659,64659],"mapped",[1610,1605]],[[64660,64660],"mapped",[1610,1606]],[[64661,64661],"mapped",[1610,1609]],[[64662,64662],"mapped",[1610,1610]],[[64663,64663],"mapped",[1574,1580]],[[64664,64664],"mapped",[1574,1581]],[[64665,64665],"mapped",[1574,1582]],[[64666,64666],"mapped",[1574,1605]],[[64667,64667],"mapped",[1574,1607]],[[64668,64668],"mapped",[1576,1580]],[[64669,64669],"mapped",[1576,1581]],[[64670,64670],"mapped",[1576,1582]],[[64671,64671],"mapped",[1576,1605]],[[64672,64672],"mapped",[1576,1607]],[[64673,64673],"mapped",[1578,1580]],[[64674,64674],"mapped",[1578,1581]],[[64675,64675],"mapped",[1578,1582]],[[64676,64676],"mapped",[1578,1605]],[[64677,64677],"mapped",[1578,1607]],[[64678,64678],"mapped",[1579,1605]],[[64679,64679],"mapped",[1580,1581]],[[64680,64680],"mapped",[1580,1605]],[[64681,64681],"mapped",[1581,1580]],[[64682,64682],"mapped",[1581,1605]],[[64683,64683],"mapped",[1582,1580]],[[64684,64684],"mapped",[1582,1605]],[[64685,64685],"mapped",[1587,1580]],[[64686,64686],"mapped",[1587,1581]],[[64687,64687],"mapped",[1587,1582]],[[64688,64688],"mapped",[1587,1605]],[[64689,64689],"mapped",[1589,1581]],[[64690,64690],"mapped",[1589,1582]],[[64691,64691],"mapped",[1589,1605]],[[64692,64692],"mapped",[1590,1580]],[[64693,64693],"mapped",[1590,1581]],[[64694,64694],"mapped",[1590,1582]],[[64695,64695],"mapped",[1590,1605]],[[64696,64696],"mapped",[1591,1581]],[[64697,64697],"mapped",[1592,1605]],[[64698,64698],"mapped",[1593,1580]],[[64699,64699],"mapped",[1593,1605]],[[64700,64700],"mapped",[1594,1580]],[[64701,64701],"mapped",[1594,1605]],[[64702,64702],"mapped",[1601,1580]],[[64703,64703],"mapped",[1601,1581]],[[64704,64704],"mapped",[1601,1582]],[[64705,64705],"mapped",[1601,1605]],[[64706,64706],"mapped",[1602,1581]],[[64707,64707],"mapped",[1602,1605]],[[64708,64708],"mapped",[1603,1580]],[[64709,64709],"mapped",[1603,1581]],[[64710,64710],"mapped",[1603,1582]],[[64711,64711],"mapped",[1603,1604]],[[64712,64712],"mapped",[1603,1605]],[[64713,64713],"mapped",[1604,1580]],[[64714,64714],"mapped",[1604,1581]],[[64715,64715],"mapped",[1604,1582]],[[64716,64716],"mapped",[1604,1605]],[[64717,64717],"mapped",[1604,1607]],[[64718,64718],"mapped",[1605,1580]],[[64719,64719],"mapped",[1605,1581]],[[64720,64720],"mapped",[1605,1582]],[[64721,64721],"mapped",[1605,1605]],[[64722,64722],"mapped",[1606,1580]],[[64723,64723],"mapped",[1606,1581]],[[64724,64724],"mapped",[1606,1582]],[[64725,64725],"mapped",[1606,1605]],[[64726,64726],"mapped",[1606,1607]],[[64727,64727],"mapped",[1607,1580]],[[64728,64728],"mapped",[1607,1605]],[[64729,64729],"mapped",[1607,1648]],[[64730,64730],"mapped",[1610,1580]],[[64731,64731],"mapped",[1610,1581]],[[64732,64732],"mapped",[1610,1582]],[[64733,64733],"mapped",[1610,1605]],[[64734,64734],"mapped",[1610,1607]],[[64735,64735],"mapped",[1574,1605]],[[64736,64736],"mapped",[1574,1607]],[[64737,64737],"mapped",[1576,1605]],[[64738,64738],"mapped",[1576,1607]],[[64739,64739],"mapped",[1578,1605]],[[64740,64740],"mapped",[1578,1607]],[[64741,64741],"mapped",[1579,1605]],[[64742,64742],"mapped",[1579,1607]],[[64743,64743],"mapped",[1587,1605]],[[64744,64744],"mapped",[1587,1607]],[[64745,64745],"mapped",[1588,1605]],[[64746,64746],"mapped",[1588,1607]],[[64747,64747],"mapped",[1603,1604]],[[64748,64748],"mapped",[1603,1605]],[[64749,64749],"mapped",[1604,1605]],[[64750,64750],"mapped",[1606,1605]],[[64751,64751],"mapped",[1606,1607]],[[64752,64752],"mapped",[1610,1605]],[[64753,64753],"mapped",[1610,1607]],[[64754,64754],"mapped",[1600,1614,1617]],[[64755,64755],"mapped",[1600,1615,1617]],[[64756,64756],"mapped",[1600,1616,1617]],[[64757,64757],"mapped",[1591,1609]],[[64758,64758],"mapped",[1591,1610]],[[64759,64759],"mapped",[1593,1609]],[[64760,64760],"mapped",[1593,1610]],[[64761,64761],"mapped",[1594,1609]],[[64762,64762],"mapped",[1594,1610]],[[64763,64763],"mapped",[1587,1609]],[[64764,64764],"mapped",[1587,1610]],[[64765,64765],"mapped",[1588,1609]],[[64766,64766],"mapped",[1588,1610]],[[64767,64767],"mapped",[1581,1609]],[[64768,64768],"mapped",[1581,1610]],[[64769,64769],"mapped",[1580,1609]],[[64770,64770],"mapped",[1580,1610]],[[64771,64771],"mapped",[1582,1609]],[[64772,64772],"mapped",[1582,1610]],[[64773,64773],"mapped",[1589,1609]],[[64774,64774],"mapped",[1589,1610]],[[64775,64775],"mapped",[1590,1609]],[[64776,64776],"mapped",[1590,1610]],[[64777,64777],"mapped",[1588,1580]],[[64778,64778],"mapped",[1588,1581]],[[64779,64779],"mapped",[1588,1582]],[[64780,64780],"mapped",[1588,1605]],[[64781,64781],"mapped",[1588,1585]],[[64782,64782],"mapped",[1587,1585]],[[64783,64783],"mapped",[1589,1585]],[[64784,64784],"mapped",[1590,1585]],[[64785,64785],"mapped",[1591,1609]],[[64786,64786],"mapped",[1591,1610]],[[64787,64787],"mapped",[1593,1609]],[[64788,64788],"mapped",[1593,1610]],[[64789,64789],"mapped",[1594,1609]],[[64790,64790],"mapped",[1594,1610]],[[64791,64791],"mapped",[1587,1609]],[[64792,64792],"mapped",[1587,1610]],[[64793,64793],"mapped",[1588,1609]],[[64794,64794],"mapped",[1588,1610]],[[64795,64795],"mapped",[1581,1609]],[[64796,64796],"mapped",[1581,1610]],[[64797,64797],"mapped",[1580,1609]],[[64798,64798],"mapped",[1580,1610]],[[64799,64799],"mapped",[1582,1609]],[[64800,64800],"mapped",[1582,1610]],[[64801,64801],"mapped",[1589,1609]],[[64802,64802],"mapped",[1589,1610]],[[64803,64803],"mapped",[1590,1609]],[[64804,64804],"mapped",[1590,1610]],[[64805,64805],"mapped",[1588,1580]],[[64806,64806],"mapped",[1588,1581]],[[64807,64807],"mapped",[1588,1582]],[[64808,64808],"mapped",[1588,1605]],[[64809,64809],"mapped",[1588,1585]],[[64810,64810],"mapped",[1587,1585]],[[64811,64811],"mapped",[1589,1585]],[[64812,64812],"mapped",[1590,1585]],[[64813,64813],"mapped",[1588,1580]],[[64814,64814],"mapped",[1588,1581]],[[64815,64815],"mapped",[1588,1582]],[[64816,64816],"mapped",[1588,1605]],[[64817,64817],"mapped",[1587,1607]],[[64818,64818],"mapped",[1588,1607]],[[64819,64819],"mapped",[1591,1605]],[[64820,64820],"mapped",[1587,1580]],[[64821,64821],"mapped",[1587,1581]],[[64822,64822],"mapped",[1587,1582]],[[64823,64823],"mapped",[1588,1580]],[[64824,64824],"mapped",[1588,1581]],[[64825,64825],"mapped",[1588,1582]],[[64826,64826],"mapped",[1591,1605]],[[64827,64827],"mapped",[1592,1605]],[[64828,64829],"mapped",[1575,1611]],[[64830,64831],"valid",[],"NV8"],[[64832,64847],"disallowed"],[[64848,64848],"mapped",[1578,1580,1605]],[[64849,64850],"mapped",[1578,1581,1580]],[[64851,64851],"mapped",[1578,1581,1605]],[[64852,64852],"mapped",[1578,1582,1605]],[[64853,64853],"mapped",[1578,1605,1580]],[[64854,64854],"mapped",[1578,1605,1581]],[[64855,64855],"mapped",[1578,1605,1582]],[[64856,64857],"mapped",[1580,1605,1581]],[[64858,64858],"mapped",[1581,1605,1610]],[[64859,64859],"mapped",[1581,1605,1609]],[[64860,64860],"mapped",[1587,1581,1580]],[[64861,64861],"mapped",[1587,1580,1581]],[[64862,64862],"mapped",[1587,1580,1609]],[[64863,64864],"mapped",[1587,1605,1581]],[[64865,64865],"mapped",[1587,1605,1580]],[[64866,64867],"mapped",[1587,1605,1605]],[[64868,64869],"mapped",[1589,1581,1581]],[[64870,64870],"mapped",[1589,1605,1605]],[[64871,64872],"mapped",[1588,1581,1605]],[[64873,64873],"mapped",[1588,1580,1610]],[[64874,64875],"mapped",[1588,1605,1582]],[[64876,64877],"mapped",[1588,1605,1605]],[[64878,64878],"mapped",[1590,1581,1609]],[[64879,64880],"mapped",[1590,1582,1605]],[[64881,64882],"mapped",[1591,1605,1581]],[[64883,64883],"mapped",[1591,1605,1605]],[[64884,64884],"mapped",[1591,1605,1610]],[[64885,64885],"mapped",[1593,1580,1605]],[[64886,64887],"mapped",[1593,1605,1605]],[[64888,64888],"mapped",[1593,1605,1609]],[[64889,64889],"mapped",[1594,1605,1605]],[[64890,64890],"mapped",[1594,1605,1610]],[[64891,64891],"mapped",[1594,1605,1609]],[[64892,64893],"mapped",[1601,1582,1605]],[[64894,64894],"mapped",[1602,1605,1581]],[[64895,64895],"mapped",[1602,1605,1605]],[[64896,64896],"mapped",[1604,1581,1605]],[[64897,64897],"mapped",[1604,1581,1610]],[[64898,64898],"mapped",[1604,1581,1609]],[[64899,64900],"mapped",[1604,1580,1580]],[[64901,64902],"mapped",[1604,1582,1605]],[[64903,64904],"mapped",[1604,1605,1581]],[[64905,64905],"mapped",[1605,1581,1580]],[[64906,64906],"mapped",[1605,1581,1605]],[[64907,64907],"mapped",[1605,1581,1610]],[[64908,64908],"mapped",[1605,1580,1581]],[[64909,64909],"mapped",[1605,1580,1605]],[[64910,64910],"mapped",[1605,1582,1580]],[[64911,64911],"mapped",[1605,1582,1605]],[[64912,64913],"disallowed"],[[64914,64914],"mapped",[1605,1580,1582]],[[64915,64915],"mapped",[1607,1605,1580]],[[64916,64916],"mapped",[1607,1605,1605]],[[64917,64917],"mapped",[1606,1581,1605]],[[64918,64918],"mapped",[1606,1581,1609]],[[64919,64920],"mapped",[1606,1580,1605]],[[64921,64921],"mapped",[1606,1580,1609]],[[64922,64922],"mapped",[1606,1605,1610]],[[64923,64923],"mapped",[1606,1605,1609]],[[64924,64925],"mapped",[1610,1605,1605]],[[64926,64926],"mapped",[1576,1582,1610]],[[64927,64927],"mapped",[1578,1580,1610]],[[64928,64928],"mapped",[1578,1580,1609]],[[64929,64929],"mapped",[1578,1582,1610]],[[64930,64930],"mapped",[1578,1582,1609]],[[64931,64931],"mapped",[1578,1605,1610]],[[64932,64932],"mapped",[1578,1605,1609]],[[64933,64933],"mapped",[1580,1605,1610]],[[64934,64934],"mapped",[1580,1581,1609]],[[64935,64935],"mapped",[1580,1605,1609]],[[64936,64936],"mapped",[1587,1582,1609]],[[64937,64937],"mapped",[1589,1581,1610]],[[64938,64938],"mapped",[1588,1581,1610]],[[64939,64939],"mapped",[1590,1581,1610]],[[64940,64940],"mapped",[1604,1580,1610]],[[64941,64941],"mapped",[1604,1605,1610]],[[64942,64942],"mapped",[1610,1581,1610]],[[64943,64943],"mapped",[1610,1580,1610]],[[64944,64944],"mapped",[1610,1605,1610]],[[64945,64945],"mapped",[1605,1605,1610]],[[64946,64946],"mapped",[1602,1605,1610]],[[64947,64947],"mapped",[1606,1581,1610]],[[64948,64948],"mapped",[1602,1605,1581]],[[64949,64949],"mapped",[1604,1581,1605]],[[64950,64950],"mapped",[1593,1605,1610]],[[64951,64951],"mapped",[1603,1605,1610]],[[64952,64952],"mapped",[1606,1580,1581]],[[64953,64953],"mapped",[1605,1582,1610]],[[64954,64954],"mapped",[1604,1580,1605]],[[64955,64955],"mapped",[1603,1605,1605]],[[64956,64956],"mapped",[1604,1580,1605]],[[64957,64957],"mapped",[1606,1580,1581]],[[64958,64958],"mapped",[1580,1581,1610]],[[64959,64959],"mapped",[1581,1580,1610]],[[64960,64960],"mapped",[1605,1580,1610]],[[64961,64961],"mapped",[1601,1605,1610]],[[64962,64962],"mapped",[1576,1581,1610]],[[64963,64963],"mapped",[1603,1605,1605]],[[64964,64964],"mapped",[1593,1580,1605]],[[64965,64965],"mapped",[1589,1605,1605]],[[64966,64966],"mapped",[1587,1582,1610]],[[64967,64967],"mapped",[1606,1580,1610]],[[64968,64975],"disallowed"],[[64976,65007],"disallowed"],[[65008,65008],"mapped",[1589,1604,1746]],[[65009,65009],"mapped",[1602,1604,1746]],[[65010,65010],"mapped",[1575,1604,1604,1607]],[[65011,65011],"mapped",[1575,1603,1576,1585]],[[65012,65012],"mapped",[1605,1581,1605,1583]],[[65013,65013],"mapped",[1589,1604,1593,1605]],[[65014,65014],"mapped",[1585,1587,1608,1604]],[[65015,65015],"mapped",[1593,1604,1610,1607]],[[65016,65016],"mapped",[1608,1587,1604,1605]],[[65017,65017],"mapped",[1589,1604,1609]],[[65018,65018],"disallowed_STD3_mapped",[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605]],[[65019,65019],"disallowed_STD3_mapped",[1580,1604,32,1580,1604,1575,1604,1607]],[[65020,65020],"mapped",[1585,1740,1575,1604]],[[65021,65021],"valid",[],"NV8"],[[65022,65023],"disallowed"],[[65024,65039],"ignored"],[[65040,65040],"disallowed_STD3_mapped",[44]],[[65041,65041],"mapped",[12289]],[[65042,65042],"disallowed"],[[65043,65043],"disallowed_STD3_mapped",[58]],[[65044,65044],"disallowed_STD3_mapped",[59]],[[65045,65045],"disallowed_STD3_mapped",[33]],[[65046,65046],"disallowed_STD3_mapped",[63]],[[65047,65047],"mapped",[12310]],[[65048,65048],"mapped",[12311]],[[65049,65049],"disallowed"],[[65050,65055],"disallowed"],[[65056,65059],"valid"],[[65060,65062],"valid"],[[65063,65069],"valid"],[[65070,65071],"valid"],[[65072,65072],"disallowed"],[[65073,65073],"mapped",[8212]],[[65074,65074],"mapped",[8211]],[[65075,65076],"disallowed_STD3_mapped",[95]],[[65077,65077],"disallowed_STD3_mapped",[40]],[[65078,65078],"disallowed_STD3_mapped",[41]],[[65079,65079],"disallowed_STD3_mapped",[123]],[[65080,65080],"disallowed_STD3_mapped",[125]],[[65081,65081],"mapped",[12308]],[[65082,65082],"mapped",[12309]],[[65083,65083],"mapped",[12304]],[[65084,65084],"mapped",[12305]],[[65085,65085],"mapped",[12298]],[[65086,65086],"mapped",[12299]],[[65087,65087],"mapped",[12296]],[[65088,65088],"mapped",[12297]],[[65089,65089],"mapped",[12300]],[[65090,65090],"mapped",[12301]],[[65091,65091],"mapped",[12302]],[[65092,65092],"mapped",[12303]],[[65093,65094],"valid",[],"NV8"],[[65095,65095],"disallowed_STD3_mapped",[91]],[[65096,65096],"disallowed_STD3_mapped",[93]],[[65097,65100],"disallowed_STD3_mapped",[32,773]],[[65101,65103],"disallowed_STD3_mapped",[95]],[[65104,65104],"disallowed_STD3_mapped",[44]],[[65105,65105],"mapped",[12289]],[[65106,65106],"disallowed"],[[65107,65107],"disallowed"],[[65108,65108],"disallowed_STD3_mapped",[59]],[[65109,65109],"disallowed_STD3_mapped",[58]],[[65110,65110],"disallowed_STD3_mapped",[63]],[[65111,65111],"disallowed_STD3_mapped",[33]],[[65112,65112],"mapped",[8212]],[[65113,65113],"disallowed_STD3_mapped",[40]],[[65114,65114],"disallowed_STD3_mapped",[41]],[[65115,65115],"disallowed_STD3_mapped",[123]],[[65116,65116],"disallowed_STD3_mapped",[125]],[[65117,65117],"mapped",[12308]],[[65118,65118],"mapped",[12309]],[[65119,65119],"disallowed_STD3_mapped",[35]],[[65120,65120],"disallowed_STD3_mapped",[38]],[[65121,65121],"disallowed_STD3_mapped",[42]],[[65122,65122],"disallowed_STD3_mapped",[43]],[[65123,65123],"mapped",[45]],[[65124,65124],"disallowed_STD3_mapped",[60]],[[65125,65125],"disallowed_STD3_mapped",[62]],[[65126,65126],"disallowed_STD3_mapped",[61]],[[65127,65127],"disallowed"],[[65128,65128],"disallowed_STD3_mapped",[92]],[[65129,65129],"disallowed_STD3_mapped",[36]],[[65130,65130],"disallowed_STD3_mapped",[37]],[[65131,65131],"disallowed_STD3_mapped",[64]],[[65132,65135],"disallowed"],[[65136,65136],"disallowed_STD3_mapped",[32,1611]],[[65137,65137],"mapped",[1600,1611]],[[65138,65138],"disallowed_STD3_mapped",[32,1612]],[[65139,65139],"valid"],[[65140,65140],"disallowed_STD3_mapped",[32,1613]],[[65141,65141],"disallowed"],[[65142,65142],"disallowed_STD3_mapped",[32,1614]],[[65143,65143],"mapped",[1600,1614]],[[65144,65144],"disallowed_STD3_mapped",[32,1615]],[[65145,65145],"mapped",[1600,1615]],[[65146,65146],"disallowed_STD3_mapped",[32,1616]],[[65147,65147],"mapped",[1600,1616]],[[65148,65148],"disallowed_STD3_mapped",[32,1617]],[[65149,65149],"mapped",[1600,1617]],[[65150,65150],"disallowed_STD3_mapped",[32,1618]],[[65151,65151],"mapped",[1600,1618]],[[65152,65152],"mapped",[1569]],[[65153,65154],"mapped",[1570]],[[65155,65156],"mapped",[1571]],[[65157,65158],"mapped",[1572]],[[65159,65160],"mapped",[1573]],[[65161,65164],"mapped",[1574]],[[65165,65166],"mapped",[1575]],[[65167,65170],"mapped",[1576]],[[65171,65172],"mapped",[1577]],[[65173,65176],"mapped",[1578]],[[65177,65180],"mapped",[1579]],[[65181,65184],"mapped",[1580]],[[65185,65188],"mapped",[1581]],[[65189,65192],"mapped",[1582]],[[65193,65194],"mapped",[1583]],[[65195,65196],"mapped",[1584]],[[65197,65198],"mapped",[1585]],[[65199,65200],"mapped",[1586]],[[65201,65204],"mapped",[1587]],[[65205,65208],"mapped",[1588]],[[65209,65212],"mapped",[1589]],[[65213,65216],"mapped",[1590]],[[65217,65220],"mapped",[1591]],[[65221,65224],"mapped",[1592]],[[65225,65228],"mapped",[1593]],[[65229,65232],"mapped",[1594]],[[65233,65236],"mapped",[1601]],[[65237,65240],"mapped",[1602]],[[65241,65244],"mapped",[1603]],[[65245,65248],"mapped",[1604]],[[65249,65252],"mapped",[1605]],[[65253,65256],"mapped",[1606]],[[65257,65260],"mapped",[1607]],[[65261,65262],"mapped",[1608]],[[65263,65264],"mapped",[1609]],[[65265,65268],"mapped",[1610]],[[65269,65270],"mapped",[1604,1570]],[[65271,65272],"mapped",[1604,1571]],[[65273,65274],"mapped",[1604,1573]],[[65275,65276],"mapped",[1604,1575]],[[65277,65278],"disallowed"],[[65279,65279],"ignored"],[[65280,65280],"disallowed"],[[65281,65281],"disallowed_STD3_mapped",[33]],[[65282,65282],"disallowed_STD3_mapped",[34]],[[65283,65283],"disallowed_STD3_mapped",[35]],[[65284,65284],"disallowed_STD3_mapped",[36]],[[65285,65285],"disallowed_STD3_mapped",[37]],[[65286,65286],"disallowed_STD3_mapped",[38]],[[65287,65287],"disallowed_STD3_mapped",[39]],[[65288,65288],"disallowed_STD3_mapped",[40]],[[65289,65289],"disallowed_STD3_mapped",[41]],[[65290,65290],"disallowed_STD3_mapped",[42]],[[65291,65291],"disallowed_STD3_mapped",[43]],[[65292,65292],"disallowed_STD3_mapped",[44]],[[65293,65293],"mapped",[45]],[[65294,65294],"mapped",[46]],[[65295,65295],"disallowed_STD3_mapped",[47]],[[65296,65296],"mapped",[48]],[[65297,65297],"mapped",[49]],[[65298,65298],"mapped",[50]],[[65299,65299],"mapped",[51]],[[65300,65300],"mapped",[52]],[[65301,65301],"mapped",[53]],[[65302,65302],"mapped",[54]],[[65303,65303],"mapped",[55]],[[65304,65304],"mapped",[56]],[[65305,65305],"mapped",[57]],[[65306,65306],"disallowed_STD3_mapped",[58]],[[65307,65307],"disallowed_STD3_mapped",[59]],[[65308,65308],"disallowed_STD3_mapped",[60]],[[65309,65309],"disallowed_STD3_mapped",[61]],[[65310,65310],"disallowed_STD3_mapped",[62]],[[65311,65311],"disallowed_STD3_mapped",[63]],[[65312,65312],"disallowed_STD3_mapped",[64]],[[65313,65313],"mapped",[97]],[[65314,65314],"mapped",[98]],[[65315,65315],"mapped",[99]],[[65316,65316],"mapped",[100]],[[65317,65317],"mapped",[101]],[[65318,65318],"mapped",[102]],[[65319,65319],"mapped",[103]],[[65320,65320],"mapped",[104]],[[65321,65321],"mapped",[105]],[[65322,65322],"mapped",[106]],[[65323,65323],"mapped",[107]],[[65324,65324],"mapped",[108]],[[65325,65325],"mapped",[109]],[[65326,65326],"mapped",[110]],[[65327,65327],"mapped",[111]],[[65328,65328],"mapped",[112]],[[65329,65329],"mapped",[113]],[[65330,65330],"mapped",[114]],[[65331,65331],"mapped",[115]],[[65332,65332],"mapped",[116]],[[65333,65333],"mapped",[117]],[[65334,65334],"mapped",[118]],[[65335,65335],"mapped",[119]],[[65336,65336],"mapped",[120]],[[65337,65337],"mapped",[121]],[[65338,65338],"mapped",[122]],[[65339,65339],"disallowed_STD3_mapped",[91]],[[65340,65340],"disallowed_STD3_mapped",[92]],[[65341,65341],"disallowed_STD3_mapped",[93]],[[65342,65342],"disallowed_STD3_mapped",[94]],[[65343,65343],"disallowed_STD3_mapped",[95]],[[65344,65344],"disallowed_STD3_mapped",[96]],[[65345,65345],"mapped",[97]],[[65346,65346],"mapped",[98]],[[65347,65347],"mapped",[99]],[[65348,65348],"mapped",[100]],[[65349,65349],"mapped",[101]],[[65350,65350],"mapped",[102]],[[65351,65351],"mapped",[103]],[[65352,65352],"mapped",[104]],[[65353,65353],"mapped",[105]],[[65354,65354],"mapped",[106]],[[65355,65355],"mapped",[107]],[[65356,65356],"mapped",[108]],[[65357,65357],"mapped",[109]],[[65358,65358],"mapped",[110]],[[65359,65359],"mapped",[111]],[[65360,65360],"mapped",[112]],[[65361,65361],"mapped",[113]],[[65362,65362],"mapped",[114]],[[65363,65363],"mapped",[115]],[[65364,65364],"mapped",[116]],[[65365,65365],"mapped",[117]],[[65366,65366],"mapped",[118]],[[65367,65367],"mapped",[119]],[[65368,65368],"mapped",[120]],[[65369,65369],"mapped",[121]],[[65370,65370],"mapped",[122]],[[65371,65371],"disallowed_STD3_mapped",[123]],[[65372,65372],"disallowed_STD3_mapped",[124]],[[65373,65373],"disallowed_STD3_mapped",[125]],[[65374,65374],"disallowed_STD3_mapped",[126]],[[65375,65375],"mapped",[10629]],[[65376,65376],"mapped",[10630]],[[65377,65377],"mapped",[46]],[[65378,65378],"mapped",[12300]],[[65379,65379],"mapped",[12301]],[[65380,65380],"mapped",[12289]],[[65381,65381],"mapped",[12539]],[[65382,65382],"mapped",[12530]],[[65383,65383],"mapped",[12449]],[[65384,65384],"mapped",[12451]],[[65385,65385],"mapped",[12453]],[[65386,65386],"mapped",[12455]],[[65387,65387],"mapped",[12457]],[[65388,65388],"mapped",[12515]],[[65389,65389],"mapped",[12517]],[[65390,65390],"mapped",[12519]],[[65391,65391],"mapped",[12483]],[[65392,65392],"mapped",[12540]],[[65393,65393],"mapped",[12450]],[[65394,65394],"mapped",[12452]],[[65395,65395],"mapped",[12454]],[[65396,65396],"mapped",[12456]],[[65397,65397],"mapped",[12458]],[[65398,65398],"mapped",[12459]],[[65399,65399],"mapped",[12461]],[[65400,65400],"mapped",[12463]],[[65401,65401],"mapped",[12465]],[[65402,65402],"mapped",[12467]],[[65403,65403],"mapped",[12469]],[[65404,65404],"mapped",[12471]],[[65405,65405],"mapped",[12473]],[[65406,65406],"mapped",[12475]],[[65407,65407],"mapped",[12477]],[[65408,65408],"mapped",[12479]],[[65409,65409],"mapped",[12481]],[[65410,65410],"mapped",[12484]],[[65411,65411],"mapped",[12486]],[[65412,65412],"mapped",[12488]],[[65413,65413],"mapped",[12490]],[[65414,65414],"mapped",[12491]],[[65415,65415],"mapped",[12492]],[[65416,65416],"mapped",[12493]],[[65417,65417],"mapped",[12494]],[[65418,65418],"mapped",[12495]],[[65419,65419],"mapped",[12498]],[[65420,65420],"mapped",[12501]],[[65421,65421],"mapped",[12504]],[[65422,65422],"mapped",[12507]],[[65423,65423],"mapped",[12510]],[[65424,65424],"mapped",[12511]],[[65425,65425],"mapped",[12512]],[[65426,65426],"mapped",[12513]],[[65427,65427],"mapped",[12514]],[[65428,65428],"mapped",[12516]],[[65429,65429],"mapped",[12518]],[[65430,65430],"mapped",[12520]],[[65431,65431],"mapped",[12521]],[[65432,65432],"mapped",[12522]],[[65433,65433],"mapped",[12523]],[[65434,65434],"mapped",[12524]],[[65435,65435],"mapped",[12525]],[[65436,65436],"mapped",[12527]],[[65437,65437],"mapped",[12531]],[[65438,65438],"mapped",[12441]],[[65439,65439],"mapped",[12442]],[[65440,65440],"disallowed"],[[65441,65441],"mapped",[4352]],[[65442,65442],"mapped",[4353]],[[65443,65443],"mapped",[4522]],[[65444,65444],"mapped",[4354]],[[65445,65445],"mapped",[4524]],[[65446,65446],"mapped",[4525]],[[65447,65447],"mapped",[4355]],[[65448,65448],"mapped",[4356]],[[65449,65449],"mapped",[4357]],[[65450,65450],"mapped",[4528]],[[65451,65451],"mapped",[4529]],[[65452,65452],"mapped",[4530]],[[65453,65453],"mapped",[4531]],[[65454,65454],"mapped",[4532]],[[65455,65455],"mapped",[4533]],[[65456,65456],"mapped",[4378]],[[65457,65457],"mapped",[4358]],[[65458,65458],"mapped",[4359]],[[65459,65459],"mapped",[4360]],[[65460,65460],"mapped",[4385]],[[65461,65461],"mapped",[4361]],[[65462,65462],"mapped",[4362]],[[65463,65463],"mapped",[4363]],[[65464,65464],"mapped",[4364]],[[65465,65465],"mapped",[4365]],[[65466,65466],"mapped",[4366]],[[65467,65467],"mapped",[4367]],[[65468,65468],"mapped",[4368]],[[65469,65469],"mapped",[4369]],[[65470,65470],"mapped",[4370]],[[65471,65473],"disallowed"],[[65474,65474],"mapped",[4449]],[[65475,65475],"mapped",[4450]],[[65476,65476],"mapped",[4451]],[[65477,65477],"mapped",[4452]],[[65478,65478],"mapped",[4453]],[[65479,65479],"mapped",[4454]],[[65480,65481],"disallowed"],[[65482,65482],"mapped",[4455]],[[65483,65483],"mapped",[4456]],[[65484,65484],"mapped",[4457]],[[65485,65485],"mapped",[4458]],[[65486,65486],"mapped",[4459]],[[65487,65487],"mapped",[4460]],[[65488,65489],"disallowed"],[[65490,65490],"mapped",[4461]],[[65491,65491],"mapped",[4462]],[[65492,65492],"mapped",[4463]],[[65493,65493],"mapped",[4464]],[[65494,65494],"mapped",[4465]],[[65495,65495],"mapped",[4466]],[[65496,65497],"disallowed"],[[65498,65498],"mapped",[4467]],[[65499,65499],"mapped",[4468]],[[65500,65500],"mapped",[4469]],[[65501,65503],"disallowed"],[[65504,65504],"mapped",[162]],[[65505,65505],"mapped",[163]],[[65506,65506],"mapped",[172]],[[65507,65507],"disallowed_STD3_mapped",[32,772]],[[65508,65508],"mapped",[166]],[[65509,65509],"mapped",[165]],[[65510,65510],"mapped",[8361]],[[65511,65511],"disallowed"],[[65512,65512],"mapped",[9474]],[[65513,65513],"mapped",[8592]],[[65514,65514],"mapped",[8593]],[[65515,65515],"mapped",[8594]],[[65516,65516],"mapped",[8595]],[[65517,65517],"mapped",[9632]],[[65518,65518],"mapped",[9675]],[[65519,65528],"disallowed"],[[65529,65531],"disallowed"],[[65532,65532],"disallowed"],[[65533,65533],"disallowed"],[[65534,65535],"disallowed"],[[65536,65547],"valid"],[[65548,65548],"disallowed"],[[65549,65574],"valid"],[[65575,65575],"disallowed"],[[65576,65594],"valid"],[[65595,65595],"disallowed"],[[65596,65597],"valid"],[[65598,65598],"disallowed"],[[65599,65613],"valid"],[[65614,65615],"disallowed"],[[65616,65629],"valid"],[[65630,65663],"disallowed"],[[65664,65786],"valid"],[[65787,65791],"disallowed"],[[65792,65794],"valid",[],"NV8"],[[65795,65798],"disallowed"],[[65799,65843],"valid",[],"NV8"],[[65844,65846],"disallowed"],[[65847,65855],"valid",[],"NV8"],[[65856,65930],"valid",[],"NV8"],[[65931,65932],"valid",[],"NV8"],[[65933,65935],"disallowed"],[[65936,65947],"valid",[],"NV8"],[[65948,65951],"disallowed"],[[65952,65952],"valid",[],"NV8"],[[65953,65999],"disallowed"],[[66000,66044],"valid",[],"NV8"],[[66045,66045],"valid"],[[66046,66175],"disallowed"],[[66176,66204],"valid"],[[66205,66207],"disallowed"],[[66208,66256],"valid"],[[66257,66271],"disallowed"],[[66272,66272],"valid"],[[66273,66299],"valid",[],"NV8"],[[66300,66303],"disallowed"],[[66304,66334],"valid"],[[66335,66335],"valid"],[[66336,66339],"valid",[],"NV8"],[[66340,66351],"disallowed"],[[66352,66368],"valid"],[[66369,66369],"valid",[],"NV8"],[[66370,66377],"valid"],[[66378,66378],"valid",[],"NV8"],[[66379,66383],"disallowed"],[[66384,66426],"valid"],[[66427,66431],"disallowed"],[[66432,66461],"valid"],[[66462,66462],"disallowed"],[[66463,66463],"valid",[],"NV8"],[[66464,66499],"valid"],[[66500,66503],"disallowed"],[[66504,66511],"valid"],[[66512,66517],"valid",[],"NV8"],[[66518,66559],"disallowed"],[[66560,66560],"mapped",[66600]],[[66561,66561],"mapped",[66601]],[[66562,66562],"mapped",[66602]],[[66563,66563],"mapped",[66603]],[[66564,66564],"mapped",[66604]],[[66565,66565],"mapped",[66605]],[[66566,66566],"mapped",[66606]],[[66567,66567],"mapped",[66607]],[[66568,66568],"mapped",[66608]],[[66569,66569],"mapped",[66609]],[[66570,66570],"mapped",[66610]],[[66571,66571],"mapped",[66611]],[[66572,66572],"mapped",[66612]],[[66573,66573],"mapped",[66613]],[[66574,66574],"mapped",[66614]],[[66575,66575],"mapped",[66615]],[[66576,66576],"mapped",[66616]],[[66577,66577],"mapped",[66617]],[[66578,66578],"mapped",[66618]],[[66579,66579],"mapped",[66619]],[[66580,66580],"mapped",[66620]],[[66581,66581],"mapped",[66621]],[[66582,66582],"mapped",[66622]],[[66583,66583],"mapped",[66623]],[[66584,66584],"mapped",[66624]],[[66585,66585],"mapped",[66625]],[[66586,66586],"mapped",[66626]],[[66587,66587],"mapped",[66627]],[[66588,66588],"mapped",[66628]],[[66589,66589],"mapped",[66629]],[[66590,66590],"mapped",[66630]],[[66591,66591],"mapped",[66631]],[[66592,66592],"mapped",[66632]],[[66593,66593],"mapped",[66633]],[[66594,66594],"mapped",[66634]],[[66595,66595],"mapped",[66635]],[[66596,66596],"mapped",[66636]],[[66597,66597],"mapped",[66637]],[[66598,66598],"mapped",[66638]],[[66599,66599],"mapped",[66639]],[[66600,66637],"valid"],[[66638,66717],"valid"],[[66718,66719],"disallowed"],[[66720,66729],"valid"],[[66730,66815],"disallowed"],[[66816,66855],"valid"],[[66856,66863],"disallowed"],[[66864,66915],"valid"],[[66916,66926],"disallowed"],[[66927,66927],"valid",[],"NV8"],[[66928,67071],"disallowed"],[[67072,67382],"valid"],[[67383,67391],"disallowed"],[[67392,67413],"valid"],[[67414,67423],"disallowed"],[[67424,67431],"valid"],[[67432,67583],"disallowed"],[[67584,67589],"valid"],[[67590,67591],"disallowed"],[[67592,67592],"valid"],[[67593,67593],"disallowed"],[[67594,67637],"valid"],[[67638,67638],"disallowed"],[[67639,67640],"valid"],[[67641,67643],"disallowed"],[[67644,67644],"valid"],[[67645,67646],"disallowed"],[[67647,67647],"valid"],[[67648,67669],"valid"],[[67670,67670],"disallowed"],[[67671,67679],"valid",[],"NV8"],[[67680,67702],"valid"],[[67703,67711],"valid",[],"NV8"],[[67712,67742],"valid"],[[67743,67750],"disallowed"],[[67751,67759],"valid",[],"NV8"],[[67760,67807],"disallowed"],[[67808,67826],"valid"],[[67827,67827],"disallowed"],[[67828,67829],"valid"],[[67830,67834],"disallowed"],[[67835,67839],"valid",[],"NV8"],[[67840,67861],"valid"],[[67862,67865],"valid",[],"NV8"],[[67866,67867],"valid",[],"NV8"],[[67868,67870],"disallowed"],[[67871,67871],"valid",[],"NV8"],[[67872,67897],"valid"],[[67898,67902],"disallowed"],[[67903,67903],"valid",[],"NV8"],[[67904,67967],"disallowed"],[[67968,68023],"valid"],[[68024,68027],"disallowed"],[[68028,68029],"valid",[],"NV8"],[[68030,68031],"valid"],[[68032,68047],"valid",[],"NV8"],[[68048,68049],"disallowed"],[[68050,68095],"valid",[],"NV8"],[[68096,68099],"valid"],[[68100,68100],"disallowed"],[[68101,68102],"valid"],[[68103,68107],"disallowed"],[[68108,68115],"valid"],[[68116,68116],"disallowed"],[[68117,68119],"valid"],[[68120,68120],"disallowed"],[[68121,68147],"valid"],[[68148,68151],"disallowed"],[[68152,68154],"valid"],[[68155,68158],"disallowed"],[[68159,68159],"valid"],[[68160,68167],"valid",[],"NV8"],[[68168,68175],"disallowed"],[[68176,68184],"valid",[],"NV8"],[[68185,68191],"disallowed"],[[68192,68220],"valid"],[[68221,68223],"valid",[],"NV8"],[[68224,68252],"valid"],[[68253,68255],"valid",[],"NV8"],[[68256,68287],"disallowed"],[[68288,68295],"valid"],[[68296,68296],"valid",[],"NV8"],[[68297,68326],"valid"],[[68327,68330],"disallowed"],[[68331,68342],"valid",[],"NV8"],[[68343,68351],"disallowed"],[[68352,68405],"valid"],[[68406,68408],"disallowed"],[[68409,68415],"valid",[],"NV8"],[[68416,68437],"valid"],[[68438,68439],"disallowed"],[[68440,68447],"valid",[],"NV8"],[[68448,68466],"valid"],[[68467,68471],"disallowed"],[[68472,68479],"valid",[],"NV8"],[[68480,68497],"valid"],[[68498,68504],"disallowed"],[[68505,68508],"valid",[],"NV8"],[[68509,68520],"disallowed"],[[68521,68527],"valid",[],"NV8"],[[68528,68607],"disallowed"],[[68608,68680],"valid"],[[68681,68735],"disallowed"],[[68736,68736],"mapped",[68800]],[[68737,68737],"mapped",[68801]],[[68738,68738],"mapped",[68802]],[[68739,68739],"mapped",[68803]],[[68740,68740],"mapped",[68804]],[[68741,68741],"mapped",[68805]],[[68742,68742],"mapped",[68806]],[[68743,68743],"mapped",[68807]],[[68744,68744],"mapped",[68808]],[[68745,68745],"mapped",[68809]],[[68746,68746],"mapped",[68810]],[[68747,68747],"mapped",[68811]],[[68748,68748],"mapped",[68812]],[[68749,68749],"mapped",[68813]],[[68750,68750],"mapped",[68814]],[[68751,68751],"mapped",[68815]],[[68752,68752],"mapped",[68816]],[[68753,68753],"mapped",[68817]],[[68754,68754],"mapped",[68818]],[[68755,68755],"mapped",[68819]],[[68756,68756],"mapped",[68820]],[[68757,68757],"mapped",[68821]],[[68758,68758],"mapped",[68822]],[[68759,68759],"mapped",[68823]],[[68760,68760],"mapped",[68824]],[[68761,68761],"mapped",[68825]],[[68762,68762],"mapped",[68826]],[[68763,68763],"mapped",[68827]],[[68764,68764],"mapped",[68828]],[[68765,68765],"mapped",[68829]],[[68766,68766],"mapped",[68830]],[[68767,68767],"mapped",[68831]],[[68768,68768],"mapped",[68832]],[[68769,68769],"mapped",[68833]],[[68770,68770],"mapped",[68834]],[[68771,68771],"mapped",[68835]],[[68772,68772],"mapped",[68836]],[[68773,68773],"mapped",[68837]],[[68774,68774],"mapped",[68838]],[[68775,68775],"mapped",[68839]],[[68776,68776],"mapped",[68840]],[[68777,68777],"mapped",[68841]],[[68778,68778],"mapped",[68842]],[[68779,68779],"mapped",[68843]],[[68780,68780],"mapped",[68844]],[[68781,68781],"mapped",[68845]],[[68782,68782],"mapped",[68846]],[[68783,68783],"mapped",[68847]],[[68784,68784],"mapped",[68848]],[[68785,68785],"mapped",[68849]],[[68786,68786],"mapped",[68850]],[[68787,68799],"disallowed"],[[68800,68850],"valid"],[[68851,68857],"disallowed"],[[68858,68863],"valid",[],"NV8"],[[68864,69215],"disallowed"],[[69216,69246],"valid",[],"NV8"],[[69247,69631],"disallowed"],[[69632,69702],"valid"],[[69703,69709],"valid",[],"NV8"],[[69710,69713],"disallowed"],[[69714,69733],"valid",[],"NV8"],[[69734,69743],"valid"],[[69744,69758],"disallowed"],[[69759,69759],"valid"],[[69760,69818],"valid"],[[69819,69820],"valid",[],"NV8"],[[69821,69821],"disallowed"],[[69822,69825],"valid",[],"NV8"],[[69826,69839],"disallowed"],[[69840,69864],"valid"],[[69865,69871],"disallowed"],[[69872,69881],"valid"],[[69882,69887],"disallowed"],[[69888,69940],"valid"],[[69941,69941],"disallowed"],[[69942,69951],"valid"],[[69952,69955],"valid",[],"NV8"],[[69956,69967],"disallowed"],[[69968,70003],"valid"],[[70004,70005],"valid",[],"NV8"],[[70006,70006],"valid"],[[70007,70015],"disallowed"],[[70016,70084],"valid"],[[70085,70088],"valid",[],"NV8"],[[70089,70089],"valid",[],"NV8"],[[70090,70092],"valid"],[[70093,70093],"valid",[],"NV8"],[[70094,70095],"disallowed"],[[70096,70105],"valid"],[[70106,70106],"valid"],[[70107,70107],"valid",[],"NV8"],[[70108,70108],"valid"],[[70109,70111],"valid",[],"NV8"],[[70112,70112],"disallowed"],[[70113,70132],"valid",[],"NV8"],[[70133,70143],"disallowed"],[[70144,70161],"valid"],[[70162,70162],"disallowed"],[[70163,70199],"valid"],[[70200,70205],"valid",[],"NV8"],[[70206,70271],"disallowed"],[[70272,70278],"valid"],[[70279,70279],"disallowed"],[[70280,70280],"valid"],[[70281,70281],"disallowed"],[[70282,70285],"valid"],[[70286,70286],"disallowed"],[[70287,70301],"valid"],[[70302,70302],"disallowed"],[[70303,70312],"valid"],[[70313,70313],"valid",[],"NV8"],[[70314,70319],"disallowed"],[[70320,70378],"valid"],[[70379,70383],"disallowed"],[[70384,70393],"valid"],[[70394,70399],"disallowed"],[[70400,70400],"valid"],[[70401,70403],"valid"],[[70404,70404],"disallowed"],[[70405,70412],"valid"],[[70413,70414],"disallowed"],[[70415,70416],"valid"],[[70417,70418],"disallowed"],[[70419,70440],"valid"],[[70441,70441],"disallowed"],[[70442,70448],"valid"],[[70449,70449],"disallowed"],[[70450,70451],"valid"],[[70452,70452],"disallowed"],[[70453,70457],"valid"],[[70458,70459],"disallowed"],[[70460,70468],"valid"],[[70469,70470],"disallowed"],[[70471,70472],"valid"],[[70473,70474],"disallowed"],[[70475,70477],"valid"],[[70478,70479],"disallowed"],[[70480,70480],"valid"],[[70481,70486],"disallowed"],[[70487,70487],"valid"],[[70488,70492],"disallowed"],[[70493,70499],"valid"],[[70500,70501],"disallowed"],[[70502,70508],"valid"],[[70509,70511],"disallowed"],[[70512,70516],"valid"],[[70517,70783],"disallowed"],[[70784,70853],"valid"],[[70854,70854],"valid",[],"NV8"],[[70855,70855],"valid"],[[70856,70863],"disallowed"],[[70864,70873],"valid"],[[70874,71039],"disallowed"],[[71040,71093],"valid"],[[71094,71095],"disallowed"],[[71096,71104],"valid"],[[71105,71113],"valid",[],"NV8"],[[71114,71127],"valid",[],"NV8"],[[71128,71133],"valid"],[[71134,71167],"disallowed"],[[71168,71232],"valid"],[[71233,71235],"valid",[],"NV8"],[[71236,71236],"valid"],[[71237,71247],"disallowed"],[[71248,71257],"valid"],[[71258,71295],"disallowed"],[[71296,71351],"valid"],[[71352,71359],"disallowed"],[[71360,71369],"valid"],[[71370,71423],"disallowed"],[[71424,71449],"valid"],[[71450,71452],"disallowed"],[[71453,71467],"valid"],[[71468,71471],"disallowed"],[[71472,71481],"valid"],[[71482,71487],"valid",[],"NV8"],[[71488,71839],"disallowed"],[[71840,71840],"mapped",[71872]],[[71841,71841],"mapped",[71873]],[[71842,71842],"mapped",[71874]],[[71843,71843],"mapped",[71875]],[[71844,71844],"mapped",[71876]],[[71845,71845],"mapped",[71877]],[[71846,71846],"mapped",[71878]],[[71847,71847],"mapped",[71879]],[[71848,71848],"mapped",[71880]],[[71849,71849],"mapped",[71881]],[[71850,71850],"mapped",[71882]],[[71851,71851],"mapped",[71883]],[[71852,71852],"mapped",[71884]],[[71853,71853],"mapped",[71885]],[[71854,71854],"mapped",[71886]],[[71855,71855],"mapped",[71887]],[[71856,71856],"mapped",[71888]],[[71857,71857],"mapped",[71889]],[[71858,71858],"mapped",[71890]],[[71859,71859],"mapped",[71891]],[[71860,71860],"mapped",[71892]],[[71861,71861],"mapped",[71893]],[[71862,71862],"mapped",[71894]],[[71863,71863],"mapped",[71895]],[[71864,71864],"mapped",[71896]],[[71865,71865],"mapped",[71897]],[[71866,71866],"mapped",[71898]],[[71867,71867],"mapped",[71899]],[[71868,71868],"mapped",[71900]],[[71869,71869],"mapped",[71901]],[[71870,71870],"mapped",[71902]],[[71871,71871],"mapped",[71903]],[[71872,71913],"valid"],[[71914,71922],"valid",[],"NV8"],[[71923,71934],"disallowed"],[[71935,71935],"valid"],[[71936,72383],"disallowed"],[[72384,72440],"valid"],[[72441,73727],"disallowed"],[[73728,74606],"valid"],[[74607,74648],"valid"],[[74649,74649],"valid"],[[74650,74751],"disallowed"],[[74752,74850],"valid",[],"NV8"],[[74851,74862],"valid",[],"NV8"],[[74863,74863],"disallowed"],[[74864,74867],"valid",[],"NV8"],[[74868,74868],"valid",[],"NV8"],[[74869,74879],"disallowed"],[[74880,75075],"valid"],[[75076,77823],"disallowed"],[[77824,78894],"valid"],[[78895,82943],"disallowed"],[[82944,83526],"valid"],[[83527,92159],"disallowed"],[[92160,92728],"valid"],[[92729,92735],"disallowed"],[[92736,92766],"valid"],[[92767,92767],"disallowed"],[[92768,92777],"valid"],[[92778,92781],"disallowed"],[[92782,92783],"valid",[],"NV8"],[[92784,92879],"disallowed"],[[92880,92909],"valid"],[[92910,92911],"disallowed"],[[92912,92916],"valid"],[[92917,92917],"valid",[],"NV8"],[[92918,92927],"disallowed"],[[92928,92982],"valid"],[[92983,92991],"valid",[],"NV8"],[[92992,92995],"valid"],[[92996,92997],"valid",[],"NV8"],[[92998,93007],"disallowed"],[[93008,93017],"valid"],[[93018,93018],"disallowed"],[[93019,93025],"valid",[],"NV8"],[[93026,93026],"disallowed"],[[93027,93047],"valid"],[[93048,93052],"disallowed"],[[93053,93071],"valid"],[[93072,93951],"disallowed"],[[93952,94020],"valid"],[[94021,94031],"disallowed"],[[94032,94078],"valid"],[[94079,94094],"disallowed"],[[94095,94111],"valid"],[[94112,110591],"disallowed"],[[110592,110593],"valid"],[[110594,113663],"disallowed"],[[113664,113770],"valid"],[[113771,113775],"disallowed"],[[113776,113788],"valid"],[[113789,113791],"disallowed"],[[113792,113800],"valid"],[[113801,113807],"disallowed"],[[113808,113817],"valid"],[[113818,113819],"disallowed"],[[113820,113820],"valid",[],"NV8"],[[113821,113822],"valid"],[[113823,113823],"valid",[],"NV8"],[[113824,113827],"ignored"],[[113828,118783],"disallowed"],[[118784,119029],"valid",[],"NV8"],[[119030,119039],"disallowed"],[[119040,119078],"valid",[],"NV8"],[[119079,119080],"disallowed"],[[119081,119081],"valid",[],"NV8"],[[119082,119133],"valid",[],"NV8"],[[119134,119134],"mapped",[119127,119141]],[[119135,119135],"mapped",[119128,119141]],[[119136,119136],"mapped",[119128,119141,119150]],[[119137,119137],"mapped",[119128,119141,119151]],[[119138,119138],"mapped",[119128,119141,119152]],[[119139,119139],"mapped",[119128,119141,119153]],[[119140,119140],"mapped",[119128,119141,119154]],[[119141,119154],"valid",[],"NV8"],[[119155,119162],"disallowed"],[[119163,119226],"valid",[],"NV8"],[[119227,119227],"mapped",[119225,119141]],[[119228,119228],"mapped",[119226,119141]],[[119229,119229],"mapped",[119225,119141,119150]],[[119230,119230],"mapped",[119226,119141,119150]],[[119231,119231],"mapped",[119225,119141,119151]],[[119232,119232],"mapped",[119226,119141,119151]],[[119233,119261],"valid",[],"NV8"],[[119262,119272],"valid",[],"NV8"],[[119273,119295],"disallowed"],[[119296,119365],"valid",[],"NV8"],[[119366,119551],"disallowed"],[[119552,119638],"valid",[],"NV8"],[[119639,119647],"disallowed"],[[119648,119665],"valid",[],"NV8"],[[119666,119807],"disallowed"],[[119808,119808],"mapped",[97]],[[119809,119809],"mapped",[98]],[[119810,119810],"mapped",[99]],[[119811,119811],"mapped",[100]],[[119812,119812],"mapped",[101]],[[119813,119813],"mapped",[102]],[[119814,119814],"mapped",[103]],[[119815,119815],"mapped",[104]],[[119816,119816],"mapped",[105]],[[119817,119817],"mapped",[106]],[[119818,119818],"mapped",[107]],[[119819,119819],"mapped",[108]],[[119820,119820],"mapped",[109]],[[119821,119821],"mapped",[110]],[[119822,119822],"mapped",[111]],[[119823,119823],"mapped",[112]],[[119824,119824],"mapped",[113]],[[119825,119825],"mapped",[114]],[[119826,119826],"mapped",[115]],[[119827,119827],"mapped",[116]],[[119828,119828],"mapped",[117]],[[119829,119829],"mapped",[118]],[[119830,119830],"mapped",[119]],[[119831,119831],"mapped",[120]],[[119832,119832],"mapped",[121]],[[119833,119833],"mapped",[122]],[[119834,119834],"mapped",[97]],[[119835,119835],"mapped",[98]],[[119836,119836],"mapped",[99]],[[119837,119837],"mapped",[100]],[[119838,119838],"mapped",[101]],[[119839,119839],"mapped",[102]],[[119840,119840],"mapped",[103]],[[119841,119841],"mapped",[104]],[[119842,119842],"mapped",[105]],[[119843,119843],"mapped",[106]],[[119844,119844],"mapped",[107]],[[119845,119845],"mapped",[108]],[[119846,119846],"mapped",[109]],[[119847,119847],"mapped",[110]],[[119848,119848],"mapped",[111]],[[119849,119849],"mapped",[112]],[[119850,119850],"mapped",[113]],[[119851,119851],"mapped",[114]],[[119852,119852],"mapped",[115]],[[119853,119853],"mapped",[116]],[[119854,119854],"mapped",[117]],[[119855,119855],"mapped",[118]],[[119856,119856],"mapped",[119]],[[119857,119857],"mapped",[120]],[[119858,119858],"mapped",[121]],[[119859,119859],"mapped",[122]],[[119860,119860],"mapped",[97]],[[119861,119861],"mapped",[98]],[[119862,119862],"mapped",[99]],[[119863,119863],"mapped",[100]],[[119864,119864],"mapped",[101]],[[119865,119865],"mapped",[102]],[[119866,119866],"mapped",[103]],[[119867,119867],"mapped",[104]],[[119868,119868],"mapped",[105]],[[119869,119869],"mapped",[106]],[[119870,119870],"mapped",[107]],[[119871,119871],"mapped",[108]],[[119872,119872],"mapped",[109]],[[119873,119873],"mapped",[110]],[[119874,119874],"mapped",[111]],[[119875,119875],"mapped",[112]],[[119876,119876],"mapped",[113]],[[119877,119877],"mapped",[114]],[[119878,119878],"mapped",[115]],[[119879,119879],"mapped",[116]],[[119880,119880],"mapped",[117]],[[119881,119881],"mapped",[118]],[[119882,119882],"mapped",[119]],[[119883,119883],"mapped",[120]],[[119884,119884],"mapped",[121]],[[119885,119885],"mapped",[122]],[[119886,119886],"mapped",[97]],[[119887,119887],"mapped",[98]],[[119888,119888],"mapped",[99]],[[119889,119889],"mapped",[100]],[[119890,119890],"mapped",[101]],[[119891,119891],"mapped",[102]],[[119892,119892],"mapped",[103]],[[119893,119893],"disallowed"],[[119894,119894],"mapped",[105]],[[119895,119895],"mapped",[106]],[[119896,119896],"mapped",[107]],[[119897,119897],"mapped",[108]],[[119898,119898],"mapped",[109]],[[119899,119899],"mapped",[110]],[[119900,119900],"mapped",[111]],[[119901,119901],"mapped",[112]],[[119902,119902],"mapped",[113]],[[119903,119903],"mapped",[114]],[[119904,119904],"mapped",[115]],[[119905,119905],"mapped",[116]],[[119906,119906],"mapped",[117]],[[119907,119907],"mapped",[118]],[[119908,119908],"mapped",[119]],[[119909,119909],"mapped",[120]],[[119910,119910],"mapped",[121]],[[119911,119911],"mapped",[122]],[[119912,119912],"mapped",[97]],[[119913,119913],"mapped",[98]],[[119914,119914],"mapped",[99]],[[119915,119915],"mapped",[100]],[[119916,119916],"mapped",[101]],[[119917,119917],"mapped",[102]],[[119918,119918],"mapped",[103]],[[119919,119919],"mapped",[104]],[[119920,119920],"mapped",[105]],[[119921,119921],"mapped",[106]],[[119922,119922],"mapped",[107]],[[119923,119923],"mapped",[108]],[[119924,119924],"mapped",[109]],[[119925,119925],"mapped",[110]],[[119926,119926],"mapped",[111]],[[119927,119927],"mapped",[112]],[[119928,119928],"mapped",[113]],[[119929,119929],"mapped",[114]],[[119930,119930],"mapped",[115]],[[119931,119931],"mapped",[116]],[[119932,119932],"mapped",[117]],[[119933,119933],"mapped",[118]],[[119934,119934],"mapped",[119]],[[119935,119935],"mapped",[120]],[[119936,119936],"mapped",[121]],[[119937,119937],"mapped",[122]],[[119938,119938],"mapped",[97]],[[119939,119939],"mapped",[98]],[[119940,119940],"mapped",[99]],[[119941,119941],"mapped",[100]],[[119942,119942],"mapped",[101]],[[119943,119943],"mapped",[102]],[[119944,119944],"mapped",[103]],[[119945,119945],"mapped",[104]],[[119946,119946],"mapped",[105]],[[119947,119947],"mapped",[106]],[[119948,119948],"mapped",[107]],[[119949,119949],"mapped",[108]],[[119950,119950],"mapped",[109]],[[119951,119951],"mapped",[110]],[[119952,119952],"mapped",[111]],[[119953,119953],"mapped",[112]],[[119954,119954],"mapped",[113]],[[119955,119955],"mapped",[114]],[[119956,119956],"mapped",[115]],[[119957,119957],"mapped",[116]],[[119958,119958],"mapped",[117]],[[119959,119959],"mapped",[118]],[[119960,119960],"mapped",[119]],[[119961,119961],"mapped",[120]],[[119962,119962],"mapped",[121]],[[119963,119963],"mapped",[122]],[[119964,119964],"mapped",[97]],[[119965,119965],"disallowed"],[[119966,119966],"mapped",[99]],[[119967,119967],"mapped",[100]],[[119968,119969],"disallowed"],[[119970,119970],"mapped",[103]],[[119971,119972],"disallowed"],[[119973,119973],"mapped",[106]],[[119974,119974],"mapped",[107]],[[119975,119976],"disallowed"],[[119977,119977],"mapped",[110]],[[119978,119978],"mapped",[111]],[[119979,119979],"mapped",[112]],[[119980,119980],"mapped",[113]],[[119981,119981],"disallowed"],[[119982,119982],"mapped",[115]],[[119983,119983],"mapped",[116]],[[119984,119984],"mapped",[117]],[[119985,119985],"mapped",[118]],[[119986,119986],"mapped",[119]],[[119987,119987],"mapped",[120]],[[119988,119988],"mapped",[121]],[[119989,119989],"mapped",[122]],[[119990,119990],"mapped",[97]],[[119991,119991],"mapped",[98]],[[119992,119992],"mapped",[99]],[[119993,119993],"mapped",[100]],[[119994,119994],"disallowed"],[[119995,119995],"mapped",[102]],[[119996,119996],"disallowed"],[[119997,119997],"mapped",[104]],[[119998,119998],"mapped",[105]],[[119999,119999],"mapped",[106]],[[120000,120000],"mapped",[107]],[[120001,120001],"mapped",[108]],[[120002,120002],"mapped",[109]],[[120003,120003],"mapped",[110]],[[120004,120004],"disallowed"],[[120005,120005],"mapped",[112]],[[120006,120006],"mapped",[113]],[[120007,120007],"mapped",[114]],[[120008,120008],"mapped",[115]],[[120009,120009],"mapped",[116]],[[120010,120010],"mapped",[117]],[[120011,120011],"mapped",[118]],[[120012,120012],"mapped",[119]],[[120013,120013],"mapped",[120]],[[120014,120014],"mapped",[121]],[[120015,120015],"mapped",[122]],[[120016,120016],"mapped",[97]],[[120017,120017],"mapped",[98]],[[120018,120018],"mapped",[99]],[[120019,120019],"mapped",[100]],[[120020,120020],"mapped",[101]],[[120021,120021],"mapped",[102]],[[120022,120022],"mapped",[103]],[[120023,120023],"mapped",[104]],[[120024,120024],"mapped",[105]],[[120025,120025],"mapped",[106]],[[120026,120026],"mapped",[107]],[[120027,120027],"mapped",[108]],[[120028,120028],"mapped",[109]],[[120029,120029],"mapped",[110]],[[120030,120030],"mapped",[111]],[[120031,120031],"mapped",[112]],[[120032,120032],"mapped",[113]],[[120033,120033],"mapped",[114]],[[120034,120034],"mapped",[115]],[[120035,120035],"mapped",[116]],[[120036,120036],"mapped",[117]],[[120037,120037],"mapped",[118]],[[120038,120038],"mapped",[119]],[[120039,120039],"mapped",[120]],[[120040,120040],"mapped",[121]],[[120041,120041],"mapped",[122]],[[120042,120042],"mapped",[97]],[[120043,120043],"mapped",[98]],[[120044,120044],"mapped",[99]],[[120045,120045],"mapped",[100]],[[120046,120046],"mapped",[101]],[[120047,120047],"mapped",[102]],[[120048,120048],"mapped",[103]],[[120049,120049],"mapped",[104]],[[120050,120050],"mapped",[105]],[[120051,120051],"mapped",[106]],[[120052,120052],"mapped",[107]],[[120053,120053],"mapped",[108]],[[120054,120054],"mapped",[109]],[[120055,120055],"mapped",[110]],[[120056,120056],"mapped",[111]],[[120057,120057],"mapped",[112]],[[120058,120058],"mapped",[113]],[[120059,120059],"mapped",[114]],[[120060,120060],"mapped",[115]],[[120061,120061],"mapped",[116]],[[120062,120062],"mapped",[117]],[[120063,120063],"mapped",[118]],[[120064,120064],"mapped",[119]],[[120065,120065],"mapped",[120]],[[120066,120066],"mapped",[121]],[[120067,120067],"mapped",[122]],[[120068,120068],"mapped",[97]],[[120069,120069],"mapped",[98]],[[120070,120070],"disallowed"],[[120071,120071],"mapped",[100]],[[120072,120072],"mapped",[101]],[[120073,120073],"mapped",[102]],[[120074,120074],"mapped",[103]],[[120075,120076],"disallowed"],[[120077,120077],"mapped",[106]],[[120078,120078],"mapped",[107]],[[120079,120079],"mapped",[108]],[[120080,120080],"mapped",[109]],[[120081,120081],"mapped",[110]],[[120082,120082],"mapped",[111]],[[120083,120083],"mapped",[112]],[[120084,120084],"mapped",[113]],[[120085,120085],"disallowed"],[[120086,120086],"mapped",[115]],[[120087,120087],"mapped",[116]],[[120088,120088],"mapped",[117]],[[120089,120089],"mapped",[118]],[[120090,120090],"mapped",[119]],[[120091,120091],"mapped",[120]],[[120092,120092],"mapped",[121]],[[120093,120093],"disallowed"],[[120094,120094],"mapped",[97]],[[120095,120095],"mapped",[98]],[[120096,120096],"mapped",[99]],[[120097,120097],"mapped",[100]],[[120098,120098],"mapped",[101]],[[120099,120099],"mapped",[102]],[[120100,120100],"mapped",[103]],[[120101,120101],"mapped",[104]],[[120102,120102],"mapped",[105]],[[120103,120103],"mapped",[106]],[[120104,120104],"mapped",[107]],[[120105,120105],"mapped",[108]],[[120106,120106],"mapped",[109]],[[120107,120107],"mapped",[110]],[[120108,120108],"mapped",[111]],[[120109,120109],"mapped",[112]],[[120110,120110],"mapped",[113]],[[120111,120111],"mapped",[114]],[[120112,120112],"mapped",[115]],[[120113,120113],"mapped",[116]],[[120114,120114],"mapped",[117]],[[120115,120115],"mapped",[118]],[[120116,120116],"mapped",[119]],[[120117,120117],"mapped",[120]],[[120118,120118],"mapped",[121]],[[120119,120119],"mapped",[122]],[[120120,120120],"mapped",[97]],[[120121,120121],"mapped",[98]],[[120122,120122],"disallowed"],[[120123,120123],"mapped",[100]],[[120124,120124],"mapped",[101]],[[120125,120125],"mapped",[102]],[[120126,120126],"mapped",[103]],[[120127,120127],"disallowed"],[[120128,120128],"mapped",[105]],[[120129,120129],"mapped",[106]],[[120130,120130],"mapped",[107]],[[120131,120131],"mapped",[108]],[[120132,120132],"mapped",[109]],[[120133,120133],"disallowed"],[[120134,120134],"mapped",[111]],[[120135,120137],"disallowed"],[[120138,120138],"mapped",[115]],[[120139,120139],"mapped",[116]],[[120140,120140],"mapped",[117]],[[120141,120141],"mapped",[118]],[[120142,120142],"mapped",[119]],[[120143,120143],"mapped",[120]],[[120144,120144],"mapped",[121]],[[120145,120145],"disallowed"],[[120146,120146],"mapped",[97]],[[120147,120147],"mapped",[98]],[[120148,120148],"mapped",[99]],[[120149,120149],"mapped",[100]],[[120150,120150],"mapped",[101]],[[120151,120151],"mapped",[102]],[[120152,120152],"mapped",[103]],[[120153,120153],"mapped",[104]],[[120154,120154],"mapped",[105]],[[120155,120155],"mapped",[106]],[[120156,120156],"mapped",[107]],[[120157,120157],"mapped",[108]],[[120158,120158],"mapped",[109]],[[120159,120159],"mapped",[110]],[[120160,120160],"mapped",[111]],[[120161,120161],"mapped",[112]],[[120162,120162],"mapped",[113]],[[120163,120163],"mapped",[114]],[[120164,120164],"mapped",[115]],[[120165,120165],"mapped",[116]],[[120166,120166],"mapped",[117]],[[120167,120167],"mapped",[118]],[[120168,120168],"mapped",[119]],[[120169,120169],"mapped",[120]],[[120170,120170],"mapped",[121]],[[120171,120171],"mapped",[122]],[[120172,120172],"mapped",[97]],[[120173,120173],"mapped",[98]],[[120174,120174],"mapped",[99]],[[120175,120175],"mapped",[100]],[[120176,120176],"mapped",[101]],[[120177,120177],"mapped",[102]],[[120178,120178],"mapped",[103]],[[120179,120179],"mapped",[104]],[[120180,120180],"mapped",[105]],[[120181,120181],"mapped",[106]],[[120182,120182],"mapped",[107]],[[120183,120183],"mapped",[108]],[[120184,120184],"mapped",[109]],[[120185,120185],"mapped",[110]],[[120186,120186],"mapped",[111]],[[120187,120187],"mapped",[112]],[[120188,120188],"mapped",[113]],[[120189,120189],"mapped",[114]],[[120190,120190],"mapped",[115]],[[120191,120191],"mapped",[116]],[[120192,120192],"mapped",[117]],[[120193,120193],"mapped",[118]],[[120194,120194],"mapped",[119]],[[120195,120195],"mapped",[120]],[[120196,120196],"mapped",[121]],[[120197,120197],"mapped",[122]],[[120198,120198],"mapped",[97]],[[120199,120199],"mapped",[98]],[[120200,120200],"mapped",[99]],[[120201,120201],"mapped",[100]],[[120202,120202],"mapped",[101]],[[120203,120203],"mapped",[102]],[[120204,120204],"mapped",[103]],[[120205,120205],"mapped",[104]],[[120206,120206],"mapped",[105]],[[120207,120207],"mapped",[106]],[[120208,120208],"mapped",[107]],[[120209,120209],"mapped",[108]],[[120210,120210],"mapped",[109]],[[120211,120211],"mapped",[110]],[[120212,120212],"mapped",[111]],[[120213,120213],"mapped",[112]],[[120214,120214],"mapped",[113]],[[120215,120215],"mapped",[114]],[[120216,120216],"mapped",[115]],[[120217,120217],"mapped",[116]],[[120218,120218],"mapped",[117]],[[120219,120219],"mapped",[118]],[[120220,120220],"mapped",[119]],[[120221,120221],"mapped",[120]],[[120222,120222],"mapped",[121]],[[120223,120223],"mapped",[122]],[[120224,120224],"mapped",[97]],[[120225,120225],"mapped",[98]],[[120226,120226],"mapped",[99]],[[120227,120227],"mapped",[100]],[[120228,120228],"mapped",[101]],[[120229,120229],"mapped",[102]],[[120230,120230],"mapped",[103]],[[120231,120231],"mapped",[104]],[[120232,120232],"mapped",[105]],[[120233,120233],"mapped",[106]],[[120234,120234],"mapped",[107]],[[120235,120235],"mapped",[108]],[[120236,120236],"mapped",[109]],[[120237,120237],"mapped",[110]],[[120238,120238],"mapped",[111]],[[120239,120239],"mapped",[112]],[[120240,120240],"mapped",[113]],[[120241,120241],"mapped",[114]],[[120242,120242],"mapped",[115]],[[120243,120243],"mapped",[116]],[[120244,120244],"mapped",[117]],[[120245,120245],"mapped",[118]],[[120246,120246],"mapped",[119]],[[120247,120247],"mapped",[120]],[[120248,120248],"mapped",[121]],[[120249,120249],"mapped",[122]],[[120250,120250],"mapped",[97]],[[120251,120251],"mapped",[98]],[[120252,120252],"mapped",[99]],[[120253,120253],"mapped",[100]],[[120254,120254],"mapped",[101]],[[120255,120255],"mapped",[102]],[[120256,120256],"mapped",[103]],[[120257,120257],"mapped",[104]],[[120258,120258],"mapped",[105]],[[120259,120259],"mapped",[106]],[[120260,120260],"mapped",[107]],[[120261,120261],"mapped",[108]],[[120262,120262],"mapped",[109]],[[120263,120263],"mapped",[110]],[[120264,120264],"mapped",[111]],[[120265,120265],"mapped",[112]],[[120266,120266],"mapped",[113]],[[120267,120267],"mapped",[114]],[[120268,120268],"mapped",[115]],[[120269,120269],"mapped",[116]],[[120270,120270],"mapped",[117]],[[120271,120271],"mapped",[118]],[[120272,120272],"mapped",[119]],[[120273,120273],"mapped",[120]],[[120274,120274],"mapped",[121]],[[120275,120275],"mapped",[122]],[[120276,120276],"mapped",[97]],[[120277,120277],"mapped",[98]],[[120278,120278],"mapped",[99]],[[120279,120279],"mapped",[100]],[[120280,120280],"mapped",[101]],[[120281,120281],"mapped",[102]],[[120282,120282],"mapped",[103]],[[120283,120283],"mapped",[104]],[[120284,120284],"mapped",[105]],[[120285,120285],"mapped",[106]],[[120286,120286],"mapped",[107]],[[120287,120287],"mapped",[108]],[[120288,120288],"mapped",[109]],[[120289,120289],"mapped",[110]],[[120290,120290],"mapped",[111]],[[120291,120291],"mapped",[112]],[[120292,120292],"mapped",[113]],[[120293,120293],"mapped",[114]],[[120294,120294],"mapped",[115]],[[120295,120295],"mapped",[116]],[[120296,120296],"mapped",[117]],[[120297,120297],"mapped",[118]],[[120298,120298],"mapped",[119]],[[120299,120299],"mapped",[120]],[[120300,120300],"mapped",[121]],[[120301,120301],"mapped",[122]],[[120302,120302],"mapped",[97]],[[120303,120303],"mapped",[98]],[[120304,120304],"mapped",[99]],[[120305,120305],"mapped",[100]],[[120306,120306],"mapped",[101]],[[120307,120307],"mapped",[102]],[[120308,120308],"mapped",[103]],[[120309,120309],"mapped",[104]],[[120310,120310],"mapped",[105]],[[120311,120311],"mapped",[106]],[[120312,120312],"mapped",[107]],[[120313,120313],"mapped",[108]],[[120314,120314],"mapped",[109]],[[120315,120315],"mapped",[110]],[[120316,120316],"mapped",[111]],[[120317,120317],"mapped",[112]],[[120318,120318],"mapped",[113]],[[120319,120319],"mapped",[114]],[[120320,120320],"mapped",[115]],[[120321,120321],"mapped",[116]],[[120322,120322],"mapped",[117]],[[120323,120323],"mapped",[118]],[[120324,120324],"mapped",[119]],[[120325,120325],"mapped",[120]],[[120326,120326],"mapped",[121]],[[120327,120327],"mapped",[122]],[[120328,120328],"mapped",[97]],[[120329,120329],"mapped",[98]],[[120330,120330],"mapped",[99]],[[120331,120331],"mapped",[100]],[[120332,120332],"mapped",[101]],[[120333,120333],"mapped",[102]],[[120334,120334],"mapped",[103]],[[120335,120335],"mapped",[104]],[[120336,120336],"mapped",[105]],[[120337,120337],"mapped",[106]],[[120338,120338],"mapped",[107]],[[120339,120339],"mapped",[108]],[[120340,120340],"mapped",[109]],[[120341,120341],"mapped",[110]],[[120342,120342],"mapped",[111]],[[120343,120343],"mapped",[112]],[[120344,120344],"mapped",[113]],[[120345,120345],"mapped",[114]],[[120346,120346],"mapped",[115]],[[120347,120347],"mapped",[116]],[[120348,120348],"mapped",[117]],[[120349,120349],"mapped",[118]],[[120350,120350],"mapped",[119]],[[120351,120351],"mapped",[120]],[[120352,120352],"mapped",[121]],[[120353,120353],"mapped",[122]],[[120354,120354],"mapped",[97]],[[120355,120355],"mapped",[98]],[[120356,120356],"mapped",[99]],[[120357,120357],"mapped",[100]],[[120358,120358],"mapped",[101]],[[120359,120359],"mapped",[102]],[[120360,120360],"mapped",[103]],[[120361,120361],"mapped",[104]],[[120362,120362],"mapped",[105]],[[120363,120363],"mapped",[106]],[[120364,120364],"mapped",[107]],[[120365,120365],"mapped",[108]],[[120366,120366],"mapped",[109]],[[120367,120367],"mapped",[110]],[[120368,120368],"mapped",[111]],[[120369,120369],"mapped",[112]],[[120370,120370],"mapped",[113]],[[120371,120371],"mapped",[114]],[[120372,120372],"mapped",[115]],[[120373,120373],"mapped",[116]],[[120374,120374],"mapped",[117]],[[120375,120375],"mapped",[118]],[[120376,120376],"mapped",[119]],[[120377,120377],"mapped",[120]],[[120378,120378],"mapped",[121]],[[120379,120379],"mapped",[122]],[[120380,120380],"mapped",[97]],[[120381,120381],"mapped",[98]],[[120382,120382],"mapped",[99]],[[120383,120383],"mapped",[100]],[[120384,120384],"mapped",[101]],[[120385,120385],"mapped",[102]],[[120386,120386],"mapped",[103]],[[120387,120387],"mapped",[104]],[[120388,120388],"mapped",[105]],[[120389,120389],"mapped",[106]],[[120390,120390],"mapped",[107]],[[120391,120391],"mapped",[108]],[[120392,120392],"mapped",[109]],[[120393,120393],"mapped",[110]],[[120394,120394],"mapped",[111]],[[120395,120395],"mapped",[112]],[[120396,120396],"mapped",[113]],[[120397,120397],"mapped",[114]],[[120398,120398],"mapped",[115]],[[120399,120399],"mapped",[116]],[[120400,120400],"mapped",[117]],[[120401,120401],"mapped",[118]],[[120402,120402],"mapped",[119]],[[120403,120403],"mapped",[120]],[[120404,120404],"mapped",[121]],[[120405,120405],"mapped",[122]],[[120406,120406],"mapped",[97]],[[120407,120407],"mapped",[98]],[[120408,120408],"mapped",[99]],[[120409,120409],"mapped",[100]],[[120410,120410],"mapped",[101]],[[120411,120411],"mapped",[102]],[[120412,120412],"mapped",[103]],[[120413,120413],"mapped",[104]],[[120414,120414],"mapped",[105]],[[120415,120415],"mapped",[106]],[[120416,120416],"mapped",[107]],[[120417,120417],"mapped",[108]],[[120418,120418],"mapped",[109]],[[120419,120419],"mapped",[110]],[[120420,120420],"mapped",[111]],[[120421,120421],"mapped",[112]],[[120422,120422],"mapped",[113]],[[120423,120423],"mapped",[114]],[[120424,120424],"mapped",[115]],[[120425,120425],"mapped",[116]],[[120426,120426],"mapped",[117]],[[120427,120427],"mapped",[118]],[[120428,120428],"mapped",[119]],[[120429,120429],"mapped",[120]],[[120430,120430],"mapped",[121]],[[120431,120431],"mapped",[122]],[[120432,120432],"mapped",[97]],[[120433,120433],"mapped",[98]],[[120434,120434],"mapped",[99]],[[120435,120435],"mapped",[100]],[[120436,120436],"mapped",[101]],[[120437,120437],"mapped",[102]],[[120438,120438],"mapped",[103]],[[120439,120439],"mapped",[104]],[[120440,120440],"mapped",[105]],[[120441,120441],"mapped",[106]],[[120442,120442],"mapped",[107]],[[120443,120443],"mapped",[108]],[[120444,120444],"mapped",[109]],[[120445,120445],"mapped",[110]],[[120446,120446],"mapped",[111]],[[120447,120447],"mapped",[112]],[[120448,120448],"mapped",[113]],[[120449,120449],"mapped",[114]],[[120450,120450],"mapped",[115]],[[120451,120451],"mapped",[116]],[[120452,120452],"mapped",[117]],[[120453,120453],"mapped",[118]],[[120454,120454],"mapped",[119]],[[120455,120455],"mapped",[120]],[[120456,120456],"mapped",[121]],[[120457,120457],"mapped",[122]],[[120458,120458],"mapped",[97]],[[120459,120459],"mapped",[98]],[[120460,120460],"mapped",[99]],[[120461,120461],"mapped",[100]],[[120462,120462],"mapped",[101]],[[120463,120463],"mapped",[102]],[[120464,120464],"mapped",[103]],[[120465,120465],"mapped",[104]],[[120466,120466],"mapped",[105]],[[120467,120467],"mapped",[106]],[[120468,120468],"mapped",[107]],[[120469,120469],"mapped",[108]],[[120470,120470],"mapped",[109]],[[120471,120471],"mapped",[110]],[[120472,120472],"mapped",[111]],[[120473,120473],"mapped",[112]],[[120474,120474],"mapped",[113]],[[120475,120475],"mapped",[114]],[[120476,120476],"mapped",[115]],[[120477,120477],"mapped",[116]],[[120478,120478],"mapped",[117]],[[120479,120479],"mapped",[118]],[[120480,120480],"mapped",[119]],[[120481,120481],"mapped",[120]],[[120482,120482],"mapped",[121]],[[120483,120483],"mapped",[122]],[[120484,120484],"mapped",[305]],[[120485,120485],"mapped",[567]],[[120486,120487],"disallowed"],[[120488,120488],"mapped",[945]],[[120489,120489],"mapped",[946]],[[120490,120490],"mapped",[947]],[[120491,120491],"mapped",[948]],[[120492,120492],"mapped",[949]],[[120493,120493],"mapped",[950]],[[120494,120494],"mapped",[951]],[[120495,120495],"mapped",[952]],[[120496,120496],"mapped",[953]],[[120497,120497],"mapped",[954]],[[120498,120498],"mapped",[955]],[[120499,120499],"mapped",[956]],[[120500,120500],"mapped",[957]],[[120501,120501],"mapped",[958]],[[120502,120502],"mapped",[959]],[[120503,120503],"mapped",[960]],[[120504,120504],"mapped",[961]],[[120505,120505],"mapped",[952]],[[120506,120506],"mapped",[963]],[[120507,120507],"mapped",[964]],[[120508,120508],"mapped",[965]],[[120509,120509],"mapped",[966]],[[120510,120510],"mapped",[967]],[[120511,120511],"mapped",[968]],[[120512,120512],"mapped",[969]],[[120513,120513],"mapped",[8711]],[[120514,120514],"mapped",[945]],[[120515,120515],"mapped",[946]],[[120516,120516],"mapped",[947]],[[120517,120517],"mapped",[948]],[[120518,120518],"mapped",[949]],[[120519,120519],"mapped",[950]],[[120520,120520],"mapped",[951]],[[120521,120521],"mapped",[952]],[[120522,120522],"mapped",[953]],[[120523,120523],"mapped",[954]],[[120524,120524],"mapped",[955]],[[120525,120525],"mapped",[956]],[[120526,120526],"mapped",[957]],[[120527,120527],"mapped",[958]],[[120528,120528],"mapped",[959]],[[120529,120529],"mapped",[960]],[[120530,120530],"mapped",[961]],[[120531,120532],"mapped",[963]],[[120533,120533],"mapped",[964]],[[120534,120534],"mapped",[965]],[[120535,120535],"mapped",[966]],[[120536,120536],"mapped",[967]],[[120537,120537],"mapped",[968]],[[120538,120538],"mapped",[969]],[[120539,120539],"mapped",[8706]],[[120540,120540],"mapped",[949]],[[120541,120541],"mapped",[952]],[[120542,120542],"mapped",[954]],[[120543,120543],"mapped",[966]],[[120544,120544],"mapped",[961]],[[120545,120545],"mapped",[960]],[[120546,120546],"mapped",[945]],[[120547,120547],"mapped",[946]],[[120548,120548],"mapped",[947]],[[120549,120549],"mapped",[948]],[[120550,120550],"mapped",[949]],[[120551,120551],"mapped",[950]],[[120552,120552],"mapped",[951]],[[120553,120553],"mapped",[952]],[[120554,120554],"mapped",[953]],[[120555,120555],"mapped",[954]],[[120556,120556],"mapped",[955]],[[120557,120557],"mapped",[956]],[[120558,120558],"mapped",[957]],[[120559,120559],"mapped",[958]],[[120560,120560],"mapped",[959]],[[120561,120561],"mapped",[960]],[[120562,120562],"mapped",[961]],[[120563,120563],"mapped",[952]],[[120564,120564],"mapped",[963]],[[120565,120565],"mapped",[964]],[[120566,120566],"mapped",[965]],[[120567,120567],"mapped",[966]],[[120568,120568],"mapped",[967]],[[120569,120569],"mapped",[968]],[[120570,120570],"mapped",[969]],[[120571,120571],"mapped",[8711]],[[120572,120572],"mapped",[945]],[[120573,120573],"mapped",[946]],[[120574,120574],"mapped",[947]],[[120575,120575],"mapped",[948]],[[120576,120576],"mapped",[949]],[[120577,120577],"mapped",[950]],[[120578,120578],"mapped",[951]],[[120579,120579],"mapped",[952]],[[120580,120580],"mapped",[953]],[[120581,120581],"mapped",[954]],[[120582,120582],"mapped",[955]],[[120583,120583],"mapped",[956]],[[120584,120584],"mapped",[957]],[[120585,120585],"mapped",[958]],[[120586,120586],"mapped",[959]],[[120587,120587],"mapped",[960]],[[120588,120588],"mapped",[961]],[[120589,120590],"mapped",[963]],[[120591,120591],"mapped",[964]],[[120592,120592],"mapped",[965]],[[120593,120593],"mapped",[966]],[[120594,120594],"mapped",[967]],[[120595,120595],"mapped",[968]],[[120596,120596],"mapped",[969]],[[120597,120597],"mapped",[8706]],[[120598,120598],"mapped",[949]],[[120599,120599],"mapped",[952]],[[120600,120600],"mapped",[954]],[[120601,120601],"mapped",[966]],[[120602,120602],"mapped",[961]],[[120603,120603],"mapped",[960]],[[120604,120604],"mapped",[945]],[[120605,120605],"mapped",[946]],[[120606,120606],"mapped",[947]],[[120607,120607],"mapped",[948]],[[120608,120608],"mapped",[949]],[[120609,120609],"mapped",[950]],[[120610,120610],"mapped",[951]],[[120611,120611],"mapped",[952]],[[120612,120612],"mapped",[953]],[[120613,120613],"mapped",[954]],[[120614,120614],"mapped",[955]],[[120615,120615],"mapped",[956]],[[120616,120616],"mapped",[957]],[[120617,120617],"mapped",[958]],[[120618,120618],"mapped",[959]],[[120619,120619],"mapped",[960]],[[120620,120620],"mapped",[961]],[[120621,120621],"mapped",[952]],[[120622,120622],"mapped",[963]],[[120623,120623],"mapped",[964]],[[120624,120624],"mapped",[965]],[[120625,120625],"mapped",[966]],[[120626,120626],"mapped",[967]],[[120627,120627],"mapped",[968]],[[120628,120628],"mapped",[969]],[[120629,120629],"mapped",[8711]],[[120630,120630],"mapped",[945]],[[120631,120631],"mapped",[946]],[[120632,120632],"mapped",[947]],[[120633,120633],"mapped",[948]],[[120634,120634],"mapped",[949]],[[120635,120635],"mapped",[950]],[[120636,120636],"mapped",[951]],[[120637,120637],"mapped",[952]],[[120638,120638],"mapped",[953]],[[120639,120639],"mapped",[954]],[[120640,120640],"mapped",[955]],[[120641,120641],"mapped",[956]],[[120642,120642],"mapped",[957]],[[120643,120643],"mapped",[958]],[[120644,120644],"mapped",[959]],[[120645,120645],"mapped",[960]],[[120646,120646],"mapped",[961]],[[120647,120648],"mapped",[963]],[[120649,120649],"mapped",[964]],[[120650,120650],"mapped",[965]],[[120651,120651],"mapped",[966]],[[120652,120652],"mapped",[967]],[[120653,120653],"mapped",[968]],[[120654,120654],"mapped",[969]],[[120655,120655],"mapped",[8706]],[[120656,120656],"mapped",[949]],[[120657,120657],"mapped",[952]],[[120658,120658],"mapped",[954]],[[120659,120659],"mapped",[966]],[[120660,120660],"mapped",[961]],[[120661,120661],"mapped",[960]],[[120662,120662],"mapped",[945]],[[120663,120663],"mapped",[946]],[[120664,120664],"mapped",[947]],[[120665,120665],"mapped",[948]],[[120666,120666],"mapped",[949]],[[120667,120667],"mapped",[950]],[[120668,120668],"mapped",[951]],[[120669,120669],"mapped",[952]],[[120670,120670],"mapped",[953]],[[120671,120671],"mapped",[954]],[[120672,120672],"mapped",[955]],[[120673,120673],"mapped",[956]],[[120674,120674],"mapped",[957]],[[120675,120675],"mapped",[958]],[[120676,120676],"mapped",[959]],[[120677,120677],"mapped",[960]],[[120678,120678],"mapped",[961]],[[120679,120679],"mapped",[952]],[[120680,120680],"mapped",[963]],[[120681,120681],"mapped",[964]],[[120682,120682],"mapped",[965]],[[120683,120683],"mapped",[966]],[[120684,120684],"mapped",[967]],[[120685,120685],"mapped",[968]],[[120686,120686],"mapped",[969]],[[120687,120687],"mapped",[8711]],[[120688,120688],"mapped",[945]],[[120689,120689],"mapped",[946]],[[120690,120690],"mapped",[947]],[[120691,120691],"mapped",[948]],[[120692,120692],"mapped",[949]],[[120693,120693],"mapped",[950]],[[120694,120694],"mapped",[951]],[[120695,120695],"mapped",[952]],[[120696,120696],"mapped",[953]],[[120697,120697],"mapped",[954]],[[120698,120698],"mapped",[955]],[[120699,120699],"mapped",[956]],[[120700,120700],"mapped",[957]],[[120701,120701],"mapped",[958]],[[120702,120702],"mapped",[959]],[[120703,120703],"mapped",[960]],[[120704,120704],"mapped",[961]],[[120705,120706],"mapped",[963]],[[120707,120707],"mapped",[964]],[[120708,120708],"mapped",[965]],[[120709,120709],"mapped",[966]],[[120710,120710],"mapped",[967]],[[120711,120711],"mapped",[968]],[[120712,120712],"mapped",[969]],[[120713,120713],"mapped",[8706]],[[120714,120714],"mapped",[949]],[[120715,120715],"mapped",[952]],[[120716,120716],"mapped",[954]],[[120717,120717],"mapped",[966]],[[120718,120718],"mapped",[961]],[[120719,120719],"mapped",[960]],[[120720,120720],"mapped",[945]],[[120721,120721],"mapped",[946]],[[120722,120722],"mapped",[947]],[[120723,120723],"mapped",[948]],[[120724,120724],"mapped",[949]],[[120725,120725],"mapped",[950]],[[120726,120726],"mapped",[951]],[[120727,120727],"mapped",[952]],[[120728,120728],"mapped",[953]],[[120729,120729],"mapped",[954]],[[120730,120730],"mapped",[955]],[[120731,120731],"mapped",[956]],[[120732,120732],"mapped",[957]],[[120733,120733],"mapped",[958]],[[120734,120734],"mapped",[959]],[[120735,120735],"mapped",[960]],[[120736,120736],"mapped",[961]],[[120737,120737],"mapped",[952]],[[120738,120738],"mapped",[963]],[[120739,120739],"mapped",[964]],[[120740,120740],"mapped",[965]],[[120741,120741],"mapped",[966]],[[120742,120742],"mapped",[967]],[[120743,120743],"mapped",[968]],[[120744,120744],"mapped",[969]],[[120745,120745],"mapped",[8711]],[[120746,120746],"mapped",[945]],[[120747,120747],"mapped",[946]],[[120748,120748],"mapped",[947]],[[120749,120749],"mapped",[948]],[[120750,120750],"mapped",[949]],[[120751,120751],"mapped",[950]],[[120752,120752],"mapped",[951]],[[120753,120753],"mapped",[952]],[[120754,120754],"mapped",[953]],[[120755,120755],"mapped",[954]],[[120756,120756],"mapped",[955]],[[120757,120757],"mapped",[956]],[[120758,120758],"mapped",[957]],[[120759,120759],"mapped",[958]],[[120760,120760],"mapped",[959]],[[120761,120761],"mapped",[960]],[[120762,120762],"mapped",[961]],[[120763,120764],"mapped",[963]],[[120765,120765],"mapped",[964]],[[120766,120766],"mapped",[965]],[[120767,120767],"mapped",[966]],[[120768,120768],"mapped",[967]],[[120769,120769],"mapped",[968]],[[120770,120770],"mapped",[969]],[[120771,120771],"mapped",[8706]],[[120772,120772],"mapped",[949]],[[120773,120773],"mapped",[952]],[[120774,120774],"mapped",[954]],[[120775,120775],"mapped",[966]],[[120776,120776],"mapped",[961]],[[120777,120777],"mapped",[960]],[[120778,120779],"mapped",[989]],[[120780,120781],"disallowed"],[[120782,120782],"mapped",[48]],[[120783,120783],"mapped",[49]],[[120784,120784],"mapped",[50]],[[120785,120785],"mapped",[51]],[[120786,120786],"mapped",[52]],[[120787,120787],"mapped",[53]],[[120788,120788],"mapped",[54]],[[120789,120789],"mapped",[55]],[[120790,120790],"mapped",[56]],[[120791,120791],"mapped",[57]],[[120792,120792],"mapped",[48]],[[120793,120793],"mapped",[49]],[[120794,120794],"mapped",[50]],[[120795,120795],"mapped",[51]],[[120796,120796],"mapped",[52]],[[120797,120797],"mapped",[53]],[[120798,120798],"mapped",[54]],[[120799,120799],"mapped",[55]],[[120800,120800],"mapped",[56]],[[120801,120801],"mapped",[57]],[[120802,120802],"mapped",[48]],[[120803,120803],"mapped",[49]],[[120804,120804],"mapped",[50]],[[120805,120805],"mapped",[51]],[[120806,120806],"mapped",[52]],[[120807,120807],"mapped",[53]],[[120808,120808],"mapped",[54]],[[120809,120809],"mapped",[55]],[[120810,120810],"mapped",[56]],[[120811,120811],"mapped",[57]],[[120812,120812],"mapped",[48]],[[120813,120813],"mapped",[49]],[[120814,120814],"mapped",[50]],[[120815,120815],"mapped",[51]],[[120816,120816],"mapped",[52]],[[120817,120817],"mapped",[53]],[[120818,120818],"mapped",[54]],[[120819,120819],"mapped",[55]],[[120820,120820],"mapped",[56]],[[120821,120821],"mapped",[57]],[[120822,120822],"mapped",[48]],[[120823,120823],"mapped",[49]],[[120824,120824],"mapped",[50]],[[120825,120825],"mapped",[51]],[[120826,120826],"mapped",[52]],[[120827,120827],"mapped",[53]],[[120828,120828],"mapped",[54]],[[120829,120829],"mapped",[55]],[[120830,120830],"mapped",[56]],[[120831,120831],"mapped",[57]],[[120832,121343],"valid",[],"NV8"],[[121344,121398],"valid"],[[121399,121402],"valid",[],"NV8"],[[121403,121452],"valid"],[[121453,121460],"valid",[],"NV8"],[[121461,121461],"valid"],[[121462,121475],"valid",[],"NV8"],[[121476,121476],"valid"],[[121477,121483],"valid",[],"NV8"],[[121484,121498],"disallowed"],[[121499,121503],"valid"],[[121504,121504],"disallowed"],[[121505,121519],"valid"],[[121520,124927],"disallowed"],[[124928,125124],"valid"],[[125125,125126],"disallowed"],[[125127,125135],"valid",[],"NV8"],[[125136,125142],"valid"],[[125143,126463],"disallowed"],[[126464,126464],"mapped",[1575]],[[126465,126465],"mapped",[1576]],[[126466,126466],"mapped",[1580]],[[126467,126467],"mapped",[1583]],[[126468,126468],"disallowed"],[[126469,126469],"mapped",[1608]],[[126470,126470],"mapped",[1586]],[[126471,126471],"mapped",[1581]],[[126472,126472],"mapped",[1591]],[[126473,126473],"mapped",[1610]],[[126474,126474],"mapped",[1603]],[[126475,126475],"mapped",[1604]],[[126476,126476],"mapped",[1605]],[[126477,126477],"mapped",[1606]],[[126478,126478],"mapped",[1587]],[[126479,126479],"mapped",[1593]],[[126480,126480],"mapped",[1601]],[[126481,126481],"mapped",[1589]],[[126482,126482],"mapped",[1602]],[[126483,126483],"mapped",[1585]],[[126484,126484],"mapped",[1588]],[[126485,126485],"mapped",[1578]],[[126486,126486],"mapped",[1579]],[[126487,126487],"mapped",[1582]],[[126488,126488],"mapped",[1584]],[[126489,126489],"mapped",[1590]],[[126490,126490],"mapped",[1592]],[[126491,126491],"mapped",[1594]],[[126492,126492],"mapped",[1646]],[[126493,126493],"mapped",[1722]],[[126494,126494],"mapped",[1697]],[[126495,126495],"mapped",[1647]],[[126496,126496],"disallowed"],[[126497,126497],"mapped",[1576]],[[126498,126498],"mapped",[1580]],[[126499,126499],"disallowed"],[[126500,126500],"mapped",[1607]],[[126501,126502],"disallowed"],[[126503,126503],"mapped",[1581]],[[126504,126504],"disallowed"],[[126505,126505],"mapped",[1610]],[[126506,126506],"mapped",[1603]],[[126507,126507],"mapped",[1604]],[[126508,126508],"mapped",[1605]],[[126509,126509],"mapped",[1606]],[[126510,126510],"mapped",[1587]],[[126511,126511],"mapped",[1593]],[[126512,126512],"mapped",[1601]],[[126513,126513],"mapped",[1589]],[[126514,126514],"mapped",[1602]],[[126515,126515],"disallowed"],[[126516,126516],"mapped",[1588]],[[126517,126517],"mapped",[1578]],[[126518,126518],"mapped",[1579]],[[126519,126519],"mapped",[1582]],[[126520,126520],"disallowed"],[[126521,126521],"mapped",[1590]],[[126522,126522],"disallowed"],[[126523,126523],"mapped",[1594]],[[126524,126529],"disallowed"],[[126530,126530],"mapped",[1580]],[[126531,126534],"disallowed"],[[126535,126535],"mapped",[1581]],[[126536,126536],"disallowed"],[[126537,126537],"mapped",[1610]],[[126538,126538],"disallowed"],[[126539,126539],"mapped",[1604]],[[126540,126540],"disallowed"],[[126541,126541],"mapped",[1606]],[[126542,126542],"mapped",[1587]],[[126543,126543],"mapped",[1593]],[[126544,126544],"disallowed"],[[126545,126545],"mapped",[1589]],[[126546,126546],"mapped",[1602]],[[126547,126547],"disallowed"],[[126548,126548],"mapped",[1588]],[[126549,126550],"disallowed"],[[126551,126551],"mapped",[1582]],[[126552,126552],"disallowed"],[[126553,126553],"mapped",[1590]],[[126554,126554],"disallowed"],[[126555,126555],"mapped",[1594]],[[126556,126556],"disallowed"],[[126557,126557],"mapped",[1722]],[[126558,126558],"disallowed"],[[126559,126559],"mapped",[1647]],[[126560,126560],"disallowed"],[[126561,126561],"mapped",[1576]],[[126562,126562],"mapped",[1580]],[[126563,126563],"disallowed"],[[126564,126564],"mapped",[1607]],[[126565,126566],"disallowed"],[[126567,126567],"mapped",[1581]],[[126568,126568],"mapped",[1591]],[[126569,126569],"mapped",[1610]],[[126570,126570],"mapped",[1603]],[[126571,126571],"disallowed"],[[126572,126572],"mapped",[1605]],[[126573,126573],"mapped",[1606]],[[126574,126574],"mapped",[1587]],[[126575,126575],"mapped",[1593]],[[126576,126576],"mapped",[1601]],[[126577,126577],"mapped",[1589]],[[126578,126578],"mapped",[1602]],[[126579,126579],"disallowed"],[[126580,126580],"mapped",[1588]],[[126581,126581],"mapped",[1578]],[[126582,126582],"mapped",[1579]],[[126583,126583],"mapped",[1582]],[[126584,126584],"disallowed"],[[126585,126585],"mapped",[1590]],[[126586,126586],"mapped",[1592]],[[126587,126587],"mapped",[1594]],[[126588,126588],"mapped",[1646]],[[126589,126589],"disallowed"],[[126590,126590],"mapped",[1697]],[[126591,126591],"disallowed"],[[126592,126592],"mapped",[1575]],[[126593,126593],"mapped",[1576]],[[126594,126594],"mapped",[1580]],[[126595,126595],"mapped",[1583]],[[126596,126596],"mapped",[1607]],[[126597,126597],"mapped",[1608]],[[126598,126598],"mapped",[1586]],[[126599,126599],"mapped",[1581]],[[126600,126600],"mapped",[1591]],[[126601,126601],"mapped",[1610]],[[126602,126602],"disallowed"],[[126603,126603],"mapped",[1604]],[[126604,126604],"mapped",[1605]],[[126605,126605],"mapped",[1606]],[[126606,126606],"mapped",[1587]],[[126607,126607],"mapped",[1593]],[[126608,126608],"mapped",[1601]],[[126609,126609],"mapped",[1589]],[[126610,126610],"mapped",[1602]],[[126611,126611],"mapped",[1585]],[[126612,126612],"mapped",[1588]],[[126613,126613],"mapped",[1578]],[[126614,126614],"mapped",[1579]],[[126615,126615],"mapped",[1582]],[[126616,126616],"mapped",[1584]],[[126617,126617],"mapped",[1590]],[[126618,126618],"mapped",[1592]],[[126619,126619],"mapped",[1594]],[[126620,126624],"disallowed"],[[126625,126625],"mapped",[1576]],[[126626,126626],"mapped",[1580]],[[126627,126627],"mapped",[1583]],[[126628,126628],"disallowed"],[[126629,126629],"mapped",[1608]],[[126630,126630],"mapped",[1586]],[[126631,126631],"mapped",[1581]],[[126632,126632],"mapped",[1591]],[[126633,126633],"mapped",[1610]],[[126634,126634],"disallowed"],[[126635,126635],"mapped",[1604]],[[126636,126636],"mapped",[1605]],[[126637,126637],"mapped",[1606]],[[126638,126638],"mapped",[1587]],[[126639,126639],"mapped",[1593]],[[126640,126640],"mapped",[1601]],[[126641,126641],"mapped",[1589]],[[126642,126642],"mapped",[1602]],[[126643,126643],"mapped",[1585]],[[126644,126644],"mapped",[1588]],[[126645,126645],"mapped",[1578]],[[126646,126646],"mapped",[1579]],[[126647,126647],"mapped",[1582]],[[126648,126648],"mapped",[1584]],[[126649,126649],"mapped",[1590]],[[126650,126650],"mapped",[1592]],[[126651,126651],"mapped",[1594]],[[126652,126703],"disallowed"],[[126704,126705],"valid",[],"NV8"],[[126706,126975],"disallowed"],[[126976,127019],"valid",[],"NV8"],[[127020,127023],"disallowed"],[[127024,127123],"valid",[],"NV8"],[[127124,127135],"disallowed"],[[127136,127150],"valid",[],"NV8"],[[127151,127152],"disallowed"],[[127153,127166],"valid",[],"NV8"],[[127167,127167],"valid",[],"NV8"],[[127168,127168],"disallowed"],[[127169,127183],"valid",[],"NV8"],[[127184,127184],"disallowed"],[[127185,127199],"valid",[],"NV8"],[[127200,127221],"valid",[],"NV8"],[[127222,127231],"disallowed"],[[127232,127232],"disallowed"],[[127233,127233],"disallowed_STD3_mapped",[48,44]],[[127234,127234],"disallowed_STD3_mapped",[49,44]],[[127235,127235],"disallowed_STD3_mapped",[50,44]],[[127236,127236],"disallowed_STD3_mapped",[51,44]],[[127237,127237],"disallowed_STD3_mapped",[52,44]],[[127238,127238],"disallowed_STD3_mapped",[53,44]],[[127239,127239],"disallowed_STD3_mapped",[54,44]],[[127240,127240],"disallowed_STD3_mapped",[55,44]],[[127241,127241],"disallowed_STD3_mapped",[56,44]],[[127242,127242],"disallowed_STD3_mapped",[57,44]],[[127243,127244],"valid",[],"NV8"],[[127245,127247],"disallowed"],[[127248,127248],"disallowed_STD3_mapped",[40,97,41]],[[127249,127249],"disallowed_STD3_mapped",[40,98,41]],[[127250,127250],"disallowed_STD3_mapped",[40,99,41]],[[127251,127251],"disallowed_STD3_mapped",[40,100,41]],[[127252,127252],"disallowed_STD3_mapped",[40,101,41]],[[127253,127253],"disallowed_STD3_mapped",[40,102,41]],[[127254,127254],"disallowed_STD3_mapped",[40,103,41]],[[127255,127255],"disallowed_STD3_mapped",[40,104,41]],[[127256,127256],"disallowed_STD3_mapped",[40,105,41]],[[127257,127257],"disallowed_STD3_mapped",[40,106,41]],[[127258,127258],"disallowed_STD3_mapped",[40,107,41]],[[127259,127259],"disallowed_STD3_mapped",[40,108,41]],[[127260,127260],"disallowed_STD3_mapped",[40,109,41]],[[127261,127261],"disallowed_STD3_mapped",[40,110,41]],[[127262,127262],"disallowed_STD3_mapped",[40,111,41]],[[127263,127263],"disallowed_STD3_mapped",[40,112,41]],[[127264,127264],"disallowed_STD3_mapped",[40,113,41]],[[127265,127265],"disallowed_STD3_mapped",[40,114,41]],[[127266,127266],"disallowed_STD3_mapped",[40,115,41]],[[127267,127267],"disallowed_STD3_mapped",[40,116,41]],[[127268,127268],"disallowed_STD3_mapped",[40,117,41]],[[127269,127269],"disallowed_STD3_mapped",[40,118,41]],[[127270,127270],"disallowed_STD3_mapped",[40,119,41]],[[127271,127271],"disallowed_STD3_mapped",[40,120,41]],[[127272,127272],"disallowed_STD3_mapped",[40,121,41]],[[127273,127273],"disallowed_STD3_mapped",[40,122,41]],[[127274,127274],"mapped",[12308,115,12309]],[[127275,127275],"mapped",[99]],[[127276,127276],"mapped",[114]],[[127277,127277],"mapped",[99,100]],[[127278,127278],"mapped",[119,122]],[[127279,127279],"disallowed"],[[127280,127280],"mapped",[97]],[[127281,127281],"mapped",[98]],[[127282,127282],"mapped",[99]],[[127283,127283],"mapped",[100]],[[127284,127284],"mapped",[101]],[[127285,127285],"mapped",[102]],[[127286,127286],"mapped",[103]],[[127287,127287],"mapped",[104]],[[127288,127288],"mapped",[105]],[[127289,127289],"mapped",[106]],[[127290,127290],"mapped",[107]],[[127291,127291],"mapped",[108]],[[127292,127292],"mapped",[109]],[[127293,127293],"mapped",[110]],[[127294,127294],"mapped",[111]],[[127295,127295],"mapped",[112]],[[127296,127296],"mapped",[113]],[[127297,127297],"mapped",[114]],[[127298,127298],"mapped",[115]],[[127299,127299],"mapped",[116]],[[127300,127300],"mapped",[117]],[[127301,127301],"mapped",[118]],[[127302,127302],"mapped",[119]],[[127303,127303],"mapped",[120]],[[127304,127304],"mapped",[121]],[[127305,127305],"mapped",[122]],[[127306,127306],"mapped",[104,118]],[[127307,127307],"mapped",[109,118]],[[127308,127308],"mapped",[115,100]],[[127309,127309],"mapped",[115,115]],[[127310,127310],"mapped",[112,112,118]],[[127311,127311],"mapped",[119,99]],[[127312,127318],"valid",[],"NV8"],[[127319,127319],"valid",[],"NV8"],[[127320,127326],"valid",[],"NV8"],[[127327,127327],"valid",[],"NV8"],[[127328,127337],"valid",[],"NV8"],[[127338,127338],"mapped",[109,99]],[[127339,127339],"mapped",[109,100]],[[127340,127343],"disallowed"],[[127344,127352],"valid",[],"NV8"],[[127353,127353],"valid",[],"NV8"],[[127354,127354],"valid",[],"NV8"],[[127355,127356],"valid",[],"NV8"],[[127357,127358],"valid",[],"NV8"],[[127359,127359],"valid",[],"NV8"],[[127360,127369],"valid",[],"NV8"],[[127370,127373],"valid",[],"NV8"],[[127374,127375],"valid",[],"NV8"],[[127376,127376],"mapped",[100,106]],[[127377,127386],"valid",[],"NV8"],[[127387,127461],"disallowed"],[[127462,127487],"valid",[],"NV8"],[[127488,127488],"mapped",[12411,12363]],[[127489,127489],"mapped",[12467,12467]],[[127490,127490],"mapped",[12469]],[[127491,127503],"disallowed"],[[127504,127504],"mapped",[25163]],[[127505,127505],"mapped",[23383]],[[127506,127506],"mapped",[21452]],[[127507,127507],"mapped",[12487]],[[127508,127508],"mapped",[20108]],[[127509,127509],"mapped",[22810]],[[127510,127510],"mapped",[35299]],[[127511,127511],"mapped",[22825]],[[127512,127512],"mapped",[20132]],[[127513,127513],"mapped",[26144]],[[127514,127514],"mapped",[28961]],[[127515,127515],"mapped",[26009]],[[127516,127516],"mapped",[21069]],[[127517,127517],"mapped",[24460]],[[127518,127518],"mapped",[20877]],[[127519,127519],"mapped",[26032]],[[127520,127520],"mapped",[21021]],[[127521,127521],"mapped",[32066]],[[127522,127522],"mapped",[29983]],[[127523,127523],"mapped",[36009]],[[127524,127524],"mapped",[22768]],[[127525,127525],"mapped",[21561]],[[127526,127526],"mapped",[28436]],[[127527,127527],"mapped",[25237]],[[127528,127528],"mapped",[25429]],[[127529,127529],"mapped",[19968]],[[127530,127530],"mapped",[19977]],[[127531,127531],"mapped",[36938]],[[127532,127532],"mapped",[24038]],[[127533,127533],"mapped",[20013]],[[127534,127534],"mapped",[21491]],[[127535,127535],"mapped",[25351]],[[127536,127536],"mapped",[36208]],[[127537,127537],"mapped",[25171]],[[127538,127538],"mapped",[31105]],[[127539,127539],"mapped",[31354]],[[127540,127540],"mapped",[21512]],[[127541,127541],"mapped",[28288]],[[127542,127542],"mapped",[26377]],[[127543,127543],"mapped",[26376]],[[127544,127544],"mapped",[30003]],[[127545,127545],"mapped",[21106]],[[127546,127546],"mapped",[21942]],[[127547,127551],"disallowed"],[[127552,127552],"mapped",[12308,26412,12309]],[[127553,127553],"mapped",[12308,19977,12309]],[[127554,127554],"mapped",[12308,20108,12309]],[[127555,127555],"mapped",[12308,23433,12309]],[[127556,127556],"mapped",[12308,28857,12309]],[[127557,127557],"mapped",[12308,25171,12309]],[[127558,127558],"mapped",[12308,30423,12309]],[[127559,127559],"mapped",[12308,21213,12309]],[[127560,127560],"mapped",[12308,25943,12309]],[[127561,127567],"disallowed"],[[127568,127568],"mapped",[24471]],[[127569,127569],"mapped",[21487]],[[127570,127743],"disallowed"],[[127744,127776],"valid",[],"NV8"],[[127777,127788],"valid",[],"NV8"],[[127789,127791],"valid",[],"NV8"],[[127792,127797],"valid",[],"NV8"],[[127798,127798],"valid",[],"NV8"],[[127799,127868],"valid",[],"NV8"],[[127869,127869],"valid",[],"NV8"],[[127870,127871],"valid",[],"NV8"],[[127872,127891],"valid",[],"NV8"],[[127892,127903],"valid",[],"NV8"],[[127904,127940],"valid",[],"NV8"],[[127941,127941],"valid",[],"NV8"],[[127942,127946],"valid",[],"NV8"],[[127947,127950],"valid",[],"NV8"],[[127951,127955],"valid",[],"NV8"],[[127956,127967],"valid",[],"NV8"],[[127968,127984],"valid",[],"NV8"],[[127985,127991],"valid",[],"NV8"],[[127992,127999],"valid",[],"NV8"],[[128000,128062],"valid",[],"NV8"],[[128063,128063],"valid",[],"NV8"],[[128064,128064],"valid",[],"NV8"],[[128065,128065],"valid",[],"NV8"],[[128066,128247],"valid",[],"NV8"],[[128248,128248],"valid",[],"NV8"],[[128249,128252],"valid",[],"NV8"],[[128253,128254],"valid",[],"NV8"],[[128255,128255],"valid",[],"NV8"],[[128256,128317],"valid",[],"NV8"],[[128318,128319],"valid",[],"NV8"],[[128320,128323],"valid",[],"NV8"],[[128324,128330],"valid",[],"NV8"],[[128331,128335],"valid",[],"NV8"],[[128336,128359],"valid",[],"NV8"],[[128360,128377],"valid",[],"NV8"],[[128378,128378],"disallowed"],[[128379,128419],"valid",[],"NV8"],[[128420,128420],"disallowed"],[[128421,128506],"valid",[],"NV8"],[[128507,128511],"valid",[],"NV8"],[[128512,128512],"valid",[],"NV8"],[[128513,128528],"valid",[],"NV8"],[[128529,128529],"valid",[],"NV8"],[[128530,128532],"valid",[],"NV8"],[[128533,128533],"valid",[],"NV8"],[[128534,128534],"valid",[],"NV8"],[[128535,128535],"valid",[],"NV8"],[[128536,128536],"valid",[],"NV8"],[[128537,128537],"valid",[],"NV8"],[[128538,128538],"valid",[],"NV8"],[[128539,128539],"valid",[],"NV8"],[[128540,128542],"valid",[],"NV8"],[[128543,128543],"valid",[],"NV8"],[[128544,128549],"valid",[],"NV8"],[[128550,128551],"valid",[],"NV8"],[[128552,128555],"valid",[],"NV8"],[[128556,128556],"valid",[],"NV8"],[[128557,128557],"valid",[],"NV8"],[[128558,128559],"valid",[],"NV8"],[[128560,128563],"valid",[],"NV8"],[[128564,128564],"valid",[],"NV8"],[[128565,128576],"valid",[],"NV8"],[[128577,128578],"valid",[],"NV8"],[[128579,128580],"valid",[],"NV8"],[[128581,128591],"valid",[],"NV8"],[[128592,128639],"valid",[],"NV8"],[[128640,128709],"valid",[],"NV8"],[[128710,128719],"valid",[],"NV8"],[[128720,128720],"valid",[],"NV8"],[[128721,128735],"disallowed"],[[128736,128748],"valid",[],"NV8"],[[128749,128751],"disallowed"],[[128752,128755],"valid",[],"NV8"],[[128756,128767],"disallowed"],[[128768,128883],"valid",[],"NV8"],[[128884,128895],"disallowed"],[[128896,128980],"valid",[],"NV8"],[[128981,129023],"disallowed"],[[129024,129035],"valid",[],"NV8"],[[129036,129039],"disallowed"],[[129040,129095],"valid",[],"NV8"],[[129096,129103],"disallowed"],[[129104,129113],"valid",[],"NV8"],[[129114,129119],"disallowed"],[[129120,129159],"valid",[],"NV8"],[[129160,129167],"disallowed"],[[129168,129197],"valid",[],"NV8"],[[129198,129295],"disallowed"],[[129296,129304],"valid",[],"NV8"],[[129305,129407],"disallowed"],[[129408,129412],"valid",[],"NV8"],[[129413,129471],"disallowed"],[[129472,129472],"valid",[],"NV8"],[[129473,131069],"disallowed"],[[131070,131071],"disallowed"],[[131072,173782],"valid"],[[173783,173823],"disallowed"],[[173824,177972],"valid"],[[177973,177983],"disallowed"],[[177984,178205],"valid"],[[178206,178207],"disallowed"],[[178208,183969],"valid"],[[183970,194559],"disallowed"],[[194560,194560],"mapped",[20029]],[[194561,194561],"mapped",[20024]],[[194562,194562],"mapped",[20033]],[[194563,194563],"mapped",[131362]],[[194564,194564],"mapped",[20320]],[[194565,194565],"mapped",[20398]],[[194566,194566],"mapped",[20411]],[[194567,194567],"mapped",[20482]],[[194568,194568],"mapped",[20602]],[[194569,194569],"mapped",[20633]],[[194570,194570],"mapped",[20711]],[[194571,194571],"mapped",[20687]],[[194572,194572],"mapped",[13470]],[[194573,194573],"mapped",[132666]],[[194574,194574],"mapped",[20813]],[[194575,194575],"mapped",[20820]],[[194576,194576],"mapped",[20836]],[[194577,194577],"mapped",[20855]],[[194578,194578],"mapped",[132380]],[[194579,194579],"mapped",[13497]],[[194580,194580],"mapped",[20839]],[[194581,194581],"mapped",[20877]],[[194582,194582],"mapped",[132427]],[[194583,194583],"mapped",[20887]],[[194584,194584],"mapped",[20900]],[[194585,194585],"mapped",[20172]],[[194586,194586],"mapped",[20908]],[[194587,194587],"mapped",[20917]],[[194588,194588],"mapped",[168415]],[[194589,194589],"mapped",[20981]],[[194590,194590],"mapped",[20995]],[[194591,194591],"mapped",[13535]],[[194592,194592],"mapped",[21051]],[[194593,194593],"mapped",[21062]],[[194594,194594],"mapped",[21106]],[[194595,194595],"mapped",[21111]],[[194596,194596],"mapped",[13589]],[[194597,194597],"mapped",[21191]],[[194598,194598],"mapped",[21193]],[[194599,194599],"mapped",[21220]],[[194600,194600],"mapped",[21242]],[[194601,194601],"mapped",[21253]],[[194602,194602],"mapped",[21254]],[[194603,194603],"mapped",[21271]],[[194604,194604],"mapped",[21321]],[[194605,194605],"mapped",[21329]],[[194606,194606],"mapped",[21338]],[[194607,194607],"mapped",[21363]],[[194608,194608],"mapped",[21373]],[[194609,194611],"mapped",[21375]],[[194612,194612],"mapped",[133676]],[[194613,194613],"mapped",[28784]],[[194614,194614],"mapped",[21450]],[[194615,194615],"mapped",[21471]],[[194616,194616],"mapped",[133987]],[[194617,194617],"mapped",[21483]],[[194618,194618],"mapped",[21489]],[[194619,194619],"mapped",[21510]],[[194620,194620],"mapped",[21662]],[[194621,194621],"mapped",[21560]],[[194622,194622],"mapped",[21576]],[[194623,194623],"mapped",[21608]],[[194624,194624],"mapped",[21666]],[[194625,194625],"mapped",[21750]],[[194626,194626],"mapped",[21776]],[[194627,194627],"mapped",[21843]],[[194628,194628],"mapped",[21859]],[[194629,194630],"mapped",[21892]],[[194631,194631],"mapped",[21913]],[[194632,194632],"mapped",[21931]],[[194633,194633],"mapped",[21939]],[[194634,194634],"mapped",[21954]],[[194635,194635],"mapped",[22294]],[[194636,194636],"mapped",[22022]],[[194637,194637],"mapped",[22295]],[[194638,194638],"mapped",[22097]],[[194639,194639],"mapped",[22132]],[[194640,194640],"mapped",[20999]],[[194641,194641],"mapped",[22766]],[[194642,194642],"mapped",[22478]],[[194643,194643],"mapped",[22516]],[[194644,194644],"mapped",[22541]],[[194645,194645],"mapped",[22411]],[[194646,194646],"mapped",[22578]],[[194647,194647],"mapped",[22577]],[[194648,194648],"mapped",[22700]],[[194649,194649],"mapped",[136420]],[[194650,194650],"mapped",[22770]],[[194651,194651],"mapped",[22775]],[[194652,194652],"mapped",[22790]],[[194653,194653],"mapped",[22810]],[[194654,194654],"mapped",[22818]],[[194655,194655],"mapped",[22882]],[[194656,194656],"mapped",[136872]],[[194657,194657],"mapped",[136938]],[[194658,194658],"mapped",[23020]],[[194659,194659],"mapped",[23067]],[[194660,194660],"mapped",[23079]],[[194661,194661],"mapped",[23000]],[[194662,194662],"mapped",[23142]],[[194663,194663],"mapped",[14062]],[[194664,194664],"disallowed"],[[194665,194665],"mapped",[23304]],[[194666,194667],"mapped",[23358]],[[194668,194668],"mapped",[137672]],[[194669,194669],"mapped",[23491]],[[194670,194670],"mapped",[23512]],[[194671,194671],"mapped",[23527]],[[194672,194672],"mapped",[23539]],[[194673,194673],"mapped",[138008]],[[194674,194674],"mapped",[23551]],[[194675,194675],"mapped",[23558]],[[194676,194676],"disallowed"],[[194677,194677],"mapped",[23586]],[[194678,194678],"mapped",[14209]],[[194679,194679],"mapped",[23648]],[[194680,194680],"mapped",[23662]],[[194681,194681],"mapped",[23744]],[[194682,194682],"mapped",[23693]],[[194683,194683],"mapped",[138724]],[[194684,194684],"mapped",[23875]],[[194685,194685],"mapped",[138726]],[[194686,194686],"mapped",[23918]],[[194687,194687],"mapped",[23915]],[[194688,194688],"mapped",[23932]],[[194689,194689],"mapped",[24033]],[[194690,194690],"mapped",[24034]],[[194691,194691],"mapped",[14383]],[[194692,194692],"mapped",[24061]],[[194693,194693],"mapped",[24104]],[[194694,194694],"mapped",[24125]],[[194695,194695],"mapped",[24169]],[[194696,194696],"mapped",[14434]],[[194697,194697],"mapped",[139651]],[[194698,194698],"mapped",[14460]],[[194699,194699],"mapped",[24240]],[[194700,194700],"mapped",[24243]],[[194701,194701],"mapped",[24246]],[[194702,194702],"mapped",[24266]],[[194703,194703],"mapped",[172946]],[[194704,194704],"mapped",[24318]],[[194705,194706],"mapped",[140081]],[[194707,194707],"mapped",[33281]],[[194708,194709],"mapped",[24354]],[[194710,194710],"mapped",[14535]],[[194711,194711],"mapped",[144056]],[[194712,194712],"mapped",[156122]],[[194713,194713],"mapped",[24418]],[[194714,194714],"mapped",[24427]],[[194715,194715],"mapped",[14563]],[[194716,194716],"mapped",[24474]],[[194717,194717],"mapped",[24525]],[[194718,194718],"mapped",[24535]],[[194719,194719],"mapped",[24569]],[[194720,194720],"mapped",[24705]],[[194721,194721],"mapped",[14650]],[[194722,194722],"mapped",[14620]],[[194723,194723],"mapped",[24724]],[[194724,194724],"mapped",[141012]],[[194725,194725],"mapped",[24775]],[[194726,194726],"mapped",[24904]],[[194727,194727],"mapped",[24908]],[[194728,194728],"mapped",[24910]],[[194729,194729],"mapped",[24908]],[[194730,194730],"mapped",[24954]],[[194731,194731],"mapped",[24974]],[[194732,194732],"mapped",[25010]],[[194733,194733],"mapped",[24996]],[[194734,194734],"mapped",[25007]],[[194735,194735],"mapped",[25054]],[[194736,194736],"mapped",[25074]],[[194737,194737],"mapped",[25078]],[[194738,194738],"mapped",[25104]],[[194739,194739],"mapped",[25115]],[[194740,194740],"mapped",[25181]],[[194741,194741],"mapped",[25265]],[[194742,194742],"mapped",[25300]],[[194743,194743],"mapped",[25424]],[[194744,194744],"mapped",[142092]],[[194745,194745],"mapped",[25405]],[[194746,194746],"mapped",[25340]],[[194747,194747],"mapped",[25448]],[[194748,194748],"mapped",[25475]],[[194749,194749],"mapped",[25572]],[[194750,194750],"mapped",[142321]],[[194751,194751],"mapped",[25634]],[[194752,194752],"mapped",[25541]],[[194753,194753],"mapped",[25513]],[[194754,194754],"mapped",[14894]],[[194755,194755],"mapped",[25705]],[[194756,194756],"mapped",[25726]],[[194757,194757],"mapped",[25757]],[[194758,194758],"mapped",[25719]],[[194759,194759],"mapped",[14956]],[[194760,194760],"mapped",[25935]],[[194761,194761],"mapped",[25964]],[[194762,194762],"mapped",[143370]],[[194763,194763],"mapped",[26083]],[[194764,194764],"mapped",[26360]],[[194765,194765],"mapped",[26185]],[[194766,194766],"mapped",[15129]],[[194767,194767],"mapped",[26257]],[[194768,194768],"mapped",[15112]],[[194769,194769],"mapped",[15076]],[[194770,194770],"mapped",[20882]],[[194771,194771],"mapped",[20885]],[[194772,194772],"mapped",[26368]],[[194773,194773],"mapped",[26268]],[[194774,194774],"mapped",[32941]],[[194775,194775],"mapped",[17369]],[[194776,194776],"mapped",[26391]],[[194777,194777],"mapped",[26395]],[[194778,194778],"mapped",[26401]],[[194779,194779],"mapped",[26462]],[[194780,194780],"mapped",[26451]],[[194781,194781],"mapped",[144323]],[[194782,194782],"mapped",[15177]],[[194783,194783],"mapped",[26618]],[[194784,194784],"mapped",[26501]],[[194785,194785],"mapped",[26706]],[[194786,194786],"mapped",[26757]],[[194787,194787],"mapped",[144493]],[[194788,194788],"mapped",[26766]],[[194789,194789],"mapped",[26655]],[[194790,194790],"mapped",[26900]],[[194791,194791],"mapped",[15261]],[[194792,194792],"mapped",[26946]],[[194793,194793],"mapped",[27043]],[[194794,194794],"mapped",[27114]],[[194795,194795],"mapped",[27304]],[[194796,194796],"mapped",[145059]],[[194797,194797],"mapped",[27355]],[[194798,194798],"mapped",[15384]],[[194799,194799],"mapped",[27425]],[[194800,194800],"mapped",[145575]],[[194801,194801],"mapped",[27476]],[[194802,194802],"mapped",[15438]],[[194803,194803],"mapped",[27506]],[[194804,194804],"mapped",[27551]],[[194805,194805],"mapped",[27578]],[[194806,194806],"mapped",[27579]],[[194807,194807],"mapped",[146061]],[[194808,194808],"mapped",[138507]],[[194809,194809],"mapped",[146170]],[[194810,194810],"mapped",[27726]],[[194811,194811],"mapped",[146620]],[[194812,194812],"mapped",[27839]],[[194813,194813],"mapped",[27853]],[[194814,194814],"mapped",[27751]],[[194815,194815],"mapped",[27926]],[[194816,194816],"mapped",[27966]],[[194817,194817],"mapped",[28023]],[[194818,194818],"mapped",[27969]],[[194819,194819],"mapped",[28009]],[[194820,194820],"mapped",[28024]],[[194821,194821],"mapped",[28037]],[[194822,194822],"mapped",[146718]],[[194823,194823],"mapped",[27956]],[[194824,194824],"mapped",[28207]],[[194825,194825],"mapped",[28270]],[[194826,194826],"mapped",[15667]],[[194827,194827],"mapped",[28363]],[[194828,194828],"mapped",[28359]],[[194829,194829],"mapped",[147153]],[[194830,194830],"mapped",[28153]],[[194831,194831],"mapped",[28526]],[[194832,194832],"mapped",[147294]],[[194833,194833],"mapped",[147342]],[[194834,194834],"mapped",[28614]],[[194835,194835],"mapped",[28729]],[[194836,194836],"mapped",[28702]],[[194837,194837],"mapped",[28699]],[[194838,194838],"mapped",[15766]],[[194839,194839],"mapped",[28746]],[[194840,194840],"mapped",[28797]],[[194841,194841],"mapped",[28791]],[[194842,194842],"mapped",[28845]],[[194843,194843],"mapped",[132389]],[[194844,194844],"mapped",[28997]],[[194845,194845],"mapped",[148067]],[[194846,194846],"mapped",[29084]],[[194847,194847],"disallowed"],[[194848,194848],"mapped",[29224]],[[194849,194849],"mapped",[29237]],[[194850,194850],"mapped",[29264]],[[194851,194851],"mapped",[149000]],[[194852,194852],"mapped",[29312]],[[194853,194853],"mapped",[29333]],[[194854,194854],"mapped",[149301]],[[194855,194855],"mapped",[149524]],[[194856,194856],"mapped",[29562]],[[194857,194857],"mapped",[29579]],[[194858,194858],"mapped",[16044]],[[194859,194859],"mapped",[29605]],[[194860,194861],"mapped",[16056]],[[194862,194862],"mapped",[29767]],[[194863,194863],"mapped",[29788]],[[194864,194864],"mapped",[29809]],[[194865,194865],"mapped",[29829]],[[194866,194866],"mapped",[29898]],[[194867,194867],"mapped",[16155]],[[194868,194868],"mapped",[29988]],[[194869,194869],"mapped",[150582]],[[194870,194870],"mapped",[30014]],[[194871,194871],"mapped",[150674]],[[194872,194872],"mapped",[30064]],[[194873,194873],"mapped",[139679]],[[194874,194874],"mapped",[30224]],[[194875,194875],"mapped",[151457]],[[194876,194876],"mapped",[151480]],[[194877,194877],"mapped",[151620]],[[194878,194878],"mapped",[16380]],[[194879,194879],"mapped",[16392]],[[194880,194880],"mapped",[30452]],[[194881,194881],"mapped",[151795]],[[194882,194882],"mapped",[151794]],[[194883,194883],"mapped",[151833]],[[194884,194884],"mapped",[151859]],[[194885,194885],"mapped",[30494]],[[194886,194887],"mapped",[30495]],[[194888,194888],"mapped",[30538]],[[194889,194889],"mapped",[16441]],[[194890,194890],"mapped",[30603]],[[194891,194891],"mapped",[16454]],[[194892,194892],"mapped",[16534]],[[194893,194893],"mapped",[152605]],[[194894,194894],"mapped",[30798]],[[194895,194895],"mapped",[30860]],[[194896,194896],"mapped",[30924]],[[194897,194897],"mapped",[16611]],[[194898,194898],"mapped",[153126]],[[194899,194899],"mapped",[31062]],[[194900,194900],"mapped",[153242]],[[194901,194901],"mapped",[153285]],[[194902,194902],"mapped",[31119]],[[194903,194903],"mapped",[31211]],[[194904,194904],"mapped",[16687]],[[194905,194905],"mapped",[31296]],[[194906,194906],"mapped",[31306]],[[194907,194907],"mapped",[31311]],[[194908,194908],"mapped",[153980]],[[194909,194910],"mapped",[154279]],[[194911,194911],"disallowed"],[[194912,194912],"mapped",[16898]],[[194913,194913],"mapped",[154539]],[[194914,194914],"mapped",[31686]],[[194915,194915],"mapped",[31689]],[[194916,194916],"mapped",[16935]],[[194917,194917],"mapped",[154752]],[[194918,194918],"mapped",[31954]],[[194919,194919],"mapped",[17056]],[[194920,194920],"mapped",[31976]],[[194921,194921],"mapped",[31971]],[[194922,194922],"mapped",[32000]],[[194923,194923],"mapped",[155526]],[[194924,194924],"mapped",[32099]],[[194925,194925],"mapped",[17153]],[[194926,194926],"mapped",[32199]],[[194927,194927],"mapped",[32258]],[[194928,194928],"mapped",[32325]],[[194929,194929],"mapped",[17204]],[[194930,194930],"mapped",[156200]],[[194931,194931],"mapped",[156231]],[[194932,194932],"mapped",[17241]],[[194933,194933],"mapped",[156377]],[[194934,194934],"mapped",[32634]],[[194935,194935],"mapped",[156478]],[[194936,194936],"mapped",[32661]],[[194937,194937],"mapped",[32762]],[[194938,194938],"mapped",[32773]],[[194939,194939],"mapped",[156890]],[[194940,194940],"mapped",[156963]],[[194941,194941],"mapped",[32864]],[[194942,194942],"mapped",[157096]],[[194943,194943],"mapped",[32880]],[[194944,194944],"mapped",[144223]],[[194945,194945],"mapped",[17365]],[[194946,194946],"mapped",[32946]],[[194947,194947],"mapped",[33027]],[[194948,194948],"mapped",[17419]],[[194949,194949],"mapped",[33086]],[[194950,194950],"mapped",[23221]],[[194951,194951],"mapped",[157607]],[[194952,194952],"mapped",[157621]],[[194953,194953],"mapped",[144275]],[[194954,194954],"mapped",[144284]],[[194955,194955],"mapped",[33281]],[[194956,194956],"mapped",[33284]],[[194957,194957],"mapped",[36766]],[[194958,194958],"mapped",[17515]],[[194959,194959],"mapped",[33425]],[[194960,194960],"mapped",[33419]],[[194961,194961],"mapped",[33437]],[[194962,194962],"mapped",[21171]],[[194963,194963],"mapped",[33457]],[[194964,194964],"mapped",[33459]],[[194965,194965],"mapped",[33469]],[[194966,194966],"mapped",[33510]],[[194967,194967],"mapped",[158524]],[[194968,194968],"mapped",[33509]],[[194969,194969],"mapped",[33565]],[[194970,194970],"mapped",[33635]],[[194971,194971],"mapped",[33709]],[[194972,194972],"mapped",[33571]],[[194973,194973],"mapped",[33725]],[[194974,194974],"mapped",[33767]],[[194975,194975],"mapped",[33879]],[[194976,194976],"mapped",[33619]],[[194977,194977],"mapped",[33738]],[[194978,194978],"mapped",[33740]],[[194979,194979],"mapped",[33756]],[[194980,194980],"mapped",[158774]],[[194981,194981],"mapped",[159083]],[[194982,194982],"mapped",[158933]],[[194983,194983],"mapped",[17707]],[[194984,194984],"mapped",[34033]],[[194985,194985],"mapped",[34035]],[[194986,194986],"mapped",[34070]],[[194987,194987],"mapped",[160714]],[[194988,194988],"mapped",[34148]],[[194989,194989],"mapped",[159532]],[[194990,194990],"mapped",[17757]],[[194991,194991],"mapped",[17761]],[[194992,194992],"mapped",[159665]],[[194993,194993],"mapped",[159954]],[[194994,194994],"mapped",[17771]],[[194995,194995],"mapped",[34384]],[[194996,194996],"mapped",[34396]],[[194997,194997],"mapped",[34407]],[[194998,194998],"mapped",[34409]],[[194999,194999],"mapped",[34473]],[[195000,195000],"mapped",[34440]],[[195001,195001],"mapped",[34574]],[[195002,195002],"mapped",[34530]],[[195003,195003],"mapped",[34681]],[[195004,195004],"mapped",[34600]],[[195005,195005],"mapped",[34667]],[[195006,195006],"mapped",[34694]],[[195007,195007],"disallowed"],[[195008,195008],"mapped",[34785]],[[195009,195009],"mapped",[34817]],[[195010,195010],"mapped",[17913]],[[195011,195011],"mapped",[34912]],[[195012,195012],"mapped",[34915]],[[195013,195013],"mapped",[161383]],[[195014,195014],"mapped",[35031]],[[195015,195015],"mapped",[35038]],[[195016,195016],"mapped",[17973]],[[195017,195017],"mapped",[35066]],[[195018,195018],"mapped",[13499]],[[195019,195019],"mapped",[161966]],[[195020,195020],"mapped",[162150]],[[195021,195021],"mapped",[18110]],[[195022,195022],"mapped",[18119]],[[195023,195023],"mapped",[35488]],[[195024,195024],"mapped",[35565]],[[195025,195025],"mapped",[35722]],[[195026,195026],"mapped",[35925]],[[195027,195027],"mapped",[162984]],[[195028,195028],"mapped",[36011]],[[195029,195029],"mapped",[36033]],[[195030,195030],"mapped",[36123]],[[195031,195031],"mapped",[36215]],[[195032,195032],"mapped",[163631]],[[195033,195033],"mapped",[133124]],[[195034,195034],"mapped",[36299]],[[195035,195035],"mapped",[36284]],[[195036,195036],"mapped",[36336]],[[195037,195037],"mapped",[133342]],[[195038,195038],"mapped",[36564]],[[195039,195039],"mapped",[36664]],[[195040,195040],"mapped",[165330]],[[195041,195041],"mapped",[165357]],[[195042,195042],"mapped",[37012]],[[195043,195043],"mapped",[37105]],[[195044,195044],"mapped",[37137]],[[195045,195045],"mapped",[165678]],[[195046,195046],"mapped",[37147]],[[195047,195047],"mapped",[37432]],[[195048,195048],"mapped",[37591]],[[195049,195049],"mapped",[37592]],[[195050,195050],"mapped",[37500]],[[195051,195051],"mapped",[37881]],[[195052,195052],"mapped",[37909]],[[195053,195053],"mapped",[166906]],[[195054,195054],"mapped",[38283]],[[195055,195055],"mapped",[18837]],[[195056,195056],"mapped",[38327]],[[195057,195057],"mapped",[167287]],[[195058,195058],"mapped",[18918]],[[195059,195059],"mapped",[38595]],[[195060,195060],"mapped",[23986]],[[195061,195061],"mapped",[38691]],[[195062,195062],"mapped",[168261]],[[195063,195063],"mapped",[168474]],[[195064,195064],"mapped",[19054]],[[195065,195065],"mapped",[19062]],[[195066,195066],"mapped",[38880]],[[195067,195067],"mapped",[168970]],[[195068,195068],"mapped",[19122]],[[195069,195069],"mapped",[169110]],[[195070,195071],"mapped",[38923]],[[195072,195072],"mapped",[38953]],[[195073,195073],"mapped",[169398]],[[195074,195074],"mapped",[39138]],[[195075,195075],"mapped",[19251]],[[195076,195076],"mapped",[39209]],[[195077,195077],"mapped",[39335]],[[195078,195078],"mapped",[39362]],[[195079,195079],"mapped",[39422]],[[195080,195080],"mapped",[19406]],[[195081,195081],"mapped",[170800]],[[195082,195082],"mapped",[39698]],[[195083,195083],"mapped",[40000]],[[195084,195084],"mapped",[40189]],[[195085,195085],"mapped",[19662]],[[195086,195086],"mapped",[19693]],[[195087,195087],"mapped",[40295]],[[195088,195088],"mapped",[172238]],[[195089,195089],"mapped",[19704]],[[195090,195090],"mapped",[172293]],[[195091,195091],"mapped",[172558]],[[195092,195092],"mapped",[172689]],[[195093,195093],"mapped",[40635]],[[195094,195094],"mapped",[19798]],[[195095,195095],"mapped",[40697]],[[195096,195096],"mapped",[40702]],[[195097,195097],"mapped",[40709]],[[195098,195098],"mapped",[40719]],[[195099,195099],"mapped",[40726]],[[195100,195100],"mapped",[40763]],[[195101,195101],"mapped",[173568]],[[195102,196605],"disallowed"],[[196606,196607],"disallowed"],[[196608,262141],"disallowed"],[[262142,262143],"disallowed"],[[262144,327677],"disallowed"],[[327678,327679],"disallowed"],[[327680,393213],"disallowed"],[[393214,393215],"disallowed"],[[393216,458749],"disallowed"],[[458750,458751],"disallowed"],[[458752,524285],"disallowed"],[[524286,524287],"disallowed"],[[524288,589821],"disallowed"],[[589822,589823],"disallowed"],[[589824,655357],"disallowed"],[[655358,655359],"disallowed"],[[655360,720893],"disallowed"],[[720894,720895],"disallowed"],[[720896,786429],"disallowed"],[[786430,786431],"disallowed"],[[786432,851965],"disallowed"],[[851966,851967],"disallowed"],[[851968,917501],"disallowed"],[[917502,917503],"disallowed"],[[917504,917504],"disallowed"],[[917505,917505],"disallowed"],[[917506,917535],"disallowed"],[[917536,917631],"disallowed"],[[917632,917759],"disallowed"],[[917760,917999],"ignored"],[[918000,983037],"disallowed"],[[983038,983039],"disallowed"],[[983040,1048573],"disallowed"],[[1048574,1048575],"disallowed"],[[1048576,1114109],"disallowed"],[[1114110,1114111],"disallowed"]]')}};